{"version":3,"sources":["webpack:///./node_modules/_@babel_runtime@7.15.4@@babel/runtime/helpers/esm/arrayLikeToArray.js","webpack:///./node_modules/_@babel_runtime@7.15.4@@babel/runtime/helpers/esm/arrayWithoutHoles.js","webpack:///./node_modules/_@babel_runtime@7.15.4@@babel/runtime/helpers/esm/iterableToArray.js","webpack:///./node_modules/_@babel_runtime@7.15.4@@babel/runtime/helpers/esm/unsupportedIterableToArray.js","webpack:///./node_modules/_@babel_runtime@7.15.4@@babel/runtime/helpers/esm/nonIterableSpread.js","webpack:///./node_modules/_@babel_runtime@7.15.4@@babel/runtime/helpers/esm/toConsumableArray.js","webpack:///./node_modules/_core-js@3.17.3@core-js/internals/call-with-safe-iteration-closing.js","webpack:///./node_modules/_core-js@3.17.3@core-js/modules/es.array.slice.js","webpack:///./src/views/StaffMGR/DialogEditRole.vue?c354","webpack:///./node_modules/_core-js@3.17.3@core-js/modules/es.array.splice.js","webpack:///./src/views/StaffMGR/Role.vue?7702","webpack:///./src/views/StaffMGR/DialogEditRole.vue?2a8d","webpack:///src/views/StaffMGR/DialogEditRole.vue","webpack:///./src/views/StaffMGR/DialogEditRole.vue?f625","webpack:///./src/views/StaffMGR/DialogEditRole.vue","webpack:///src/views/StaffMGR/Role.vue","webpack:///./src/views/StaffMGR/Role.vue?0cfb","webpack:///./src/views/StaffMGR/Role.vue","webpack:///./node_modules/_core-js@3.17.3@core-js/internals/array-from.js","webpack:///./node_modules/_core-js@3.17.3@core-js/modules/es.array.map.js","webpack:///./node_modules/_core-js@3.17.3@core-js/modules/es.array.from.js"],"names":["_arrayLikeToArray","arr","len","length","i","arr2","Array","_arrayWithoutHoles","isArray","arrayLikeToArray","_iterableToArray","iter","Symbol","iterator","from","_unsupportedIterableToArray","o","minLen","n","Object","prototype","toString","call","slice","constructor","name","test","_nonIterableSpread","TypeError","_toConsumableArray","arrayWithoutHoles","iterableToArray","unsupportedIterableToArray","nonIterableSpread","anObject","iteratorClose","module","exports","fn","value","ENTRIES","error","$","isObject","toAbsoluteIndex","toLength","toIndexedObject","createProperty","wellKnownSymbol","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT","SPECIES","nativeSlice","max","Math","target","proto","forced","start","end","Constructor","result","O","this","k","fin","undefined","toInteger","toObject","arraySpeciesCreate","min","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_LENGTH_EXCEEDED","splice","deleteCount","insertCount","actualDeleteCount","A","to","actualStart","argumentsLength","arguments","render","_vm","_h","$createElement","_c","_self","staticClass","ref","_m","attrs","isWrite","on","$event","openEditRole","_v","directives","rawName","expression","staticStyle","items","scopedSlots","_u","key","scope","row","delRole","$index","dialogEditRoleData","treeData","roleList","saveSuccess","staticRenderFns","data","isShow","id","$set","open","form","rules","model","callback","$$v","class","remark","_s","treeKey","defaultProps","slot","loading","save","props","Error","label","children","methods","$refs","validate","rights","description","privilege","$nextTick","document","querySelector","scrollTop","component","defaultDialogEditRoleData","components","DialogEditRole","mounted","$isRole","$route","meta","roleWrite","JSON","stringify","getRole","getRightArr","$confirm","confirmButtonText","cancelButtonText","confirmButtonClass","type","r","ErrorCode","$apiCall","parse","item","bind","callWithSafeIterationClosing","isArrayIteratorMethod","getIterator","getIteratorMethod","arrayLike","step","next","C","mapfn","mapping","iteratorMethod","index","done","$map","map","callbackfn","checkCorrectnessOfIteration","INCORRECT_ITERATION","iterable","stat"],"mappings":"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","file":"js/Role.ec4411fd.js","sourcesContent":["export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","var anObject = require('../internals/an-object');\nvar iteratorClose = require('../internals/iterator-close');\n\n// call something on iterator step with safe closing on error\nmodule.exports = function (iterator, fn, value, ENTRIES) {\n  try {\n    return ENTRIES ? fn(anObject(value)[0], value[1]) : fn(value);\n  } catch (error) {\n    iteratorClose(iterator, 'throw', error);\n  }\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar isObject = require('../internals/is-object');\nvar isArray = require('../internals/is-array');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toLength = require('../internals/to-length');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar createProperty = require('../internals/create-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('slice');\n\nvar SPECIES = wellKnownSymbol('species');\nvar nativeSlice = [].slice;\nvar max = Math.max;\n\n// `Array.prototype.slice` method\n// https://tc39.es/ecma262/#sec-array.prototype.slice\n// fallback for not array-like ES3 strings and DOM objects\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  slice: function slice(start, end) {\n    var O = toIndexedObject(this);\n    var length = toLength(O.length);\n    var k = toAbsoluteIndex(start, length);\n    var fin = toAbsoluteIndex(end === undefined ? length : end, length);\n    // inline `ArraySpeciesCreate` for usage native `Array#slice` where it's possible\n    var Constructor, result, n;\n    if (isArray(O)) {\n      Constructor = O.constructor;\n      // cross-realm fallback\n      if (typeof Constructor == 'function' && (Constructor === Array || isArray(Constructor.prototype))) {\n        Constructor = undefined;\n      } else if (isObject(Constructor)) {\n        Constructor = Constructor[SPECIES];\n        if (Constructor === null) Constructor = undefined;\n      }\n      if (Constructor === Array || Constructor === undefined) {\n        return nativeSlice.call(O, k, fin);\n      }\n    }\n    result = new (Constructor === undefined ? Array : Constructor)(max(fin - k, 0));\n    for (n = 0; k < fin; k++, n++) if (k in O) createProperty(result, n, O[k]);\n    result.length = n;\n    return result;\n  }\n});\n","export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./DialogEditRole.vue?vue&type=style&index=0&id=0f717bcf&lang=scss&scoped=true&\"","'use strict';\nvar $ = require('../internals/export');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toInteger = require('../internals/to-integer');\nvar toLength = require('../internals/to-length');\nvar toObject = require('../internals/to-object');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar createProperty = require('../internals/create-property');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('splice');\n\nvar max = Math.max;\nvar min = Math.min;\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_LENGTH_EXCEEDED = 'Maximum allowed length exceeded';\n\n// `Array.prototype.splice` method\n// https://tc39.es/ecma262/#sec-array.prototype.splice\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  splice: function splice(start, deleteCount /* , ...items */) {\n    var O = toObject(this);\n    var len = toLength(O.length);\n    var actualStart = toAbsoluteIndex(start, len);\n    var argumentsLength = arguments.length;\n    var insertCount, actualDeleteCount, A, k, from, to;\n    if (argumentsLength === 0) {\n      insertCount = actualDeleteCount = 0;\n    } else if (argumentsLength === 1) {\n      insertCount = 0;\n      actualDeleteCount = len - actualStart;\n    } else {\n      insertCount = argumentsLength - 2;\n      actualDeleteCount = min(max(toInteger(deleteCount), 0), len - actualStart);\n    }\n    if (len + insertCount - actualDeleteCount > MAX_SAFE_INTEGER) {\n      throw TypeError(MAXIMUM_ALLOWED_LENGTH_EXCEEDED);\n    }\n    A = arraySpeciesCreate(O, actualDeleteCount);\n    for (k = 0; k < actualDeleteCount; k++) {\n      from = actualStart + k;\n      if (from in O) createProperty(A, k, O[from]);\n    }\n    A.length = actualDeleteCount;\n    if (insertCount < actualDeleteCount) {\n      for (k = actualStart; k < len - actualDeleteCount; k++) {\n        from = k + actualDeleteCount;\n        to = k + insertCount;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n      for (k = len; k > len - actualDeleteCount + insertCount; k--) delete O[k - 1];\n    } else if (insertCount > actualDeleteCount) {\n      for (k = len - actualDeleteCount; k > actualStart; k--) {\n        from = k + actualDeleteCount - 1;\n        to = k + insertCount - 1;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n    }\n    for (k = 0; k < insertCount; k++) {\n      O[k + actualStart] = arguments[k + 2];\n    }\n    O.length = len - actualDeleteCount + insertCount;\n    return A;\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"contentpanel role-management-page\"},[_c('div',{ref:\"pageHeader\",staticClass:\"pagetitle\"},[_vm._m(0),_c('div',{staticClass:\"right\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"disabled\":!_vm.isWrite},on:{\"click\":function($event){return _vm.openEditRole()}}},[_vm._v(\"添加角色\")])],1)]),_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"pagebody\"},[_c('el-row',{staticClass:\"mg-b-20\",attrs:{\"gutter\":15}},[_c('el-col',{attrs:{\"span\":24}},[_c('el-card',[_c('el-table',{ref:\"gridTable\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.items,\"stripe\":\"\",\"row-key\":\"id\"}},[_c('el-table-column',{attrs:{\"label\":\"员工角色\",\"prop\":\"name\"}}),_c('el-table-column',{attrs:{\"label\":\"描述\",\"prop\":\"description\"}}),_c('el-table-column',{attrs:{\"label\":\"员工数\",\"prop\":\"count\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-link',{staticStyle:{\"margin-right\":\"20px\"},attrs:{\"type\":\"primary\",\"disabled\":!_vm.isWrite},on:{\"click\":function($event){return _vm.openEditRole(scope.row)}}},[_vm._v(\" 编辑 \")]),_c('el-link',{attrs:{\"type\":\"danger\",\"disabled\":!_vm.isWrite},on:{\"click\":function($event){return _vm.delRole(scope.row, scope.$index)}}},[_vm._v(\"删除\")])]}}])})],1)],1)],1)],1)],1),_c('DialogEditRole',{attrs:{\"data\":_vm.dialogEditRoleData,\"treeData\":_vm.treeData,\"roleList\":_vm.roleList},on:{\"saveSuccess\":_vm.saveSuccess}})],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"left\"},[_c('div',{staticClass:\"title\"},[_c('i',{staticClass:\"el-icon-unlock\"}),_c('h2',[_vm._v(\"角色管理\")])])])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{attrs:{\"visible\":_vm.data.isShow,\"width\":\"600px\",\"title\":_vm.data.id ? '角色详情':'添加角色',\"close-on-click-modal\":false},on:{\"update:visible\":function($event){return _vm.$set(_vm.data, \"isShow\", $event)},\"open\":_vm.open}},[_c('el-divider'),_c('div',{staticClass:\"d-body\"},[_c('el-form',{ref:\"roleForm\",attrs:{\"model\":_vm.data.form,\"rules\":_vm.rules,\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"角色名称\",\"prop\":\"name\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入角色名称，如高级管理员，普通管理员等\"},model:{value:(_vm.data.form.name),callback:function ($$v) {_vm.$set(_vm.data.form, \"name\", $$v)},expression:\"data.form.name\"}})],1),_c('el-form-item',{staticStyle:{\"position\":\"relative\"},attrs:{\"label\":\"角色描述\",\"prop\":\"remark\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"placeholder\":\"至多输入50个字\"},model:{value:(_vm.data.form.remark),callback:function ($$v) {_vm.$set(_vm.data.form, \"remark\", $$v)},expression:\"data.form.remark\"}}),_c('div',{staticClass:\"num\"},[_c('span',{class:{'tx-danger': _vm.data.form.remark.length > 50}},[_vm._v(_vm._s(_vm.data.form.remark.length))]),_vm._v(\" / 50 \")])],1),_c('el-form-item',{attrs:{\"label\":\"权限\"}},[_c('div',{staticClass:\"tree-wrap\"},[_c('el-tree',{key:_vm.treeKey,ref:\"roleTree\",attrs:{\"default-expand-all\":true,\"data\":_vm.treeData,\"props\":_vm.defaultProps,\"node-key\":\"key\",\"show-checkbox\":\"\"}})],1)])],1)],1),_c('el-divider'),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.data.isShow = false}}},[_vm._v(\"取消\")]),_c('el-button',{attrs:{\"type\":\"primary\",\"loading\":_vm.data.loading},on:{\"click\":_vm.save}},[_vm._v(\"保存\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <el-dialog\r\n    :visible.sync=\"data.isShow\"\r\n    width=\"600px\"\r\n    :title=\"data.id ? '角色详情':'添加角色'\"\r\n    :close-on-click-modal=\"false\"\r\n    @open=\"open\"\r\n  >\r\n    <el-divider></el-divider>\r\n    <div class=\"d-body\">\r\n      <el-form ref=\"roleForm\" :model=\"data.form\" :rules=\"rules\" label-width=\"80px\">\r\n        <el-form-item label=\"角色名称\" prop=\"name\">\r\n          <el-input\r\n            placeholder=\"请输入角色名称，如高级管理员，普通管理员等\"\r\n            v-model=\"data.form.name\"\r\n          >\r\n          </el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"角色描述\" style=\"position: relative;\" prop=\"remark\">\r\n          <el-input type=\"textarea\" v-model=\"data.form.remark\" placeholder=\"至多输入50个字\"></el-input>\r\n          <div class=\"num\">\r\n            <span :class=\"{'tx-danger': data.form.remark.length > 50}\">{{data.form.remark.length}}</span> / 50\r\n          </div>\r\n        </el-form-item>  \r\n        <el-form-item label=\"权限\">\r\n          <div class=\"tree-wrap\">\r\n            <el-tree\r\n              :key=\"treeKey\"\r\n              :default-expand-all=\"true\"\r\n              ref='roleTree'\r\n              :data=\"treeData\"\r\n              :props=\"defaultProps\"\r\n              node-key=\"key\"\r\n              show-checkbox\r\n            >\r\n            </el-tree>\r\n          </div>\r\n        </el-form-item>\r\n      </el-form>\r\n    </div>\r\n    <el-divider></el-divider>\r\n    <div slot=\"footer\" class=\"dialog-footer\">\r\n      <el-button @click=\"data.isShow = false\">取消</el-button>\r\n      <el-button type=\"primary\" :loading=\"data.loading\" @click=\"save\">保存</el-button>\r\n    </div>  \r\n  </el-dialog>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: [\"data\", \"treeData\", \"roleList\"],\r\n  data(){\r\n    let len50 = (rule, value, callback) => {\r\n      if(value && value.length > 50){\r\n        return callback(new Error('角色描述不能大于50字'))\r\n      }else{\r\n        callback();\r\n      }\r\n    }\r\n    return {\r\n      treeKey: (new Date()).valueOf(),\r\n      defaultProps: {\r\n        label: \"name\",\r\n        children: \"subMenu\",\r\n      },\r\n      rules: {\r\n        name: [\r\n          {required: true, message: '角色名称必须输入', trigger: 'blur'},\r\n        ],\r\n        remark: [\r\n          {validator: len50, trigger: 'blur'},\r\n        ]\r\n      },\r\n    }\r\n  },\r\n  methods: {\r\n    save(){\r\n      this.data.loading = true;\r\n      this.$refs['roleForm'].validate((valid) => {\r\n        if(valid){ //验证成功\r\n          let [selectedArr, rights] = [this.$refs.roleTree.getCheckedKeys(), []];\r\n          rights = this.roleList.filter(e => selectedArr.indexOf(e) < 0)\r\n          let params = {\r\n            name: this.data.form.name,\r\n            description: this.data.form.remark,\r\n            privilege: rights,\r\n          }\r\n          if(this.data.id)\r\n            params.id = this.data.id;\r\n          this.$apiCall('api.Admin.roleAdd', params, r => {\r\n            this.data.loading = false;\r\n            if(r.ErrorCode == 9999){\r\n              this.$message({message: '保存成功', type: \"success\"});\r\n              this.data.isShow = false;\r\n              this.$emit('saveSuccess')\r\n            }else{\r\n              this.$message({message: r.Message, type: \"error\"});\r\n            }\r\n          });\r\n        }else{ //验证失败\r\n          this.data.loading = false;\r\n          return false;\r\n        }\r\n      })\r\n    },\r\n    open(){\r\n      this.treeKey = (new Date()).valueOf();\r\n      //筛选不选的\r\n      let checkedArr = this.roleList.filter(e => this.data.rights.indexOf(e) < 0);\r\n      this.$nextTick(()=>{\r\n        if(this.data.id){ \r\n          this.$refs.roleTree.setCheckedKeys(checkedArr);\r\n        }else{\r\n          //新建默认全不选\r\n          this.$refs.roleTree.setCheckedKeys([]);\r\n        }\r\n        \r\n        this.$refs['roleForm'].clearValidate();\r\n        document.querySelector('.tree-wrap').scrollTop = 0;\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.num{\r\n  position: absolute;\r\n  right: 0;\r\n  bottom: -30px;\r\n  color: #909399;\r\n  font-size: 12px;\r\n}\r\n.tree-wrap{\r\n  padding: 7px 0;\r\n  max-height: 300px;\r\n  overflow-y: scroll;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./DialogEditRole.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./DialogEditRole.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DialogEditRole.vue?vue&type=template&id=0f717bcf&scoped=true&\"\nimport script from \"./DialogEditRole.vue?vue&type=script&lang=js&\"\nexport * from \"./DialogEditRole.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DialogEditRole.vue?vue&type=style&index=0&id=0f717bcf&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0f717bcf\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n   <div class=\"contentpanel role-management-page\">\r\n     <div class=\"pagetitle\" ref=\"pageHeader\">\r\n      <div class=\"left\">\r\n        <div class=\"title\">\r\n          <i class=\"el-icon-unlock\"></i>\r\n          <h2>角色管理</h2>\r\n        </div>\r\n      </div>\r\n      <div class=\"right\">\r\n        <el-button type=\"primary\" :disabled=\"!isWrite\" @click=\"openEditRole()\">添加角色</el-button>\r\n      </div>\r\n    </div>\r\n    <div class=\"pagebody\" v-loading=\"loading\">\r\n      <el-row :gutter=\"15\" class=\"mg-b-20\">\r\n        <el-col :span=\"24\">\r\n          <el-card>\r\n            <el-table\r\n              :data=\"items\"\r\n              stripe\r\n              row-key=\"id\"\r\n              style=\"width: 100%\"\r\n              ref=\"gridTable\"\r\n            >\r\n              <el-table-column label=\"员工角色\" prop=\"name\">\r\n              </el-table-column>\r\n              <el-table-column label=\"描述\" prop=\"description\">\r\n              </el-table-column>\r\n              <el-table-column label=\"员工数\" prop=\"count\" align=\"center\">\r\n              </el-table-column>\r\n              <el-table-column label=\"操作\">\r\n                <template slot-scope=\"scope\">\r\n                  <el-link type=\"primary\" style=\" margin-right: 20px;\" :disabled=\"!isWrite\" @click=\"openEditRole(scope.row)\">\r\n                    编辑\r\n                  </el-link>\r\n                  <el-link type=\"danger\" :disabled=\"!isWrite\" @click=\"delRole(scope.row, scope.$index)\">删除</el-link>\r\n                </template>\r\n              </el-table-column>\r\n            </el-table>\r\n          </el-card>\r\n        </el-col>\r\n      </el-row>\r\n    </div>\r\n    <DialogEditRole :data=\"dialogEditRoleData\" :treeData=\"treeData\" :roleList=\"roleList\" @saveSuccess=\"saveSuccess\"/>\r\n   </div>\r\n</template>\r\n\r\n<script>\r\nimport DialogEditRole from '@/views/StaffMGR/DialogEditRole'\r\nexport default {\r\n  data(){\r\n    return {\r\n      isWrite: false, //是否可写\r\n      loading: false,\r\n      items: [],\r\n      treeData: [], //权限树\r\n      roleList: [], //所有权限\r\n      dialogEditRoleData: {\r\n        loading: false,\r\n        isShow: false,\r\n        id: '',\r\n        form: {\r\n          name: '',\r\n          remark: '',\r\n        },\r\n        rights: [], //限制权限列表\r\n      },\r\n      defaultDialogEditRoleData: '{}',\r\n    }\r\n  },\r\n  components: {\r\n    DialogEditRole,\r\n  },\r\n  mounted(){\r\n    this.isWrite = this.$isRole(this.$route.meta.roleWrite)\r\n    this.defaultDialogEditRoleData = JSON.stringify(this.dialogEditRoleData);\r\n    this.getRole();\r\n    this.getRightArr();\r\n  },\r\n  methods: {\r\n    delRole(item,i){\r\n      this.$confirm(\"确定删除该角色吗?\", {\r\n        confirmButtonText: \"删除\",\r\n        cancelButtonText: \"取消\",\r\n        confirmButtonClass: \" el-button--danger\",\r\n        type: \"warning\",\r\n      }).then(()=>{\r\n        this.loading = true;\r\n        this.$apiCall('api.Admin.roleDelete', {id: item.id}, r => {\r\n          this.loading = false;\r\n          if (r.ErrorCode == 9999) {\r\n            this.items.splice(i, 1);\r\n            this.$message({ message: '删除成功', type: \"success\" });\r\n          }else{\r\n            this.$message.error(r.Message);\r\n          }\r\n        })\r\n      }).catch();\r\n    },\r\n    getRole() {\r\n      this.loading = true;\r\n      this.$apiCall(\"api.Admin.roleList\", {}, (r) => {\r\n        this.loading = false;\r\n        if (r.ErrorCode == 9999) {\r\n          this.items = r.Data.Results.map(e => e);\r\n        } else {\r\n          this.$message({ message: r.Message, type: \"error\" });\r\n        }\r\n      });\r\n    },\r\n    getRightArr() {\r\n      this.$apiCall(\"api.Admin.getRights\", {}, (r) => {\r\n        if (r.ErrorCode == 9999) {\r\n          this.treeData = [...r.Data.Results.rights];\r\n          //员工管理子菜单的格式化 \r\n          // let staffIndex = 1; //员工管理是第几个菜单\r\n          // this.treeData.splice(staffIndex, 0, {\r\n          //   key: 'MenuStaffParent',\r\n          //   name: '员工管理',\r\n          //   subMenu: [],\r\n          // })\r\n          // for(let i = 0; i < this.treeData.length; i++){\r\n          //   if(this.treeData[i].key == 'MenuStaff' || this.treeData[i].key == 'MenuPrivilege'){\r\n          //     this.treeData[staffIndex].subMenu.push(this.treeData[i]);\r\n          //     this.treeData.splice(i, 1);\r\n          //     i --;\r\n          //   }\r\n          // }\r\n          this.roleList = r.Data.Results.endpoint;\r\n        } else {\r\n          this.$message.error(r.Message);\r\n        }\r\n      });\r\n    },\r\n    openEditRole(item){\r\n      this.dialogEditRoleData = JSON.parse(this.defaultDialogEditRoleData)\r\n      if(item){ //编辑\r\n        this.dialogEditRoleData.form.name = item.name;\r\n        this.dialogEditRoleData.form.remark = item.description || '';\r\n        this.dialogEditRoleData.rights = item.privilege ? JSON.parse(item.privilege) : [];\r\n        this.dialogEditRoleData.id = item.id;\r\n      }\r\n      this.dialogEditRoleData.isShow = true;\r\n    },\r\n    saveSuccess(){\r\n      this.getRole();\r\n    }\r\n  }\r\n}\r\n</script>","import mod from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./Role.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./Role.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Role.vue?vue&type=template&id=556ab52e&\"\nimport script from \"./Role.vue?vue&type=script&lang=js&\"\nexport * from \"./Role.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar bind = require('../internals/function-bind-context');\nvar toObject = require('../internals/to-object');\nvar callWithSafeIterationClosing = require('../internals/call-with-safe-iteration-closing');\nvar isArrayIteratorMethod = require('../internals/is-array-iterator-method');\nvar toLength = require('../internals/to-length');\nvar createProperty = require('../internals/create-property');\nvar getIterator = require('../internals/get-iterator');\nvar getIteratorMethod = require('../internals/get-iterator-method');\n\n// `Array.from` method implementation\n// https://tc39.es/ecma262/#sec-array.from\nmodule.exports = function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {\n  var O = toObject(arrayLike);\n  var C = typeof this == 'function' ? this : Array;\n  var argumentsLength = arguments.length;\n  var mapfn = argumentsLength > 1 ? arguments[1] : undefined;\n  var mapping = mapfn !== undefined;\n  var iteratorMethod = getIteratorMethod(O);\n  var index = 0;\n  var length, result, step, iterator, next, value;\n  if (mapping) mapfn = bind(mapfn, argumentsLength > 2 ? arguments[2] : undefined, 2);\n  // if the target is not iterable or it's an array with the default iterator - use a simple case\n  if (iteratorMethod != undefined && !(C == Array && isArrayIteratorMethod(iteratorMethod))) {\n    iterator = getIterator(O, iteratorMethod);\n    next = iterator.next;\n    result = new C();\n    for (;!(step = next.call(iterator)).done; index++) {\n      value = mapping ? callWithSafeIterationClosing(iterator, mapfn, [step.value, index], true) : step.value;\n      createProperty(result, index, value);\n    }\n  } else {\n    length = toLength(O.length);\n    result = new C(length);\n    for (;length > index; index++) {\n      value = mapping ? mapfn(O[index], index) : O[index];\n      createProperty(result, index, value);\n    }\n  }\n  result.length = index;\n  return result;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n\n// `Array.prototype.map` method\n// https://tc39.es/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var $ = require('../internals/export');\nvar from = require('../internals/array-from');\nvar checkCorrectnessOfIteration = require('../internals/check-correctness-of-iteration');\n\nvar INCORRECT_ITERATION = !checkCorrectnessOfIteration(function (iterable) {\n  // eslint-disable-next-line es/no-array-from -- required for testing\n  Array.from(iterable);\n});\n\n// `Array.from` method\n// https://tc39.es/ecma262/#sec-array.from\n$({ target: 'Array', stat: true, forced: INCORRECT_ITERATION }, {\n  from: from\n});\n"],"sourceRoot":""}