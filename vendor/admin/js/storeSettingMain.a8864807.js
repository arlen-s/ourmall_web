(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["storeSettingMain"],{"331a":function(t,e,s){"use strict";s("7b4d")},"47b1":function(t,e,s){"use strict";s("f79b")},6246:function(t,e,s){"use strict";s("fff1")},"7b4d":function(t,e,s){},a0af:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"setting-page"},[e("el-scrollbar",{staticClass:"left"},[t.editStatus?t._e():e("div",{key:"1",staticClass:"content"},[e("h1",[t._v(t._s(t.$t("storeSetting.首页")))]),"home"==t.filter||"header"==t.filter?e("div",{staticClass:"modal-content list-component",on:{click:function(e){return t.routerChange("header")}}},[e("div",{staticClass:"content-box"},[e("i",{staticClass:"iconfont icon-draggable",staticStyle:{opacity:"0"}}),e("i",{staticClass:"fa fa-header logo",attrs:{"aria-hidden":"true"}}),e("div",{staticClass:"title"},[t._v(t._s(t.$t("storeSetting.页头")))])])]):t._e(),e("div",{staticClass:"mg-t-10 list-component"},[e("draggable",{attrs:{handle:".draggable-i"},on:{change:t.dragChange},model:{value:t.setting.sort,callback:function(e){t.$set(t.setting,"sort",e)},expression:"setting.sort"}},[t._l(t.setting.sort,(function(s,i){return[e("div",{key:i,staticClass:"draggable-i"},["slider"==s.type&&"home"==t.filter?e("div",{staticClass:"modal-content",on:{click:function(e){return t.routerChange("slider",s)}}},[e("div",{staticClass:"content-box"},[e("i",{staticClass:"iconfont icon-draggable"}),e("i",{staticClass:"fa fa-picture-o logo",attrs:{"aria-hidden":"true"}}),e("div",{staticClass:"title"},[t._v(t._s(t.$t("storeSetting.轮播图")))]),e("i",{staticClass:"el-icon-delete delete-icon",on:{click:function(e){return e.stopPropagation(),t.deleteConfig(s)}}})])]):t._e(),"richText"==s.type&&"home"==t.filter?e("div",{staticClass:"modal-content",on:{click:function(e){return t.routerChange("richText",s)}}},[e("div",{staticClass:"content-box"},[e("i",{staticClass:"iconfont icon-draggable"}),e("i",{staticClass:"fa fa-font logo",attrs:{"aria-hidden":"true"}}),e("div",{staticClass:"title"},[t._v(t._s(t.$t("storeSetting.富文本")))]),e("i",{staticClass:"el-icon-delete delete-icon",on:{click:function(e){return e.stopPropagation(),t.deleteConfig(s)}}})])]):t._e(),"singleImg"==s.type&&"home"==t.filter?e("div",{staticClass:"modal-content",on:{click:function(e){return t.routerChange("singleImg",s)}}},[e("div",{staticClass:"content-box"},[e("i",{staticClass:"iconfont icon-draggable"}),e("i",{staticClass:"fa fa-file-image-o logo",attrs:{"aria-hidden":"true"}}),e("div",{staticClass:"title"},[t._v(t._s(t.$t("storeSetting.单图")))]),e("i",{staticClass:"el-icon-delete delete-icon",on:{click:function(e){return e.stopPropagation(),t.deleteConfig(s)}}})])]):t._e(),"singleProduct"!=s.type||"home"!=t.filter&&"product"!=t.filter?t._e():e("div",{staticClass:"modal-content",on:{click:function(e){return t.routerChange("singleProduct",s)}}},[e("div",{staticClass:"content-box"},[e("i",{staticClass:"iconfont icon-draggable"}),e("i",{staticClass:"fa fa-product-hunt logo",attrs:{"aria-hidden":"true"}}),e("div",{staticClass:"title"},[t._v(t._s(t.$t("storeSetting.单个商品")))]),e("i",{staticClass:"el-icon-delete delete-icon",on:{click:function(e){return e.stopPropagation(),t.deleteConfig(s)}}})])]),"hotProduct"!=s.type||"home"!=t.filter&&"product"!=t.filter?t._e():e("div",{staticClass:"modal-content",on:{click:function(e){return t.routerChange("hotProduct",s)}}},[e("div",{staticClass:"content-box"},[e("i",{staticClass:"iconfont icon-draggable"}),e("i",{staticClass:"fa fa-fire logo",attrs:{"aria-hidden":"true"}}),e("div",{staticClass:"title"},[t._v(t._s(t.$t("storeSetting.热门商品列表")))]),e("i",{staticClass:"el-icon-delete delete-icon",on:{click:function(e){return e.stopPropagation(),t.deleteConfig(s)}}})])]),"productCategory"!=s.type||"home"!=t.filter&&"product"!=t.filter?t._e():e("div",{staticClass:"modal-content",on:{click:function(e){return t.routerChange("productCategory",s)}}},[e("div",{staticClass:"content-box"},[e("i",{staticClass:"iconfont icon-draggable"}),e("i",{staticClass:"fa fa-cart-arrow-down logo",attrs:{"aria-hidden":"true"}}),e("div",{staticClass:"title"},[t._v(t._s(t.$t("storeSetting.商品类目")))]),e("i",{staticClass:"el-icon-delete delete-icon",on:{click:function(e){return e.stopPropagation(),t.deleteConfig(s)}}})])])])]}))],2)],1),"home"==t.filter||"product"==t.filter?e("div",{staticClass:"modal-content"},[e("div",{staticClass:"content-box",staticStyle:{color:"#356dff"},on:{click:t.editComponent}},[e("i",{staticClass:"el-icon-plus"}),e("div",{staticClass:"title"},[t._v(t._s(t.$t("storeSetting.添加组件")))])])]):t._e(),"home"==t.filter||"header"==t.filter?e("div",{staticClass:"modal-content list-component mg-t-10",on:{click:function(e){return t.routerChange("footer")}}},[e("div",{staticClass:"content-box"},[e("i",{staticClass:"iconfont icon-draggable",staticStyle:{opacity:"0"}}),e("i",{staticClass:"iconfont icon-footer logo",attrs:{"aria-hidden":"true"}}),e("div",{staticClass:"title"},[t._v(t._s(t.$t("storeSetting.页脚")))])])]):t._e()]),t.editStatus?e("div",{key:"2",staticClass:"content"},[e("EditList",{attrs:{setting:t.setting},on:{goBack:t.goBack,routerChange:t.routerChange}})],1):t._e()]),e("el-scrollbar",{staticClass:"right"},[e("div",{staticClass:"content"},[e("Main",{attrs:{setting:t.setting,code:t.code}})],1)])],1)},o=[],a=(s("14d9"),s("e948")),n=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"editList"}},[e("div",{staticClass:"back",on:{click:t.goBack}},[e("el-link",{attrs:{icon:"el-icon-arrow-left",underline:!1}},[t._v(t._s(t.$t("storeSetting.添加组件")))])],1),e("h2",[t._v(t._s(t.$t("storeSetting.文字")))]),e("div",{staticClass:"config"},[e("div",{staticClass:"modal-content",on:{click:function(e){return t.routerChange("richText")}}},[e("div",{staticClass:"content-box"},[e("i",{staticClass:"iconfont icon-draggable"}),e("div",{staticClass:"title"},[t._v(t._s(t.$t("storeSetting.富文本")))])])])]),e("h2",[t._v(t._s(t.$t("storeSetting.图片")))]),e("div",{staticClass:"config"},[e("div",{staticClass:"modal-content",on:{click:function(e){return t.routerChange("slider")}}},[e("div",{staticClass:"content-box"},[e("i",{staticClass:"iconfont icon-draggable"}),e("div",{staticClass:"title"},[t._v(t._s(t.$t("storeSetting.轮播图")))])])]),e("div",{staticClass:"modal-content",on:{click:function(e){return t.routerChange("singleImg")}}},[e("div",{staticClass:"content-box"},[e("i",{staticClass:"iconfont icon-draggable"}),e("div",{staticClass:"title"},[t._v(t._s(t.$t("storeSetting.单图")))])])])]),e("h2",[t._v(t._s(t.$t("storeSetting.商品")))]),e("div",{staticClass:"config"},[e("div",{staticClass:"modal-content",on:{click:function(e){return t.routerChange("singleProduct")}}},[e("div",{staticClass:"content-box"},[e("i",{staticClass:"iconfont icon-draggable"}),e("div",{staticClass:"title"},[t._v(t._s(t.$t("storeSetting.单个商品")))])])]),e("div",{staticClass:"modal-content",on:{click:function(e){return t.routerChange("hotProduct")}}},[e("div",{staticClass:"content-box"},[e("i",{staticClass:"iconfont icon-draggable"}),e("div",{staticClass:"title"},[t._v(t._s(t.$t("storeSetting.热门商品列表")))])])]),e("div",{staticClass:"modal-content",on:{click:function(e){return t.routerChange("productCategory")}}},[e("div",{staticClass:"content-box"},[e("i",{staticClass:"iconfont icon-draggable"}),e("div",{staticClass:"title"},[t._v(t._s(t.$t("storeSetting.商品类目")))])])])])])},r=[],c={props:["setting"],methods:{goBack(){this.$emit("goBack",!1)},routerChange(t){this.$emit("routerChange",t)}}},l=c,d=(s("331a"),s("2877")),g=Object(d["a"])(l,n,r,!1,null,"0394a710",null),u=g.exports,h=s("b76a"),f=s.n(h),C={props:["filter"],data(){return{setting:null,editStatus:!1,code:{header:[],footer:[]}}},components:{Main:a["a"],draggable:f.a,EditList:u},created(){this.setting=JSON.parse(JSON.stringify(this.$store.state.configJson)),this.getConfig()},methods:{dragChange(){console.log(1),this.$store.commit("getStoreComponent",this.setting),this.$apiCall("api.VendorShop.setShopConfig",{configJson:JSON.stringify(this.$store.state.configJson)},t=>{9999==t.ErrorCode?this.$elementMessage(this.$t("storeSetting.保存成功"),"success"):this.$message({message:t.Message,type:"error"})})},getConfig(){this.$apiCall("api.VendorShop.getShopConfig",{},t=>{9999==t.ErrorCode?t.Data.Results.header?(this.$store.commit("getStoreComponent",t.Data.Results),this.setting=t.Data.Results,this.handleCode(t.Data.Results.customCode)):this.setting=JSON.parse(JSON.stringify(this.$store.state.configJson)):this.$message({message:t.Message,type:"error"})})},handleCode(t){console.log(t),t.forEach(t=>{t.pages.includes("首页")&&("底部"==t.position&&this.code.footer.push(t.desc),"顶部"==t.position&&this.code.header.push(t.desc))})},deleteConfig(t){this.$store.commit("delComponent",t.cid),this.setting=JSON.parse(JSON.stringify(this.$store.state.configJson)),this.$apiCall("api.VendorShop.setShopConfig",{configJson:JSON.stringify(this.$store.state.configJson)},t=>{9999==t.ErrorCode?this.$elementMessage("删除成功","success"):this.$message({message:t.Message,type:"error"})})},goBack(t){this.editStatus=!1,this.$emit("StatusChange",!1)},editComponent(){this.editStatus=!0,this.$emit("StatusChange",!0)},routerChange(t,e){let s={};switch(s.cid=e?e.cid:(new Date).getTime(),t){case"header":this.$router.push({path:"/store-setting/header"});break;case"footer":this.$router.push({path:"/store-setting/footer"});break;case"richText":this.$router.push({path:"/store-setting/richEditor",query:s});break;case"slider":this.$router.push({path:"/store-setting/slider",query:s});break;case"singleImg":this.$router.push({path:"/store-setting/singleImg",query:s});break;case"singleProduct":this.$router.push({path:"/store-setting/productOne",query:s});break;case"hotProduct":this.$router.push({path:"/store-setting/productList",query:s});break;case"productCategory":this.$router.push({path:"/store-setting/productCategory",query:s});break;default:break}}}},p=C,v=(s("47b1"),s("6246"),Object(d["a"])(p,i,o,!1,null,"65a606ec",null));e["default"]=v.exports},e948:function(t,e,s){"use strict";var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"designHome"},[t.code&&t.code.header&&t.code.header.length>0&&"storeDesign"!=this.$route.name?t._l(t.code.header,(function(s,i){return e("div",{key:i,staticStyle:{overflow:"hidden"},domProps:{innerHTML:t._s(s)}})})):t._e(),e("div",{staticStyle:{position:"relative"}},[e("DHeader",{attrs:{data:t.setting.header,headerMenu:t.headerMenu}}),e("demoBody",{attrs:{data:t.setting,header:t.setting.header}}),e("Footer",{attrs:{setting:t.setting.footer}})],1),t.code&&t.code.footer&&t.code.footer.length>0&&"storeDesign"!=this.$route.name?t._l(t.code.footer,(function(s,i){return e("div",{key:i,staticStyle:{overflow:"hidden"},domProps:{innerHTML:t._s(s)}})})):t._e()],2)},o=[],a=s("826e"),n=s("db46"),r=s("8c3c"),c={props:["setting","code"],components:{DHeader:a["a"],Footer:n["a"],demoBody:r["a"]},data(){return{headerMenu:[]}},watch:{"setting.header.activeMenu":{handler(){this.getMenu()},deep:!0,immediate:!0}},methods:{getMenu(){this.setting.header.activeMenu&&this.setting.menu.forEach(t=>{t.id==this.setting.header.activeMenu&&(this.headerMenu=t)})}}},l=c,d=s("2877"),g=Object(d["a"])(l,i,o,!1,null,null,null);e["a"]=g.exports},f79b:function(t,e,s){},fff1:function(t,e,s){}}]);