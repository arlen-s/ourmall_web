(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["dashboard"],{"0874":function(t,e,a){"use strict";a.d(e,"a",(function(){return r}));a("ca52"),a("2c45"),a("fd7d"),a("685e"),a("b0a9"),a("abd8"),a("7116");var s=a("84b9");function r(t,e){if(t){if("string"===typeof t)return Object(s["a"])(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Object(s["a"])(t,e):void 0}}},1248:function(t,e,a){"use strict";var s=a("9277"),r=a("8e1c").map,i=a("ee76"),o=i("map");s({target:"Array",proto:!0,forced:!o},{map:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},1482:function(t,e,a){"use strict";a("f81c")},"2c99":function(t,e,a){var s=a("be72"),r=a("8d99");t.exports=function(t,e){s(e)&&"cause"in e&&r(t,"cause",e.cause)}},"3c7d":function(t,e,a){"use strict";a.d(e,"a",(function(){return c}));var s=a("84b9");function r(t){if(Array.isArray(t))return Object(s["a"])(t)}a("237e"),a("5ee8"),a("2c45"),a("e9bb"),a("b0a9"),a("2ee7"),a("685e");function i(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}var o=a("0874");a("c24b");function n(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(t){return r(t)||i(t)||Object(o["a"])(t)||n()}},4601:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"contentpanel dashboard-page"},[a("div",{staticClass:"pagetitle"},[a("div",{staticClass:"left"},[a("div",{staticClass:"title"},[a("i",{staticClass:"el-icon-s-home"}),a("h2",[t._v(t._s(t.$t("dashboard.dashboard")))])])]),a("div",{staticClass:"right"})]),a("div",{staticClass:"pagebody",staticStyle:{display:"none"}},[a("el-row",{staticClass:"mg-b-30",attrs:{gutter:15}},[a("el-col",{attrs:{span:14}},[a("el-card",[a("el-row",{attrs:{gutter:10}},[a("el-col",{staticClass:" d-flex align-items-center mg-b-30 top-box-wrap",attrs:{span:12}},[a("div",{staticClass:" top-box"},[a("div",{staticClass:"left"},[a("div",{staticClass:" title"},[t._v(t._s(t.$t("dashboard.customerAdded")))]),a("div",{staticClass:" t-link"},[a("el-link",{staticClass:" mg-r-10",attrs:{type:"primary",href:"#/my-custom"}},[t._v(" "+t._s(t.$store.state.cnt.customerCnt))]),t._v(" "+t._s(t.$t("dashboard.pcs"))+" ")],1)]),a("i",{staticClass:"el-icon-s-custom"})])]),a("el-col",{staticClass:" d-flex align-items-center mg-b-30 top-box-wrap",attrs:{span:12}},[a("div",{staticClass:" top-box"},[a("div",{staticClass:"left"},[a("div",{staticClass:" title"},[t._v(t._s(t.$t("dashboard.authorizedShopifyCustomers")))]),a("div",{staticClass:" t-link"},[a("el-link",{staticClass:" mg-r-10",attrs:{type:"primary",href:"#/my-custom?isAuth=true"}},[t._v(" "+t._s(t.$store.state.cnt.customerAuthCnt))]),t._v(" "+t._s(t.$t("dashboard.pcs"))+" ")],1)]),a("i",{staticClass:"el-icon-s-goods"})])]),a("el-col",{staticClass:" d-flex align-items-center top-box-wrap",attrs:{span:12}},[a("div",{staticClass:" top-box"},[a("div",{staticClass:"left"},[a("div",{staticClass:" title"},[t._v(t._s(t.$t("dashboard.validInvoice")))]),a("div",{staticClass:" t-link"},[a("el-link",{staticClass:" mg-r-10",attrs:{type:"primary",href:"#/my-invoice"}},[t._v(" "+t._s(t.$store.state.cnt.invoiceCnt)+" ")]),t._v(" "+t._s(t.$t("dashboard.pcs"))+" ")],1)]),a("i",{staticClass:"el-icon-s-order"})])])],1)],1)],1),a("el-col",{attrs:{offset:1,span:7}},[a("el-card",{staticClass:"add-box"},[a("a",{staticClass:" d-flex",attrs:{href:"javascript:;"},on:{click:t.openAddVendor}},[a("i",{staticClass:"el-icon-plus"}),a("span",[t._v(t._s(t.$t("dashboard.addNumCustomer",{num:Number(t.$store.state.cnt.customerCnt)+1})))])])])],1)],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:22}},[t.lastVendor.length?a("div",{staticClass:"last-customer"},[a("div",{staticClass:"header"},[t._v(" "+t._s(t.$t("dashboard.recentCooperation"))+" "),a("el-link",{attrs:{type:"primary",href:"#/my-custom"}},[t._v(t._s(t.$t("dashboard.more")))])],1),a("el-row",{attrs:{gutter:20}},t._l(t.lastVendor,(function(e,s){return a("el-col",{key:e.id,attrs:{xl:6,lg:12,md:12}},[a("el-card",{staticClass:"c-box"},[a("div",{staticClass:" c-box-content"},[a("div",{staticClass:" left tx-ellipsis1",attrs:{title:e.customerName}},[a("i",{staticClass:"avatar-title",style:{backgroundColor:t.aBg[s]}},[t._v(t._s(e.customerName.substr(0,1)))]),a("div",{staticClass:"name tx-ellipsis1",staticStyle:{"max-width":"100px"}},[t._v(" "+t._s(e.customerName))])]),a("div",{staticClass:"right"},[a("div",{staticClass:" mg-b-10 d-flex align-items-center v-content"},[a("span",{staticClass:" v-content-title"},[t._v(t._s(t.$t("dashboard.validInvoice2")))]),a("el-link",{staticClass:" v-content-val",attrs:{type:"primary"},on:{click:function(a){return t.gotoInvoice(e)}}},[t._v(t._s(e.invoiceCnt))])],1),a("div",{staticClass:" mg-b-20 d-flex align-items-center v-content"},[a("span",{staticClass:" v-content-title"},[t._v(t._s(t.$t("dashboard.authorizedShopifyStores")))]),a("span",{staticClass:" v-content-val"},[t._v(t._s(e.customerAuthCnt))])]),a("div",{staticClass:" tx-right"},[a("el-link",{attrs:{type:"primary"},on:{click:function(a){return t.gotoCustom(e)}}},[t._v(" "+t._s(t.$t("mycustomer.Invitecustomers2"))+" ")])],1)])])])],1)})),1)],1):t._e()])],1)],1),a("div",{staticClass:"pagebodytwo",staticStyle:{display:"block"}},[a("el-row",{staticClass:"mg-b-30 user-status-list",attrs:{gutter:20}},[a("el-col",{attrs:{span:8,xs:24,sm:12,md:8,lg:8,type:"flex"}},[a("div",{staticClass:"user-status-item",on:{click:function(e){return t.gotoPage(1)}}},[a("div",{staticClass:"status-icon"},[a("i",{staticClass:"iconfont icon-daiwanshankaoshi"})]),a("div",{staticClass:"status-content"},[a("div",{staticClass:"status-num",staticStyle:{color:"#e6a23c"}},[t._v(t._s(t.vendorAllOrderCntText(2)||"0"))]),a("div",{staticClass:"status-description"},[t._v(t._s(t.$t("dashboard.待报价订单")))])])])]),a("el-col",{attrs:{span:8,xs:24,sm:12,md:8,lg:8,type:"flex"}},[a("div",{staticClass:"user-status-item",on:{click:function(e){return t.gotoPage(2)}}},[a("div",{staticClass:"status-icon"},[a("i",{staticClass:"el-icon-finished"})]),a("div",{staticClass:"status-content"},[a("div",{staticClass:"status-num",staticStyle:{color:"#e6a23c"}},[t._v(t._s(t.vendorAllOrderCntText(22)||"0"))]),a("div",{staticClass:"status-description"},[t._v(t._s(t.$t("dashboard.待确认收款订单")))])])])]),a("el-col",{attrs:{span:8,xs:24,sm:12,md:8,lg:8,type:"flex"}},[a("div",{staticClass:"user-status-item",on:{click:function(e){return t.gotoPage(3)}}},[a("div",{staticClass:"status-icon"},[a("i",{staticClass:"el-icon-truck"})]),a("div",{staticClass:"status-content"},[a("div",{staticClass:"status-num",staticStyle:{color:"#e6a23c"}},[t._v(t._s(t.vendorAllOrderCntText(5)||"0"))]),a("div",{staticClass:"status-description"},[t._v(t._s(t.$t("dashboard.待发货订单")))])])])])],1),a("div",{staticClass:"chart mg-b-30"},[a("div",{staticClass:"chart-header"},[a("div",{staticClass:"chart-title"},[t._v(t._s(t.$t("dashboard.销售统计")))]),a("div",{staticClass:"chart-right"},[a("el-date-picker",{attrs:{"picker-options":t.pickerOptions0,"value-format":"yyyyMMdd",type:"daterange",align:"right","unlink-panels":"","range-separator":"-","start-placeholder":t.$t("dashboard.起始"),"end-placeholder":t.$t("dashboard.截止")},on:{change:t.dateChange},model:{value:t.statisticDate,callback:function(e){t.statisticDate=e},expression:"statisticDate"}}),a("el-select",{staticClass:"mg-l-20",staticStyle:{width:"200px"},attrs:{placeholder:t.$t("dashboard.日期范围")},on:{change:t.dateRangeChange},model:{value:t.statisticDateRange,callback:function(e){t.statisticDateRange=e},expression:"statisticDateRange"}},t._l(t.dateArr,(function(e,s){return a("el-option",{key:e,attrs:{label:t.$t(e),value:s}})})),1)],1)]),a("div",{staticClass:"chart-body",staticStyle:{width:"100%"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowCart,expression:"isShowCart"}],ref:"chart",staticStyle:{width:"100%",height:"400px"},attrs:{id:"dashboardCharts"}}),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.isShowCart,expression:"!isShowCart"}],staticClass:" tx-center",staticStyle:{height:"100px","line-height":"100px",color:"#909399"}},[t._v(t._s(t.$t("invoice.Nodata")))])])]),a("el-row",{staticClass:"mg-b-30",attrs:{gutter:20}},[a("el-col",{attrs:{span:16,type:"flex"}},[a("div",{staticClass:"day-statistics mg-b-30"},[a("div",{staticClass:"day-statistics-title"},[t._v(t._s(t.$t("dashboard.每日统计")))]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,stripe:""}},[a("el-table-column",{attrs:{prop:"date",label:t.$t("dashboard.日期")},scopedSlots:t._u([{key:"header",fn:function(){return[a("div",{staticClass:"tableTiop"},[t._v(t._s(t.$t("dashboard.日期")))])]},proxy:!0}])}),a("el-table-column",{attrs:{prop:"customerCnt",label:t.$t("dashboard.下单客户量")},scopedSlots:t._u([{key:"header",fn:function(){return[a("div",{staticClass:"tableTiop"},[t._v(t._s(t.$t("dashboard.下单客户量")))])]},proxy:!0}])}),a("el-table-column",{attrs:{prop:"orderCnt",label:t.$t("dashboard.订单数")},scopedSlots:t._u([{key:"header",fn:function(){return[a("div",{staticClass:"tableTiop"},[t._v(t._s(t.$t("dashboard.订单数")))])]},proxy:!0}])}),a("el-table-column",{attrs:{prop:"amount",label:t.$t("dashboard.销售额US$")},scopedSlots:t._u([{key:"header",fn:function(){return[a("div",{staticClass:"tableTiop"},[t._v(t._s(t.$t("dashboard.销售额US$"))+" ")])]},proxy:!0}])})],1),a("div",{staticClass:"day-statistics-footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.showMoreReference}},[t._v(t._s(t.$t("dashboard.显示更多")))])],1)],1)]),a("el-col",{attrs:{span:8,type:"flex"}},[a("div",{staticClass:"info-aggregation mg-b-30"},[a("div",{staticClass:"info-aggregation-title"},[t._v(t._s(t.$t("dashboard.信息汇总")))]),a("el-divider"),a("div",{staticClass:"info-aggregation-list"},[a("div",{staticClass:"item",on:{click:function(e){return t.gotoPage(8)}}},[a("div",{staticClass:"icon"},[a("i",{staticClass:"el-icon-sell"})]),a("div",{staticClass:"text"},[a("div",[t._v(t._s(t.$t("dashboard.上架商品数"))+": "),a("b",[t._v(t._s(t.vendorDashboardSummary.productCnt||"0"))])])])]),a("el-divider"),a("div",{staticClass:"item",on:{click:function(e){return t.gotoPage(5)}}},[a("div",{staticClass:"icon"},[a("i",{staticClass:"el-icon-user-solid"})]),a("div",{staticClass:"text"},[a("div",[t._v(t._s(t.$t("dashboard.下单客户量"))+": "),a("b",[t._v(t._s(t.vendorDashboardSummary.customerCnt||"0"))])])])]),a("el-divider"),a("div",{staticClass:"item",on:{click:function(e){return t.gotoPage(1)}}},[a("div",{staticClass:"icon"},[a("i",{staticClass:"el-icon-s-order"})]),a("div",{staticClass:"text"},[a("div",[t._v(t._s(t.$t("dashboard.订单数"))+": "),a("b",[t._v(t._s(t.vendorDashboardSummary.orderCnt||"0"))])])])]),a("el-divider"),a("div",{staticClass:"item",on:{click:function(e){return t.gotoPage(10)}}},[a("div",{staticClass:"icon"},[a("i",{staticClass:"fa fa-exchange"})]),a("div",{staticClass:"text"},[a("div",[t._v(t._s(t.$t("dashboard.销售额US$"))+": "),a("b",[t._v(t._s(Number(t.vendorDashboardSummary.orderTotalAmount).toFixed(2)||"0"))])])])]),a("el-divider")],1)],1)])],1)],1),a("el-dialog",{attrs:{loading:t.moreReference.loading,title:"Reference",visible:t.moreReference.isShow,width:"800px"},on:{"update:visible":function(e){return t.$set(t.moreReference,"isShow",e)}}},[a("el-divider"),a("div",{staticClass:"mg-t-20 mg-b-20 mg-l-20 mg-r-20"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.moreReference.tableData,stripe:""}},[a("el-table-column",{attrs:{prop:"date",label:t.$t("dashboard.日期"),width:"180"}}),a("el-table-column",{attrs:{prop:"customerCnt",label:t.$t("dashboard.下单客户量")}}),a("el-table-column",{attrs:{prop:"orderCnt",label:t.$t("dashboard.订单数"),width:"180"}}),a("el-table-column",{attrs:{prop:"amount",label:t.$t("dashboard.销售额US$"),width:"180"}})],1)],1),t.tableData.length?a("el-row",{staticClass:"mg-b-20",attrs:{gutter:20}},[a("el-col",{staticClass:" d-flex justify-content-center",attrs:{span:24}},[a("div",[a("el-pagination",{attrs:{"current-page":t.moreReference.page,background:!0,layout:"sizes, total, prev, pager, next, jumper","page-sizes":t.moreReference.pageSizes,"page-size":t.moreReference.rowsPerPage,total:Number(t.moreReference.total)},on:{"current-change":t.toPage,"size-change":t.changePageSize}})],1)])],1):t._e(),a("el-divider"),a("div",{staticClass:"dialog-footer d-flex justify-content-end",attrs:{slot:"footer"},slot:"footer"},[a("div",[a("el-button",{attrs:{size:"small"},on:{click:function(e){t.moreReference.isShow=!1}}},[t._v("Close")])],1)])],1),a("el-dialog",{attrs:{title:t.$t("dashboard.welcomeOurMallApp"),visible:t.createdNameDialog.isShow,width:"650px","show-close":!1,"close-on-press-escape":!1,"close-on-click-modal":!1},on:{"update:visible":function(e){return t.$set(t.createdNameDialog,"isShow",e)}}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("p",{staticStyle:{"padding-left":"20px"}},[t._v(t._s(t.$t("dashboard.relevantInformation")))]),a("el-form",[a("el-form-item",{attrs:{label:t.$t("dashboard.yourCompany"),"label-width":t.createdNameDialog.labelW,required:""}},[a("el-input",{attrs:{placeholder:t.$t("dashboard.customersView"),"auto-complete":"off"},model:{value:t.createdNameDialog.name,callback:function(e){t.$set(t.createdNameDialog,"name",e)},expression:"createdNameDialog.name"}})],1),a("el-form-item",{attrs:{label:t.$t("dashboard.yourEmail"),"label-width":t.createdNameDialog.labelW}},[this.$store.state.userInfo.email?a("span",[t._v(" "+t._s(this.$store.state.userInfo.email)+" "),a("a",{attrs:{href:"javascript:;"},on:{click:t.changeMail}},[t._v(t._s(t.$t("dashboard.modify")))])]):a("a",{attrs:{href:"javascript:;"},on:{click:t.changeMail}},[t._v(t._s(t.$t("dashboard.add")))])])],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",loading:t.createdNameDialog.loading},on:{click:t.saveName}},[t._v(" "+t._s(t.$t("dashboard.save")))])],1)],1)],1)},r=[],i=a("3c7d"),o=(a("390f"),a("fd7d"),a("ac4f"),a("2c45"),a("1fbe"),a("6351"),a("abd8"),a("c12c"),a("0baa"),a("1248"),{data:function(){return{statisticDateRange:"3",statisticDateFrom:"",statisticDateTo:"",statisticDate:[],dateArr:{1:"dashboard.今天",2:"dashboard.7天前",3:"dashboard.30天前",4:"dashboard.90天前",5:"dashboard.一年前",6:"dashboard.自定义"},pickerOptions0:{disabledDate:function(t){return t.getTime()>Date.now()-864e4}},tableData:[],chartData:{columns:[this.$t("dashboard.日期"),this.$t("dashboard.销售额US$"),this.$t("dashboard.订单数")],rows:[]},moreReference:{isShow:!1,pageSizes:[10,20,50,100],page:1,rowsPerPage:10,items:[],total:0,totalPage:0,loading:!1,tableData:[]},vendorDashboardSummary:{waitCompleteCnt:"",waitDeliverCnt:"",abnormalCnt:"",syncFailCnt:"",customerCnt:"",shopCnt:"",offerItemCnt:""},dialogVisibleAddVendor:!1,addVendorDialog:{isShow:!1,loading:!1,labelW:"100px",name:"",remark:"",email:""},addVendorDialogDefault:"{}",lastVendor:[],aBg:["#343a40","#c5a46b","#f46a6a","#34c38f"],createdNameDialog:{isShow:!1,loading:!1,labelW:"150px",name:"",email:""},createdNameDialogDefault:"{}",isShowCart:!0,vendorAllOrderCnt:{}}},components:{},mounted:function(){this.initPageData(),this.getCharts(),this.getVendorAllOrderCnt(),this.addVendorDialogDefault=JSON.stringify(this.addVendorDialog),this.createdNameDialogDefault=JSON.stringify(this.createdNameDialog),this.getLastVendor(),this.$store.state.userInfo.name||(this.createdNameDialog.isShow=!0)},methods:{getVendorAllOrderCnt:function(){var t=this;this.$apiCall("api.ShopifyOrder.getVendorAllOrderCnt",{},(function(e){9999==e.ErrorCode?t.vendorAllOrderCnt=e.Data.Results:10086!=e.ErrorCode&&t.$message({message:e.Message,type:"error"})}))},vendorAllOrderCntText:function(t){var e=0;return e=22==t?this.vendorAllOrderCnt.waitVendorConfirmCnt?this.vendorAllOrderCnt.waitVendorConfirmCnt:0:this.vendorAllOrderCnt[t]?this.vendorAllOrderCnt[t]:0,e},gotoPage:function(t){switch(t){case 1:this.$router.push({path:"/ordersManage/2/1"});break;case 2:this.$router.push({path:"/ordersManage/2/2"});break;case 3:this.$router.push({path:"/ordersManage/2/3"});break;case 4:this.$router.push({path:"/abnormal"});break;case 5:this.$router.push({path:"/my-custom"});break;case 6:this.$router.push({path:"/shopify-orders"});break;case 7:this.$router.push({path:"/products",query:{filterParams:1}});break;case 8:this.$router.push({path:"/goods-mgr/shelves"});break;case 9:this.$router.push({name:"allOrders"});break;case 10:break}},toPage:function(t){t!=this.moreReference.page&&(this.moreReference.page=t),this.getTableData()},changePageSize:function(t){this.moreReference.rowsPerPage=t,this.moreReference.page=1,localStorage.setItem("moreReferenceRowsPerPage",t),this.getTableData()},showMoreReference:function(){this.moreReference.isShow=!0,this.getTableData()},getTableData:function(){var t=this;this.moreReference.loading=!0,this.$apiCall("api.Invoice.vendorDashboardStatistic",{page:this.moreReference.page,rowsPerPage:this.moreReference.rowsPerPage},(function(e){t.moreReference.loading=!1,9999==e.ErrorCode?(t.moreReference.tableData=Object.values(e.Data.Results),t.moreReference.tableData.length&&(t.moreReference.tableData.forEach((function(e){t.$set(e,"dateCode1",Number(e.dateCode)),t.$set(e,"date",e.dateCode.replace(/^(\d{4})(\d{2})(\d{2})$/,"$1-$2-$3"))})),t.moreReference.total=Number(e.Data.Pagination.totalCount),t.moreReference.totalPage=Number(e.Data.Pagination.totalPage),t.moreReference.tableData=t.moreReference.tableData.sort(t.sortData))):10086!=e.ErrorCode&&t.$elementMessage(e.Message,"error")}))},dateChange:function(){this.statisticDate.length>1&&(this.statisticDateFrom=this.$moment(this.statisticDate[0]).format("YYYYMMDD"),this.statisticDateTo=this.$moment(this.statisticDate[1]).format("YYYYMMDD"),this.getCharts(1),this.statisticDateRange="")},dateRangeChange:function(){var t=this.statisticDateRange;switch(t){case"1":this.statisticDateFrom=this.$moment().format("YYYYMMDD"),this.statisticDateTo=this.$moment().format("YYYYMMDD");break;case"2":this.statisticDateFrom=this.$moment().subtract(7,"d").format("YYYYMMDD"),this.statisticDateTo=this.$moment().format("YYYYMMDD");break;case"3":this.statisticDateFrom=this.$moment().subtract(30,"d").format("YYYYMMDD"),this.statisticDateTo=this.$moment().format("YYYYMMDD");break;case"4":this.statisticDateFrom=this.$moment().subtract(90,"d").format("YYYYMMDD"),this.statisticDateTo=this.$moment().format("YYYYMMDD");break;case"5":this.statisticDateFrom=this.$moment().subtract(12,"M").format("YYYYMMDD"),this.statisticDateTo=this.$moment().format("YYYYMMDD");break;default:this.statisticDateFrom="",this.statisticDateTo="";break}this.statisticDate=[this.statisticDateFrom,this.statisticDateTo],this.getCharts(1)},initPageData:function(){var t=this;this.$showLoading(),this.$apiCall("api.Invoice.vendorDashboardSummary",{},(function(e){9999==e.ErrorCode?(t.vendorDashboardSummary=e.Data.Results,t.$hideLoading()):10086!=e.ErrorCode&&t.$message({message:e.Message,type:"error"})})),this.$apiCall("api.Invoice.vendorDashboardStatistic",{page:this.moreReference.page,rowsPerPage:this.moreReference.rowsPerPage},(function(e){9999==e.ErrorCode?(t.tableData=Object.values(e.Data.Results),t.tableData.length&&t.tableData.forEach((function(e){t.$set(e,"dateCode1",Number(e.dateCode)),t.$set(e,"date",e.dateCode.replace(/^(\d{4})(\d{2})(\d{2})$/,"$1-$2-$3"))})),t.tableData=t.tableData.reverse(),t.$hideLoading()):10086!=e.ErrorCode&&t.$message({message:e.Message,type:"error"})}))},getCharts:function(t){var e=this,a=this.$refs.chart;t||(this.statisticDateFrom=this.$moment().subtract(1,"M").format("YYYYMMDD"),this.statisticDateTo=this.$moment().format("YYYYMMDD"),this.statisticDate=[this.statisticDateFrom,this.statisticDateTo]),this.$showLoading();var s=[];this.$apiCall("api.Invoice.vendorDashboardStatistic",{dateFrom:this.statisticDateFrom,dateTo:this.statisticDateTo},(function(t){if(e.$hideLoading(),9999==t.ErrorCode){if(s=Object.values(t.Data.Results),!s.length)return void(e.isShowCart=!1);e.isShowCart=!0,s.forEach((function(t){e.$set(t,"date",t.dateCode.replace(/^(\d{4})(\d{2})(\d{2})$/,"$1-$2-$3"))}));var r=e.$echarts.init(a),i={title:{text:""},tooltip:{trigger:"axis"},legend:{data:[e.$t("dashboard.销售额US$"),e.$t("dashboard.订单数")]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:s.map((function(t){return t.date}))},yAxis:{type:"value"},series:[{name:e.$t("dashboard.销售额US$"),type:"line",stack:e.$t("dashboard.销售额US$"),data:s.map((function(t){return t.amount})),smooth:!0},{name:e.$t("dashboard.订单数"),type:"line",stack:e.$t("dashboard.订单数"),data:s.map((function(t){return t.orderCnt})),smooth:!0}]};r.setOption(i),setTimeout((function(){r.resize()}),200),window.onresize=function(){r.resize()}}else 10086!=t.ErrorCode&&e.$elementMessage(t.Message,"error")}))},changeMail:function(){this.$root.$children[0].changeUserEmail()},saveName:function(){var t=this;this.createdNameDialog.name?(this.createdNameDialog.loading=!0,this.$apiCall("api.User.changeByUser",{name:this.createdNameDialog.name},(function(e){if(9999==e.ErrorCode){t.createdNameDialog.isShow=!1;var a=t.$store.state.userInfo;a.name=t.createdNameDialog.name,localStorage.setItem("userInfo",JSON.stringify(a)),t.$store.commit("setUserInfo",a),t.firstCustomer()}else t.$message({message:e.Message,type:"error"})}))):this.$message({message:this.$t("dashboard.nameEnter"),type:"error"})},gotoCustom:function(t){this.$router.push({name:"myCustom",params:{item:t}})},gotoInvoice:function(t){this.$router.push({name:"allOrders",params:{customerName:t.customerName,id:t.id}})},getLastVendor:function(){var t=this;this.$showLoading(),this.$apiCall("api.Relationship.findByVendor",{last:!0,page:1,rowsPerPage:4},(function(e){t.$hideLoading(),9999==e.ErrorCode?(t.lastVendor=e.Data.Results,t.lastVendor.forEach((function(e){t.$apiCall("api.Relationship.getCntDetail",{relationshipId:e.id},(function(a){9999==a.ErrorCode&&(e.invoiceCnt=a.Data.Results.invoiceCnt,e.totalAmount=a.Data.Results.totalAmount,e.orderCnt=a.Data.Results.orderCnt,e.skuCnt=a.Data.Results.skuCnt,e.offerSkuCnt=a.Data.Results.offerSkuCnt,t.lastVendor=Object(i["a"])(t.lastVendor))}))}))):10086!=e.ErrorCode&&t.$message({message:e.Message,type:"error"})}))},addVendorSaveSuccess:function(){this.$root.$children[0].getCnt(),this.getLastVendor()},openAddVendor:function(){this.addVendorDialog=JSON.parse(this.addVendorDialogDefault),this.addVendorDialog.isShow=!0},firstCustomer:function(){this.openAddVendor()},gotoImport:function(t){this.$router.push({name:"importData",query:{rid:t.id}})}}}),n=o,c=(a("1482"),a("cba8")),l=Object(c["a"])(n,s,r,!1,null,"3de1ed33",null);e["default"]=l.exports},"587b":function(t,e,a){var s=a("7adc"),r=a("b2e7"),i=a("f989"),o=a("753b"),n=a("d1c3").f,c=r(n),l=r([].push),d=function(t){return function(e){var a,r=o(e),n=i(r),d=n.length,u=0,h=[];while(d>u)a=n[u++],s&&!c(r,a)||l(h,t?[a,r[a]]:r[a]);return h}};t.exports={entries:d(!0),values:d(!1)}},"685e":function(t,e,a){var s=a("9277"),r=a("ec89"),i=a("c050"),o=!i((function(t){Array.from(t)}));s({target:"Array",stat:!0,forced:o},{from:r})},"783c":function(t,e,a){"use strict";var s=a("4e99"),r=a("9056"),i=a("8d99"),o=a("7b4c"),n=a("e0bd"),c=a("020d"),l=a("9e41"),d=a("9781"),u=a("2c99"),h=a("d2b3"),m=a("b953"),f=a("e87e");t.exports=function(t,e,a,v){var g=v?2:1,p=t.split("."),b=p[p.length-1],C=s.apply(null,p);if(C){var $=C.prototype;if(!f&&r($,"cause")&&delete $.cause,!a)return C;var D=s("Error"),y=e((function(t,e){var a=d(v?e:t,void 0),s=v?new C(t):new C;return void 0!==a&&i(s,"message",a),m&&i(s,"stack",h(s.stack,2)),this&&o($,this)&&l(s,this,y),arguments.length>g&&u(s,arguments[g]),s}));if(y.prototype=$,"Error"!==b&&(n?n(y,D):c(y,D,{name:!0})),c(y,C),!f)try{$.name!==b&&i($,"name",b),$.constructor=y}catch(_){}return y}}},"84b9":function(t,e,a){"use strict";function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,s=new Array(e);a<e;a++)s[a]=t[a];return s}a.d(e,"a",(function(){return s}))},9781:function(t,e,a){var s=a("3727");t.exports=function(t,e){return void 0===t?arguments.length<2?"":e:s(t)}},"9a9e":function(t,e,a){var s=a("6f9a"),r=a("f5f9");t.exports=function(t,e,a,i){try{return i?e(s(a)[0],a[1]):e(a)}catch(o){r(t,"throw",o)}}},ac4f:function(t,e,a){var s=a("9277"),r=a("587b").values;s({target:"Object",stat:!0},{values:function(t){return r(t)}})},b953:function(t,e,a){var s=a("73d2"),r=a("2516");t.exports=!s((function(){var t=Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",r(1,7)),7!==t.stack)}))},c24b:function(t,e,a){var s=a("9277"),r=a("72ae"),i=a("cd08"),o=a("783c"),n="WebAssembly",c=r[n],l=7!==Error("e",{cause:7}).cause,d=function(t,e){var a={};a[t]=o(t,e,l),s({global:!0,forced:l},a)},u=function(t,e){if(c&&c[t]){var a={};a[t]=o(n+"."+t,e,l),s({target:n,stat:!0,forced:l},a)}};d("Error",(function(t){return function(e){return i(t,this,arguments)}})),d("EvalError",(function(t){return function(e){return i(t,this,arguments)}})),d("RangeError",(function(t){return function(e){return i(t,this,arguments)}})),d("ReferenceError",(function(t){return function(e){return i(t,this,arguments)}})),d("SyntaxError",(function(t){return function(e){return i(t,this,arguments)}})),d("TypeError",(function(t){return function(e){return i(t,this,arguments)}})),d("URIError",(function(t){return function(e){return i(t,this,arguments)}})),u("CompileError",(function(t){return function(e){return i(t,this,arguments)}})),u("LinkError",(function(t){return function(e){return i(t,this,arguments)}})),u("RuntimeError",(function(t){return function(e){return i(t,this,arguments)}}))},ca52:function(t,e,a){"use strict";var s=a("9277"),r=a("72ae"),i=a("b467"),o=a("f4b3"),n=a("be72"),c=a("dd3f"),l=a("191d"),d=a("753b"),u=a("b8af"),h=a("ec39"),m=a("ee76"),f=a("b92c"),v=m("slice"),g=h("species"),p=r.Array,b=Math.max;s({target:"Array",proto:!0,forced:!v},{slice:function(t,e){var a,s,r,h=d(this),m=l(h),v=c(t,m),C=c(void 0===e?m:e,m);if(i(h)&&(a=h.constructor,o(a)&&(a===p||i(a.prototype))?a=void 0:n(a)&&(a=a[g],null===a&&(a=void 0)),a===p||void 0===a))return f(h,v,C);for(s=new(void 0===a?p:a)(b(C-v,0)),r=0;v<C;v++,r++)v in h&&u(s,r,h[v]);return s.length=r,s}})},d2b3:function(t,e,a){var s=a("b2e7"),r=s("".replace),i=function(t){return String(Error(t).stack)}("zxcasd"),o=/\n\s*at [^:]*:[^\n]*/,n=o.test(i);t.exports=function(t,e){if(n&&"string"==typeof t)while(e--)t=r(t,o,"");return t}},ec89:function(t,e,a){"use strict";var s=a("72ae"),r=a("7041"),i=a("7b14"),o=a("27a2"),n=a("9a9e"),c=a("eb5a"),l=a("f4b3"),d=a("191d"),u=a("b8af"),h=a("09f3"),m=a("c868"),f=s.Array;t.exports=function(t){var e=o(t),a=l(this),s=arguments.length,v=s>1?arguments[1]:void 0,g=void 0!==v;g&&(v=r(v,s>2?arguments[2]:void 0));var p,b,C,$,D,y,_=m(e),w=0;if(!_||this==f&&c(_))for(p=d(e),b=a?new this(p):f(p);p>w;w++)y=g?v(e[w],w):e[w],u(b,w,y);else for($=h(e,_),D=$.next,b=a?new this:[];!(C=i(D,$)).done;w++)y=g?n($,v,[C.value,w],!0):C.value,u(b,w,y);return b.length=w,b}},f81c:function(t,e,a){}}]);