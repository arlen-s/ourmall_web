(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pricing"],{8168:function(t,i,e){},"9daa":function(t,i,e){"use strict";e.r(i);var s,a=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"contentpanel dashboard-page"},[e("div",{staticClass:"pagetitle"},[e("div",{staticClass:"left"},[e("div",{staticClass:"title"},[e("i",{staticClass:"el-icon-bank-card"}),e("h2",[t._v(t._s(t.$t("pricing.Pricing")))])])]),e("div",{staticClass:"right"})]),e("div",{staticClass:"pagebody"},[e("el-row",{staticClass:"mg-b-20",attrs:{gutter:15}},[e("el-col",{attrs:{span:24}},[e("el-row",{staticClass:"mg-b-20",attrs:{gutter:30}},[e("el-col",{attrs:{span:8}},[e("div",{staticClass:"price"},[e("div",{staticClass:"price-free tx-center"},[e("p",{staticClass:"price-title"},[t._v(t._s(t.$t("pricing.Basic")))]),e("p",{staticClass:"price-price",staticStyle:{"line-height":"27px"}},[t._v(t._s(t.$t("pricing.Free")))]),t.isOverTimeBefore()?[e("el-button",{staticStyle:{opacity:"0","margin-top":"20px"}},[t._v(t._s(t.$t("pricing.Currentuse")))])]:[e("div",{staticClass:"mg-t-30"},[e("el-button",[t._v(t._s(t.$t("pricing.Currentuse")))])],1),e("p",{staticClass:"mg-t-15",staticStyle:{opacity:"0"}},[e("el-link",{attrs:{underline:!1,type:"primary"}},[t._v("主要链接")])],1)]],2),e("div",{staticClass:"price-detail",staticStyle:{padding:"20px"}},[e("p",[e("i",{staticClass:"el-icon-circle-check"}),t._v(" "+t._s(t.$t("pricing.unlimitedmonthly"))+" ")]),e("p",[e("i",{staticClass:"el-icon-circle-check"}),t._v(" "+t._s(t.$t("pricing.Unlimited"))+" ")]),e("p",[e("i",{staticClass:"el-icon-circle-check"}),t._v(" "+t._s(t.$t("pricing.Export"))+" ")]),e("p",[e("i",{staticClass:"el-icon-circle-check"}),t._v(" "+t._s(t.$t("pricing.markorder"))+" ")])])])]),e("el-col",{attrs:{span:15}},[e("div",{staticClass:"price pro-price"},[e("div",{staticClass:"price-free price-pro tx-center"},[e("div",{staticClass:"star"},[e("i",{staticClass:"el-icon-star-on"}),t._v(" "+t._s(t.$t("pricing.Recommend"))+" ")]),e("p",{staticClass:"price-title"},[t._v(t._s(t.$t("pricing.Professional")))]),e("div",[e("span",{staticClass:"price-price"},[t._v("US$ 19")]),e("span",[t._v(" / "+t._s(t.$t("pricing.month")))])]),t.isOverTimeBefore()?[e("el-button",{staticStyle:{"margin-top":"20px"}},[t._v(t._s(t.$t("pricing.Currentuse"))+" ("+t._s(t.$t("pricing.Expiration"))+"： "+t._s(t.$moment(1e3*t.userInfo.overTime).format("YYYY-MM-DD"))+")")]),e("el-button",{attrs:{type:"primary"},on:{click:t.pricingOpen}},[t._v(t._s(t.$t("pricing.Renewal")))])]:[e("div",{staticClass:"mg-t-30"},[e("el-button",{attrs:{type:"primary"},on:{click:t.pricingOpen}},[t._v(t._s(t.$t("pricing.Upgrade")))])],1),e("p",{staticClass:"mg-t-15"},[e("el-link",{attrs:{underline:!1,type:"primary"},on:{click:t.pricingOpen}},[t._v(t._s(t.$t("pricing.havediscount")))])],1)]],2),e("div",{staticClass:"price-detail price-pro-detail"},[e("el-row",[e("el-col",{staticStyle:{"padding-right":"0"},attrs:{span:12}},[e("h4",[t._v(t._s(t.$t("pricing.basicedition")))]),t._l(t.carouselItemsText,(function(i,s){return e("p",{key:s,class:t.activeIndex==s?"has-hover":"",on:{click:function(i){return t.setActiveItem(s)}}},[e("i",{staticClass:"el-icon-circle-check"}),t._v(" "+t._s(i.title)+" ")])}))],2),e("el-col",{staticStyle:{background:"rgba(92,106,196,.12)"},attrs:{span:12}},[e("el-carousel",{ref:"pricingCarousel",attrs:{direction:"vertical",interval:1e4,autoplay:t.autoplay,loop:!0,"indicator-position":"none"},on:{change:function(i){return t.handleChange()}}},t._l(t.carouselItems,(function(i,s){return e("el-carousel-item",{key:s},[e("h4",{staticClass:"medium"},[t._v(t._s(i.title))]),e("p",[t._v(t._s(i.content))]),e("img",{attrs:{src:i.img,width:"100%"}})])})),1)],1)],1)],1)])])],1)],1)],1)],1),e("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:t.pricingDialog.loading,expression:"pricingDialog.loading"}],attrs:{visible:t.pricingDialog.isShow,width:"400px","show-close":1==t.pricingDialog.status,"close-on-click-modal":!1,"close-on-press-escape":!1,"append-to-body":""},on:{"update:visible":function(i){return t.$set(t.pricingDialog,"isShow",i)}}},[1==t.pricingDialog.status?[e("div",{staticClass:"tx-center dialog-content"},[e("div",{staticClass:"grid-top"},[e("i",{staticClass:"fa fa-diamond"})]),e("h4",[t._v(t._s(t.$t("pricing.Professional")))]),e("div",{staticClass:"mg-b-20"},[e("span",{staticClass:"price-price"},[t._v(" US$ 19 ")]),e("span",[t._v(" / "+t._s(t.$t("pricing.month")))])]),e("el-divider"),e("div",{staticClass:"discount"},[t.userInfo.overTime>0?e("div",{staticClass:"d-flex"},[e("span",{staticStyle:{width:"130px","text-align":"right",display:"inline-block"}},[t._v(t._s(t.$t("pricing.Expiration"))+"：")]),e("span",[t._v(t._s(t.$moment(1e3*t.userInfo.overTime).format("YYYY-MM-DD")))])]):t._e(),e("div",{staticClass:"d-flex mg-t-10"},[e("span",{staticStyle:{width:"130px","text-align":"right",display:"inline-block"}},[t._v(t._s(t.$t("pricing.Renewalmonth"))+"：")]),e("el-input-number",{attrs:{min:1,step:1,"step-strictly":"",size:"mini"},nativeOn:{focus:function(i){return t.handleChange()}},model:{value:t.months,callback:function(i){t.months=i},expression:"months"}}),e("span",{staticStyle:{"margin-left":"10px"}},[t._v("个月")])],1),e("div",{staticClass:"d-flex mg-t-10"},[e("span",{staticStyle:{width:"130px","text-align":"right",display:"inline-block"}},[t._v(t._s(t.$t("pricing.Validto"))+"：")]),e("span",[t._v(t._s(t.overTime?t.$moment(1e3*t.overTime).format("YYYY-MM-DD"):"-"))])]),e("div",{staticClass:"d-flex mg-t-10"},[e("span",{staticStyle:{width:"130px","text-align":"right",display:"inline-block"}},[t._v(t._s(t.$t("pricing.Amount"))+"：")]),e("span",{staticClass:"tx-bold"},[t._v("US$ "+t._s(19*t.months))])]),e("div",{staticClass:"code d-flex mg-t-10"},[e("span",{staticStyle:{width:"130px","text-align":"right",display:"inline-block"}},[t._v(t._s(t.$t("pricing.Discount"))+"：")]),e("el-input",{staticStyle:{width:"200px",margin:"0"},attrs:{size:"mini",placeholder:t.$t("pricing.fillcode")},nativeOn:{keyup:[function(i){return t.getCode(2)},function(i){return!i.type.indexOf("key")&&t._k(i.keyCode,"enter",13,i.key,"Enter")?null:t.getCode(2)}]},model:{value:t.code,callback:function(i){t.code=i},expression:"code"}})],1),t.codeFail?e("div",{staticClass:"d-flex mg-t-5"},[e("span",{staticStyle:{width:"130px","text-align":"right",display:"inline-block"}}),e("p",{staticClass:"tx-danger mg-b-0",staticStyle:{"margin-bottom":"0"}},[t._v(t._s(t.codeFail))])]):t._e(),e("div",{staticClass:"d-flex mg-t-10"},[e("span",{staticStyle:{width:"130px","text-align":"right",display:"inline-block"}},[t._v(t._s(t.$t("pricing.afterdiscount"))+"：")]),t.code&&t.discount?e("span",{staticClass:"tx-bold"},[t._v("US$ "),t.months<=Number(t.discount.discount)?e("span",[t._v("0")]):t._e(),t.months>Number(t.discount.discount)?e("span",[t._v(t._s((t.months-Number(t.discount.discount))*Number(t.discount.price)))]):t._e()]):(t.discount,e("span",{staticClass:"tx-bold"},[t._v("US$ "+t._s(19*t.months))]))])])],1),e("el-divider"),e("div",{staticClass:"dialog-footer d-flex justify-content-center",attrs:{slot:"footer"},slot:"footer"},[t.code&&!t.codeFail?[t.months<=Number(t.discount.discount)?e("el-button",{attrs:{type:"primary"},on:{click:function(i){return t.getCode(1)}}},[t._v(t._s(t.$t("pricing.Upgrade")))]):(t.months-Number(t.discount.discount))*Number(t.discount.price)>0?e("el-button",{attrs:{type:"primary"},on:{click:function(i){return t.gotoPay()}}},[t._v(t._s(t.$t("pricing.Pay")))]):t._e()]:[e("el-button",{attrs:{type:"primary"},on:{click:function(i){return t.gotoPay()}}},[t._v(t._s(t.$t("pricing.Pay")))])]],2)]:e("div",{staticClass:"mg-b-30 tx-center"},[t._v("支付进行中。如果遇到问题请"),e("el-link",{attrs:{type:"primary"},nativeOn:{click:function(i){return t.resetPage.apply(null,arguments)}}},[t._v("重试")])],1)],2)],1)},n=[],o=e("ade3"),r=(e("a9e3"),e("e9c4"),{data:function(){return{autoplay:!0,carouselItems:[{title:this.$t("pricing.carouselTitle1"),content:this.$t("pricing.carouselText1"),img:"images/pricing1.jpg"},{title:this.$t("pricing.carouselTitle2"),content:this.$t("pricing.carouselText2"),img:"images/pricing2.jpg"},{title:this.$t("pricing.carouselTitle3"),content:this.$t("pricing.carouselText3"),img:"images/pricing3.jpg"},{title:this.$t("pricing.carouselTitle4"),content:this.$t("pricing.carouselText4"),img:"images/pricing3.jpg"}],carouselItemsText:[{title:this.$t("pricing.carouselTitle1")},{title:this.$t("pricing.carouselTitle2")},{title:this.$t("pricing.carouselTitle3")},{title:this.$t("pricing.carouselTitle4")}],activeIndex:0,pricingDialog:{loading:!1,isShow:!1,status:1},code:"",codeFail:"",discount:0,months:1,userInfo:localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):"",payTime:0,overTime:""}},components:{},mounted:function(){this.getOverTime()},beforeDestroy:function(){clearInterval(this.payTime)},watch:{code:{handler:function(t,i){this.code=t.toUpperCase()},deep:!0},months:{handler:function(t,i){this.getOverTime(),t.length&&(isNaN(t)||parseInt(t)<0?this.months=1:this.months=parseInt(Number(t)))},deep:!0}},methods:(s={getOverTime:function(){var t=this;this.$apiCall("api.User.getTime",{vipCount:this.months},(function(i){9999==i.ErrorCode?t.overTime=i.Data.Results.overTime:t.$elementMessage(i.Message,"error")}))},resetPage:function(){this.pricingDialog.loading=!0,this.$apiCall("api.User.checkLoginStatus",{},(function(t){localStorage.setItem("apiUserToken",t.Data.Results.apiUserToken),localStorage.setItem("apiUserId",t.Data.Results.id),localStorage.setItem("userInfo",JSON.stringify(t.Data.Results)),location.reload()}))},handleChange:function(){this.months.length&&(isNaN(this.months)||parseInt(this.months)<0?this.months=1:this.months=parseInt(Number(this.months)))},gotoPay:function(){var t=this,i=window.open(void 0,"pricingToPay"),e={isInviteCode:this.code&&!this.codeFail?this.code:"",vipCount:this.months};this.pricingDialog.status=2,this.$Burying({object:"9003"}),this.$apiCall("api.User.goToPay",e,(function(e){9999==e.ErrorCode?(i.location.href=e.Data.Results,t.payTime=setInterval((function(){t.$apiCall("api.User.getPayStatus",{},(function(e){if(9999==e.ErrorCode){var s=e.Data.Results.status;1!=s&&clearInterval(t.payTime),2==s?(t.pricingDialog.isShow=!1,t.pricingDialog.status=1,t.$Burying({object:"9004"}),t.$elementMessage("支付成功","success"),i.close(),setTimeout((function(){t.$apiCall("api.User.checkLoginStatus",{},(function(t){localStorage.setItem("apiUserToken",t.Data.Results.apiUserToken),localStorage.setItem("apiUserId",t.Data.Results.id),localStorage.setItem("userInfo",JSON.stringify(t.Data.Results)),location.reload()}))}),2e3)):3==s&&(t.pricingDialog.status=1,t.$Burying({object:"9005"}),t.$elementMessage(e.Data.Results.message,"error"),i.close())}}))}),3e3)):t.$elementMessage(e.Message,"error")}))},getCode:function(t){var i=this,e=500,s={code:this.code};this.timer&&clearTimeout(this.timer),1==t&&(e=0,s.isConfirm=!0),this.timer=setTimeout((function(){i.codeFail="",i.discount="",i.$showLoading(),i.$apiCall("api.User.getVip",s,(function(e){if(i.$hideLoading(),9999==e.ErrorCode)if(i.discount=e.Data.Results,1==t){var s=JSON.parse(JSON.stringify(i.$store.state.userInfo));s.overTime=Number(e.Data.Results.overTime),localStorage.setItem("userInfo",JSON.stringify(s)),i.$store.commit("setUserInfo",s),i.userInfo=JSON.parse(localStorage.getItem("userInfo")),i.pricingDialog.isShow=!1,i.$elementMessage(i.$t("pricing.successUpgrade"),"success"),i.$apiCall("api.User.checkLoginStatus",{},(function(t){localStorage.setItem("apiUserToken",t.Data.Results.apiUserToken),localStorage.setItem("apiUserId",t.Data.Results.id),localStorage.setItem("userInfo",JSON.stringify(t.Data.Results)),location.reload()}))}else i.months<=Number(i.discount.discount)&&(i.months=Number(i.discount.discount));else i.codeFail=e.Message}))}),e)},pricingOpen:function(){this.codeFail="",this.discount="",this.code="",this.pricingDialog.loading=!1,this.pricingDialog.status=1,this.pricingDialog.isShow=!0},isOverTimeBefore:function(){var t=this.$moment().unix();return 0!=this.userInfo.overTime&&this.$moment(t).isBefore(Number(this.userInfo.overTime),"second")}},Object(o["a"])(s,"handleChange",(function(){this.activeIndex=this.$refs.pricingCarousel.activeIndex})),Object(o["a"])(s,"setActiveItem",(function(t){this.autoplay=!1,this.$refs.pricingCarousel.setActiveItem(t)})),s)}),c=r,l=(e("a71d"),e("2877")),p=Object(l["a"])(c,a,n,!1,null,"77c6e293",null);i["default"]=p.exports},a71d:function(t,i,e){"use strict";e("8168")}}]);