(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["storeDesignCover"],{"0fb5":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"contentpanel transaction-page"},[e("div",{ref:"pageHeader",staticClass:"pagetitle"},[e("div",{staticClass:"left"},[e("div",{staticClass:"title"},[e("i",{staticClass:"el-icon-s-shop"}),e("h2",[t._v(t._s(t.$t("storeSetting.店铺装修")))])])]),e("div",{staticClass:"right"})]),e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"pagebody"},[e("el-row",{staticClass:"mg-b-20",attrs:{gutter:15}},[e("el-col",{attrs:{span:24}},[e("el-card",[e("div",{staticClass:"title-t d-flex"},[e("div",[t._v(t._s(t.$t("storeSetting.当前店铺")))]),e("div",[e("el-button",{attrs:{type:"primary",size:"medium"},on:{click:t.goToMyStore}},[t._v(t._s(t.$t("storeSetting.查看店铺"))),e("i",{staticClass:"el-icon-view el-icon--right"})]),e("el-button",{attrs:{type:"primary",size:"medium",disabled:!t.$isRole(t.$route.meta.roleWrite)},on:{click:t.goSetting}},[t._v(t._s(t.$t("storeSetting.店铺装修"))+" ")])],1)]),e("div",{staticClass:"tip"},[t._v(t._s(t.$t("storeSetting.这是当前你的站长所看到的店铺样式")))]),e("div",{staticClass:"windowBox"},[e("div",{staticClass:"inner"},[t.setting?e("div",{staticClass:"content"},[e("Main",{attrs:{setting:t.setting,code:t.code}})],1):t._e()])])])],1)],1)],1),e("el-backtop",{staticClass:"goto-top",attrs:{target:".main-scroll  .el-scrollbar__wrap",right:20,bottom:60}})],1)},o=[],a=(s("14d9"),s("e948")),n={data(){return{setting:null,loading:!1,code:{header:[],footer:[]}}},created(){this.$apiCall("api.VendorShop.getShopConfig",{},t=>{9999==t.ErrorCode&&0!==t.Data.Results.length&&(this.$store.commit("getShopConfig",t.Data.Results),this.setting=JSON.parse(JSON.stringify(this.$store.state.configJson)))}),this.getConfig()},methods:{handleCode(t){console.log(t),t.forEach(t=>{t.pages.includes("首页")&&("底部"==t.position&&this.code.footer.push(t.desc),"顶部"==t.position&&this.code.header.push(t.desc))})},goToMyStore(){window.open(`//${location.host.indexOf("sandbox")>-1?"sandbox":""}${this.$store.state.userInfo.shop.name}.myourmall.com`)},goSetting(){this.$router.push("/store-setting")},getConfig(){this.$apiCall("api.VendorShop.getShopConfig",{},t=>{9999==t.ErrorCode?t.Data.Results.header?(this.$store.commit("getStoreComponent",t.Data.Results),this.setting=t.Data.Results,this.handleCode(t.Data.Results.customCode)):this.setting=JSON.parse(JSON.stringify(this.$store.state.configJson)):this.$message({message:t.Message,type:"error"})})}},components:{Main:a["a"]}},r=n,d=(s("4056"),s("2877")),l=Object(d["a"])(r,i,o,!1,null,"46072f51",null);e["default"]=l.exports},4056:function(t,e,s){"use strict";s("7d16")},"7d16":function(t,e,s){},e948:function(t,e,s){"use strict";var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"designHome"},[t.code&&t.code.header&&t.code.header.length>0&&"storeDesign"!=this.$route.name?t._l(t.code.header,(function(s,i){return e("div",{key:i,staticStyle:{overflow:"hidden"},domProps:{innerHTML:t._s(s)}})})):t._e(),e("div",{staticStyle:{position:"relative"}},[e("DHeader",{attrs:{data:t.setting.header,headerMenu:t.headerMenu}}),e("demoBody",{attrs:{data:t.setting,header:t.setting.header}}),e("Footer",{attrs:{setting:t.setting.footer}})],1),t.code&&t.code.footer&&t.code.footer.length>0&&"storeDesign"!=this.$route.name?t._l(t.code.footer,(function(s,i){return e("div",{key:i,staticStyle:{overflow:"hidden"},domProps:{innerHTML:t._s(s)}})})):t._e()],2)},o=[],a=s("826e"),n=s("db46"),r=s("8c3c"),d={props:["setting","code"],components:{DHeader:a["a"],Footer:n["a"],demoBody:r["a"]},data(){return{headerMenu:[]}},watch:{"setting.header.activeMenu":{handler(){this.getMenu()},deep:!0,immediate:!0}},methods:{getMenu(){this.setting.header.activeMenu&&this.setting.menu.forEach(t=>{t.id==this.setting.header.activeMenu&&(this.headerMenu=t)})}}},l=d,c=s("2877"),g=Object(c["a"])(l,i,o,!1,null,null,null);e["a"]=g.exports}}]);