(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["ordersManagement"],{"0387":function(t,e,a){},"07ac":function(t,e,a){var r=a("23e7"),i=a("6f53").values;r({target:"Object",stat:!0},{values:function(t){return i(t)}})},"0967":function(t,e,a){"use strict";a("1a2e")},"0c47":function(t,e,a){var r=a("da84"),i=a("d44e");i(r.JSON,"JSON",!0)},"13d5":function(t,e,a){"use strict";var r=a("23e7"),i=a("d58f").left,o=a("a640"),s=a("2d00"),n=a("605d"),l=o("reduce"),c=!n&&s>79&&s<83;r({target:"Array",proto:!0,forced:!l||c},{reduce:function(t){var e=arguments.length;return i(this,t,e,e>1?arguments[1]:void 0)}})},"1a2e":function(t,e,a){},"1d37":function(t,e,a){},"1e07":function(t,e,a){"use strict";a("5d2a")},"23dc":function(t,e,a){var r=a("d44e");r(Math,"Math",!0)},"260b":function(t,e,a){},3410:function(t,e,a){var r=a("23e7"),i=a("d039"),o=a("7b0b"),s=a("e163"),n=a("e177"),l=i((function(){s(1)}));r({target:"Object",stat:!0,forced:l,sham:!n},{getPrototypeOf:function(t){return s(o(t))}})},"495a":function(t,e,a){},"49c5":function(t,e,a){},"4c55":function(t,e,a){"use strict";a("e3b9")},"4d2f":function(t,e,a){"use strict";a("bbe4")},5538:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{visible:t.authData.isShow,title:t.$t("orders.mabang"),width:"800px"},on:{"update:visible":function(e){return t.$set(t.authData,"isShow",e)}}},[a("el-divider"),a("div",{staticClass:"d-body",staticStyle:{margin:"20px"}},[a("div",[a("div",{staticClass:"mg-y-20"},[a("span",{staticStyle:{margin:"0 16px",display:"inline-block"}},[t._v(t._s(t.$t("invoice.tokenerp")))]),t.isStaff?[a("span",{staticClass:"mg-r-10"},[t._v(" "+t._s(t.authData.staffData&&t.authData.staffData.secretKey?t.authData.staffData.secretKey:"---")+" ")]),t.authData.staffData&&t.authData.staffData.secretKey?a("el-button",{attrs:{size:"mini",type:"text"}},[a("i",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.authData.staffData.secretKey,expression:"authData.staffData.secretKey",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}],staticClass:"el-icon-document-copy"})]):t._e()]:[a("span",{staticClass:"mg-r-10"},[t._v(t._s(t.$store.state.userInfo&&t.$store.state.userInfo.secretKey?t.$store.state.userInfo.secretKey:"---"))]),t.$store.state.userInfo&&t.$store.state.userInfo.secretKey?a("el-button",{attrs:{size:"mini",type:"text"}},[a("i",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.$store.state.userInfo.secretKey,expression:"$store.state.userInfo.secretKey",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}],staticClass:"el-icon-document-copy"})]):t._e()],a("el-button",{staticStyle:{"margin-left":"30px"},attrs:{size:"mini",type:"text"},on:{click:t.openSecretKey}},[t._v(" "+t._s(t.$t("invoice.usertoken"))+" ")])],2),a("el-alert",{attrs:{title:t.isStaff?t.$t("invoice.将员工令牌授权到马帮ERP之前"):t.$t("invoice.如果已经在erp授权了员工令牌"),type:"warning",closable:!1}})],1)]),a("el-divider"),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.authData.isShow=!1}}},[t._v("取消")])],1)],1)},i=[],o=(a("4de4"),a("d3b7"),a("99af"),a("a9e3"),{props:["authData","isStaff"],data:function(){return{shopName:"",invoiceInfo:{}}},methods:{openSecretKey:function(){this.$emit("openSecretKey")},querySearch:function(t,e){var a=this.authData.shopData,r=t?a.filter(this.createFilter(t)):a;e(r)},createFilter:function(t){return function(e){return 0===e.value.toLowerCase().indexOf(t.toLowerCase())}},handleSelect:function(t){this.shopName=t.value},onCopy:function(t){this.$elementMessage(this.$t("successfullyToClipboard"),"success")},onError:function(t){this.$elementMessage(this.$t("failedToClipboard"),"error")},confirmMoneyFn:function(){var t=this;this.tempCode="".concat(this.invoiceInfo.id).concat(Date.parse(new Date)),this.$apiCall("api.Invoice.setSyncToErp",{invoiceId:this.invoiceInfo.id,shopName:this.shopName,tempCode:this.tempCode},(function(t){})),this.DialogLoadingCnt.loadingCnt=0,this.DialogLoadingCnt.isShow=!0,this.getInvocieTime=setInterval((function(){t.$apiCall("api.Invoice.checkPriceResult",{tempCode:t.tempCode,type:4},(function(e){if("9999"==e.ErrorCode){var a=e.Data.Results;Number(a.count)&&Number(a.total)&&(t.DialogLoadingCnt.loadingCnt=a.count/a.total),1!=a.status&&(t.tempCode="",clearInterval(t.getInvocieTime),t.DialogLoadingCnt.isShow=!1,3==a.status&&t.$elementMessage(a.message,"error"),2==a.status&&(t.$elementMessage(t.$t("invoice.storeSet"),"success"),t.confirmMoneyOpen=!1,t.getData()))}}))}),1e3)}}}),s=o,n=a("2877"),l=Object(n["a"])(s,r,i,!1,null,"63bb7ade",null);e["a"]=l.exports},"5d2a":function(t,e,a){},"605d":function(t,e,a){var r=a("c6b6"),i=a("da84");t.exports="process"==r(i.process)},"69a3":function(t,e,a){t.exports=a.p+"img/secretKey2.9602a74a.jpg"},"6f3a":function(t,e,a){},"6f53":function(t,e,a){var r=a("83ab"),i=a("e330"),o=a("df75"),s=a("fc6a"),n=a("d1e7").f,l=i(n),c=i([].push),d=function(t){return function(e){var a,i=s(e),n=o(i),d=n.length,u=0,p=[];while(d>u)a=n[u++],r&&!l(i,a)||c(p,t?[a,i[a]]:i[a]);return p}};t.exports={entries:d(!0),values:d(!1)}},"84bf":function(t,e,a){"use strict";a("1d37")},"8c6c":function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{visible:t.relateData.isShow,title:t.$t("orders.associated"),width:"800px"},on:{"update:visible":function(e){return t.$set(t.relateData,"isShow",e)},open:t.open}},[a("el-divider"),a("div",{staticClass:"d-body",staticStyle:{margin:"20px"}},[a("div",{staticClass:"d-flex",staticStyle:{"margin-bottom":"20px"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:t.$t("orders.spuHolder"),clearable:""},on:{clear:function(e){return t.clearFilter("spu")}},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.filterItem.apply(null,arguments)}},model:{value:t.spu,callback:function(e){t.spu=e},expression:"spu"}}),a("el-input",{staticStyle:{width:"200px",margin:"0 20px"},attrs:{placeholder:t.$t("orders.skuHolder"),clearable:""},on:{clear:function(e){return t.clearFilter("sku")}},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.filterItem.apply(null,arguments)}},model:{value:t.sku,callback:function(e){t.sku=e},expression:"sku"}}),a("el-input",{staticStyle:{width:"200px","margin-right":"20px"},attrs:{placeholder:t.$t("orders.nameHolder"),clearable:""},on:{clear:function(e){return t.clearFilter("name")}},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.filterItem.apply(null,arguments)}},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),a("el-button",{attrs:{type:"primary"},on:{click:t.filterItem}},[t._v(t._s(t.$t("orders.filter")))])],1),a("el-table",{staticClass:"no-hover",staticStyle:{width:"100%"},attrs:{stripe:"",data:t.list}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-table",{staticStyle:{width:"100%"},attrs:{stripe:"","show-header":!1,data:e.row.stocks}},[a("el-table-column",{attrs:{label:t.$t("orders.select"),width:"55"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-radio",{attrs:{label:e.row.sku+"||"+e.row.id},model:{value:t.tableRadio,callback:function(e){t.tableRadio=e},expression:"tableRadio"}},[a("i")])]}}],null,!0)}),a("el-table-column",{attrs:{label:t.$t("orders.productinfo")},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"d-flex"},[a("img",{attrs:{src:e.row.propertyImage,width:"60",height:"60"}}),a("div",{staticClass:"mg-l-20"},[a("p",[t._v(t._s(e.row.name))]),a("p",[t._v("SKU: "+t._s(e.row.sku))])])])]}}],null,!0)})],1)]}}])}),a("el-table-column",{attrs:{label:t.$t("orders.productinfo")},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"d-flex"},[a("img",{attrs:{src:e.row.imgUrl,width:"60",height:"60"}}),a("div",{staticClass:"mg-l-20"},[a("p",[t._v(t._s(e.row.name))]),a("p",[t._v("SPU: "+t._s(e.row.sku))])])])]}}])})],1)],1),a("div",{staticClass:"d-flex",staticStyle:{"justify-content":"center",margin:"20px"}},[a("el-pagination",{attrs:{"current-page":t.page,background:!0,layout:"total, prev, pager, next",total:Number(t.total)},on:{"current-change":t.toPage}})],1),a("el-divider"),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.relateData.isShow=!1}}},[t._v(t._s(t.$t("orders.cancel")))]),a("el-button",{attrs:{type:"primary"},on:{click:t.relateFn}},[t._v(t._s(t.$t("orders.confirm")))])],1)],1)},i=[],o=(a("b0c0"),a("a9e3"),a("d3b7"),a("159b"),a("ac1f"),a("1276"),{props:["relateData"],data:function(){return{tableRadio:"",page:1,rowsPerPage:10,total:0,totalPage:0,items:[],list:[],sku:"",spu:"",name:"",dealRelation:1}},methods:{filterItem:function(){this.toPage(1)},clearFilter:function(t){"sku"==t?this.sku="":"spu"==t&&(this.spu=""),this.name="",this.toPage(1)},open:function(){this.sku="",this.spu="",this.name="",this.page=1,this.tableRadio="",this.total=Number(this.relateData.Pagination.totalCount),this.totalPage=Number(this.relateData.Pagination.totalPage),this.items=this.relateData.items,this.list=this.relateData.list,$(".el-dialog__body").scrollTop(0)},toPage:function(t){var e=this;this.page=t,this.$showLoading(),this.$apiCall("api.VendorShop.vendorFindProducts",{page:this.page,rowsPerPage:10,status:1,sku:this.sku,spu:this.spu,name:this.name},(function(t){"9999"==t.ErrorCode?(e.tableRadio="",e.total=Number(t.Data.Pagination.totalCount),e.totalPage=Number(t.Data.Pagination.totalPage),e.items=[],e.list=[],t.Data.Results.products.forEach((function(t){t.stocks&&t.stocks.length&&t.stocks.forEach((function(a){e.$set(a,"name",t.name),e.items.push(a)})),e.list.push(t)})),$(".el-dialog__body").scrollTop(0)):e.$elementMessage(t.Message,"error"),e.$hideLoading()}))},relateFn:function(){if(this.tableRadio){var t=this.tableRadio.split("||");this.$emit("relateFn",t[0])}else this.$elementMessage("Please check a SKU first","error")},clickChange:function(t,e){}}}),s=o,n=(a("e667"),a("84bf"),a("2877")),l=Object(n["a"])(s,r,i,!1,null,"6ba4a668",null);e["a"]=l.exports},"8e3e":function(t,e,a){"use strict";a("0387")},"944a":function(t,e,a){var r=a("d066"),i=a("746f"),o=a("d44e");i("toStringTag"),o(r("Symbol"),"Symbol")},"9c0c":function(t,e,a){},a4ce:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"contentpanel my-custom-page"},[r("div",{ref:"pageHeader",staticClass:"pagetitle"},[r("div",{staticClass:"left"},[r("div",{staticClass:"title"},[r("i",{staticClass:"el-icon-s-order"}),r("h2",[t._v(t._s(t.$t("orders.title")))])])]),r("div",{staticClass:"right"},[2==t.status&&3==t.activeName?[r("el-button",{attrs:{type:"primary",disabled:!t.$isRole("invoiceWaitDeliverEdit")},on:{click:t.openImport}},[t._v(t._s(t.$t("orders.shippinginformation")))]),r("el-button",{attrs:{type:"primary",disabled:!t.$isRole("invoiceWaitDeliverEdit")},on:{click:t.openAuth}},[t._v(t._s(t.$t("orders.authorize")))])]:t._e(),2==t.status&&1==t.activeName?[r("el-button",{attrs:{type:"primary",disabled:!t.$isRole("invoiceWaitOfferEdit")},on:{click:t.openCreate}},[t._v(t._s(t.$t("orders.创建订单")))])]:t._e(),2!=t.status||2!=t.activeName?[r("el-button",{attrs:{type:"primary"},on:{click:t.exportOrder}},[t._v(t._s(t.$t("orders.导出订单")))])]:t._e(),311==t.status?[r("el-button",{attrs:{type:"primary",disabled:!t.$isRole("invoiceWaitPayEdit")},on:{click:t.splitOrder}},[t._v(t._s(t.$t("orders.拆分订单")))])]:t._e(),15==t.status?[r("el-button",{attrs:{type:"primary",disabled:!t.$isRole("invoiceWaitPayEdit")},on:{click:t.batchWareHouse}},[t._v(t._s(t.$t("orders.批量关联仓库")))])]:t._e()],2)]),r("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"pagebody"},[2==t.status&&3==t.activeName&&148982!=t.vendorId&&146428!=t.vendorId&&144875!=t.vendorId&&144843!=t.vendorId&&143779!=t.vendorId&&143654!=t.vendorId&&140694!=t.vendorId&&74!=t.vendorId?r("el-row",{staticClass:"mg-b-20",attrs:{gutter:15,type:"flex"}},[r("el-col",{attrs:{span:2}},[r("el-button",{on:{click:function(e){return t.handleTypeOrder(1)}}},[t._v(t._s(t.$t("orders.批发单"))+"("+t._s(t.batchNum)+")")])],1),r("el-col",{attrs:{span:2}},[r("el-button",{on:{click:function(e){return t.handleTypeOrder(2)}}},[t._v(t._s(t.$t("orders.自提单"))+"("+t._s(t.offlineNum)+")")])],1)],1):t._e(),r("el-row",{staticClass:"mg-b-20",attrs:{gutter:15}},[r("el-col",{attrs:{span:24}},[r("el-card",[r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:24}},[r("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[r("div",{ref:"pageFilter",staticClass:"page-filter"},[r("el-form",{attrs:{inline:!0,size:"mini"}},[2==t.status&&2==t.activeName?[r("el-form-item",[r("el-input",{attrs:{placeholder:t.$t("orders.paymentCode"),clearable:""},on:{clear:function(e){return t.clearFilter("sysCode")}},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.filterItem.apply(null,arguments)}},model:{value:t.filterParams.sysCode,callback:function(e){t.$set(t.filterParams,"sysCode",e)},expression:"filterParams.sysCode"}})],1),r("el-form-item",{attrs:{label:t.$t("orders.paymentDate")}},[r("el-date-picker",{key:"date2",attrs:{"value-format":"yyyy-MM-dd",type:"daterange",align:"right","unlink-panels":"","start-placeholder":"Start","end-placeholder":"End"},on:{clear:function(e){return t.clearFilter("date2")},change:t.dateChange2},model:{value:t.filterParams.date2,callback:function(e){t.$set(t.filterParams,"date2",e)},expression:"filterParams.date2"}})],1)]:[r("el-form-item",[r("el-input",{attrs:{placeholder:t.$t("orders.third"),clearable:""},on:{clear:function(e){return t.clearFilter("codeName")}},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.filterItem.apply(null,arguments)}},model:{value:t.filterParams.codeName,callback:function(e){t.$set(t.filterParams,"codeName",e)},expression:"filterParams.codeName"}})],1),r("el-form-item",[r("el-input",{attrs:{placeholder:t.$t("orders.orderID"),clearable:""},on:{clear:function(e){return t.clearFilter("orderId")}},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.filterItem.apply(null,arguments)}},model:{value:t.filterParams.orderId,callback:function(e){t.$set(t.filterParams,"orderId",e)},expression:"filterParams.orderId"}})],1),r("el-form-item",[r("el-input",{attrs:{placeholder:t.$t("orders.receiver"),clearable:""},on:{clear:function(e){return t.clearFilter("receiverName")}},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.filterItem.apply(null,arguments)}},model:{value:t.filterParams.receiverName,callback:function(e){t.$set(t.filterParams,"receiverName",e)},expression:"filterParams.receiverName"}})],1),148982!=t.vendorId&&146428!=t.vendorId&&144875!=t.vendorId&&144843!=t.vendorId&&143779!=t.vendorId&&143654!=t.vendorId&&140694!=t.vendorId&&74!=t.vendorId?r("el-table-column",{attrs:{label:t.$t("transaction.仓库")},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",[t._v(t._s(e.row.warehouseName||"--"))])]}}],null,!1,605806532)}):t._e(),r("el-form-item",{attrs:{label:t.$t("orders.verdorName")+":"}},[r("el-select",{attrs:{filterable:"",remote:"",placeholder:"all",clearable:""},on:{change:t.filterItem,clear:function(e){return t.clearFilter("relationshipId")}},model:{value:t.filterParams.relationshipId,callback:function(e){t.$set(t.filterParams,"relationshipId",e)},expression:"filterParams.relationshipId"}},t._l(t.vendorList,(function(t){return r("el-option",{key:t.id,attrs:{label:t.customerName,value:t.id}})})),1)],1),r("el-form-item",{attrs:{label:t.$t("orders.storeName")+":"}},[r("el-select",{attrs:{filterable:"",remote:"",placeholder:"all",clearable:""},on:{change:t.filterItem,clear:function(e){return t.clearFilter("accountIds")}},model:{value:t.filterParams.accountIds,callback:function(e){t.$set(t.filterParams,"accountIds",e)},expression:"filterParams.accountIds"}},t._l(t.storeList,(function(t){return r("el-option",{key:t.id,attrs:{label:t.shopName,value:t.id}})})),1)],1),6==t.status?[r("el-form-item",[r("el-input",{attrs:{placeholder:t.$t("orders.paymentCode"),clearable:""},on:{clear:function(e){return t.clearFilter("sysCode")}},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.filterItem.apply(null,arguments)}},model:{value:t.filterParams.sysCode,callback:function(e){t.$set(t.filterParams,"sysCode",e)},expression:"filterParams.sysCode"}})],1),6!=t.status?r("el-form-item",{attrs:{label:t.$t("orders.paymentDate")}},[r("el-date-picker",{key:"date2",attrs:{"value-format":"yyyy-MM-dd",type:"daterange",align:"right","unlink-panels":"","start-placeholder":"Start","end-placeholder":"End"},on:{clear:function(e){return t.clearFilter("date2")},change:t.dateChange2},model:{value:t.filterParams.date2,callback:function(e){t.$set(t.filterParams,"date2",e)},expression:"filterParams.date2"}})],1):t._e()]:t._e(),r("el-form-item",{attrs:{label:t.$t("orders.CreateDate")}},[r("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",type:"daterange",align:"right","unlink-panels":"","start-placeholder":"Start","end-placeholder":"End"},on:{clear:function(e){return t.clearFilter("date")},change:t.dateChange},model:{value:t.filterParams.date,callback:function(e){t.$set(t.filterParams,"date",e)},expression:"filterParams.date"}})],1)],r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:t.filterItem}},[t._v(t._s(t.$t("orders.filter")))]),r("el-button",{attrs:{type:"danger"},on:{click:t.clearFilter}},[t._v(t._s(t.$t("orders.clear")))]),3!=t.billStatus?r("el-button",{attrs:{type:"primary"},on:{click:t.handleAllFilter}},[t._v(t._s(t.$t("orders.allFilter"))+" ")]):t._e()],1),r("el-form-item",{staticStyle:{width:"200px"}}),r("el-form-item",{staticClass:"btns-wrap"},[2==t.status&&1==t.activeName?[r("el-button",{attrs:{type:"primary",disabled:!t.$isRole("invoiceWaitOfferEdit")},on:{click:t.quoteFn}},[t._v(t._s(t.$t("orders.Made")))]),r("el-button",{attrs:{type:"primary",disabled:!t.$isRole("invoiceWaitOfferEdit")},on:{click:t.exportFn}},[t._v(t._s(t.$t("orders.导出未关联商品")))]),r("el-button",{attrs:{type:"primary",disabled:!t.$isRole("invoiceWaitOfferEdit")},on:{click:t.importFn}},[t._v(t._s(t.$t("orders.导入关联")))])]:t._e(),2==t.status&&2==t.activeName?[r("el-button",{attrs:{type:"primary",disabled:!t.$isRole("invoicePayCheckEdit")},on:{click:t.payFn}},[t._v(t._s(t.$t("orders.receipt")))]),r("el-button",{attrs:{type:"primary",disabled:!t.$isRole("invoicePayCheckEdit")},on:{click:t.payCancelFn}},[t._v(t._s(t.$t("orders.notreceived")))])]:t._e(),4==t.status&&1==t.activeName?[r("el-button",{attrs:{type:"primary",disabled:!t.$isRole("invoiceAbnormalEdit")},on:{click:t.syncFn}},[t._v(t._s(t.$t("orders.synchronized")))])]:t._e(),4==t.status&&2==t.activeName?[r("el-button",{attrs:{type:"primary",disabled:!t.$isRole("invoiceAbnormalEdit")},on:{click:t.quoteFn}},[t._v(t._s(t.$t("orders.重新报价")))])]:t._e()],2)],2)],1),t._l(t.tabList,(function(e,a){return 2!=t.status&&t.tabList.length?r("el-tab-pane",{key:a,attrs:{name:e.name+""}},[r("span",{attrs:{slot:"label"},slot:"label"},[t._v(" "+t._s(e.title)+" "),r("span",{staticClass:"tx-danger"},[t._v("("+t._s(t.vendorAllOrderCntText(e.id))+")")])])]):t._e()}))],2)],1)],1),t.isVipOrder?[r("div",{staticClass:"noVip"},[r("i",{staticClass:"el-icon-info mg-r-10"}),t._v(" "+t._s(t.$t("package.暂无数据，该条信息可能已超{num}天",{num:t.vipOrderReserveDay}))+" ")])]:[2==t.status&&2!=t.activeName||4==t.status&&1==t.activeName?[r("el-table",{key:"gridTable",ref:"gridTable",staticStyle:{width:"100%"},attrs:{stripe:"",data:t.items,"tooltip-effect":"dark","row-key":function(t){return t.id}},on:{"selection-change":t.handleSelectionChange}},[r("el-table-column",{attrs:{type:"selection",width:"55","reserve-selection":!0}}),r("el-table-column",{attrs:{label:t.$t("orders.third"),width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-popover",{ref:"popover"+e.row.codeName,attrs:{width:"1000",trigger:"hover",placement:"top-start"}},[r("div",{staticClass:"items"},t._l(e.row.items,(function(a,i){return r("div",{key:e.row.orderId+e.row.codeName+i,staticClass:"d-flex mg-b-15"},[r("img",{attrs:{src:a.imgUrl,width:"80",height:"80"}}),r("div",{staticClass:"mg-l-10"},[r("p",{staticClass:"mg-b-10",staticStyle:{width:"600px"}},[a.vendorProductId?r("el-link",{attrs:{type:"primary",href:"//"+(t.host.indexOf("sandbox")>-1?"sandboxshop":"shop")+t.$store.state.userInfo.shop.id+".myourmall.com/item/"+a.vendorProductId+"/"+a.vendorProductName+".html",target:"_blank"}},[t._v(t._s(a.vendorProductName))]):r("span",[t._v(t._s(a.name))])],1),r("p",{staticClass:"mg-b-10"},[2==a.isManage?[r("span",{staticStyle:{width:"500px",display:"inline-block",color:"#F56C6C"}},[t._v(" SKU: "+t._s(a.vendorSku+"Unable to purchase")+" ")])]:[1!=a.status?[r("span",{staticStyle:{width:"500px",display:"inline-block",color:"#F56C6C"}},[t._v(" SKU: "+t._s(a.vendorSku?a.vendorSku+" Products Off shelf":"null Please make an offer")+" ")])]:[r("span",{staticStyle:{width:"500px",display:"inline-block"}},[t._v(" SKU: "+t._s(a.vendorSku||"null Please make an offer")+" ")])]],r("span",{staticStyle:{width:"200px",display:"inline-block"}},[t._v("Weight："+t._s(a.vendorProductWeight||"---")+" g")])],2),r("p",[r("span",{staticStyle:{width:"200px",display:"inline-block"}},[t._v("Shop price："+t._s(e.row.currency)+" "+t._s(Number(a.price).toFixed(2)))]),r("span",{staticStyle:{width:"300px",display:"inline-block"}},[t._v(" Supply unit price： "),a.vendorSku?r("span",[1!=e.row.discountType&&2!=e.row.discountType||2==a.isManage?[t._v(t._s(t.$store.state.country.symbol)+" "+t._s(Number(a.vendorPrice).toFixed(2)))]:[r("span",[t._v(t._s(t.$store.state.country.symbol)+t._s(Number((a.amount-a.amount/e.row.productAmount*e.row.couponAmount)/a.quantity).toFixed(2))+" ")]),r("span",{staticStyle:{color:"red","text-decoration":"line-through"}},[r("span",{staticStyle:{color:"#606266"}},[t._v(t._s(t.$store.state.country.symbol)+" "+t._s(Number(a.vendorPrice).toFixed(2)))])])]],2):r("span",{staticStyle:{color:"#F56C6C"}},[t._v("Please make an offer")])]),r("span",{staticStyle:{width:"50px",display:"inline-block","text-align":"left"}},[t._v(" * "+t._s(a.quantity)+" ")]),r("span",{staticStyle:{width:"100px",display:"inline-block","text-align":"right"}},[1!=e.row.discountType&&2!=e.row.discountType||2==a.isManage?[t._v(t._s(t.$store.state.country.symbol)+" "+t._s(Number(a.quantity*a.vendorPrice).toFixed(2)))]:[r("span",[t._v(t._s(t.$store.state.country.symbol)+" "+t._s(Number(a.amount-a.amount/e.row.productAmount*e.row.couponAmount).toFixed(2))+" ")]),r("span",{staticStyle:{color:"red","text-decoration":"line-through"}},[r("span",{staticStyle:{color:"#606266"}},[t._v(t._s(t.$store.state.country.symbol)+" "+t._s(Number(a.amount).toFixed(2)))])])]],2),2==a.isManage?r("span",{staticStyle:{width:"200px",display:"inline-block","text-align":"right",color:"red"}},[t._v(t._s(t.$t("orders.该商品已被剔除")))]):t._e()])]),2==t.status&&1==t.activeName?r("div",{staticClass:"d-flex",staticStyle:{flex:"1","justify-content":"flex-end","margin-right":"5px"}},[2==a.isManage||a.vendorPrice?t._e():r("el-link",{attrs:{type:"primary",disabled:!t.$isRole(t.$route.meta.roleWrite)},on:{click:function(e){return t.unable(a)}}},[t._v(t._s(t.$t("orders.tabBar5")))])],1):t._e()])})),0),r("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[r("span",[t._v(t._s(e.row.codeName))])])])]}}],null,!1,195843117)}),r("el-table-column",{attrs:{label:t.$t("orders.orderID"),width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-popover",{ref:"popover"+e.row.orderId,attrs:{width:"1000",trigger:"hover",placement:"top-start"}},[r("div",{staticClass:"items"},t._l(e.row.items,(function(a,i){return r("div",{key:e.row.orderId+e.row.codeName+i,staticClass:"d-flex mg-b-15"},[r("img",{attrs:{src:a.imgUrl,width:"80",height:"80"}}),r("div",{staticClass:"mg-l-10"},[r("p",{staticClass:"mg-b-10",staticStyle:{width:"600px"}},[a.vendorProductId?r("el-link",{attrs:{type:"primary",href:"//"+(t.host.indexOf("sandbox")>-1?"sandboxshop":"shop")+t.$store.state.userInfo.shop.id+".myourmall.com/item/"+a.vendorProductId+"/"+a.vendorProductName+".html",target:"_blank"}},[t._v(t._s(a.vendorProductName))]):r("span",[t._v(t._s(a.name))])],1),r("p",{staticClass:"mg-b-10"},[2==a.isManage?[r("span",{staticStyle:{width:"500px",display:"inline-block",color:"#F56C6C"}},[t._v(" SKU: "+t._s(a.vendorSku+"Unable to purchase")+" ")])]:[1!=a.status?[r("span",{staticStyle:{width:"500px",display:"inline-block",color:"#F56C6C"}},[t._v(" SKU: "+t._s(a.vendorSku?a.vendorSku+" Products Off shelf":"null Please make an offer")+" ")])]:[r("span",{staticStyle:{width:"500px",display:"inline-block"}},[t._v(" SKU: "+t._s(a.vendorSku||"null Please make an offer")+" ")])]],r("span",{staticStyle:{width:"200px",display:"inline-block"}},[t._v("Weight："+t._s(a.vendorProductWeight||"---")+" g")])],2),r("p",[r("span",{staticStyle:{width:"200px",display:"inline-block"}},[t._v("Shop price："+t._s(e.row.currency)+" "+t._s(Number(a.price).toFixed(2)))]),r("span",{staticStyle:{width:"300px",display:"inline-block"}},[t._v(" Supply unit price： "),a.vendorSku?r("span",[1!=e.row.discountType&&2!=e.row.discountType||2==a.isManage?[t._v(t._s(t.$store.state.country.symbol)+" "+t._s(Number(a.vendorPrice).toFixed(2)))]:[r("span",[t._v(t._s(t.$store.state.country.symbol)+" "+t._s(Number((a.amount-a.amount/e.row.productAmount*e.row.couponAmount)/a.quantity).toFixed(2))+" ")]),r("span",{staticStyle:{color:"red","text-decoration":"line-through"}},[r("span",{staticStyle:{color:"#606266"}},[t._v(t._s(t.$store.state.country.symbol)+" "+t._s(Number(a.vendorPrice).toFixed(2)))])])]],2):r("span",{staticStyle:{color:"#F56C6C"}},[t._v("Please make an offer")])]),r("span",{staticStyle:{width:"50px",display:"inline-block","text-align":"left"}},[t._v(" * "+t._s(a.quantity)+" ")]),r("span",{staticStyle:{width:"100px",display:"inline-block","text-align":"right"}},[1!=e.row.discountType&&2!=e.row.discountType||2==a.isManage?[t._v(t._s(t.$store.state.country.symbol)+" "+t._s(Number(a.quantity*a.vendorPrice).toFixed(2)))]:[r("span",[t._v(t._s(t.$store.state.country.symbol)+" "+t._s(Number(a.amount-a.amount/e.row.productAmount*e.row.couponAmount).toFixed(2))+" ")]),r("span",{staticStyle:{color:"red","text-decoration":"line-through"}},[r("span",{staticStyle:{color:"#606266"}},[t._v(t._s(t.$store.state.country.symbol)+" "+t._s(Number(a.amount).toFixed(2)))])])]],2),2==a.isManage?r("span",{staticStyle:{width:"200px",display:"inline-block","text-align":"right",color:"red"}},[t._v(t._s(t.$t("orders.该商品已被剔除")))]):t._e()])]),2==t.status&&1==t.activeName?r("div",{staticClass:"d-flex",staticStyle:{flex:"1","justify-content":"flex-end","margin-right":"5px"}},[2==a.isManage||a.vendorPrice?t._e():r("el-link",{attrs:{type:"primary",disabled:!t.$isRole(t.$route.meta.roleWrite)},on:{click:function(e){return t.unable(a)}}},[t._v(t._s(t.$t("orders.tabBar5")))])],1):t._e()])})),0),r("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[r("span",[t._v(t._s(e.row.orderId||"---"))]),(2!=t.status||2!=t.activeName&&1!=t.activeName)&&1==e.row.isSplit?["zh"==t.$i18n.locale?r("img",{staticStyle:{"margin-left":"10px"},attrs:{src:a("fb0f")}}):r("img",{staticStyle:{"margin-left":"10px"},attrs:{src:a("c33b")}})]:t._e()],2)])]}}],null,!1,1264468629)}),r("el-table-column",{attrs:{label:t.$t("orders.verdorName"),width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("div",[t._v(t._s(e.row.customer?e.row.customer.name:"---"))])]}}],null,!1,2822081424)}),r("el-table-column",{attrs:{label:t.$t("orders.storeName"),width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",[t._v(t._s(e.row.store||"---"))])]}}],null,!1,389551764)}),r("el-table-column",{attrs:{label:t.$t("orders.CreateDate"),width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",[t._v(t._s(t.$moment(e.row.timeCreated).format("ll [at] LTS")||"---"))])]}}],null,!1,4292911871)}),r("el-table-column",{attrs:{label:t.$t("orders.address"),"min-width":"250"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-tooltip",{staticClass:"item",attrs:{effect:"dark",placement:"right"}},[r("div",{attrs:{slot:"content"},slot:"content"},[t._v(" "+t._s(e.row.shippingJsonInfo&&e.row.shippingJsonInfo.zip?e.row.shippingJsonInfo.zip:"---")+" "+t._s(e.row.shippingJsonInfo&&e.row.shippingJsonInfo.address1?e.row.shippingJsonInfo.address1:"---")+" "+t._s(e.row.shippingJsonInfo&&e.row.shippingJsonInfo.city?e.row.shippingJsonInfo.city:"---")+" "+t._s(e.row.shippingJsonInfo&&e.row.shippingJsonInfo.province?e.row.shippingJsonInfo.province:"---")+" "+t._s(e.row.shippingJsonInfo&&e.row.shippingJsonInfo.country?e.row.shippingJsonInfo.country:"---")+" ")]),r("span",[t._v(t._s(e.row.receiverAddress||"---"))])])]}}],null,!1,442848476)}),r("el-table-column",{attrs:{label:t.$t("orders.receiver"),width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",[t._v(t._s(e.row.receiverName||"---"))])]}}],null,!1,1004791253)}),4==t.status?[r("el-table-column",{attrs:{label:t.$t("orders.logistics"),width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.shippingMethodArr&&e.row.shippingMethodArr.length?[r("el-select",{attrs:{size:"small"},on:{change:function(a){return t.filterShippingMethod(a,e.row)}},model:{value:e.row.shippingMethodId,callback:function(a){t.$set(e.row,"shippingMethodId",a)},expression:"scope.row.shippingMethodId"}},t._l(e.row.shippingMethodArr,(function(e){return r("el-option",{key:e.id,attrs:{label:e.name+" ["+(e.agingDaysBegin?e.agingDaysBegin:0)+"-"+(e.agingDaysEnd?e.agingDaysEnd:0)+t.$t("logistics.天")+"]",value:e.id}})})),1)]:r("span",[t._v("---")])]}}],null,!1,3920950275)}),148982!=t.vendorId&&146428!=t.vendorId&&144875!=t.vendorId&&144843!=t.vendorId&&143779!=t.vendorId&&143654!=t.vendorId&&140694!=t.vendorId&&74!=t.vendorId?r("el-table-column",{attrs:{label:t.$t("transaction.仓库")},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",[t._v(t._s(e.row.warehouseName||"--"))])]}}],null,!1,605806532)}):t._e(),r("el-table-column",{attrs:{label:t.$t("orders.logisticsFee")+"("+t.$store.state.country.symbol+")",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[3==e.row.discountType?r("span",[r("span",[t._v("0 ")]),r("span",{staticStyle:{color:"red","text-decoration":"line-through"}},[r("span",{staticStyle:{color:"#606266"}},[t._v(t._s(e.row.shippingMethodItem?e.row.shippingMethodItem.fee:"---"))])])]):r("span",[t._v(t._s(e.row.shippingMethodItem?e.row.shippingMethodItem.fee:"---"))])]}}],null,!1,54970795)}),r("el-table-column",{attrs:{label:t.$t("orders.tradeAmount")+"("+t.$store.state.country.symbol+")",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.discountType?r("span",[r("span",[t._v(t._s(e.row.payAmount||"---")+" ")]),r("span",{staticStyle:{color:"red","text-decoration":"line-through"}},[r("span",{staticStyle:{color:"#606266"}},[t._v(t._s(e.row.realAmount||"---"))])])]):r("span",[t._v(t._s(e.row.realAmount||"---"))])]}}],null,!1,757038887)})]:t._e(),2==t.status&&1==t.activeName?[r("el-table-column",{attrs:{label:t.$t("orders.offerItem"),width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",[t._v(t._s(e.row.unBindQuantity||"---"))])]}}],null,!1,580575434)})]:t._e(),148982!=t.vendorId&&146428!=t.vendorId&&144875!=t.vendorId&&144843!=t.vendorId&&143779!=t.vendorId&&143654!=t.vendorId&&140694!=t.vendorId&&74!=t.vendorId?r("el-table-column",{attrs:{label:t.$t("transaction.仓库")},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",[t._v(t._s(e.row.warehouseName||"--"))])]}}],null,!1,605806532)}):t._e(),2==t.status&&3==t.activeName?[r("el-table-column",{attrs:{label:t.$t("orders.logistics"),width:"250"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",[t._v(" "+t._s(e.row.trackCompany?e.row.trackCompany+(e.row.trackNumber?":"+e.row.trackNumber+" ["+(e.row.agingDaysBegin?e.row.agingDaysBegin:0)+"-"+(e.row.agingDaysEnd?e.row.agingDaysEnd:0)+t.$t("logistics.天")+"]":"["+(e.row.agingDaysBegin?e.row.agingDaysBegin:0)+"-"+(e.row.agingDaysEnd?e.row.agingDaysEnd:0)+t.$t("logistics.天")+"]"):"---")+" ")])]}}],null,!1,872972531)}),r("el-table-column",{attrs:{label:t.$t("orders.logisticsFee")+"("+t.$store.state.country.symbol+")",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[3==e.row.discountType?r("span",[r("span",[t._v("0 ")]),r("span",{staticStyle:{color:"red","text-decoration":"line-through"}},[r("span",{staticStyle:{color:"#606266"}},[t._v(t._s(e.row.trackFee||"---"))])])]):r("span",[t._v(t._s(e.row.trackFee||"---"))])]}}],null,!1,614115627)}),r("el-table-column",{attrs:{label:t.$t("orders.tradeAmount")+"("+t.$store.state.country.symbol+")",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.discountType?r("span",[r("span",[t._v(t._s(e.row.payAmount||"---")+" ")]),r("span",{staticStyle:{color:"red","text-decoration":"line-through"}},[r("span",{staticStyle:{color:"#606266"}},[t._v(t._s(e.row.realAmount||"---"))])])]):r("span",[t._v(t._s(e.row.realAmount||"---"))])]}}],null,!1,757038887)})]:t._e(),r("el-table-column",{attrs:{label:t.$t("orders.operate"),width:"150",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("div",[2==t.status&&1==t.activeName?r("el-link",{staticClass:"mg-r-20",attrs:{type:"primary",disabled:!t.$isRole("invoiceWaitOfferEdit")},on:{click:function(a){return t.quoteFn("row",e.row)}}},[t._v(t._s(t.$t("orders.Made")))]):t._e(),2==t.status&&3==t.activeName?r("el-link",{staticClass:"mg-r-20",attrs:{type:"primary",disabled:!t.$isRole("invoiceWaitDeliverEdit")},on:{click:function(a){return t.markShippedOpen(e.row)}}},[t._v(t._s(t.$t("orders.mark")))]):t._e(),4==t.status?r("el-link",{staticClass:"mg-r-20",attrs:{type:"primary",disabled:!t.$isRole("invoiceAbnormalEdit")},on:{click:function(a){return t.syncFn("row",e.row)}}},[t._v(t._s(t.$t("orders.synchronized")))]):t._e()],1)]}}],null,!1,2261769658)}),2!=t.status||2!=t.activeName&&1!=t.activeName?[r("el-table-column",{attrs:{label:t.$t("quotation.备注"),width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("div",[t._v(t._s(e.row.remark||"---"))])]}}],null,!1,627357406)})]:t._e()],2)]:2==t.status&&2==t.activeName?[r("el-table",{key:"gridTable",ref:"gridTable",staticStyle:{width:"100%"},attrs:{stripe:"",data:t.items,"tooltip-effect":"dark","row-key":function(t){return t.id}},on:{"selection-change":t.handleSelectionChange}},[r("el-table-column",{attrs:{type:"selection",width:"55","reserve-selection":!0}}),r("el-table-column",{attrs:{label:"pay code",width:"300"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",[t._v(t._s(e.row.accountPayment&&e.row.accountPayment.sysCode?e.row.accountPayment.sysCode:"---"))])]}}])}),r("el-table-column",{attrs:{label:"pay time",width:"300"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",[t._v(t._s(t.$moment.unix(e.row.timeCreated).format("YYYY-MM-DD HH:mm:ss")||"---"))])]}}])}),r("el-table-column",{attrs:{label:t.$t("orders.tradeAmount")+"("+t.$store.state.country.symbol+")",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.discountType?r("span",[r("span",[t._v(t._s(e.row.payAmount||"---")+" ")]),r("span",{staticStyle:{color:"red","text-decoration":"line-through"}},[r("span",{staticStyle:{color:"#606266"}},[t._v(t._s(e.row.totalAmount||"---"))])])]):r("span",[t._v(t._s(e.row.realAmount||"---"))])]}}])}),r("el-table-column",{attrs:{label:"Quantity",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.shopifyOrderCnt?r("el-link",{attrs:{type:"primary"},on:{click:function(a){return t.shopifyOrderCnt(e.row)}}},[t._v(t._s(e.row.shopifyOrderCnt))]):r("span",[t._v("---")])]}}])}),r("el-table-column",{attrs:{label:t.$t("orders.voucherUrl")},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.voucherUrl?r("div",{staticClass:"demo-image__preview"},[r("el-image",{staticStyle:{width:"100px",height:"100px"},attrs:{src:e.row.voucherUrl,"preview-src-list":e.row.voucherUrlPreview}})],1):r("span",[t._v("---")])]}}])}),2==t.activeName?r("el-table-column",{attrs:{label:t.$t("orders.operate"),width:"120",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("div",[1==e.row.paymentType?r("el-link",{staticClass:"mg-r-20",attrs:{type:"primary",disabled:!t.$isRole("invoicePayCheckEdit")},on:{click:function(a){return t.payFn("row",e.row)}}},[t._v(t._s(t.$t("orders.receipt")))]):t._e(),1==e.row.paymentType?r("el-link",{staticClass:"mg-r-20",attrs:{type:"primary",disabled:!t.$isRole("invoicePayCheckEdit")},on:{click:function(a){return t.payCancelFn("row",e.row)}}},[t._v(t._s(t.$t("orders.notreceived")))]):t._e()],1)]}}],null,!1,205070949)}):t._e()],1)]:[r("el-table",{key:"gridTable3"+t.activeName,ref:"gridTable",staticStyle:{width:"100%"},attrs:{stripe:"",data:t.items,"tooltip-effect":"dark","row-key":function(t){return t.id}},on:{"selection-change":t.handleSelectionChange}},[r("el-table-column",{attrs:{type:"selection",width:"55","reserve-selection":!0}}),r("el-table-column",{attrs:{label:t.$t("orders.third"),width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-popover",{ref:"popover"+e.row.codeName,attrs:{width:"1000",trigger:"hover",placement:"top-start"}},[r("div",{staticClass:"items"},t._l(e.row.items,(function(a,i){return r("div",{key:e.row.orderId+e.row.codeName+i,staticClass:"d-flex mg-b-15"},[r("img",{attrs:{src:a.imgUrl,width:"80",height:"80"}}),r("div",{staticClass:"mg-l-10"},[r("p",{staticClass:"mg-b-10",staticStyle:{width:"600px"}},[a.vendorProductId?r("el-link",{attrs:{type:"primary",href:"//"+(t.host.indexOf("sandbox")>-1?"sandboxshop":"shop")+t.$store.state.userInfo.shop.id+".myourmall.com/item/"+a.vendorProductId+"/"+a.vendorProductName+".html",target:"_blank"}},[t._v(t._s(a.vendorProductName))]):r("span",[t._v(t._s(a.name))])],1),r("p",{staticClass:"mg-b-10"},[2==a.isManage?[r("span",{staticStyle:{width:"500px",display:"inline-block",color:"#F56C6C"}},[t._v(" SKU: "+t._s(a.vendorSku+"Unable to purchase")+" ")])]:[1!=a.status?[r("span",{staticStyle:{width:"500px",display:"inline-block",color:"#F56C6C"}},[t._v(" SKU: "+t._s(a.vendorSku?a.vendorSku+" Products Off shelf":"null Please make an offer")+" ")])]:[r("span",{staticStyle:{width:"500px",display:"inline-block"}},[t._v(" SKU: "+t._s(a.vendorSku||"null Please make an offer")+" ")])]],r("span",{staticStyle:{width:"200px",display:"inline-block"}},[t._v("Weight："+t._s(a.vendorProductWeight||"---")+" g")])],2),r("p",[r("span",{staticStyle:{width:"200px",display:"inline-block"}},[t._v("Shop price："+t._s(e.row.currency)+" "+t._s(Number(a.price).toFixed(2)))]),r("span",{staticStyle:{width:"300px",display:"inline-block"}},[t._v(" Supply unit price： "),a.vendorSku?r("span",[1!=e.row.discountType&&2!=e.row.discountType||2==a.isManage?[t._v(t._s(t.$store.state.country.symbol)+" "+t._s(Number(a.vendorPrice).toFixed(2)))]:[r("span",[t._v(t._s(t.$store.state.country.shopCurrency)+" "+t._s(Number((a.amount-a.amount/e.row.productAmount*e.row.couponAmount)/a.quantity).toFixed(2))+" ")]),r("span",{staticStyle:{color:"red","text-decoration":"line-through"}},[r("span",{staticStyle:{color:"#606266"}},[t._v(t._s(t.$store.state.country.shopCurrency)+" "+t._s(Number(a.vendorPrice).toFixed(2)))])])]],2):r("span",{staticStyle:{color:"#F56C6C"}},[t._v("Please make an offer")])]),r("span",{staticStyle:{width:"50px",display:"inline-block","text-align":"left"}},[t._v(" * "+t._s(a.quantity)+" ")]),r("span",{staticStyle:{width:"100px",display:"inline-block","text-align":"right"}},[1!=e.row.discountType&&2!=e.row.discountType||2==a.isManage?[t._v(t._s(t.$store.state.country.shopCurrency)+" "+t._s(Number(a.quantity*a.vendorPrice).toFixed(2)))]:[r("span",[t._v(t._s(t.$store.state.country.shopCurrency)+" "+t._s(Number(a.amount-a.amount/e.row.productAmount*e.row.couponAmount).toFixed(2))+" ")]),r("span",{staticStyle:{color:"red","text-decoration":"line-through"}},[r("span",{staticStyle:{color:"#606266"}},[t._v(" "+t._s(t.$store.state.country.shopCurrency)+" "+t._s(Number(a.amount).toFixed(2)))])])]],2),2==a.isManage?r("span",{staticStyle:{width:"200px",display:"inline-block","text-align":"right",color:"red"}},[t._v(t._s(t.$t("orders.该商品已被剔除")))]):t._e()])]),2==t.status&&1==t.activeName?r("div",{staticClass:"d-flex",staticStyle:{flex:"1","justify-content":"flex-end","margin-right":"5px"}},[2==a.isManage||a.vendorPrice?t._e():r("el-link",{attrs:{type:"primary",disabled:!t.$isRole(t.$route.meta.roleWrite)},on:{click:function(e){return t.unable(a)}}},[t._v(t._s(t.$t("orders.tabBar5")))])],1):t._e()])})),0),r("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[r("span",[t._v(t._s(e.row.codeName))])])])]}}])}),r("el-table-column",{attrs:{label:t.$t("orders.orderID"),width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-popover",{ref:"popover"+e.row.orderId,attrs:{width:"1000",trigger:"hover",placement:"top-start"}},[r("div",{staticClass:"items"},t._l(e.row.items,(function(a,i){return r("div",{key:e.row.orderId+e.row.codeName+i,staticClass:"d-flex mg-b-15"},[r("img",{attrs:{src:a.imgUrl,width:"80",height:"80"}}),r("div",{staticClass:"mg-l-10"},[r("p",{staticClass:"mg-b-10",staticStyle:{width:"600px"}},[a.vendorProductId?r("el-link",{attrs:{type:"primary",href:"//"+(t.host.indexOf("sandbox")>-1?"sandboxshop":"shop")+t.$store.state.userInfo.shop.id+".myourmall.com/item/"+a.vendorProductId+"/"+a.vendorProductName+".html",target:"_blank"}},[t._v(t._s(a.vendorProductName))]):r("span",[t._v(t._s(a.name))])],1),r("p",{staticClass:"mg-b-10"},[2==a.isManage?[r("span",{staticStyle:{width:"500px",display:"inline-block",color:"#F56C6C"}},[t._v(" SKU: "+t._s(a.vendorSku+"Unable to purchase")+" ")])]:[1!=a.status?[r("span",{staticStyle:{width:"500px",display:"inline-block",color:"#F56C6C"}},[t._v(" SKU: "+t._s(a.vendorSku?a.vendorSku+" Products Off shelf":"null Please make an offer")+" ")])]:[r("span",{staticStyle:{width:"500px",display:"inline-block"}},[t._v(" SKU: "+t._s(a.vendorSku||"null Please make an offer")+" ")])]],r("span",{staticStyle:{width:"200px",display:"inline-block"}},[t._v("Weight："+t._s(a.vendorProductWeight||"---")+" g")])],2),r("p",[r("span",{staticStyle:{width:"200px",display:"inline-block"}},[t._v("Shop price："+t._s(e.row.currency)+" "+t._s(Number(a.price).toFixed(2)))]),r("span",{staticStyle:{width:"300px",display:"inline-block"}},[t._v(" Supply unit price： "),a.vendorSku?r("span",[1!=e.row.discountType&&2!=e.row.discountType||2==a.isManage?[t._v(t._s(t.$store.state.country.symbol)+" "+t._s(Number(a.vendorPrice).toFixed(2)))]:[r("span",[t._v(t._s(t.$store.state.country.shopCurrency)+" "+t._s(Number((a.amount-a.amount/e.row.productAmount*e.row.couponAmount)/a.quantity).toFixed(2))+" ")]),r("span",{staticStyle:{color:"red","text-decoration":"line-through"}},[r("span",{staticStyle:{color:"#606266"}},[t._v(t._s(t.$store.state.country.shopCurrency)+" "+t._s(Number(a.vendorPrice).toFixed(2)))])])]],2):r("span",{staticStyle:{color:"#F56C6C"}},[t._v("Please make an offer")])]),r("span",{staticStyle:{width:"50px",display:"inline-block","text-align":"left"}},[t._v(" * "+t._s(a.quantity)+" ")]),r("span",{staticStyle:{width:"100px",display:"inline-block","text-align":"right"}},[1!=e.row.discountType&&2!=e.row.discountType||2==a.isManage?[t._v(t._s(t.$store.state.country.shopCurrency)+" "+t._s(Number(a.quantity*a.vendorPrice).toFixed(2)))]:[r("span",[t._v(t._s(t.$store.state.country.shopCurrency)+" "+t._s(Number(a.amount-a.amount/e.row.productAmount*e.row.couponAmount).toFixed(2))+" ")]),r("span",{staticStyle:{color:"red","text-decoration":"line-through"}},[r("span",{staticStyle:{color:"#606266"}},[t._v(t._s(t.$store.state.country.shopCurrency)+" "+t._s(Number(a.amount).toFixed(2)))])])]],2),2==a.isManage?r("span",{staticStyle:{width:"200px",display:"inline-block","text-align":"right",color:"red"}},[t._v(t._s(t.$t("orders.该商品已被剔除")))]):t._e()])]),2==t.status&&1==t.activeName?r("div",{staticClass:"d-flex",staticStyle:{flex:"1","justify-content":"flex-end","margin-right":"5px"}},[2==a.isManage||a.vendorPrice?t._e():r("el-link",{attrs:{type:"primary",disabled:!t.$isRole(t.$route.meta.roleWrite)},on:{click:function(e){return t.unable(a)}}},[t._v(t._s(t.$t("orders.tabBar5")))])],1):t._e()])})),0),r("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[r("span",[t._v(t._s(e.row.orderId||"---"))]),(2!=t.status||2!=t.activeName&&1!=t.activeName)&&1==e.row.isSplit?["zh"==t.$i18n.locale?r("img",{staticStyle:{"margin-left":"10px"},attrs:{src:a("fb0f")}}):r("img",{staticStyle:{"margin-left":"10px"},attrs:{src:a("c33b")}})]:t._e()],2)])]}}])}),r("el-table-column",{attrs:{label:t.$t("orders.verdorName"),width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("div",[t._v(t._s(e.row.customer?e.row.customer.name:"---"))])]}}])}),r("el-table-column",{attrs:{label:t.$t("orders.storeName"),width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",[t._v(t._s(e.row.store||"---"))])]}}])}),r("el-table-column",{attrs:{label:t.$t("orders.CreateDate"),width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",[t._v(t._s(t.$moment(e.row.timeCreated).format("ll [at] LTS")||"---"))])]}}])}),r("el-table-column",{attrs:{label:t.$t("orders.address"),"min-width":"250"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-tooltip",{staticClass:"item",attrs:{effect:"dark",placement:"right"}},[r("div",{attrs:{slot:"content"},slot:"content"},[t._v(" "+t._s(e.row.shippingJsonInfo&&e.row.shippingJsonInfo.zip?e.row.shippingJsonInfo.zip:"---")+" "+t._s(e.row.shippingJsonInfo&&e.row.shippingJsonInfo.address1?e.row.shippingJsonInfo.address1:"---")+" "+t._s(e.row.shippingJsonInfo&&e.row.shippingJsonInfo.city?e.row.shippingJsonInfo.city:"---")+" "+t._s(e.row.shippingJsonInfo&&e.row.shippingJsonInfo.province?e.row.shippingJsonInfo.province:"---")+" "+t._s(e.row.shippingJsonInfo&&e.row.shippingJsonInfo.country?e.row.shippingJsonInfo.country:"---")+" ")]),r("span",[t._v(t._s(e.row.receiverAddress||"---"))])])]}}])}),r("el-table-column",{attrs:{label:t.$t("orders.receiver"),width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",[t._v(t._s(e.row.receiverName||"---"))])]}}])}),2!=t.activeName&&3!=t.activeName?[r("el-table-column",{attrs:{label:t.$t("orders.logistics"),width:"250"},scopedSlots:t._u([{key:"default",fn:function(e){return[3==e.row.status?r("span",[e.row.shippingMethodArr?r("span",[e.row.shippingMethodArr.length&&e.row.shippingMethodArr[0]?r("div",[t._v(t._s(e.row.shippingMethodArr[0].name)+" ["+t._s(e.row.shippingMethodArr[0].agingDaysBegin?e.row.shippingMethodArr[0].agingDaysBegin:0)+"-"+t._s(e.row.shippingMethodArr[0].agingDaysEnd?e.row.shippingMethodArr[0].agingDaysEnd:0)+t._s(t.$t("logistics.天"))+"]")]):r("div",{staticClass:"tx-middle"},[t._v(" --- "),r("i",{staticClass:"el-icon-warning mg-l-5",staticStyle:{"font-size":"20px",cursor:"pointer"},on:{click:function(a){return t.shippedFn(e.row)}}})])]):t._e()]):r("span",[t._v(" "+t._s(e.row.trackCompany?e.row.trackCompany+(e.row.trackNumber?":"+e.row.trackNumber+" ["+(e.row.agingDaysBegin?e.row.agingDaysBegin:0)+"-"+(e.row.agingDaysEnd?e.row.agingDaysEnd:0)+t.$t("logistics.天")+"]":"["+(e.row.agingDaysBegin?e.row.agingDaysBegin:0)+"-"+(e.row.agingDaysEnd?e.row.agingDaysEnd:0)+t.$t("logistics.天")+"]"):"---")+" ")])]}}],null,!1,1238121305)}),148982!=t.vendorId&&146428!=t.vendorId&&144875!=t.vendorId&&144843!=t.vendorId&&143779!=t.vendorId&&143654!=t.vendorId&&140694!=t.vendorId&&74!=t.vendorId?r("el-table-column",{attrs:{label:t.$t("transaction.仓库")},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",[t._v(t._s(e.row.warehouseName||"--"))])]}}],null,!1,605806532)}):t._e(),r("el-table-column",{attrs:{label:t.$t("orders.logisticsFee")+"("+t.$store.state.country.symbol+")",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[3==e.row.status?r("span",[e.row.shippingMethodArr?r("span",[t._v(t._s(e.row.shippingMethodArr.length&&e.row.shippingMethodArr[0]?e.row.shippingMethodArr[0].fee:"---"))]):t._e()]):r("span",[3==e.row.discountType?r("span",[r("span",[t._v("0 ")]),r("span",{staticStyle:{color:"red","text-decoration":"line-through"}},[r("span",{staticStyle:{color:"#606266"}},[t._v(t._s(e.row.trackFee||"---"))])])]):r("span",[t._v(t._s(e.row.trackFee||"---"))])])]}}],null,!1,2083164091)}),r("el-table-column",{attrs:{label:t.$t("orders.tradeAmount")+"("+t.$store.state.country.symbol+")",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[3==e.row.status?r("span",[e.row.shippingMethodArr?r("span",[e.row.itemAmount?r("span",[t._v(t._s(e.row.shippingMethodArr.length&&e.row.shippingMethodArr[0]?(Number(e.row.shippingMethodArr[0].fee)+Number(e.row.itemAmount)).toFixed(2):"---"))]):r("span",[t._v(t._s(e.row.shippingMethodArr.length&&e.row.shippingMethodArr[0]?Number(e.row.shippingMethodArr[0].fee):"---"))])]):r("span",[t._v(t._s(e.row.itemAmount?Number(e.row.itemAmount).toFixed(2):"---"))])]):r("span",[e.row.discountType?r("span",[r("span",[t._v(t._s(e.row.payAmount||"---")+" ")]),r("span",{staticStyle:{color:"red","text-decoration":"line-through"}},[r("span",{staticStyle:{color:"#606266"}},[t._v(t._s(e.row.realAmount.toFixed(2)||"---"))])])]):r("span",[t._v(t._s(e.row.realAmount.toFixed(2)||"---"))])])]}}],null,!1,1020267375)})]:t._e(),6==t.status?[r("el-table-column",{attrs:{label:t.$t("orders.status"),width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",[t._v(t._s(t.statusArr[e.row.status]?t.statusArr[e.row.status].text:"---"))])]}}],null,!1,2321464157)})]:t._e(),311==t.status?[r("el-table-column",{attrs:{label:t.$t("orders.payStatus"),width:"250"},scopedSlots:t._u([{key:"default",fn:function(e){return[3==e.row.status?r("div",[r("span",[t._v(t._s(t.$t("orders.status1")))])]):11==e.row.status?r("div",[r("span",[t._v(t._s(t.$t("orders.status2")))])]):r("div",[r("span",[t._v("---")])])]}}],null,!1,4134086874)})]:t._e(),4==t.status&&2==t.activeName?[r("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-link",{staticClass:"mg-r-20",attrs:{type:"primary",disabled:!t.$isRole("invoiceAbnormalEdit")},on:{click:function(a){return t.quoteFn("row",e.row)}}},[t._v(t._s(t.$t("orders.重新报价")))])]}}],null,!1,1262317929)})]:t._e(),2!=t.status||2!=t.activeName&&1!=t.activeName?[r("el-table-column",{attrs:{label:t.$t("quotation.备注"),width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("div",[t._v(t._s(e.row.remark||"---"))])]}}],null,!1,627357406)})]:t._e()],2)]]],2)],1)],1),t.items.length?r("el-row",{attrs:{gutter:20}},[r("el-col",{staticClass:"d-flex justify-content-center",attrs:{span:24}},[r("div",[r("el-pagination",{attrs:{"current-page":Number(t.page),background:!0,layout:"sizes, total, prev, pager, next, jumper","page-sizes":t.pageSizes,"page-size":t.rowsPerPage,total:Number(t.total)},on:{"current-change":t.toPage,"size-change":t.changePageSize}})],1)])],1):t._e()],1),r("el-backtop",{staticClass:"goto-top",attrs:{target:".main-scroll  .el-scrollbar__wrap",right:20,bottom:120}}),r("el-dialog",{attrs:{title:t.$t("orders.选择仓库"),"close-on-click-modal":!1,visible:t.dialogVisibleHouse,width:"30%"},on:{"update:visible":function(e){t.dialogVisibleHouse=e},open:function(e){return t.openStorehouse()}}},[r("el-row",[r("el-col",[r("el-form",{ref:"form",attrs:{model:t.formHouse,"label-width":"100px"}},[r("el-form-item",{attrs:{label:t.$t("orders.仓库")+":"}},[r("el-radio-group",{model:{value:t.formHouse.type,callback:function(e){t.$set(t.formHouse,"type",e)},expression:"formHouse.type"}},t._l(t.storehouseList,(function(e){return r("el-radio",{key:e.id,staticStyle:{padding:"10px",width:"100px",overflow:"hidden","text-overflow":"ellipsis"},attrs:{label:e.id,name:"type"}},[t._v(t._s(e.name))])})),1)],1)],1)],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:t.cancelHouseDialog}},[t._v(t._s(t.$t("orders.取消")))]),r("el-button",{attrs:{type:"primary"},on:{click:t.buildOrder}},[t._v(t._s(t.$t("orders.提交")))])],1)],1),r("dialogQuote",{attrs:{quoteData:t.dialogQuoteInfo},on:{openRelate:t.openRelate}}),r("dialogRelate",{attrs:{relateData:t.dialogRelateInfo},on:{relateFn:t.relateFn}}),r("dialogImport",{attrs:{importData:t.dialoImportInfo},on:{submitUpload:t.submitUpload}}),r("dialogCreateOrder",{attrs:{data:t.dialogCreateInfo},on:{createUpload:t.createUpload}}),r("dialoAuth",{attrs:{authData:t.dialoAuthInfo},on:{openSecretKey:t.openSecretKey}}),r("dialogKey",{attrs:{keyData:t.dialoKeyInfo},on:{openAddComment:t.openAddComment}}),r("dialogLogistic",{attrs:{dialogLogistic:t.dialogLogistic}}),r("dialogAssociation",{attrs:{dialogAssociation:t.dialogAssociation}}),r("DialogEditComment",{attrs:{DialogEditComment:t.DialogEditComment}}),r("dialogMarkShipped",{attrs:{dialogMarkShipped:t.dialogMarkShipped},on:{saveMarkShipped:t.saveMarkShipped}}),r("orderCnt",{attrs:{data:t.dialogOrderCnt}}),r("dialogSplit",{attrs:{keyData:t.dialogSplitInfo},on:{splitOrderFn:t.splitOrderFn}}),r("filterOrder",{attrs:{filterData:t.filterDialog},on:{callBackFilter:t.changeBackData,callBackCloseFilter:t.closeFilter}}),r("order-fail",{attrs:{failData:t.failData},on:{callBackFail:t.changeFail}})],1)},i=[],o=(a("a4d3"),a("e01a"),a("d3b7"),a("d28b"),a("3ca3"),a("ddb0"),a("b636"),a("944a"),a("0c47"),a("23dc"),a("d9e2"),a("3410"),a("159b"),a("b0c0"),a("fb6a"),a("53ca"));function s(){
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
s=function(){return t};var t={},e=Object.prototype,a=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",n=r.asyncIterator||"@@asyncIterator",l=r.toStringTag||"@@toStringTag";function c(t,e,a){return Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(M){c=function(t,e,a){return t[e]=a}}function d(t,e,a,r){var i=e&&e.prototype instanceof h?e:h,o=Object.create(i.prototype),s=new I(r||[]);return o._invoke=function(t,e,a){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return x()}for(a.method=i,a.arg=o;;){var s=a.delegate;if(s){var n=k(s,a);if(n){if(n===p)continue;return n}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===r)throw r="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r="executing";var l=u(t,e,a);if("normal"===l.type){if(r=a.done?"completed":"suspendedYield",l.arg===p)continue;return{value:l.arg,done:a.done}}"throw"===l.type&&(r="completed",a.method="throw",a.arg=l.arg)}}}(t,a,s),o}function u(t,e,a){try{return{type:"normal",arg:t.call(e,a)}}catch(M){return{type:"throw",arg:M}}}t.wrap=d;var p={};function h(){}function f(){}function m(){}var g={};c(g,i,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(C([])));y&&y!==e&&a.call(y,i)&&(g=y);var b=m.prototype=h.prototype=Object.create(g);function w(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function r(i,s,n,l){var c=u(t[i],t,s);if("throw"!==c.type){var d=c.arg,p=d.value;return p&&"object"==Object(o["a"])(p)&&a.call(p,"__await")?e.resolve(p.__await).then((function(t){r("next",t,n,l)}),(function(t){r("throw",t,n,l)})):e.resolve(p).then((function(t){d.value=t,n(d)}),(function(t){return r("throw",t,n,l)}))}l(c.arg)}var i;this._invoke=function(t,a){function o(){return new e((function(e,i){r(t,a,e,i)}))}return i=i?i.then(o,o):o()}}function k(t,e){var a=t.iterator[e.method];if(void 0===a){if(e.delegate=null,"throw"===e.method){if(t.iterator["return"]&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method))return p;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var r=u(a,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,p;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function $(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function C(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(a.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:x}}function x(){return{value:void 0,done:!0}}return f.prototype=m,c(b,"constructor",m),c(m,"constructor",f),f.displayName=c(m,l,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,c(t,l,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},w(_.prototype),c(_.prototype,n,(function(){return this})),t.AsyncIterator=_,t.async=function(e,a,r,i,o){void 0===o&&(o=Promise);var s=new _(d(e,a,r,i),o);return t.isGeneratorFunction(a)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},w(b),c(b,l,"Generator"),c(b,i,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var a in t)e.push(a);return e.reverse(),function a(){for(;e.length;){var r=e.pop();if(r in t)return a.value=r,a.done=!1,a}return a.done=!0,a}},t.values=C,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach($),!t)for(var e in this)"t"===e.charAt(0)&&a.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(a,r){return s.type="throw",s.arg=t,e.next=a,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var n=a.call(o,"catchLoc"),l=a.call(o,"finallyLoc");if(n&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(n){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&a.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=e,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var a=this.tryEntries[e];if(a.finallyLoc===t)return this.complete(a.completion,a.afterLoc),$(a),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var a=this.tryEntries[e];if(a.tryLoc===t){var r=a.completion;if("throw"===r.type){var i=r.arg;$(a)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,a){return this.delegate={iterator:C(t),resultName:e,nextLoc:a},"next"===this.method&&(this.arg=void 0),p}},t}function n(t,e,a,r,i,o,s){try{var n=t[o](s),l=n.value}catch(c){return void a(c)}n.done?e(l):Promise.resolve(l).then(r,i)}function l(t){return function(){var e=this,a=arguments;return new Promise((function(r,i){var o=t.apply(e,a);function s(t){n(o,r,i,s,l,"next",t)}function l(t){n(o,r,i,s,l,"throw",t)}s(void 0)}))}}var c,d=a("ade3"),u=(a("a9e3"),a("e9c4"),a("b680"),a("d81d"),a("07ac"),a("4de4"),a("99af"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{visible:t.dialogLogistic.isShow,width:"800px","show-close":!1,"before-close":t.closeHandle,title:""},on:{"update:visible":function(e){return t.$set(t.dialogLogistic,"isShow",e)}}},[a("el-row",{staticStyle:{"word-break":"break-word"}},[a("el-row",{staticClass:"tx-center pd-15"},[1==t.dialogLogistic.errorType?a("div",[t._v(t._s(t.$t("orders.该收货地址未设置物流方式")))]):t._e(),3==t.dialogLogistic.errorType?a("div",[t._v(t._s(t.$t("orders.该订单低于最低可发货重量"))+"("+t._s(t.dialogLogistic.min)+"g)")]):t._e(),2==t.dialogLogistic.errorType?a("div",[t._v(t._s(t.$t("orders.该订单低于最低可发货体积"))+"("+t._s(t.dialogLogistic.min)+"cm"),a("sup",[t._v("3")]),t._v(")")]):t._e(),5==t.dialogLogistic.errorType?a("div",[t._v(t._s(t.$t("orders.该订单高于最高可发货重量"))+"("+t._s(t.dialogLogistic.max)+"g)")]):t._e(),4==t.dialogLogistic.errorType?a("div",[t._v(t._s(t.$t("orders.该订单高于最高可发货体积"))+"("+t._s(t.dialogLogistic.max)+"cm"),a("sup",[t._v("3")]),t._v(")")]):t._e(),6==t.dialogLogistic.errorType?a("div",[t._v(t._s(t.$t("orders.该订单以下商品属性不符合可发货商品的属性要求")))]):t._e(),7==t.dialogLogistic.errorType?a("div",[t._v(t._s(t.$t("orders.该订单商品总重量不符合可发货要求")))]):t._e()]),3==t.dialogLogistic.errorType||5==t.dialogLogistic.errorType?a("el-row",{staticClass:"tx-center pd-15"},[a("el-table",{staticClass:"mg-t-20",attrs:{border:"",data:t.items}},[a("el-table-column",{attrs:{label:"SKU",prop:"vendorSku"}}),a("el-table-column",{attrs:{label:t.$t("orders.重量")+"(g)",prop:"weight"}}),a("el-table-column",{attrs:{label:t.$t("orders.数量"),prop:"number"}}),a("el-table-column",{attrs:{label:t.$t("orders.总重量")+"(g)",prop:"weightTotal"}})],1)],1):t._e(),2==t.dialogLogistic.errorType||4==t.dialogLogistic.errorType?a("el-row",{staticClass:"tx-center pd-15"},[a("el-table",{staticClass:"mg-t-20",attrs:{border:"",data:t.items}},[a("el-table-column",{attrs:{label:"SKU",prop:"vendorSku"}}),a("el-table-column",{attrs:{prop:"volume"}},[a("template",{slot:"header"},[t._v(" "+t._s(t.$t("orders.体积"))+"(cm"),a("sup",[t._v("3")]),t._v(") ")])],2),a("el-table-column",{attrs:{label:t.$t("orders.数量"),prop:"number"}}),a("el-table-column",{attrs:{prop:"volumeTotal"}},[a("template",{slot:"header"},[t._v(" "+t._s(t.$t("orders.总体积"))+"(cm"),a("sup",[t._v("3")]),t._v(") ")])],2)],1)],1):t._e(),6==t.dialogLogistic.errorType?a("el-row",{staticClass:"tx-center pd-15"},[a("el-table",{staticClass:"mg-t-20",attrs:{border:"",data:t.items}},[a("el-table-column",{attrs:{label:"SKU",prop:"vendorSku"}}),a("el-table-column",{attrs:{label:t.$t("orders.属性")},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.row.productType,(function(e,r){return a("div",{key:r},[t._v(" "+t._s(t.$dict.productType[e]?t.$t(t.$dict.productType[e].text):"")+" ")])}))}}],null,!1,2337534688)})],1)],1):t._e(),a("el-row",{staticClass:"tx-center"},[a("el-button",{staticClass:"mt-15",attrs:{type:"primary"},on:{click:t.closeHandle}},[t._v(t._s(t.$t("orders.知道了")))])],1)],1)],1)}),p=[],h={props:["dialogLogistic"],data:function(){return{items:[]}},watch:{"dialogLogistic.items":{handler:function(){this.dialogLogistic.items&&(this.items=Object.values(this.dialogLogistic.items))},deep:!0,immediate:!0}},mounted:function(){},methods:{closeHandle:function(){this.dialogLogistic.isShow=!1,this.dialogLogistic.items=[],this.dialogLogistic.errorType=null,this.dialogLogistic.min="",this.dialogLogistic.max=""}}},f=h,m=(a("8e3e"),a("2877")),g=Object(m["a"])(f,u,p,!1,null,"a658c750",null),v=g.exports,y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{staticClass:"dialog-association",attrs:{visible:t.dialogAssociation.isShow,width:"500px",title:""},on:{"update:visible":function(e){return t.$set(t.dialogAssociation,"isShow",e)}}},[t.dialogAssociation.hasProduct?a("el-row",[a("el-row",{staticClass:"tx-center"},[a("h3",{staticStyle:{padding:"40px 0"}},[t._v(t._s(t.$t("orders.之前已有选中商品尚未被处理，是否继续报价？")))]),a("div",[a("el-button",{staticClass:"mt-15",attrs:{type:"primary"},on:{click:t.giveUpFn}},[t._v(t._s(t.$t("orders.放弃")))]),a("el-button",{staticClass:"mt-15",attrs:{type:"primary"},on:{click:t.continueFn}},[t._v(t._s(t.$t("orders.继续报价")))])],1)])],1):t._e(),t.dialogAssociation.hasProduct?t._e():a("el-row",[a("el-row",{staticClass:"tx-flex"},[a("div",[a("el-upload",{staticClass:"upload-demo",attrs:{drag:"",action:"","show-file-list":!1,"on-change":t.handleUploadChange,"auto-upload":!1}},[a("i",{staticClass:"el-icon-document-copy"}),a("div",{staticClass:"el-upload__text"},[t._v(t._s(t.$t("orders.选择文件")))])])],1),a("div",{staticStyle:{width:"200px"}},[a("div",[t._v(t._s(t.$t("orders.请按规范填写表格仅支持xlsx格式文件")))]),a("div",[t._v(t._s(t.$t("orders.上传的文件不能超过10M"))+" ")])])]),a("el-row",{staticClass:"tx-right pd-30"},[a("el-button",{on:{click:t.cancelFn}},[t._v(t._s(t.$t("orders.取消")))])],1)],1)],1)},b=[],w={props:["dialogAssociation"],mounted:function(){},methods:{cancelFn:function(){this.dialogAssociation.isShow=!1},giveUpFn:function(){var t=this;this.$apiCall("api.ShopifyOrder.clearWaitBindItem",{},(function(e){9999==e.ErrorCode?t.dialogAssociation.hasProduct=!1:t.$elementMessage(e.Message,"error")}))},continueFn:function(){this.$router.push({path:"/orderAssociation"})},handleUploadChange:function(t){var e=this;this.$showLoading(),this.$apiCall("api.ShopifyOrder.importNotBindItem",{"@file":t.raw},(function(t){e.$hideLoading(),9999==t.ErrorCode?e.$router.push({path:"/orderAssociation"}):e.$elementMessage(t.Message,"error")}))}}},_=w,k=(a("1e07"),a("0967"),Object(m["a"])(_,y,b,!1,null,"d2c8a382",null)),S=k.exports,I=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{visible:t.quoteData.isShow,title:t.$t("orders.Made"),width:"800px"},on:{"update:visible":function(e){return t.$set(t.quoteData,"isShow",e)}}},[a("el-divider"),a("div",{staticClass:"d-body",staticStyle:{margin:"20px"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{stripe:"",data:t.quoteData.items}},[a("el-table-column",{attrs:{label:t.$t("orders.productinfo"),width:"350"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"d-flex"},[a("img",{attrs:{src:e.row.imgUrl,width:"60",height:"60"}}),a("div",{staticClass:"mg-l-20"},[a("p",[t._v(t._s(e.row.name))]),a("p",[t._v("SPU: "+t._s(e.row.spu))]),a("p",[t._v("SKU: "+t._s(e.row.sku))])])])]}}])}),a("el-table-column",{attrs:{prop:"quantity",label:t.$t("orders.qty"),width:"150"}}),a("el-table-column",{attrs:{label:t.$t("orders.price"),width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.currency)+" "+t._s(e.row.price||0))])]}}])}),a("el-table-column",{attrs:{label:t.$t("orders.operate")},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[a("el-link",{staticClass:"mg-r-20",attrs:{type:"primary"},on:{click:t.goto}},[t._v(" "+t._s(t.$t("orders.putaway"))+" ")]),a("el-link",{staticClass:"mg-r-20",attrs:{type:"primary"},on:{click:function(a){return t.openRelate(e.row)}}},[t._v(" "+t._s(t.$t("orders.relate"))+" ")])],1)]}}])})],1)],1),a("el-divider"),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.quoteData.isShow=!1}}},[t._v(t._s(t.$t("orders.cancel")))])],1)],1)},C=[],x={props:["quoteData"],data:function(){return{}},methods:{goto:function(){var t=this.$router.resolve({name:"AddGoods"});window.open(t.href,"_blank")},openRelate:function(t){this.$emit("openRelate",t)}}},M=x,D=(a("f214"),Object(m["a"])(M,I,C,!1,null,"f06bbfd6",null)),N=D.exports,P=a("8c6c"),A=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{visible:t.importData.isShow,title:t.$t("invoice.shippinginformation"),width:"800px"},on:{"update:visible":function(e){return t.$set(t.importData,"isShow",e)}}},[a("el-divider"),a("div",{staticClass:"d-body",staticStyle:{margin:"20px"}},[a("div",{staticClass:"draw-alert mg-b-20"},[a("el-alert",{attrs:{type:"warning",closable:!1}},[a("div",{staticClass:"d-flex",staticStyle:{"justify-content":"space-between"}},[a("span",[t._v(t._s(t.$t("invoice.templateprovided")))]),a("el-button",{attrs:{type:"text"},on:{click:t.downloadFile}},[t._v(t._s(t.$t("invoice.template")))])],1)])],1),a("div",{staticStyle:{"margin-top":"40px"}},[a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:"",accept:".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel","auto-upload":!1,"file-list":t.uploadfileList,"on-change":t.handleUploadChange}},[a("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[t._v(t._s(t.$t("invoice.fileSelect")))]),[a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"success"},on:{click:t.submitUpload}},[t._v(" "+t._s(t.$t("invoice.shippinginformation"))+" ")])],a("div",{staticClass:"el-upload__tip mg-y-15",staticStyle:{"margin-top":"20px"},attrs:{slot:"tip"},slot:"tip"},[a("p",[t._v(t._s(t.$t("invoice.shippinginformation1")))]),a("p",[t._v(t._s(t.$t("invoice.shippinginformation2")))])])],2)],1)]),a("el-divider"),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.importData.isShow=!1}}},[t._v("取消")])],1)],1)},O=[],E={props:["importData"],data:function(){return{uploadfileList:[]}},methods:{downloadFile:function(){var t="/newFile/orders_impor.xlsx";0==$("#downloadFile").length&&$("body").append('<iframe id="downloadFile" style="display:none"></iframe>');var e=function(t){document.getElementById("downloadFile").src=t};e(t)},handleUploadChange:function(t){this.uploadfileList=[],this.uploadfileList.push(t)},submitUpload:function(){if(this.uploadfileList.length){var t=this.uploadfileList[0].raw;this.$emit("submitUpload",t)}else this.$elementMessage(this.$t("invoice.selectfile"),"error")}}},L=E,F=Object(m["a"])(L,A,O,!1,null,"570c5446",null),R=F.exports,T=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{visible:t.data.isShow,title:t.$t("orders.创建订单"),width:"600px"},on:{"update:visible":function(e){return t.$set(t.data,"isShow",e)},close:t.closeDialog}},[a("el-divider"),a("div",{staticClass:"d-body",staticStyle:{margin:"20px"}},[a("el-alert",{attrs:{type:"warning",closable:!1}},[a("div",{staticClass:"d-flex",staticStyle:{"justify-content":"space-between"}},[a("span",[t._v(t._s(t.$t("orders.请按照提供的模板文件创建订单")))]),a("el-button",{attrs:{type:"text"},on:{click:t.downloadFile}},[t._v(t._s(t.$t("invoice.template")))])],1)]),a("div",{staticClass:"mg-t-20"},[a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:"",accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","auto-upload":!1,"file-list":t.uploadfileList,"on-change":t.handleUploadChange}},[a("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[t._v(t._s(t.$t("invoice.fileSelect")))]),a("div",{staticClass:"el-upload__tip mg-y-15",staticStyle:{"margin-top":"20px"},attrs:{slot:"tip"},slot:"tip"},[a("p",[t._v("1."+t._s(t.$t("orders.请按规范填写表格，仅支持xlsx格式文件")))]),a("p",[t._v("2."+t._s(t.$t("orders.上传的文件不能超过2M，只处理前99条数据")))]),a("p",{staticStyle:{color:"#f56c6c"}},[t._v("3."+t._s(t.$t("orders.订单编号处若填写同一编号为同一订单")))])])],1)],1)],1),a("el-divider"),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.data.isShow=!1}}},[t._v(t._s(t.$t("orders.取消")))]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.createUpload()}}},[t._v(t._s(t.$t("orders.提交")))])],1)],1)},j=[],W={props:["data"],data:function(){return{uploadfileList:[]}},methods:{closeDialog:function(){this.uploadfileList=[]},downloadFile:function(){var t="/newFile/orders_creat.xlsx";0==$("#downloadFileCreate").length&&$("body").append('<iframe id="downloadFileCreate" style="display:none"></iframe>');var e=function(t){document.getElementById("downloadFileCreate").src=t};e(t)},handleUploadChange:function(t){this.uploadfileList=[],this.uploadfileList.push(t)},createUpload:function(){if(this.uploadfileList.length)if(this.uploadfileList[0].raw.size/1024/1024>2)this.$message({message:this.$t("orders.上传文件不能大于2MB"),type:"error"});else{var t=this.uploadfileList[0].raw;this.$emit("createUpload",t),this.uploadfileList=[]}else this.$elementMessage(this.$t("invoice.selectfile"),"error")}}},B=W,Z=Object(m["a"])(B,T,j,!1,null,"18e4feaa",null),J=Z.exports,G=a("5538"),U=a("fa9e"),z=a("cd22"),Y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{title:t.$t("invoice.shippedMark"),visible:t.dialogMarkShipped.isShow,width:"700px"},on:{"update:visible":function(e){return t.$set(t.dialogMarkShipped,"isShow",e)}}},[a("el-divider"),a("div",{staticClass:"d-body"},[t.dialogMarkShipped.item?a("el-row",{staticClass:"pd-x-20",attrs:{gutter:20}},[a("el-col",{staticStyle:{color:"#303133"},attrs:{span:24}},[t._v(" "+t._s(t.dialogMarkShipped.item.name)+" ")]),a("el-col",{attrs:{span:24}},[a("el-form",{attrs:{"label-width":"160px"}},[a("el-form-item",{attrs:{label:t.$t("invoice.Logisticsnumber"),required:""}},[a("el-input",{attrs:{placeholder:t.$t("invoice.Logisticsnumber")},model:{value:t.dialogMarkShipped.trackNumber,callback:function(e){t.$set(t.dialogMarkShipped,"trackNumber",e)},expression:"dialogMarkShipped.trackNumber"}})],1),a("el-form-item",{attrs:{label:t.$t("invoice.Logisticscompany"),required:""}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:t.$t("invoice.Logisticscompany")},model:{value:t.dialogMarkShipped.trackKey,callback:function(e){t.$set(t.dialogMarkShipped,"trackKey",e)},expression:"dialogMarkShipped.trackKey"}},t._l(t.dialogMarkShipped.shopifyCompany,(function(t){return a("el-option",{key:t.key,attrs:{label:t.name,value:t.key}})})),1),99==t.dialogMarkShipped.trackKey?a("el-input",{staticStyle:{margin:"10px 0"},attrs:{placeholder:t.$t("invoice.Logisticscompany")},model:{value:t.dialogMarkShipped.trackCompany,callback:function(e){t.$set(t.dialogMarkShipped,"trackCompany",e)},expression:"dialogMarkShipped.trackCompany"}}):t._e()],1),99==t.dialogMarkShipped.trackKey?a("el-form-item",{attrs:{label:t.$t("invoice.Trackinglinks")}},[a("el-input",{attrs:{placeholder:t.$t("invoice.Trackinglinks")},model:{value:t.dialogMarkShipped.trackUrl,callback:function(e){t.$set(t.dialogMarkShipped,"trackUrl",e)},expression:"dialogMarkShipped.trackUrl"}})],1):t._e()],1)],1)],1):t._e()],1),a("el-divider"),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogMarkShipped.isShow=!1}}},[t._v(t._s(t.$t("invoice.cancel")))]),a("el-button",{attrs:{type:"primary",loading:t.dialogMarkShipped.loading},on:{click:t.saveMarkShipped}},[t._v(" "+t._s(t.$t("invoice.confirm"))+" ")])],1)],1)},V=[],Q={props:["dialogMarkShipped"],data:function(){return{invoiceInfo:{}}},methods:{saveMarkShipped:function(){var t=this;if(this.dialogMarkShipped.trackNumber)if(this.dialogMarkShipped.trackKey)if(99!=this.dialogMarkShipped.trackKey||this.dialogMarkShipped.trackCompany){this.dialogMarkShipped.shopifyCompany.forEach((function(e){t.dialogMarkShipped.trackKey==e.key&&(99!=t.dialogMarkShipped.trackKey?e.name:t.dialogMarkShipped.trackCompany)})),this.$emit("saveMarkShipped")}else this.$elementMessage(this.$t("invoice.logisticscompany"),"error");else this.$elementMessage(this.$t("invoice.logisticscompany"),"error");else this.$elementMessage(this.$t("invoice.logisticsnumber"),"error")}}},H=Q,X=Object(m["a"])(H,Y,V,!1,null,"e9348b1c",null),K=X.exports,q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:t.data.loading,expression:"data.loading"}],attrs:{"close-on-press-escape":!1,"close-on-click-modal":!1,title:"订单信息",visible:t.data.isShow,width:"90%"},on:{"update:visible":function(e){return t.$set(t.data,"isShow",e)}}},[a("el-divider"),a("div",{staticClass:"pd-x-20 mg-y-30"},[a("el-table",{staticStyle:{width:"100%"},attrs:{stripe:"",data:t.data.items}},[a("el-table-column",{attrs:{prop:"codeName",label:t.$t("orders.third"),width:"150"}}),a("el-table-column",{attrs:{prop:"orderId",label:t.$t("orders.orderID"),width:"150"}}),a("el-table-column",{attrs:{label:t.$t("orders.verdorName"),width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(t._s(e.row.customer?e.row.customer.name:"---"))])]}}])}),a("el-table-column",{attrs:{label:t.$t("orders.storeName"),width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.store||"---"))])]}}])}),a("el-table-column",{attrs:{label:t.$t("orders.CreateDate"),width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.timeCreated||"---"))])]}}])}),a("el-table-column",{attrs:{label:t.$t("orders.address"),"min-width":"250"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",placement:"right"}},[a("div",{attrs:{slot:"content"},slot:"content"},[t._v(" "+t._s(e.row.shippingJsonInfo&&e.row.shippingJsonInfo.zip?e.row.shippingJsonInfo.zip:"---")+" "+t._s(e.row.shippingJsonInfo&&e.row.shippingJsonInfo.address1?e.row.shippingJsonInfo.address1:"---")+" "+t._s(e.row.shippingJsonInfo&&e.row.shippingJsonInfo.city?e.row.shippingJsonInfo.city:"---")+" "+t._s(e.row.shippingJsonInfo&&e.row.shippingJsonInfo.province?e.row.shippingJsonInfo.province:"---")+" "+t._s(e.row.shippingJsonInfo&&e.row.shippingJsonInfo.country?e.row.shippingJsonInfo.country:"---")+" ")]),a("span",[t._v(t._s(e.row.receiverAddress||"---"))])])]}}])}),a("el-table-column",{attrs:{label:t.$t("orders.receiver"),width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.receiverName||"---"))])]}}])}),a("el-table-column",{attrs:{label:t.$t("orders.logistics"),width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.trackCompany?e.row.trackCompany+(e.row.trackNumber?"："+e.row.trackNumber:""):"---"))])]}}])}),a("el-table-column",{attrs:{label:t.$t("orders.logisticsFee")+"("+t.$store.state.country.symbol+")",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[3==e.row.discountType?a("span",[a("span",[t._v("0 ")]),a("span",{staticStyle:{color:"red","text-decoration":"line-through"}},[a("span",{staticStyle:{color:"#606266"}},[t._v(t._s(e.row.trackFee||"---"))])])]):a("span",[t._v(t._s(e.row.trackFee||"---"))])]}}])}),a("el-table-column",{attrs:{label:t.$t("orders.tradeAmount")+"("+t.$store.state.country.symbol+")",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.discountType?a("span",[a("span",[t._v(t._s(e.row.payAmount||"---")+" ")]),a("span",{staticStyle:{color:"red","text-decoration":"line-through"}},[a("span",{staticStyle:{color:"#606266"}},[t._v(t._s(e.row.realAmount||"---"))])])]):a("span",[t._v(t._s(e.row.realAmount||"---"))])]}}])})],1)],1),a("el-divider"),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},on:{click:function(e){t.data.isShow=!1}},slot:"footer"},[a("el-button",[t._v(" "+t._s(t.$t("orders.cancel"))+" ")])],1)],1)],1)},tt=[],et={props:["data"],data:function(){return{}},created:function(){},mounted:function(){},methods:{}},at=et,rt=(a("db1b"),Object(m["a"])(at,q,tt,!1,null,"7c4d7642",null)),it=rt.exports,ot=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[a("el-dialog",{attrs:{title:"批量筛选",visible:t.filterData.isShowDialog,width:"30%","before-close":t.handleClose},on:{"update:visible":function(e){return t.$set(t.filterData,"isShowDialog",e)}}},[a("el-row",{staticClass:"pd20"},[a("el-col",{staticClass:"pm20"},[a("el-radio-group",{model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[a("el-radio",{attrs:{label:3}},[t._v("第三方交易号")]),a("el-radio",{attrs:{label:4}},[t._v("订单编号")])],1)],1),a("el-col",[a("el-input",{attrs:{type:"textarea",rows:6,placeholder:"每行一个订单编号（支持excel复制黏贴）,一次最多支持2000个"},model:{value:t.textarea,callback:function(e){t.textarea=e},expression:"textarea"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.handleClose}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.handleOk}},[t._v("确 定")])],1)],1)],1)},st=[],nt=(a("ac1f"),a("1276"),a("5319"),{components:{},props:["filterData"],data:function(){return{radio:3,textarea:"",param:{show:!1}}},computed:{},watch:{},methods:{handleOk:function(){if(this.textarea){var t=this.textarea.split("\n").map((function(t){return t.replace(/\s+/g,"")})).filter((function(t){return t}));3===this.radio?(this.param.ok=1,this.param.order=t):(this.param.ok=2,this.param.order=t),this.textarea="",this.radio=3,this.$emit("callBackFilter",this.param)}else this.$message.error("请填写内容")},handleClose:function(){this.textarea="",this.radio=3,this.$emit("callBackCloseFilter",this.param)}},created:function(){},mounted:function(){},beforeCreate:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){}}),lt=nt,ct=(a("4d2f"),Object(m["a"])(lt,ot,st,!1,null,"bf4b02e0",null)),dt=ct.exports,ut=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[a("el-dialog",{attrs:{title:"返回结果",visible:t.failData.isShowDialog,width:"30%","before-close":t.handleClose},on:{"update:visible":function(e){return t.$set(t.failData,"isShowDialog",e)}}},[a("el-row",{staticClass:"pd20"},[a("el-col",{staticClass:"pm20"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.failData.obj,border:""}},[a("el-table-column",{attrs:{label:"编号"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row))])]}}])}),a("el-table-column",{attrs:{prop:"name",label:"描述"}},[[a("span",[t._v("订单不存在或者不满足搜索要求")])]],2)],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.handleClose}},[t._v("确 定")])],1)],1)],1)},pt=[],ht={components:{},props:["failData"],data:function(){return{tableData:""}},computed:{},watch:{},methods:{handleClose:function(){this.$emit("callBackFail",this.param)}},created:function(){},mounted:function(){},beforeCreate:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){}},ft=ht,mt=(a("b584"),Object(m["a"])(ft,ut,pt,!1,null,"fedd14c6",null)),gt=mt.exports,vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{title:t.$t("orders.拆分订单"),visible:t.keyData.isShow,width:"1000px","close-on-click-modal":!1,"append-to-body":""},on:{"update:visible":function(e){return t.$set(t.keyData,"isShow",e)}}},[a("el-divider"),a("div",{staticClass:"d-body"},[t._l(t.keyData.items,(function(e,r){return a("el-card",{key:e.id,staticClass:"mg-t-20",attrs:{shadow:"never"}},[a("div",{staticClass:"clearfix d-flex justify-content-between",attrs:{slot:"header"},slot:"header"},[a("div",[t._v(" "+t._s(t.$t("orders.订单编号：{num1}，订单重量：{num2} g",{num1:e.orderId,num2:t.countTotal(e.items,"totalWe")}))+" ")]),a("div",[t._v(" "+t._s(t.$t("orders.新订单将包含{num1}个商品，商品重量 {num2} g，总重量 {num3} g",{num1:e.checkIds?e.checkIds.length:0,num2:e.checkIdsWeight||0,num3:e.checkIdsWeight||0}))+" ")])]),a("el-table",{staticStyle:{width:"100%"},attrs:{stripe:"",data:e.items,"row-key":function(t){return t.id}},on:{"selection-change":function(a){return t.handleSelectionChange(a,e)}}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{label:t.$t("quotation.图片")},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-image",{attrs:{src:e.row.imgUrl,width:"50",height:"50"}},[a("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[t._v(" 加载中"),a("span",{staticClass:"dot"},[t._v("...")])]),a("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[a("i",{staticClass:"el-icon-picture-outline"})])])]}}],null,!0)}),a("el-table-column",{attrs:{label:t.$t("orders.SKU/name"),width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(" "+t._s(e.row.vendorSku||"--")+" ")]),a("div",[t._v(" "+t._s(e.row.vendorProductName||"--")+" ")])]}}],null,!0)}),a("el-table-column",{attrs:{label:t.$t("quotation.价格")},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(" "+t._s(e.row.currency||"")+" "+t._s(e.row.vendorPrice||"--")+" ")])]}}],null,!0)}),a("el-table-column",{attrs:{label:t.$t("orders.总重量")},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(" "+t._s(e.row.totalWe||"--")+" g ")])]}}],null,!0)}),a("el-table-column",{attrs:{label:t.$t("orders.数量")},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(" "+t._s(e.row.quantity||"--")+" ")])]}}],null,!0)}),a("el-table-column",{attrs:{label:t.$t("orders.库存")},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(" "+t._s(e.row.inventory||"--")+" ")])]}}],null,!0)}),a("el-table-column",{attrs:{label:t.$t("orders.拆分数量")},scopedSlots:t._u([{key:"default",fn:function(r){return[a("div",[a("el-input-number",{staticStyle:{width:"50px"},attrs:{step:1,"step-strictly":!0,min:1,max:r.row.qty,controls:!1,size:"small"},on:{change:function(a){return t.changeWeight(a,r.row,e)}},model:{value:r.row.splitQty,callback:function(e){t.$set(r.row,"splitQty",e)},expression:"scope.row.splitQty"}})],1)]}}],null,!0)})],1)],1)})),a("div",{staticClass:"mg-t-20"},[a("el-input",{attrs:{placeholder:t.$t("quotation.备注"),width:"500"},model:{value:t.remark,callback:function(e){t.remark=e},expression:"remark"}})],1)],2),a("el-divider"),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.keyData.isShow=!1}}},[t._v(t._s(t.$t("orders.cancel")))]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.splitOrderFn()}}},[t._v(t._s(t.$t("orders.confirm")))])],1)],1)},yt=[],bt=(a("13d5"),{props:["keyData"],data:function(){return{remark:""}},methods:{splitOrderFn:function(){var t=[],e={};if(this.keyData.items.forEach((function(a){a.checkIds&&(a.checkIds.length==a.items.length&&a.items.every((function(t){return t.splitQty&&t.splitQty==t.qty}))&&t.push(a),a.checkIds.forEach((function(t){a.items.forEach((function(a){t==a.id&&(e[t]=a.splitQty)}))})))})),t.length){var a=t.map((function(t){return t.orderId}));this.$elementMessage(this.$t("orders.{num} 拆分的新订单商品信息同原来一致，拆单无效",{num:a}),"error")}else{var r={remark:this.remark,itemSplit:JSON.stringify(e)};console.log(r),this.$emit("splitOrderFn",r)}},handleSelectionChange:function(t,e){var a=this;t.length||(this.$set(e,"checkIds",[]),this.$set(e,"checkIdsWeight",0)),t.forEach((function(t){a.$set(t,"checkIdsWeight",(t.vendorProductWeight?Number(t.vendorProductWeight):0)*(t.splitQty?Number(t.splitQty):0))})),this.$set(e,"checkIds",t.map((function(t){return t.id}))),this.$set(e,"checkIdsWeight",this.countTotal(t,"checkIdsWeight"))},changeWeight:function(t,e,a){this.$set(e,"checkIdsWeight",(e.vendorProductWeight?Number(e.vendorProductWeight):0)*(e.splitQty?Number(e.splitQty):0)),this.$set(a,"checkIdsWeight",this.countTotal(a.items,"checkIdsWeight"))},countTotal:function(t,e){var a=0;return a=t.reduce((function(t,a,r,i){return a[e]?t+Number(a[e]):t}),0),a}}}),wt=bt,_t=(a("fcf0"),Object(m["a"])(wt,vt,yt,!1,null,"0c558022",null)),kt=_t.exports,St={data:function(){var t;return t={host:location.host,dialogVisibleHouse:!1,formHouse:{type:""},batchNum:0,offlineNum:0,vipOrderReserveDay:this.$root.$children[0].vipNowData.orderReserveDay,isVipUp:!1,loading:!1,vendorId:localStorage.getItem("vendorId"),filterDialog:{isShowDialog:!1,obj:{}},failData:{isShowDialog:!1,obj:{}},billStatus:1,tableHeight:400,reSizeTime:0,batchType:1,pageSizes:[10,20,50,100],page:this.$route.query.page?Number(this.$route.query.page):1,rowsPerPage:localStorage.getItem("ordersRowsPerPage")?Number(localStorage.getItem("ordersRowsPerPage")):10,items:[],total:0,totalPage:0,status:this.$route.params.status?Number(this.$route.params.status):1,activeName:"1",tabList:[],storeList:[],vendorList:[],checkIds:[],checkItems:[],vendorAllOrderCnt:{},filterParams:{date:[],dateFrom:"",dateTo:"",date2:[],dateFrom2:"",dateTo2:"",accountIds:"",relationshipId:"",orderId:"",codeName:"",receiverName:"",sysCode:""},filterParamsDefault:"{}",dialogAssociationDefault:"{}",dialogAssociation:{isShow:!1,hasProduct:!1},dialogLogisticDefault:"{}",dialogLogistic:{isShow:!1,errorType:null,items:[],max:"",min:""},dialogQuoteInfo:{isShow:!1,loading:!1,items:[]},dialogQuoteInfoDefault:"{}",dialogRelateInfo:{isShow:!1,loading:!1,items:[],Pagination:{},item:"",list:[]},dialogRelateInfoDefault:"{}",dialogSplitInfo:{isShow:!1,loading:!1,items:[]},dialogSplitInfoDefault:"{}",dialoImportInfo:{isShow:!1,loading:!1},dialogImportInfoDefault:"{}",dialoAuthInfo:{isShow:!1,loading:!1,shopData:[]},dialogAuthInfoDefault:"{}",dialogCreateInfo:{isShow:!1,loading:!1},dialogCreateInfoDefault:"{}",dialoKeyInfo:{isShow:!1,loading:!1},dialogKeyInfoDefault:"{}",DialogEditComment:{loading:!1,uploadLoading:!1,visible:!1,contents:"",shopName:"",attach:[],commentId:"",item:null},DialogEditCommentDefault:"{}",dialogMarkShipped:{isShow:!1,loading:!1,trackNumber:"",trackCompany:"",realCompany:"",item:null,shopifyCompany:[],trackKey:"",trackUrl:""},dialogMarkShippedDefault:"{}",dialogOrderCnt:{isShow:!1,items:[]},statusArr:{1:{text:this.$t("orders.tabBar14"),type:"warning",val:1},2:{text:this.$t("orders.tabBar1"),type:"warning",val:2},3:{text:this.$t("orders.tabBar13"),type:"warning",val:3},4:{text:this.$t("orders.tabBar2"),type:"warning",val:4},5:{text:this.$t("orders.tabBar3"),type:"warning",val:5},6:{text:this.$t("orders.ordersMenu2"),type:"success",val:6},7:{text:this.$t("orders.ordersMenu4"),type:"success",val:7},8:{text:this.$t("orders.tabBar4"),type:"info",val:8},9:{text:this.$t("orders.tabBar5"),type:"info",val:9},10:{text:this.$t("orders.tabBar6"),type:"info",val:10},11:{text:this.$t("orders.tabBar11"),type:"info",val:11},12:{text:this.$t("orders.tabBar12"),type:"info",val:12},14:{text:this.$t("orders.tabBar144"),type:"info",val:14}},storehouseList:[],statusPayArr:{1:{text:this.$t("orders.obligation"),type:"danger",val:1},4:{text:this.$t("orders.payFail"),type:"warning",val:4},5:{text:this.$t("orders.suppliernot"),type:"warning",val:5}}},Object(d["a"])(t,"checkIds",[]),Object(d["a"])(t,"checkItems",[]),t},computed:{isVipOrder:function(){var t=!1;return t=!!(this.filterParams.date[0]&&this.GetDateStr(this.vipOrderReserveDay)>=new Date(this.filterParams.date[0]).getTime())&&0!=this.vipOrderReserveDay,t}},components:{dialogAssociation:S,dialogLogistic:v,dialogQuote:N,dialogRelate:P["a"],dialogImport:R,dialogCreateOrder:J,dialoAuth:G["a"],dialogKey:U["a"],DialogEditComment:z["a"],dialogMarkShipped:K,orderCnt:it,dialogSplit:kt,filterOrder:dt,orderFail:gt},watch:{status:function(){this.$refs.gridTable.clearSelection(),this.filterParams=JSON.parse(this.filterParamsDefault),this.activeName=this.$route.params.active},$route:function(t,e){this.activeName=this.$route.params.active,this.status=this.$route.params.status?Number(this.$route.params.status):1,t.params.status!==e.params.status&&(this.filterParams=JSON.parse(this.filterParamsDefault),this.batchType=1),this.vipOrderReserveDay=this.$root.$children[0].vipNowData.orderReserveDay,this.changeRole(),this.gotoPage()},activeName:function(){this.$refs.gridTable.clearSelection(),this.toPage(1)}},created:function(){},mounted:function(){this.isVip(),this.activeName=this.$route.params.active,this.changeRole(),this.batchType=1,this.filterParamsDefault=JSON.stringify(this.filterParams),this.dialogAssociationDefault=JSON.stringify(this.dialogAssociation),this.dialogQuoteInfoDefault=JSON.stringify(this.dialogQuoteInfo),this.dialogLogisticDefault=JSON.stringify(this.dialogLogistic),this.dialogRelateInfoDefault=JSON.stringify(this.dialogRelateInfo),this.dialogImportInfoDefault=JSON.stringify(this.dialoImportInfo),this.dialogCreateInfoDefault=JSON.stringify(this.dialogCreateInfo),this.dialogAuthInfoDefault=JSON.stringify(this.dialoAuthInfo),this.dialogKeyInfoDefault=JSON.stringify(this.dialoKeyInfo),this.DialogEditCommentDefault=JSON.stringify(this.DialogEditComment),this.dialogMarkShippedDefault=JSON.stringify(this.dialogMarkShipped),this.dialogSplitInfoDefault=JSON.stringify(this.dialogSplitInfo),this.getItem()},beforeDestroy:function(){},methods:(c={splitOrder:function(){var t=this;this.checkIds.length?(this.dialogSplitInfo.isShow=!0,this.checkItems.forEach((function(e){e.items.forEach((function(e){t.$set(e,"qty",Number(e.quantity)),t.$set(e,"totalWe",(Number(e.quantity)*Number(e.vendorProductWeight)).toFixed(2))}))})),this.dialogSplitInfo.items=this.checkItems):this.$elementMessage("Please select an order first","error")},batchWareHouse:function(){0!=this.checkIds.length?this.dialogVisibleHouse=!0:this.$message.error("Please select an order")},cancelHouseDialog:function(){this.dialogVisibleHouse=!1,this.formHouse.type=[]},buildOrder:function(){var t=this,e={id:this.checkIds,warehouseId:Number(this.formHouse.type)};this.$apiCall("api.ShopifyOrder.orderChooseWarehouse",e,(function(e){9999==e.ErrorCode?(t.$message.success("Binding succeeded!"),t.dialogVisibleHouse=!1,t.formHouse.type=[],t.getItem()):t.$message({message:e.Message,type:"error"})}))},openStorehouse:function(){var t=this;this.$apiCall("api.Warehouse.finds",{},(function(e){9999==e.ErrorCode?(t.storehouseList=e.Data.Results,0==e.Data.Results.length&&t.$message.error("There is no warehouse, please go to add！")):t.$message({message:e.Message,type:"error"})}))},splitOrderFn:function(t){var e=this;this.$showLoading(),this.$apiCall("api.ShopifyOrder.splitShopifyOrder",t,(function(t){"9999"==t.ErrorCode?(e.$elementMessage(e.$t("orders.success"),"success"),e.dialogSplitInfo=JSON.parse(e.dialogSplitInfoDefault),e.$refs.gridTable.clearSelection(),e.getItem()):(e.$elementMessage(t.Message,"error"),"1002"!=t.ErrorCode&&"1003"!=t.ErrorCode||e.$userFailure(e)),e.$hideLoading()}))},exportOrder:function(){var t=this;this.checkIds.length||this.$elementMessage("Please select an order first","error"),this.$showLoading(),0==$("#ifilePro").length&&$("body").append('<iframe id="ifilePro" style="display:none"></iframe>');var e=function(t){document.getElementById("ifilePro").src=t},a="api.ShopifyOrder.exportShopifyOrder2";this.$apiCall(a,{idList:this.checkIds},(function(a){"9999"==a.ErrorCode?(t.$elementMessage(t.$t("orders.success"),"success"),e(a.Data.Results)):(t.$elementMessage(a.Message,"error"),"1002"!=a.ErrorCode&&"1003"!=a.ErrorCode||t.$userFailure(t)),t.$hideLoading()}))},shippedFn:function(t){this.dialogLogistic.errorType=t.shippingMethodArr.errorType,t.shippingMethodArr.errorSkuList&&(this.dialogLogistic.items=t.shippingMethodArr.errorSkuList),this.dialogLogistic.max=t.shippingMethodArr.max,this.dialogLogistic.min=t.shippingMethodArr.min,this.dialogLogistic.isShow=!0},importFn:function(){var t=this;this.$apiCall("api.ShopifyOrder.getWaitBindItem",{},(function(e){9999==e.ErrorCode?(e.Data.Results.length>0&&(t.dialogAssociation.hasProduct=!0),t.dialogAssociation.isShow=!0):t.$elementMessage(e.Message,"error")}))},exportFn:function(){var t=this;this.checkIds.length?this.$apiCall("api.ShopifyOrder.exportNotBindItem",{ids:this.checkIds},(function(e){9999==e.ErrorCode?(window.open(e.Data.Results),t.$refs.gridTable.clearSelection(),t.checkIds=[]):t.$elementMessage(e.Message,"error")})):this.$elementMessage(this.$t("orders.selectOrder"),"error")},unable:function(t){var e=this;this.$confirm(this.$t("orders.确定将该商品无法采购?"),"Tips",{confirmButtonText:this.$t("shop.确定"),cancelButtonText:this.$t("shop.取消"),type:"warning"}).then((function(){e.$apiCall("api.ShopifyOrder.setUnableToPurchase",{itemId:t.id},(function(t){9999==t.ErrorCode?(e.getItem(),e.$elementMessage(e.$t("orders.已添加到无法采购"),"success")):e.$elementMessage(t.Message,"error")}))})).catch((function(){e.$message({type:"info",message:e.$t("orders.已取消")})}))},show:function(t){var e=this;this.$refs["popover"+t.orderId].showPopper=!0,this.$nextTick((function(){e.$refs["popover"+t.orderId].updatePopper()}))},enter:function(t){this.show(t)},leave:function(t){this.$refs["popover"+t.orderId].showPopper=!1},changeRole:function(){this.$route.params.status&&2!=this.$route.params.status?3==this.$route.params.status?this.$route.meta.roleWrite="invoiceDeliverEdit":4==this.$route.params.status?this.$route.meta.roleWrite="invoiceAbnormalEdit":5==this.$route.params.status?this.$route.meta.roleWrite="invoiceCompleteEdit":6==this.$route.params.status&&(this.$route.meta.roleWrite="invoiceAllEdit"):this.$route.meta.roleWrite="invoiceWaitEdit"},handleTypeOrder:function(t){this.batchType=t,this.getItem()},GetDateStr:function(t){var e=new Date;return e.setDate(e.getDate()-t),e.getTime()},isVip:function(){var t=this;this.$apiCall("api.Admin.getWaitShopifyOrder",{},(function(e){9999==e.ErrorCode&&(t.isVipUp=e.Data.Results)}))},handleAllFilter:function(){this.filterDialog.isShowDialog=!0},goToUP:function(){this.$router.push({name:"pricingUp"})},shopifyOrderCnt:function(t){var e=this;this.$showLoading(),this.$apiCall("api.ShopifyOrder.findByVendor",{invoiceId:t.id},(function(t){"9999"==t.ErrorCode?(t.Data.Results.length&&t.Data.Results.forEach((function(t){e.$set(t,"shippingJsonInfo",t.shippingJson?JSON.parse(t.shippingJson):"")})),e.dialogOrderCnt.items=t.Data.Results,e.dialogOrderCnt.isShow=!0):e.$elementMessage(t.Message,"error"),e.$hideLoading()}))},selectable:function(t,e){setTimeout((function(){return!(!t||!t.paymentType||1!=t.paymentType)}),1e3)},saveMarkShipped:function(){var t=this;return l(s().mark((function e(){var a,r,i,o;return s().wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.dialogMarkShipped.loading=!0,a=[],r=[],i=t.dialogMarkShipped.item.items.map((function(t){return{id:t.id,isManage:t.isManage}})),o=0;case 5:if(!(o<i.length)){e.next=13;break}if(1!=i[o].isManage){e.next=10;break}return a.push(i[o]),e.next=10,t.saveMarkShippedItem(i[o].id).then((function(t){r.push(t)}));case 10:o++,e.next=5;break;case 13:r.length==a.length&&(t.$elementMessage(t.$t("orders.success"),"success"),t.dialogMarkShipped.isShow=!1,t.getItem());case 14:case"end":return e.stop()}}),e)})))()},saveMarkShippedItem:function(t){var e=this;return new Promise((function(a,r){e.$apiCall("api.ShopifyOrder.changeDeliver",{itemId:t,trackNumber:e.dialogMarkShipped.trackNumber,trackCompany:e.dialogMarkShipped.trackCompany,trackKey:e.dialogMarkShipped.trackKey,trackUrl:e.dialogMarkShipped.trackUrl},(function(e){"9999"==e.ErrorCode?a(t):r(t)}))}))},markShippedOpen:function(t){var e=this;this.dialogMarkShipped=JSON.parse(this.dialogMarkShippedDefault),this.$showLoading(),this.$apiCall("api.Invoice.getShopifyCompany",{},(function(a){e.$hideLoading(),"9999"==a.ErrorCode?(e.dialogMarkShipped.shopifyCompany=a.Data.Results,e.dialogMarkShipped.isShow=!0,e.dialogMarkShipped.item=t):e.$elementMessage(a.Message,"error")}))},changeFail:function(t){this.failData.isShowDialog=!1},openAddComment:function(){this.$refs.uploadFile&&this.$refs.uploadFile.clearFiles(),this.DialogEditComment=JSON.parse(this.DialogEditCommentDefault),this.DialogEditComment.visible=!0},openSecretKey:function(){this.dialoKeyInfo=JSON.parse(this.dialogKeyInfoDefault),this.dialoKeyInfo.isShow=!0},openAuth:function(){this.dialoAuthInfo=JSON.parse(this.dialogAuthInfoDefault),this.dialoAuthInfo.shopData=localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")).erpShops:[],this.dialoAuthInfo.isShow=!0},submitUpload:function(t){var e=this;this.$showLoading(),0==$("#ifilePro").length&&$("body").append('<iframe id="ifilePro" style="display:none"></iframe>');var a=function(t){document.getElementById("ifilePro").src=t},r="api.ShopifyOrder.deliverImportNew",i={"@file":t};this.$apiCall(r,i,(function(t){"9999"==t.ErrorCode?(e.$elementMessage(e.$t("invoice.successImport"),"success"),a(t.Data.Results.file),e.dialoImportInfo=JSON.parse(e.dialogImportInfoDefault),e.getItem()):(e.$elementMessage(t.Message,"error"),"1002"!=t.ErrorCode&&"1003"!=t.ErrorCode||e.$userFailure(e)),e.$hideLoading()}))},createUpload:function(t){var e=this;this.$showLoading(),0==$("#ifileProCreate").length&&$("body").append('<iframe id="ifileProCreate" style="display:none"></iframe>');var a=function(t){document.getElementById("ifileProCreate").src=t},r="api.ShopifyOrder.importOrderExcel",i={"@file":t};this.$apiCall(r,i,(function(t){"9999"==t.ErrorCode?(e.$elementMessage("创建成功","success"),a(t.Data.Results.file),e.dialogCreateInfo=JSON.stringify(e.dialogCreateInfoDefault),e.getItem()):(e.$elementMessage(t.Message,"error"),"1002"!=t.ErrorCode&&"1003"!=t.ErrorCode||e.$userFailure(e)),e.$hideLoading()}))},openImport:function(){this.dialoImportInfo=JSON.parse(this.dialogImportInfoDefault),this.dialoImportInfo.isShow=!0},openCreate:function(){this.dialogCreateInfo=JSON.parse(this.dialogCreateInfoDefault),this.dialogCreateInfo.isShow=!0},relateFn:function(t){var e=this;this.$showLoading(),this.$apiCall("api.ShopifyOrder.setSkuRelation",{customerSku:this.dialogRelateInfo.item.variableId,customerId:this.dialogRelateInfo.item.customerId,vendorSku:t},(function(t){"9999"==t.ErrorCode?(e.$elementMessage(e.$t("orders.success"),"success"),e.dialogQuoteInfo=JSON.parse(e.dialogQuoteInfoDefault),e.dialogRelateInfo=JSON.parse(e.dialogRelateInfoDefault),e.$refs.gridTable.clearSelection(),e.getItem()):e.$elementMessage(t.Message,"error"),e.$hideLoading()}))},openRelate:function(t){var e=this;this.$showLoading(),this.$apiCall("api.VendorShop.vendorFindProducts",{page:1,rowsPerPage:10,status:1},(function(a){if("9999"==a.ErrorCode){if(!a.Data.Results.products||!a.Data.Results.products.length)return;e.dialogRelateInfo=JSON.parse(e.dialogRelateInfoDefault),e.dialogRelateInfo.isShow=!0,e.dialogRelateInfo.item=t,e.dialogRelateInfo.Pagination=a.Data.Pagination,e.dialogRelateInfo.items=[],e.dialogRelateInfo.list=[],a.Data.Results.products.forEach((function(t){t.stocks&&t.stocks.length&&t.stocks.forEach((function(a){e.$set(a,"name",t.name),e.dialogRelateInfo.items.push(a)})),e.dialogRelateInfo.list.push(t)}))}else e.$elementMessage(a.Message,"error");e.$hideLoading()}))},syncFn:function(t,e){"row"==t?this.sync(t,e):this.checkIds.length?this.sync():this.$elementMessage(this.$t("orders.selectOrder"),"error")},sync:function(t,e){var a=this,r=[];"row"==t?r.push(e.id):r=this.checkIds,this.$showLoading(),this.$apiCall("api.ShopifyOrder.setNotAbnormal",{ids:r},(function(t){"9999"==t.ErrorCode?(a.$elementMessage(a.$t("orders.success"),"success"),a.getItem()):a.$elementMessage(t.Message,"error"),a.$hideLoading()}))},payFn:function(t,e){if("row"==t)this.pay(t,e);else if(this.checkIds.length){var a=0;this.checkItems.forEach((function(t){1==t.paymentType&&a++})),a==this.checkIds.length?this.pay():this.$elementMessage("只有线下付款的订单支持确认收款","error")}else this.$elementMessage(this.$t("orders.selectOrder"),"error")},pay:function(t,e){var a=this;this.$confirm(this.$t("orders.confirmRe"),"",{confirmButtonText:this.$t("orders.confirm"),cancelButtonText:this.$t("orders.cancel"),type:""}).then((function(){var r=[];"row"==t?r.push(e.id):r=a.checkIds,a.payConfirm(r)})).catch((function(){}))},payConfirm:function(t){var e=this;return l(s().mark((function a(){var r,i;return s().wrap((function(a){while(1)switch(a.prev=a.next){case 0:e.$showLoading(),r=[],i=0;case 3:if(!(i<t.length)){a.next=9;break}return a.next=6,e.payConfirmItem(t[i]).then((function(t){r.push(t)}));case 6:i++,a.next=3;break;case 9:r.length==t.length&&(e.$elementMessage(e.$t("orders.success"),"success"),e.$hideLoading(),e.getItem());case 10:case"end":return a.stop()}}),a)})))()},payConfirmItem:function(t){var e=this;return new Promise((function(a,r){e.$apiCall("api.ShopifyOrder.setPaid",{id:t},(function(i){"9999"==i.ErrorCode?a(t):(e.$hideLoading(),e.$elementMessage(i.Message,"error"),r(t))}))}))},payCancelFn:function(t,e){"row"==t?this.payCancel(t,e):this.checkIds.length?this.payCancel():this.$elementMessage(this.$t("orders.selectOrder"),"error")},payCancel:function(t,e){var a=this;this.$confirm(this.$t("orders.payagain"),"",{confirmButtonText:this.$t("orders.confirm"),cancelButtonText:this.$t("orders.cancel"),type:""}).then((function(){var r=[];"row"==t?r.push(e.id):r=a.checkIds,a.payCanceled(r)})).catch((function(){}))},payCanceled:function(t){var e=this;return l(s().mark((function a(){var r,i;return s().wrap((function(a){while(1)switch(a.prev=a.next){case 0:e.$showLoading(),r=[],i=0;case 3:if(!(i<t.length)){a.next=9;break}return a.next=6,e.payCancelItem(t[i]).then((function(t){r.push(t)}));case 6:i++,a.next=3;break;case 9:r.length==t.length&&(e.$elementMessage(e.$t("orders.success"),"success"),e.$hideLoading(),e.getItem());case 10:case"end":return a.stop()}}),a)})))()},payCancelItem:function(t){var e=this;return new Promise((function(a,r){e.$apiCall("api.ShopifyOrder.setNotPaid",{id:t},(function(i){"9999"==i.ErrorCode?a(t):(e.$hideLoading(),e.$elementMessage(i.Message,"error"),r(t))}))}))},quoteFn:function(t,e){"row"==t?this.quote(t,e):this.checkIds.length?this.quote():this.$elementMessage(this.$t("orders.selectOrder"),"error")},quote:function(t,e){var a=this,r=[];"row"==t?r.push(e.id):r=this.checkIds,this.$showLoading(),this.$apiCall("api.ShopifyOrder.getOfferShopifyItems",{ids:r},(function(t){if("9999"==t.ErrorCode){var e=Object.values(t.Data.Results);if(!e||!e.length)return a.$hideLoading(),void a.$elementMessage("No data","error");localStorage.setItem("needQuoteOrders",JSON.stringify(e)),a.$router.push({name:"orderQuote",params:{ids:r}})}else a.$elementMessage(t.Message,"error");a.$hideLoading()}))},getStatus:function(){var t=this,e="";if(3==this.status)e=6;else if(5==this.status)e=7;else if(6==this.status)e="";else if(311==this.status)e=311;else if(15==this.status)e=15;else{var a=this.tabList.filter((function(e){return e.name==t.activeName}));e=a[0].id,2==this.status&&2==this.activeName&&(e=3)}return e},changeBackData:function(t){if(this.filterDialog.isShowDialog=t.show,t.ok){this.isFitterOrder=!0;var e={status:this.getStatus(),page:this.page,rowsPerPage:this.rowsPerPage};1==t.ok?e.codeNameList=t.order:e.orderIdList=t.order,this.filterDialog.obj=e,this.filterOrderFun(e)}},filterOrderFun:function(t){var e=this;this.$apiCall("api.ShopifyOrder.findByVendor",t,(function(t){9999==t.ErrorCode?(console.log(t.Data.Results,"asd1r.Data.Results"),e.items=t.Data.Results.searchResult,e.total=Number(t.Data.Pagination.totalCount),e.totalPage=Number(t.Data.Pagination.totalPage),e.page=t.Data.Pagination.page,t.Data.Results.noSearchList&&(e.failData.isShowDialog=!0,e.failData.obj=t.Data.Results.noSearchList)):e.$message({message:t.Message,type:"error"})}))},closeFilter:function(t){this.filterDialog.isShowDialog=t.show}},Object(d["a"])(c,"changeFail",(function(t){this.failData.isShowDialog=!1})),Object(d["a"])(c,"quoteCancelFn",(function(){var t=this;this.checkIds.length?this.$confirm(this.$t("orders.waive"),"",{confirmButtonText:this.$t("orders.confirm"),cancelButtonText:this.$t("orders.cancel"),type:""}).then((function(){t.$showLoading(),t.$apiCall("api.ShopifyOrder.cancel",{ids:t.checkIds},(function(e){"9999"==e.ErrorCode?(t.$elementMessage(t.$t("orders.success"),"success"),t.$refs.gridTable.clearSelection(),t.getItem()):t.$elementMessage(e.Message,"error"),t.$hideLoading()}))})).catch((function(){})):this.$elementMessage(this.$t("orders.selectOrder"),"error")})),Object(d["a"])(c,"handleSelectionChange",(function(t){var e=this;this.checkIds=[],this.checkItems=[],t.length&&t.forEach((function(t){e.checkItems.push(t),e.checkIds.push(t.id)}))})),Object(d["a"])(c,"dateChange",(function(){this.filterParams.date.length>1&&(this.filterParams.dateFrom=this.$moment(this.filterParams.date[0]).format("YYYY-MM-DD"),this.filterParams.dateTo=this.$moment(this.filterParams.date[1]).format("YYYY-MM-DD"),this.filterItem())})),Object(d["a"])(c,"dateChange2",(function(){this.filterParams.date2&&this.filterParams.date2.length>1?(this.filterParams.dateFrom2=this.$moment(this.filterParams.date2[0]).format("YYYY-MM-DD"),this.filterParams.dateTo2=this.$moment(this.filterParams.date2[1]).format("YYYY-MM-DD"),this.filterItem()):this.clearFilter("date2")})),Object(d["a"])(c,"clearFilter",(function(t){switch(t){case"codeName":this.filterParams.codeName="";break;case"orderId":this.filterParams.orderId="";break;case"receiverName":this.filterParams.receiverName="";break;case"accountIds":this.filterParams.accountIds="";break;case"relationshipId":this.filterParams.relationshipId="";break;case"date":this.filterParams.date=[],this.filterParams.dateFrom="",this.filterParams.dateTo="";break;case"date2":this.filterParams.date2=[],this.filterParams.dateFrom2="",this.filterParams.dateTo2="";break;case"sysCode":this.filterParams.sysCode="";break;default:this.filterParams=JSON.parse(this.filterParamsDefault);break}this.filterItem()})),Object(d["a"])(c,"filterItem",(function(t){1==this.$route.query.page?this.getItem():this.$router.push({path:"/ordersManage/".concat(Number(this.status),"/").concat(Number(this.activeName)),query:{page:1}})})),Object(d["a"])(c,"gettabList",(function(){switch(this.status){case 2:this.tabList=[{id:2,name:1,title:this.$t("orders.tabBar1")},{id:22,name:2,title:this.$t("orders.tabBar2")},{id:5,name:3,title:this.$t("orders.tabBar3")}];break;case 4:this.tabList=[{id:8,name:1,title:this.$t("orders.tabBar4")},{id:9,name:2,title:this.$t("orders.tabBar5")},{id:10,name:3,title:this.$t("orders.tabBar6")}];break;default:this.tabList=[];break}})),Object(d["a"])(c,"remoteMethodCustom",(function(){var t=this;this.vendorList=[],this.$apiCall("api.Relationship.findByVendor",{},(function(e){9999==e.ErrorCode?t.vendorList=e.Data.Results:t.$message({message:e.Message,type:"error"})}))})),Object(d["a"])(c,"getShopName",(function(){var t=this;this.storeList=[],this.$apiCall("api.Invoice.findStoreByVendor",{},(function(e){9999==e.ErrorCode?t.storeList=e.Data.Results:t.$message({message:e.Message,type:"error"})}))})),Object(d["a"])(c,"getVendorAllOrderCnt",(function(){var t=this;this.$apiCall("api.ShopifyOrder.getVendorAllOrderCnt",{},(function(e){9999==e.ErrorCode?t.vendorAllOrderCnt=e.Data.Results:t.$message({message:e.Message,type:"error"})}))})),Object(d["a"])(c,"getVendorOrderCnt",(function(t){var e=this;this.$apiCall("api.ShopifyOrder.getVendorAllOrderCnt",{status:5,shippingType:t},(function(a){9999==a.ErrorCode?(1==t?e.batchNum=a.Data.Results[5]:e.offlineNum=a.Data.Results[5],e.vendorAllOrderCnt=a.Data.Results):e.$message({message:a.Message,type:"error"})}))})),Object(d["a"])(c,"vendorAllOrderCntText",(function(t){var e=0;return e=22==t?this.vendorAllOrderCnt.waitVendorConfirmCnt?this.vendorAllOrderCnt.waitVendorConfirmCnt:0:this.vendorAllOrderCnt[t]?this.vendorAllOrderCnt[t]:0,e})),Object(d["a"])(c,"getItem",(function(t){var e=this;this.isFitterOrder=!1,this.gettabList(),this.remoteMethodCustom(),this.getShopName(),this.getVendorAllOrderCnt(),this.items=[];var a,r="",i="api.ShopifyOrder.findByVendor",o={page:this.page,rowsPerPage:this.rowsPerPage,status:r,dateFrom:this.filterParams.dateFrom,dateTo:this.filterParams.dateTo,accountIds:this.filterParams.accountIds?[this.filterParams.accountIds]:"",relationshipId:this.filterParams.relationshipId,orderId:this.filterParams.orderId,keywords:this.filterParams.codeName,receiverName:this.filterParams.receiverName},s={page:this.page,rowsPerPage:this.rowsPerPage,status:r,sysCode:this.filterParams.sysCode,timeCreatedFrom:this.filterParams.dateFrom2,timeCreatedTo:this.filterParams.dateTo2};if(a=o,3==this.status)r=6;else if(5==this.status)r=7;else if(6==this.status)r="",a=Object.assign(o,s);else if(311==this.status)r=311;else if(15==this.status)r=15;else{var n=this.tabList.filter((function(t){return t.name==e.activeName}));r=n[0].id,2==this.status&&2==this.activeName&&(r=3,a=s,i="api.ShopifyOrder.findByInvoice")}this.billStatus=r,a.shippingType=5==r?this.batchType:"",this.loading=!0,a.status=r,this.$apiCall(i,a,(function(a){e.loading=!1,9999==a.ErrorCode?(e.items=a.Data.Results,e.items.forEach((function(t){e.$set(t,"shippingJsonInfo",t.shippingJson?JSON.parse(t.shippingJson):""),t.accountPayment&&t.accountPayment.extJson&&(e.$set(t,"voucherUrl",t.accountPayment.extJson.voucherUrl||""),e.$set(t,"voucherUrlPreview",[t.accountPayment.extJson.voucherUrl]))})),e.total=Number(a.Data.Pagination.totalCount),e.totalPage=Number(a.Data.Pagination.totalPage),e.$getTableHeight(e),t||(e.$root.$children[0].$refs.mainScroll.wrap.scrollTop=0)):e.$message({message:a.Message,type:"error"})})),2==this.status&&3==this.activeName&&(this.getVendorOrderCnt(1),this.getVendorOrderCnt(2))})),Object(d["a"])(c,"toPage",(function(t){this.isFitterOrder?(this.filterDialog.obj.page=t,this.filterOrderFun(this.filterDialog.obj)):t!=this.$route.query.page&&this.$router.push({path:"/ordersManage/".concat(Number(this.status),"/").concat(Number(this.activeName)),query:{page:t}})})),Object(d["a"])(c,"changePageSize",(function(t){this.rowsPerPage=t,localStorage.setItem("ordersRowsPerPage",t),this.isFitterOrder?(this.filterDialog.obj.rowsPerPage=t,this.filterOrderFun(this.filterDialog.obj)):this.getItem()})),Object(d["a"])(c,"gotoPage",(function(){this.page=this.$route.query.page?this.$route.query.page:1,this.getItem()})),Object(d["a"])(c,"handleClick",(function(t,e){this.filterParams=JSON.parse(this.filterParamsDefault),this.getItem()})),c)},$t=St,It=(a("d457"),a("bd3c"),Object(m["a"])($t,r,i,!1,null,"52f3024b",null));e["default"]=It.exports},ab36:function(t,e,a){var r=a("861d"),i=a("9112");t.exports=function(t,e){r(e)&&"cause"in e&&i(t,"cause",e.cause)}},aeb0:function(t,e,a){var r=a("9bf2").f;t.exports=function(t,e,a){a in t||r(t,a,{configurable:!0,get:function(){return e[a]},set:function(t){e[a]=t}})}},afed:function(t,e,a){t.exports=a.p+"img/secretKey1.5bdafac9.png"},b584:function(t,e,a){"use strict";a("260b")},b636:function(t,e,a){var r=a("746f");r("asyncIterator")},b980:function(t,e,a){var r=a("d039"),i=a("5c6c");t.exports=!r((function(){var t=Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",i(1,7)),7!==t.stack)}))},bbe4:function(t,e,a){},bd3c:function(t,e,a){"use strict";a("d5d4")},c33b:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsTAAALEwEAmpwYAAAGtmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNi4wLWMwMDIgNzkuMTY0MzUyLCAyMDIwLzAxLzMwLTE1OjUwOjM4ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjEuMSAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDIxLTEyLTI5VDEzOjUzOjU2KzA4OjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyMS0xMi0yOVQxMzo1ODoyMCswODowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAyMS0xMi0yOVQxMzo1ODoyMCswODowMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NjBhZmZlYzktMjhhNC0wNjQxLTk3NTEtMWEzM2RhNWJlYTlkIiB4bXBNTTpEb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6ZWNhNGVhYWItYWQzNy0yZjQ5LTlkMjAtMzlmOTQ3MDM0MTQzIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6N2IzOTMyZmMtNzZmMS05ZTQzLWExZjItMTcyOGVjOTZhNzE2Ij4gPHBob3Rvc2hvcDpUZXh0TGF5ZXJzPiA8cmRmOkJhZz4gPHJkZjpsaSBwaG90b3Nob3A6TGF5ZXJOYW1lPSJTcGxpdCIgcGhvdG9zaG9wOkxheWVyVGV4dD0iU3BsaXQiLz4gPC9yZGY6QmFnPiA8L3Bob3Rvc2hvcDpUZXh0TGF5ZXJzPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjdiMzkzMmZjLTc2ZjEtOWU0My1hMWYyLTE3MjhlYzk2YTcxNiIgc3RFdnQ6d2hlbj0iMjAyMS0xMi0yOVQxMzo1Mzo1NiswODowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDIxLjEgKFdpbmRvd3MpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjb252ZXJ0ZWQiIHN0RXZ0OnBhcmFtZXRlcnM9ImZyb20gYXBwbGljYXRpb24vdm5kLmFkb2JlLnBob3Rvc2hvcCB0byBpbWFnZS9wbmciLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjYwYWZmZWM5LTI4YTQtMDY0MS05NzUxLTFhMzNkYTViZWE5ZCIgc3RFdnQ6d2hlbj0iMjAyMS0xMi0yOVQxMzo1ODoyMCswODowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDIxLjEgKFdpbmRvd3MpIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDwvcmRmOlNlcT4gPC94bXBNTTpIaXN0b3J5PiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PgfBp04AAADQSURBVDiNYwyK28BALmAiW+eoZjLAsZMP////f+HS86C4Df9hYMOW6w3tB////x8UtwGC/v//39B+EKIYrobF0kwuOW873Ky+KScYGBiKcizu3v+AZg0vD1vP1PPWp54V5VgEx29kYGBgevLsU0W+GbIiHh7W799/E+Xn+o6j37797m60h/CLcixiw/UWr7xElGYGBoYNW28JCXLBnR2TsW3n/ifEaGaZO8mTgYFh49YbEP7nL7+QGWsX+jMwMBRX74WLwBUwMDAwjmaMoaIZAAa0bJKUrm/sAAAAAElFTkSuQmCC"},c770:function(t,e,a){var r=a("e330"),i=Error,o=r("".replace),s=function(t){return String(i(t).stack)}("zxcasd"),n=/\n\s*at [^:]*:[^\n]*/,l=n.test(s);t.exports=function(t,e){if(l&&"string"==typeof t&&!i.prepareStackTrace)while(e--)t=o(t,n,"");return t}},cd22:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{title:t.$t("ticket.submitTicket"),visible:t.DialogEditComment.visible,width:"800px","append-to-body":""},on:{"update:visible":function(e){return t.$set(t.DialogEditComment,"visible",e)},closed:function(e){return t.$refs.uploadFile.clearFiles()}}},[a("el-divider"),a("div",[a("el-form",{ref:"CommentForm"},[a("el-form-item",{attrs:{label:t.$t("ticket.problemsOrRequirements")}},[a("el-input",{attrs:{type:"textarea"},model:{value:t.DialogEditComment.contents,callback:function(e){t.$set(t.DialogEditComment,"contents",e)},expression:"DialogEditComment.contents"}})],1),a("el-form-item",{attrs:{label:""}},[a("div",{staticStyle:{"font-size":"16px","font-weight":"bold",margin:"20px 0 0"}},[t._v(" "+t._s(t.$t("ticket.uploadImageAttachment"))+" ")])]),a("el-form-item",{attrs:{label:""}},[a("el-upload",{ref:"uploadFile",staticClass:"upload-file",attrs:{"on-change":t.handleChangeImg,"before-remove":t.handleRemoveImg,action:"","auto-upload":!1,accept:"image/gif,image/jpeg,image/jpg,image/png"}},[a("el-button",{ref:"uploadBtn",attrs:{size:"small",type:"primary",loading:t.DialogEditComment.uploadLoading}},[t._v(t._s(t.$t("ticket.browse")))])],1)],1)],1)],1),a("el-divider"),a("div",{staticClass:"dialog-footer d-flex justify-content-end",attrs:{slot:"footer"},slot:"footer"},[a("div",{staticClass:"mg-r-15"},[a("el-button",{attrs:{size:"small",type:"primary",loading:t.DialogEditComment.loading},on:{click:t.saveComment}},[t._v(t._s(t.$t("ticket.submitTicket")))])],1),a("div",[a("el-button",{attrs:{size:"small"},on:{click:function(e){t.DialogEditComment.visible=!1}}},[t._v(" "+t._s(t.$t("invoice.cancel")))])],1)])],1)},i=[],o=(a("d3b7"),a("159b"),a("b0c0"),a("a434"),{props:["DialogEditComment"],data:function(){return{}},methods:{handleRemoveImg:function(t,e){var a=this;e.forEach((function(e,r){e.name==t.name&&a.DialogEditComment.attach.splice(r,1)}))},handleChangeImg:function(t){var e=this;this.DialogEditComment.loading=!0,this.DialogEditComment.uploadLoading=!0,this.$apiCall("api.Comment.uploadAttach",{"@file":t.raw},(function(t){e.DialogEditComment.loading=!1,e.DialogEditComment.uploadLoading=!1,"9999"==t.ErrorCode?e.DialogEditComment.attach.push(t.Data.Results.url):e.$elementMessage(t.Message,"error")}))},saveComment:function(){var t=this;if(!this.DialogEditComment.contents)return this.$message({message:this.$t("invoice.emptyQuestion"),type:"error"}),!1;this.DialogEditComment.loading=!0,this.$apiCall("api.Comment.addByUser",{commentId:this.DialogEditComment.commentId,contents:this.DialogEditComment.contents,shopName:this.DialogEditComment.shopName,attach:this.DialogEditComment.attach},(function(e){t.DialogEditComment.loading=!1,9999==e.ErrorCode?(t.DialogEditComment.visible=!1,t.$message({message:t.$t("app._wewillReplyASAP"),type:"success"})):t.$message({message:e.Message,type:"error"})}))}}}),s=o,n=a("2877"),l=Object(n["a"])(s,r,i,!1,null,null,null);e["a"]=l.exports},d457:function(t,e,a){"use strict";a("495a")},d58f:function(t,e,a){var r=a("59ed"),i=a("7b0b"),o=a("44ad"),s=a("07fa"),n=TypeError,l=function(t){return function(e,a,l,c){r(a);var d=i(e),u=o(d),p=s(d),h=t?p-1:0,f=t?-1:1;if(l<2)while(1){if(h in u){c=u[h],h+=f;break}if(h+=f,t?h<0:p<=h)throw n("Reduce of empty array with no initial value")}for(;t?h>=0:p>h;h+=f)h in u&&(c=a(c,u[h],h,d));return c}};t.exports={left:l(!1),right:l(!0)}},d5d4:function(t,e,a){},d9e2:function(t,e,a){var r=a("23e7"),i=a("da84"),o=a("2ba4"),s=a("e5cb"),n="WebAssembly",l=i[n],c=7!==Error("e",{cause:7}).cause,d=function(t,e){var a={};a[t]=s(t,e,c),r({global:!0,constructor:!0,arity:1,forced:c},a)},u=function(t,e){if(l&&l[t]){var a={};a[t]=s(n+"."+t,e,c),r({target:n,stat:!0,constructor:!0,arity:1,forced:c},a)}};d("Error",(function(t){return function(e){return o(t,this,arguments)}})),d("EvalError",(function(t){return function(e){return o(t,this,arguments)}})),d("RangeError",(function(t){return function(e){return o(t,this,arguments)}})),d("ReferenceError",(function(t){return function(e){return o(t,this,arguments)}})),d("SyntaxError",(function(t){return function(e){return o(t,this,arguments)}})),d("TypeError",(function(t){return function(e){return o(t,this,arguments)}})),d("URIError",(function(t){return function(e){return o(t,this,arguments)}})),u("CompileError",(function(t){return function(e){return o(t,this,arguments)}})),u("LinkError",(function(t){return function(e){return o(t,this,arguments)}})),u("RuntimeError",(function(t){return function(e){return o(t,this,arguments)}}))},db1b:function(t,e,a){"use strict";a("9c0c")},e391:function(t,e,a){var r=a("577e");t.exports=function(t,e){return void 0===t?arguments.length<2?"":e:r(t)}},e3b9:function(t,e,a){},e5cb:function(t,e,a){"use strict";var r=a("d066"),i=a("1a2d"),o=a("9112"),s=a("3a9b"),n=a("d2bb"),l=a("e893"),c=a("aeb0"),d=a("7156"),u=a("e391"),p=a("ab36"),h=a("c770"),f=a("b980"),m=a("83ab"),g=a("c430");t.exports=function(t,e,a,v){var y="stackTraceLimit",b=v?2:1,w=t.split("."),_=w[w.length-1],k=r.apply(null,w);if(k){var S=k.prototype;if(!g&&i(S,"cause")&&delete S.cause,!a)return k;var $=r("Error"),I=e((function(t,e){var a=u(v?e:t,void 0),r=v?new k(t):new k;return void 0!==a&&o(r,"message",a),f&&o(r,"stack",h(r.stack,2)),this&&s(S,this)&&d(r,this,I),arguments.length>b&&p(r,arguments[b]),r}));if(I.prototype=S,"Error"!==_?n?n(I,$):l(I,$,{name:!0}):m&&y in k&&(c(I,k,y),c(I,k,"prepareStackTrace")),l(I,k),!g)try{S.name!==_&&o(S,"name",_),S.constructor=I}catch(C){}return I}}},e667:function(t,e,a){"use strict";a("6f3a")},f214:function(t,e,a){"use strict";a("fed8")},fa9e:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("el-dialog",{attrs:{title:t.$t("invoice.usertoken"),visible:t.keyData.isShow,width:"800px","close-on-click-modal":!1,"append-to-body":""},on:{"update:visible":function(e){return t.$set(t.keyData,"isShow",e)}}},[r("el-divider"),r("div",{staticStyle:{margin:"20px",color:"#303133"}},[r("p",[t._v(" "+t._s(t.$t("invoice.software"))+" ")])]),r("div",{staticClass:"d-body"},[r("p",[t._v(" "+t._s(t.$t("invoice.pastetoken"))+" ")]),r("div",{staticClass:"d-flex",staticStyle:{"justify-content":"space-around",margin:"15px 0"}},[r("div",{staticStyle:{width:"48%","margin-right":"2%"}},[r("p",{staticClass:"mg-y-10"},[t._v(t._s(t.$t("invoice.Picture1")))]),r("img",{staticStyle:{border:"1px solid #ddd"},attrs:{width:"100%",src:a("afed")}})]),r("div",{staticStyle:{width:"48%","margin-left":"2%"}},[r("p",{staticClass:"mg-y-10"},[t._v(t._s(t.$t("invoice.Picture2")))]),r("img",{staticStyle:{border:"1px solid #ddd"},attrs:{width:"100%",src:a("69a3")}})])]),r("p",{staticStyle:{"margin-top":"10px"}},[t._v(" "+t._s(t.$t("invoice.present"))+" "),r("el-link",{attrs:{target:"_blank",type:"primary",underline:!1,href:"//www.mabangerp.com/"}},[t._v("马帮ERP ")]),t._v(" "+t._s(t.$t("invoice.soon"))+" ")],1)]),r("div",{staticStyle:{margin:"20px",color:"rgb(153, 153, 153)"}},[r("p",[t._v(" "+t._s(t.$t("invoice.sametime"))+" "),r("el-link",{attrs:{type:"primary",underline:!1},on:{click:t.openAddComment}},[t._v(" "+t._s(t.$t("invoice.contact"))+" ")]),t._v("。 ")],1)]),r("el-divider"),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){t.keyData.isShow=!1}}},[t._v(" "+t._s(t.$t("importdata.gotIt"))+" ")])],1)],1)},i=[],o={props:["keyData"],data:function(){return{}},methods:{openAddComment:function(){this.$emit("openAddComment")}}},s=o,n=(a("4c55"),a("2877")),l=Object(n["a"])(s,r,i,!1,null,"af075a7e",null);e["a"]=l.exports},fb0f:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsTAAALEwEAmpwYAAAGsmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNi4wLWMwMDIgNzkuMTY0MzUyLCAyMDIwLzAxLzMwLTE1OjUwOjM4ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjEuMSAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDIxLTEyLTI5VDEzOjUzOjU2KzA4OjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyMS0xMi0yOVQxMzo1NjoyMCswODowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAyMS0xMi0yOVQxMzo1NjoyMCswODowMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MmVkOGUwMGMtODBlMS03MzQzLWI1NzEtY2NiOTg0ZGYzNzU1IiB4bXBNTTpEb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6YmQyZTI0MjItNjE3OS1kYTQyLWIxY2YtZGVmZDJhMWNiYjlhIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6NjQ0YTVlMGItZDhhYS0zMjRjLWJkZGQtMjUwOWEwM2U1NjkzIj4gPHBob3Rvc2hvcDpUZXh0TGF5ZXJzPiA8cmRmOkJhZz4gPHJkZjpsaSBwaG90b3Nob3A6TGF5ZXJOYW1lPSLmi4YiIHBob3Rvc2hvcDpMYXllclRleHQ9IuaLhiIvPiA8L3JkZjpCYWc+IDwvcGhvdG9zaG9wOlRleHRMYXllcnM+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6NjQ0YTVlMGItZDhhYS0zMjRjLWJkZGQtMjUwOWEwM2U1NjkzIiBzdEV2dDp3aGVuPSIyMDIxLTEyLTI5VDEzOjUzOjU2KzA4OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjEuMSAoV2luZG93cykiLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNvbnZlcnRlZCIgc3RFdnQ6cGFyYW1ldGVycz0iZnJvbSBhcHBsaWNhdGlvbi92bmQuYWRvYmUucGhvdG9zaG9wIHRvIGltYWdlL3BuZyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6MmVkOGUwMGMtODBlMS03MzQzLWI1NzEtY2NiOTg0ZGYzNzU1IiBzdEV2dDp3aGVuPSIyMDIxLTEyLTI5VDEzOjU2OjIwKzA4OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjEuMSAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+R3UFIgAAAg5JREFUOI1jDIrbwEAuYCJbJwMDAwsyR4CfrSLf7Nu33009J5HFFWR41FUFlBQE5GUFKpqOYNf84eMvVWXhi5dfQAxqrLDm4mQREuRCVhMXpr5o1U0smiHg2/dfEIaMFN+TZ58OH7vx8vXX5y++Pnr29cPHXwL8bOg262kKGuiKff32m4GBQUSYOy5M/dCxpwwMDI+ffIDbA3cdumZVZUF/bw0YW1hVWfju/Q9YgoiBQUGG58GTLxA2IzyqBPjZPnz8tXah//FTj+YsuQphY9W/bPXltVvuofgZ2T0CvGwQ7pNnn86ef8bAwODvrXH77ttrN15zc7PevvseZ4Cpq4q01EjWtBxC9rO/t8a1G6/R/M8C94mdlbSxoRQDAwMnB+vRk48+fP4F946zrQxW9yNSmL+3BhcnCwMDw4XLz6fPvyLAy8bAwPDq9bfIILWoUF0GBgZublbsmh88+bJs9eXUgt1wCT5eVgYGhq/ffk+ff2XWgrMMDAwuDspxYerYbYYEIByoKgsyMDC8ePmVgYFh5/4nDAwM37//9vfWmNjuCE8nWAIMArQ1RL9//3309Eu4yK59d79++60ozw+PF4TmYB8lbQ1RCFtBhkdfV+L4qUdoJqK5DuHsFy+/6utKPHn2ac3G23ZW0t+//16z8TayUswAY0QuDJCTHiTBIbvr9t33l66/x6mZVEBRSQIAdqbS1AmjY0YAAAAASUVORK5CYII="},fb6a:function(t,e,a){"use strict";var r=a("23e7"),i=a("e8b5"),o=a("68ee"),s=a("861d"),n=a("23cb"),l=a("07fa"),c=a("fc6a"),d=a("8418"),u=a("b622"),p=a("1dde"),h=a("f36a"),f=p("slice"),m=u("species"),g=Array,v=Math.max;r({target:"Array",proto:!0,forced:!f},{slice:function(t,e){var a,r,u,p=c(this),f=l(p),y=n(t,f),b=n(void 0===e?f:e,f);if(i(p)&&(a=p.constructor,o(a)&&(a===g||i(a.prototype))?a=void 0:s(a)&&(a=a[m],null===a&&(a=void 0)),a===g||void 0===a))return h(p,y,b);for(r=new(void 0===a?g:a)(v(b-y,0)),u=0;y<b;y++,u++)y in p&&d(r,u,p[y]);return r.length=u,r}})},fcf0:function(t,e,a){"use strict";a("49c5")},fed8:function(t,e,a){}}]);