(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["myCustom"],{"0040":function(e,t,a){},"06c5":function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));a("fb6a"),a("d3b7"),a("b0c0"),a("a630"),a("3ca3"),a("ac1f"),a("00b4");var o=a("6b75");function r(e,t){if(e){if("string"===typeof e)return Object(o["a"])(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Object(o["a"])(e,t):void 0}}},"19aa":function(e,t,a){var o=a("3a9b"),r=TypeError;e.exports=function(e,t){if(o(t,e))return e;throw r("Incorrect invocation")}},"1c59":function(e,t,a){"use strict";var o=a("6d61"),r=a("6566");o("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),r)},"1c7e":function(e,t,a){var o=a("b622"),r=o("iterator"),s=!1;try{var i=0,n={next:function(){return{done:!!i++}},return:function(){s=!0}};n[r]=function(){return this},Array.from(n,(function(){throw 2}))}catch(l){}e.exports=function(e,t){if(!t&&!s)return!1;var a=!1;try{var o={};o[r]=function(){return{next:function(){return{done:a=!0}}}},e(o)}catch(l){}return a}},2266:function(e,t,a){var o=a("0366"),r=a("c65b"),s=a("825a"),i=a("0d51"),n=a("e95a"),l=a("07fa"),c=a("3a9b"),d=a("9a1f"),u=a("35a1"),m=a("2a62"),f=TypeError,p=function(e,t){this.stopped=e,this.result=t},h=p.prototype;e.exports=function(e,t,a){var g,v,b,y,S,$,w,k=a&&a.that,I=!(!a||!a.AS_ENTRIES),D=!(!a||!a.IS_RECORD),C=!(!a||!a.IS_ITERATOR),_=!(!a||!a.INTERRUPTED),x=o(t,k),V=function(e){return g&&m(g,"normal",e),new p(!0,e)},N=function(e){return I?(s(e),_?x(e[0],e[1],V):x(e[0],e[1])):_?x(e,V):x(e)};if(D)g=e.iterator;else if(C)g=e;else{if(v=u(e),!v)throw f(i(e)+" is not iterable");if(n(v)){for(b=0,y=l(e);y>b;b++)if(S=N(e[b]),S&&c(h,S))return S;return new p(!1)}g=d(e,v)}$=D?e.next:g.next;while(!(w=r($,g)).done){try{S=N(w.value)}catch(P){m(g,"throw",P)}if("object"==typeof S&&S&&c(h,S))return S}return new p(!1)}},2626:function(e,t,a){"use strict";var o=a("d066"),r=a("9bf2"),s=a("b622"),i=a("83ab"),n=s("species");e.exports=function(e){var t=o(e),a=r.f;i&&t&&!t[n]&&a(t,n,{configurable:!0,get:function(){return this}})}},2884:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"contentpanel my-custom-page"},[a("div",{ref:"pageHeader",staticClass:"pagetitle"},[a("div",{staticClass:"left"},[a("div",{staticClass:"title"},[a("i",{staticClass:"el-icon-s-custom"}),a("h2",[e._v(e._s(e.$t("mycustomer.customers")))])])]),a("div",{staticClass:"right"},[a("el-button",{attrs:{type:"primary",size:"medium"},on:{click:e.openBatchVendor}},[e._v(" "+e._s(e.$t("mycustomer.batchSettings"))+" ")]),a("el-button",{attrs:{type:"primary",size:"medium",disabled:!e.$isRole(e.$route.meta.roleWrite)},on:{click:e.openAddVendor}},[e._v(" "+e._s(e.$t("mycustomer.customersAdd"))+" ")])],1)]),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"pagebody"},[a("el-row",{staticClass:"mg-b-20",attrs:{gutter:15}},[a("el-col",{attrs:{span:24}},[a("el-card",[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("div",{ref:"pageFilter",staticClass:"page-filter"},[a("el-form",{attrs:{inline:!0,size:"mini"}},[a("el-form-item",[a("el-select",{attrs:{filterable:"",remote:"","remote-method":e.remoteMethodCustom,loading:e.selectLoading,placeholder:e.$t("myinvoice.pleaseCusName"),clearable:""},on:{change:function(t){return e.filterGetItem("relationshipId")},clear:e.close},model:{value:e.filterParams.name,callback:function(t){e.$set(e.filterParams,"name",t)},expression:"filterParams.name"}},e._l(e.selectArr,(function(e){return a("el-option",{key:e.id,attrs:{label:e.customerName,value:e.customerName}})})),1)],1),(e.apiUserId,e._e()),a("el-form-item",[a("el-input",{attrs:{placeholder:e.$t("mycustomer.customersContact")},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.filterGetItem.apply(null,arguments)}},model:{value:e.filterParams.customerPhone,callback:function(t){e.$set(e.filterParams,"customerPhone",t)},expression:"filterParams.customerPhone"}})],1),a("el-form-item",[a("el-input",{attrs:{placeholder:e.$t("mycustomer.店铺名称")},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.filterGetItem.apply(null,arguments)}},model:{value:e.filterParams.accountName,callback:function(t){e.$set(e.filterParams,"accountName",t)},expression:"filterParams.accountName"}})],1),a("el-form-item",[a("el-input",{attrs:{placeholder:e.$t("mycustomer.电子邮箱")},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.filterGetItem.apply(null,arguments)}},model:{value:e.filterParams.email,callback:function(t){e.$set(e.filterParams,"email",t)},expression:"filterParams.email"}})],1),a("el-form-item",[a("el-date-picker",{attrs:{type:"daterange","range-separator":e.$t("mycustomer.至"),"start-placeholder":e.$t("mycustomer.开始日期"),"end-placeholder":e.$t("mycustomer.结束日期")},model:{value:e.filterParams.timeCreated,callback:function(t){e.$set(e.filterParams,"timeCreated",t)},expression:"filterParams.timeCreated"}})],1),a("el-form-item",[a("el-input",{attrs:{placeholder:e.$t("mycustomer.我已合作的商品SKU编号")},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.filterGetItem.apply(null,arguments)}},model:{value:e.filterParams.vendorSku,callback:function(t){e.$set(e.filterParams,"vendorSku",t)},expression:"filterParams.vendorSku"}})],1),a("el-form-item",[a("el-autocomplete",{staticClass:"mg-r-10",attrs:{"fetch-suggestions":e.querySearchAsync,placeholder:e.$t("请输入员工名称")},model:{value:e.supplierName,callback:function(t){e.supplierName=t},expression:"supplierName"}})],1),a("el-form-item",{attrs:{label:e.$t("mycustomer.storeAuthorized")}},[a("el-select",{staticStyle:{width:"90px"},attrs:{placeholder:e.$t("mycustomer.all")},on:{change:e.filterGetItem},model:{value:e.filterParams.isAuth,callback:function(t){e.$set(e.filterParams,"isAuth",t)},expression:"filterParams.isAuth"}},[a("el-option",{attrs:{label:e.$t("mycustomer.all"),value:""}}),a("el-option",{attrs:{label:e.$t("mycustomer.yes"),value:"true"}}),a("el-option",{attrs:{label:e.$t("mycustomer.no"),value:"false"}})],1)],1),a("el-form-item",{attrs:{label:e.$t("mycustomer.客户等级")}},[a("el-select",{staticStyle:{width:"90px"},attrs:{placeholder:e.$t("mycustomer.请选择客户等级")},on:{change:e.filterGetItem},model:{value:e.filterParams.clientGrade,callback:function(t){e.$set(e.filterParams,"clientGrade",t)},expression:"filterParams.clientGrade"}},[a("el-option",{attrs:{label:e.$t("mycustomer.all"),value:""}}),a("el-option",{attrs:{label:e.$t("mycustomer.一级"),value:"1"}}),a("el-option",{attrs:{label:e.$t("mycustomer.二级"),value:"2"}}),a("el-option",{attrs:{label:e.$t("mycustomer.三级"),value:"3"}})],1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.filterGetItem}},[e._v(" "+e._s(e.$t("mycustomer.filter"))+" ")]),a("el-button",{attrs:{type:"danger"},on:{click:e.clearFilter}},[e._v(" "+e._s(e.$t("mycustomer.clear"))+" ")])],1)],1)],1)])],1),a("el-table",{ref:"gridTable",staticStyle:{width:"100%"},attrs:{data:e.items,stripe:"","row-key":"id"}},[a("el-table-column",{attrs:{prop:"customerName",label:e.$t("mycustomer.customersName")},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[a("b",[e._v(e._s(t.row.customerName))]),t.row.customerRemark?a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.row.customerRemark,placement:"right"}},[a("i",{staticClass:"el-icon-chat-line-square"})]):e._e()],1),a("div",[e._v(" "+e._s(e.$t("mycustomer.授权Shopify"))+": "),t.row.shops&&t.row.shops.length?a("el-popover",{attrs:{trigger:"hover",placement:"right"}},[a("div",{staticStyle:{"font-size":"12px"},attrs:{slot:""},slot:"default"},e._l(t.row.shops,(function(t){return a("div",{key:t.url,staticClass:"d-flex mg-b-10"},[a("span",[e._v(e._s(e.$t("mycustomer.shopName")))]),a("a",{staticClass:"text-primary",attrs:{href:"//"+t.url,target:"_blank"}},[e._v(e._s(t.name))])])})),0),a("span",{attrs:{slot:"reference"},slot:"reference"},[a("a",{staticStyle:{color:"#5c6ac4"},attrs:{href:"javascript:;"},on:{click:function(a){return e.editShopName(t.row)}}},[e._v(e._s(t.row.customerAuthCnt))])])]):a("span",[e._v(e._s(t.row.customerAuthCnt))])],1)]}}])}),148797==e.apiUserId?a("el-table-column",{attrs:{label:e.$t("站长外部编号")},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.customCode||"--"))]}}],null,!1,271774915)}):e._e(),a("el-table-column",{attrs:{label:e.$t("员工名称")},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.inviterName||"--"))]}}])}),a("el-table-column",{attrs:{label:e.$t("是否开启二级分销商")},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{"active-value":"1","inactive-value":"2","active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:function(a){return e.changeSwitch(a,t.row.id,t.row.customerName)}},model:{value:t.row.distributionSwitch,callback:function(a){e.$set(t.row,"distributionSwitch",a)},expression:"scope.row.distributionSwitch"}})]}}])}),a("el-table-column",{attrs:{label:"分销商佣金"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(" "+e._s(t.row.commissionBalance||"--")+" ")])]}}])}),a("el-table-column",{attrs:{label:e.$t("mycustomer.customersContact")},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"customer-info-box"},[t.row.customerEmail?a("div",[a("span",{staticStyle:{color:"#606266"}},[a("i",{staticClass:"iconfont icon-email"})]),a("a",{attrs:{href:"mailto:"+t.row.customerEmail,target:"_blank"}},[e._v(e._s(t.row.customerEmail))])]):e._e(),t.row.customerWeChat?a("div",[a("span",{staticStyle:{color:"#55a947"}},[a("i",{staticClass:"iconfont icon-wechat"})]),e._v(" "+e._s(t.row.customerWeChat)+" ")]):e._e(),t.row.customerSkype?a("div",[a("span",{staticStyle:{color:"#00b0f6"}},[a("i",{staticClass:"iconfont icon-skype"})]),a("a",{attrs:{href:"skype:"+t.row.customerSkype+"?chat",target:"_blank"}},[e._v(e._s(t.row.customerSkype))])]):e._e(),t.row.customerLine?a("div",[a("span",{staticStyle:{color:"#00c300"}},[a("i",{staticClass:"iconfont icon-line"})]),e._v(" "+e._s(t.row.customerLine)+" ")]):e._e(),t.row.customerQQ?a("div",[a("span",{staticStyle:{color:"#1e6fff"}},[a("i",{staticClass:"iconfont icon-qq"})]),a("a",{attrs:{href:"tencent://message/?uin="+t.row.customerQQ+"&Site=5yoho&Menu=yes"}},[e._v(e._s(t.row.customerQQ))])]):e._e(),t.row.customerWangwang?a("div",[a("span",{staticStyle:{color:"#009fff"}},[a("i",{staticClass:"iconfont icon-wangwang"})]),a("a",{attrs:{href:"http://amos.alicdn.com/msg.aw?v=2&uid="+t.row.customerWangwang+"&site=cnalichn&s=11&charset=UTF-8",target:"_blank"}},[e._v(e._s(t.row.customerWangwang))])]):e._e(),t.row.customerWhatsapp?a("div",[a("span",{staticStyle:{color:"#109d58"}},[a("i",{staticClass:"iconfont icon-whatsapp"})]),a("a",{attrs:{href:"https://wa.me/"+t.row.customerWhatsapp,target:"_blank"}},[e._v(e._s(t.row.customerWhatsapp))])]):e._e()])]}}])}),1!=e.$store.state.userInfo.walletOpen?a("el-table-column",{scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(e._s(t.row.bonus||0))]),a("div",[[a("el-link",{staticClass:"mg-r-20",attrs:{disabled:!e.$isRole(e.$route.meta.roleWrite),type:(1==t.row.bonusStatus?"danger":2==t.row.bonusStatus&&"primary")||"primary"},on:{click:function(a){return e.showBonus(t.row,1)}}},[e._v(" "+e._s(1==t.row.bonusStatus&&e.$t("mycustomer.停用")||2==t.row.bonusStatus&&e.$t("mycustomer.启用")||e.$t("mycustomer.启用"))+" ")]),a("el-link",{staticClass:"mg-r-20",attrs:{disabled:!e.$isRole(e.$route.meta.roleWrite),type:"primary"},on:{click:function(a){return e.showBonus(t.row,2)}}},[e._v(" "+e._s(e.$t("mycustomer.充值"))+" ")]),a("el-link",{attrs:{disabled:!t.row.bonus||!e.$isRole(e.$route.meta.roleWrite),type:"primary"},on:{click:function(a){return e.openDeduction(t.row)}}},[e._v(" "+e._s(e.$t("mycustomer.扣款"))+" ")]),a("br")]],2)]}}],null,!1,3596797583)},[a("template",{slot:"header"},[a("span",[e._v(e._s(e.$t("mycustomer.客户Bonus余额"))+"("+e._s(e.$store.state.country.symbol)+")")]),a("el-tooltip",{attrs:{content:e.$t("mycustomer.您客户账户的预充值金额，如客户线下提前支付给您100美金，您可为其Bonus账户充值100美金，且开启Bonus功能后，您的客户即可在支付订单是用Bonus直接抵扣。"),placement:"bottom"}},[a("i",{staticClass:"el-icon-info"})])],1)],2):e._e(),a("el-table-column",{attrs:{label:e.$t("mycustomer.已授权店铺")},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[a("b",{staticStyle:{"font-size":"13px"},attrs:{type:"primary"}},[e._v(e._s(t.row.customerAuthCnt))])]),a("div",[a("el-link",{attrs:{disabled:!e.$isRole(e.$route.meta.roleWrite),type:"primary"},on:{click:function(a){return e.openInvitation(t.row)}}},[e._v(e._s(e.$t("mycustomer.storeInvite")))])],1)]}}])}),a("el-table-column",{attrs:{label:e.$t("mycustomer.总信用额度")+"/"+e.$t("mycustomer.剩余信用额度"),align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",[e._v(e._s(Number(t.row.creditAmount).toFixed(2)))]),a("p",[e._v(e._s((Number(t.row.creditAmount)-Number(t.row.usedCreditAmount)).toFixed(2)))])]}}])}),a("el-table-column",{attrs:{label:e.$t("mycustomer.operate"),width:"230"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[a("el-link",{staticClass:"mg-r-20",attrs:{disabled:!e.$isRole(e.$route.meta.roleWrite),type:"primary"},on:{click:function(a){return e.editVendor(t.row)}}},[e._v(e._s(e.$t("mycustomer.modify")))]),t.row.canDelete?a("el-link",{attrs:{disabled:!e.$isRole(e.$route.meta.roleWrite),type:"danger"},on:{click:function(a){return e.delVendor(t.row)}}},[e._v(e._s(e.$t("mycustomer.delete")))]):e._e()],1),t.row.shops&&0!=t.row.shops.length?a("div",[a("el-link",{attrs:{disabled:!e.$isRole(e.$route.meta.roleWrite),type:"primary"},on:{click:function(a){return e.editShopName(t.row)}}},[e._v(" "+e._s(e.$t("mycustomer.管理店铺别名"))+" ")])],1):e._e(),t.row.shops&&0!=t.row.shops.length?a("div",[a("el-link",{attrs:{disabled:!e.$isRole(e.$route.meta.roleWrite),type:"primary"},on:{click:function(a){return e.openSetIOSS(t.row)}}},[e._v("IOSS setting")])],1):e._e(),a("div",[a("el-link",{attrs:{type:"primary"},on:{click:function(a){return e.openTX(t.row)}}},[e._v("withdrawals")])],1)]}}])})],1)],1)],1)],1),e.items.length?a("el-row",{attrs:{gutter:20}},[a("el-col",{staticClass:"d-flex justify-content-center",attrs:{span:24}},[a("div",[a("el-pagination",{attrs:{"current-page":e.page,background:!0,layout:"sizes, total, prev, pager, next, jumper","page-sizes":e.pageSizes,"page-size":e.rowsPerPage,total:Number(e.total)},on:{"current-change":e.toPage,"size-change":e.changePageSize}})],1)])],1):e._e()],1),a("DialogAddVendor",{attrs:{addVendorDialog:e.addVendorDialog},on:{saveSuccess:function(t){return e.addVendorSaveSuccess()},openInvite:e.openInvite}}),a("el-dialog",{attrs:{title:e.$t("mycustomer.customersInvite"),visible:e.dialogInvite.isShow},on:{"update:visible":function(t){return e.$set(e.dialogInvite,"isShow",t)},opened:e.inviteOpened}},[a("el-divider"),a("div",[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.dialogInvite.wordLoading,expression:"dialogInvite.wordLoading"}],staticClass:"mg-b-15",attrs:{"label-width":"120px"}},[a("el-form-item",{attrs:{label:e.$t("mycustomer.messageEnter")}},[a("el-input",{staticStyle:{"font-size":"14px"},attrs:{type:"textarea",resize:"none",autosize:{minRows:3,maxRows:6},size:"small",placeholder:e.$t("mycustomer.messageInvitation")},on:{change:e.setInvoiceWord},model:{value:e.dialogInvite.words,callback:function(t){e.$set(e.dialogInvite,"words",t)},expression:"dialogInvite.words"}})],1)],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{staticClass:"mg-b-15",attrs:{span:24}},[a("div",{staticClass:"d-flex"},[a("span",{staticClass:"tx-right mg-r-10",staticStyle:{width:"120px"}},[e._v(" "+e._s(e.$t("mycustomer.appSocial"))+" ")]),a("div",{staticClass:"skype-share mg-r-10",attrs:{"data-href":e.dialogInvite.inviteUrl,"data-lang":"en-US","data-text":e.dialogInvite.words+" "+e.dialogInvite.inviteUrl,"data-style":"large"}}),a("div",[a("el-tooltip",{attrs:{placement:"bottom"}},[a("div",{attrs:{slot:"content"},slot:"content"},[a("p",{staticClass:"tx-center mg-b-10"},[e._v(e._s(e.$t("mycustomer.scan")))]),a("img",{attrs:{src:e.dialogInvite.qrcode,width:"130"}})]),a("a",{staticClass:"share-weixin",attrs:{href:"javascript:;"}},[a("i",{staticClass:"fa fa-weixin"}),e._v(" "+e._s(e.$t("mycustomer.share"))+" ")])])],1)])]),a("el-col",{attrs:{span:24}},[a("div",{staticClass:"d-flex"},[a("span",{staticClass:"tx-right mg-r-10",staticStyle:{width:"120px"}},[e._v(" "+e._s(e.$t("mycustomer.urlInvite"))+" ")]),a("a",{staticClass:"mg-r-15",attrs:{href:e.dialogInvite.inviteUrl,target:"_blank"}},[e._v(e._s(e.dialogInvite.inviteUrl))]),a("el-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.dialogInvite.inviteUrl,expression:"dialogInvite.inviteUrl",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:e.onError,expression:"onError",arg:"error"}],attrs:{size:"mini",type:"success"}},[e._v(e._s(e.$t("mycustomer.urlCopy")))])],1)])],1)],1),a("el-divider"),a("div",{staticClass:"dialog-footer d-flex justify-content-end",attrs:{slot:"footer"},slot:"footer"},[a("el-link",{staticClass:"mg-r-30",attrs:{type:"primary"}},[e._v(" "+e._s(e.$t("mycustomer.document"))+" ")]),a("el-button",{on:{click:function(t){e.dialogInvite.isShow=!1}}},[e._v(" "+e._s(e.$t("mycustomer.close"))+" ")])],1)],1),a("el-dialog",{attrs:{title:e.$t("mycustomer.客户Shopify店铺别名管理"),visible:e.ShopifyNameEdit},on:{"update:visible":function(t){e.ShopifyNameEdit=t}}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.aliasLoading,expression:"aliasLoading"}],staticClass:"mg-l-20 mg-b-20 mg-r-20"},[a("el-table",{attrs:{data:e.ShopOtherName}},[a("el-table-column",{attrs:{property:"name",label:e.$t("mycustomer.店铺名称"),width:"200"}}),a("el-table-column",{attrs:{property:"url",label:e.$t("mycustomer.店铺地址")},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.url?a("a",{staticClass:"text-primary",attrs:{href:"//"+t.row.url,target:"_blank"}},[e._v(e._s(t.row.url))]):a("span",[e._v("---")])]}}])}),a("el-table-column",{attrs:{property:"alias",label:e.$t("mycustomer.店铺别名")},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.alias?a("span",[e._v(e._s(t.row.alias))]):a("span",[e._v("---")])]}}])}),a("el-table-column",{attrs:{property:"active",label:e.$t("mycustomer.操作"),width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.alias?a("el-link",{attrs:{type:"primary"},on:{click:function(a){return e.editOtherName(t)}}},[e._v(e._s(e.$t("mycustomer.修改店铺别名")))]):e._e(),t.row.alias?e._e():a("el-link",{attrs:{type:"primary"},on:{click:function(a){return e.editOtherName(t)}}},[e._v(e._s(e.$t("mycustomer.添加店铺别名")))]),a("br"),t.row.alias?a("el-link",{attrs:{type:"danger"},on:{click:function(a){return e.deleteAlias(t)}}},[e._v(e._s(e.$t("mycustomer.删除店铺别名")))]):e._e()]}}])})],1)],1),a("el-dialog",{attrs:{width:"30%","show-close":!1,visible:e.EditInput,"append-to-body":""},on:{"update:visible":function(t){e.EditInput=t},close:function(t){e.OtherName=""}}},[a("el-form",{attrs:{"label-position":"left"}},[a("el-form-item",{attrs:{label:e.$t("mycustomer.请输入店铺别名:"),"label-width":"150px"}},[a("el-input",{model:{value:e.OtherName,callback:function(t){e.OtherName=t},expression:"OtherName"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.EditInput=!1}}},[e._v(" "+e._s(e.$t("mycustomer.取 消"))+" ")]),a("el-button",{attrs:{type:"primary"},on:{click:e.ChangeEdit}},[e._v(" "+e._s(e.$t("mycustomer.确定"))+" ")])],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.ShopifyNameEdit=!1}}},[e._v(" "+e._s(e.$t("mycustomer.关 闭"))+" ")])],1)],1),a("el-dialog",{staticClass:"dialog-open-custom",attrs:{title:e.$t("mycustomer.提示"),visible:e.bonusParams.isShow&&1==e.bonusParams.type,width:"30%"},on:{close:function(t){e.bonusParams.isShow=!1}}},[a("el-divider"),a("div",{staticClass:"dialog-body"},[a("p",[e._v(" "+e._s(1==e.bonusParams.status?e.$t("mycustomer.确定为 {name} 客户关闭Bonus抵扣功能？",{name:e.bonusParams.name}):e.$t("mycustomer.确定为 {name} 客户开启Bonus抵扣功能？",{name:e.bonusParams.name}))+" ")])]),a("el-divider"),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.bonusParams.isShow=!1}}},[e._v(e._s(e.$t("mycustomer.取 消")))]),a("el-button",{attrs:{type:"primary",loading:e.bonusParams.loading},on:{click:e.updateBonus}},[e._v(e._s(e.$t("mycustomer.确定")))])],1)],1),a("el-dialog",{staticClass:"dialog-open-custom",attrs:{title:e.$t("mycustomer.为{name}客户充值Bonus",{name:e.bonusParams.name}),visible:e.bonusParams.isShow&&2==e.bonusParams.type,width:"50%"},on:{close:function(t){e.bonusParams.isShow=!1}}},[a("el-divider"),a("div",{staticClass:"dialog-body"},[a("el-form",[a("el-form-item",{attrs:{label:e.$t("mycustomer.请输入金额："),required:""}},[a("el-input-number",{attrs:{min:0,precision:2,controls:!1},model:{value:e.bonusParams.num,callback:function(t){e.$set(e.bonusParams,"num",t)},expression:"bonusParams.num"}})],1),a("el-form-item",[a("i",{staticClass:"el-icon-info"}),e._v(" "+e._s(e.$t("mycustomer.bonusTips"))+" ")]),a("el-form-item",{staticClass:"d-flex bonusRemark",attrs:{label:e.$t("mycustomer.备注：")}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:2}},model:{value:e.bonusParams.remark,callback:function(t){e.$set(e.bonusParams,"remark",t)},expression:"bonusParams.remark"}})],1)],1)],1),a("el-divider"),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.bonusParams.isShow=!1}}},[e._v(e._s(e.$t("mycustomer.取 消")))]),a("el-button",{attrs:{type:"primary",loading:e.bonusParams.loading},on:{click:e.addBonusNum}},[e._v(e._s(e.$t("mycustomer.确定")))])],1)],1),a("el-dialog",{attrs:{title:e.$t("mycustomer.batchSettings"),visible:e.dialogEmailVisible,width:"30%"},on:{"update:visible":function(t){e.dialogEmailVisible=t}}},[a("div",{staticClass:"email-box"},[a("span",{staticClass:"txt"},[e._v("是否允许推送shopifly邮件")]),a("el-switch",{on:{change:e.switchEmail},model:{value:e.sendEmailFlag,callback:function(t){e.sendEmailFlag=t},expression:"sendEmailFlag"}})],1),a("div",{staticClass:"email-box"},[a("span",{staticClass:"txt"},[e._v("佣金批量设置")]),a("el-input-number",{staticStyle:{width:"150px"},attrs:{type:"number",precision:4,controls:!1,autocomplete:"off"},on:{change:e.rageTick},model:{value:e.BathBrokerage,callback:function(t){e.BathBrokerage=t},expression:"BathBrokerage"}})],1)]),a("el-backtop",{staticClass:"goto-top",attrs:{target:".main-scroll  .el-scrollbar__wrap",right:20,bottom:20}}),a("DialogSettingIOSS",{attrs:{data:e.dialogSettingIossData}}),a("dialogDeduction",{attrs:{data:e.dialogDeductionData},on:{saveDeduction:e.saveDeduction}}),a("el-dialog",{attrs:{title:e.$t("mycustomer.分销商佣金提现"),"before-close":e.cleanClose,visible:e.visibleTX,width:"550px","close-on-click-modal":!1},on:{"update:visible":function(t){e.visibleTX=t}}},[a("el-form",{ref:"dynamicValidateForm",staticClass:"demo-dynamic",attrs:{model:e.dynamicValidateForm,"label-width":"100px"}},[a("el-form-item",{attrs:{prop:"itemTotal",label:e.$t("mycustomer.提现金额"),rules:[{required:!0,message:e.$t("mycustomer.请输入佣金提现金额"),trigger:"blur"}]}},[a("el-input",{staticStyle:{width:"250px"},attrs:{oninput:"value=value.replace(/[^\\d.]/g,'')"},model:{value:e.dynamicValidateForm.itemTotal,callback:function(t){e.$set(e.dynamicValidateForm,"itemTotal",t)},expression:"dynamicValidateForm.itemTotal"}},[a("el-button",{attrs:{slot:"append"},slot:"append"},[e._v("￥")])],1)],1),a("el-form-item",[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.submitForm("dynamicValidateForm")}}},[e._v(e._s(e.$t("mycustomer.confirm")))]),a("el-button",{attrs:{size:"small"},on:{click:function(t){return e.resetForm("dynamicValidateForm")}}},[e._v(e._s(e.$t("mycustomer.cancel")))])],1)],1)],1)],1)},r=[],s=a("2909"),i=a("ade3"),n=(a("a9e3"),a("e9c4"),a("4de4"),a("d3b7"),a("b0c0"),a("d81d"),a("ac1f"),a("1276"),a("466d"),a("99af"),a("159b"),a("7db0"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{staticClass:"add-vendor-dialog",attrs:{title:e.addVendorDialog.id?e.$t("mycustomer.Modify"):Number(e.$store.state.cnt.customerCnt)?""+e.$t("mycustomer.addNumCustomer",{num:Number(e.$store.state.cnt.customerCnt)+1}):e.$t("mycustomer.laststep"),visible:e.addVendorDialog.isShow,width:"920px","show-close":!!e.$store.state.cnt.customerCnt,"close-on-press-escape":!1,"close-on-click-modal":!1},on:{"update:visible":function(t){return e.$set(e.addVendorDialog,"isShow",t)},closed:e.closed}},[a("el-divider"),e.visibleMask?a("div",{staticClass:"mask"},[a("div",{staticClass:"mask-content"},[a("i",{staticClass:"tx-success el-icon-success"}),a("div",[a("div",{staticClass:"tx1"},[e._v(e._s(e.$t("mycustomer.customernum",{num:e.$store.state.cnt.customerCnt})))]),a("div",{staticClass:"tx2"},[e._v(e._s(e.$t("mycustomer.youcan")))]),a("ul",[a("li",[a("i",{staticClass:"el-icon-arrow-right"}),a("el-link",{attrs:{type:"primary"},on:{click:function(t){return e.action(2)}}},[e._v(e._s(e.$t("mycustomer.Invitecustomers2")))]),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.$t("mycustomer.一键邀请提示"),placement:"top"}},[a("i",{staticClass:"fa fa-question-circle-o"})])],1),a("li",[a("i",{staticClass:"el-icon-arrow-right"}),a("el-link",{attrs:{type:"primary"},on:{click:function(t){return e.action(3)}}},[e._v(e._s(e.$t("mycustomer.Viewcustomer")))])],1)])]),a("div",{staticClass:"bottom-btn-avd"},[a("el-button",{on:{click:function(t){e.addVendorDialog.isShow=!1}}},[e._v(e._s(e.$t("mycustomer.Remindme")))])],1)])]):e._e(),a("el-row",[Number(e.$store.state.cnt.customerCnt)?e._e():a("el-col",{staticClass:"row1-avd",attrs:{span:24}},[e._v(" "+e._s(e.$t("mycustomer.Justcreate"))+" ")]),a("el-tabs",{staticClass:"vendor-tab",on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:e.$t("mycustomer.基础信息"),name:"first"}},[a("el-form",[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:e.addVendorDialog.id?12:24}},[a("el-form-item",{attrs:{label:e.$t("mycustomer.customersName"),"label-width":e.addVendorDialog.labelW,required:""}},[a("el-input",{attrs:{placeholder:e.$t("mycustomer.given"),"auto-complete":"off"},model:{value:e.addVendorDialog.name,callback:function(t){e.$set(e.addVendorDialog,"name",t)},expression:"addVendorDialog.name"}})],1)],1),a("el-col",{attrs:{span:e.addVendorDialog.id?12:24}},[a("el-form-item",{attrs:{label:e.$t("importdata.cusEmail"),"label-width":e.addVendorDialog.labelW}},[a("el-input",{attrs:{placeholder:e.$t("mycustomer.Automaticallynotify"),disabled:e.addVendorDialog.isEdit,"auto-complete":"off"},model:{value:e.addVendorDialog.email,callback:function(t){e.$set(e.addVendorDialog,"email",t)},expression:"addVendorDialog.email"}})],1)],1)],1),e.addVendorDialog.id?[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:e.$t("mycustomer.Wechat"),"label-width":e.addVendorDialog.labelW}},[a("el-input",{attrs:{placeholder:e.$t("mycustomer.CustomersWechat"),"auto-complete":"off"},model:{value:e.addVendorDialog.weChat,callback:function(t){e.$set(e.addVendorDialog,"weChat",t)},expression:"addVendorDialog.weChat"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"Skype","label-width":e.addVendorDialog.labelW}},[a("el-input",{attrs:{placeholder:e.$t("mycustomer.CustomersSkype"),"auto-complete":"off"},model:{value:e.addVendorDialog.skype,callback:function(t){e.$set(e.addVendorDialog,"skype",t)},expression:"addVendorDialog.skype"}})],1)],1)],1),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"Line","label-width":e.addVendorDialog.labelW}},[a("el-input",{attrs:{placeholder:e.$t("mycustomer.CustomersLine"),"auto-complete":"off"},model:{value:e.addVendorDialog.line,callback:function(t){e.$set(e.addVendorDialog,"line",t)},expression:"addVendorDialog.line"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"QQ","label-width":e.addVendorDialog.labelW}},[a("el-input",{attrs:{placeholder:e.$t("mycustomer.CustomersQQ"),"auto-complete":"off"},model:{value:e.addVendorDialog.QQ,callback:function(t){e.$set(e.addVendorDialog,"QQ",t)},expression:"addVendorDialog.QQ"}})],1)],1)],1),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:e.$t("mycustomer.wang"),"label-width":e.addVendorDialog.labelW}},[a("el-input",{attrs:{placeholder:e.$t("mycustomer.CustomersWangwang"),"auto-complete":"off"},model:{value:e.addVendorDialog.wangwang,callback:function(t){e.$set(e.addVendorDialog,"wangwang",t)},expression:"addVendorDialog.wangwang"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"Whatsapp","label-width":e.addVendorDialog.labelW}},[a("el-input",{attrs:{placeholder:e.$t("mycustomer.CustomersWhatsApp"),"auto-complete":"off"},model:{value:e.addVendorDialog.whatsapp,callback:function(t){e.$set(e.addVendorDialog,"whatsapp",t)},expression:"addVendorDialog.whatsapp"}})],1)],1)],1),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:e.$t("mycustomer.客户等级"),"label-width":e.addVendorDialog.labelW}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.addVendorDialog.clientGrade,callback:function(t){e.$set(e.addVendorDialog,"clientGrade",t)},expression:"addVendorDialog.clientGrade"}},e._l(e.optionsLevel,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:e.$t("mycustomer.手机号"),"label-width":e.addVendorDialog.labelW}},[a("el-input",{attrs:{placeholder:e.$t("mycustomer.CustomersWhatsApp"),"auto-complete":"off"},model:{value:e.addVendorDialog.customerPhone,callback:function(t){e.$set(e.addVendorDialog,"customerPhone",t)},expression:"addVendorDialog.customerPhone"}})],1)],1)],1)]:e._e(),a("el-form-item",{attrs:{label:e.$t("mycustomer.客户备注"),"label-width":e.addVendorDialog.labelW}},[a("el-input",{attrs:{placeholder:e.$t("mycustomer.(选填)  您可以对您的客户进行信息备注"),"auto-complete":"off"},model:{value:e.addVendorDialog.remark,callback:function(t){e.$set(e.addVendorDialog,"remark",t)},expression:"addVendorDialog.remark"}})],1),148797==e.apiUserId?a("el-form-item",{attrs:{label:e.$t("站长外部编号"),"label-width":e.addVendorDialog.labelW}},[a("el-input",{attrs:{placeholder:e.$t("站长外部编号"),"auto-complete":"off"},model:{value:e.addVendorDialog.customCode,callback:function(t){e.$set(e.addVendorDialog,"customCode",t)},expression:"addVendorDialog.customCode"}})],1):e._e()],2)],1),a("div"),a("el-tab-pane",{attrs:{label:e.$t("mycustomer.信用额度"),name:"second"}},[a("div",[a("span",{staticStyle:{"padding-left":"35px"}},[e._v(e._s(e.$t("mycustomer.是否允许分销商使用信用额度")))]),a("el-switch",{staticStyle:{"margin-left":"30px"},attrs:{"active-color":"#7d88d0"},model:{value:e.addVendorDialog.creditStatus,callback:function(t){e.$set(e.addVendorDialog,"creditStatus",t)},expression:"addVendorDialog.creditStatus"}})],1),a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{"status-icon":"","label-width":"100px"}},[a("el-form-item",{attrs:{label:""+e.$t("mycustomer.信用额度")+e.$store.state.country.symbol}},[a("el-input",{attrs:{type:"number",autocomplete:"off"},model:{value:e.addVendorDialog.creditAmount,callback:function(t){e.$set(e.addVendorDialog,"creditAmount",t)},expression:"addVendorDialog.creditAmount"}})],1)],1)],1),a("el-tab-pane",{attrs:{label:e.$t("mycustomer.佣金设置"),name:"Third"}},[a("div",{staticStyle:{"padding-left":"20px"}},[e._v(" "+e._s(e.$t("mycustomer.佣金返回设置"))+" ")]),a("el-form",{ref:"ruleFormTD",staticClass:"demo-ruleForm",attrs:{"status-icon":"","label-width":"100px"}},[a("el-form-item",{attrs:{label:e.$t("mycustomer.佣金费用")}},[a("el-input-number",{staticStyle:{width:"150px"},attrs:{type:"number",precision:4,controls:!1,autocomplete:"off"},model:{value:e.addVendorDialog.brokerage,callback:function(t){e.$set(e.addVendorDialog,"brokerage",t)},expression:"addVendorDialog.brokerage"}})],1)],1)],1)],1)],1),a("el-divider"),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e.$store.state.cnt.customerCnt?a("el-button",{on:{click:function(t){e.addVendorDialog.isShow=!1}}},[e._v(e._s(e.$t("mycustomer.cancel")))]):e._e(),a("el-button",{attrs:{type:"primary",loading:e.addVendorDialog.loading},on:{click:function(t){return e.saveVendor()}}},[e._v(e._s(e.$t("mycustomer.confirm")))])],1)],1)],1)}),l=[],c={props:["addVendorDialog"],data:function(){return{visibleMask:!1,newName:"",flag:!0,activeName:"first",apiUserId:JSON.parse(localStorage.getItem("userInfo")).id,optionsLevel:[{value:"1",label:this.$t("mycustomer.一级")},{value:"2",label:this.$t("mycustomer.二级")},{value:"3",label:this.$t("mycustomer.三级")}]}},methods:{closed:function(){this.visibleMask=!1},handleClick:function(){},action:function(e){switch(e){case 1:this.$router.push({name:"importData",query:{rid:this.newRid}});break;case 2:"myCustom"==this.$route.name?this.$emit("openInvite",this.newName):this.$router.push({name:"myCustom",params:{name:this.newName,openInvite:!0}});break;case 3:"myCustom"!=this.$route.name&&this.$router.push({name:"myCustom"});break}this.addVendorDialog.isShow=!1},saveVendor:function(){var e=this;if(this.addVendorDialog.name)if(this.addVendorDialog.creditAmount){this.addVendorDialog.loading=!0;var t="api.Relationship.addByVendor",a={name:this.addVendorDialog.name,email:this.addVendorDialog.email,remark:this.addVendorDialog.remark,weChat:this.addVendorDialog.weChat,skype:this.addVendorDialog.skype,line:this.addVendorDialog.line,clientGrade:this.addVendorDialog.clientGrade,customerPhone:this.addVendorDialog.customerPhone,QQ:this.addVendorDialog.QQ,creditAmount:this.addVendorDialog.creditAmount,creditStatus:1==this.addVendorDialog.creditStatus?1:2,wangwang:this.addVendorDialog.wangwang,whatsapp:this.addVendorDialog.whatsapp,customCode:this.addVendorDialog.customCode};this.addVendorDialog.id&&(a.relationshipId=this.addVendorDialog.id,t="api.Relationship.changeByVendor"),console.log(a),this.$apiCall(t,a,(function(t){e.addVendorDialog.loading=!1,9999==t.ErrorCode?(e.$message({message:e.addVendorDialog.id?e.$t("mycustomer.Modification"):e.$t("importdata.addSuccess"),type:"success"}),e.$emit("saveSuccess"),e.$root.$children[0].getCnt(),e.addVendorDialog.id||(e.newName=e.addVendorDialog.name,e.newRid=t.Data.Results,e.$message({message:"success",type:"success"})),e.addVendorDialog.isShow=!1):e.$message({message:t.Message,type:"error"})}))}else this.$message({message:this.$t("importdata.errorLimit"),type:"error"});else this.$message({message:this.$t("importdata.cusNameFilled"),type:"error"})}}},d=c,u=(a("2b78"),a("2877")),m=Object(u["a"])(d,n,l,!1,null,null,null),f=m.exports,p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:e.data.loading,expression:"data.loading"}],attrs:{title:"IOSS Set",visible:e.data.isShow,"close-on-click-modal":!1,width:"920px"},on:{"update:visible":function(t){return e.$set(e.data,"isShow",t)},open:e.opened}},[a("el-divider"),a("div",{staticClass:"d-body"},[a("div",{staticClass:"action-row"},[a("el-button",{attrs:{icon:"el-icon-plus",type:"primary",size:"small"},on:{click:function(t){return e.openEditIOSS()}}},[e._v("Add IOSS")])],1),a("el-table",{staticStyle:{width:"100%","margin-bottom":"15px"},attrs:{data:e.data.items,stripe:"",height:"300px"}},[a("el-table-column",{attrs:{label:"descriptive",prop:"name"}}),a("el-table-column",{attrs:{label:"IOSS ID",prop:"iossId",width:"200"}}),a("el-table-column",{attrs:{label:"associated country"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",e._l(t.row.countrys,(function(t){return a("el-tag",{key:t,staticStyle:{margin:"5px"}},[e._v(" "+e._s(e.showCountry(t))+" ")])})),1)]}}])}),a("el-table-column",{attrs:{label:"opera",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[a("el-link",{staticStyle:{"margin-right":"10px"},attrs:{icon:"el-icon-edit",type:"primary"},on:{click:function(a){return e.openEditIOSS(t.row)}}}),a("el-link",{attrs:{icon:"el-icon-delete",type:"danger"},on:{click:function(a){return e.delIOSS(t.row,t.$index)}}})],1)]}}])})],1),a("div",{staticClass:"options-wrap"},[a("el-radio",{attrs:{label:!1},model:{value:e.data.isOpenIoss,callback:function(t){e.$set(e.data,"isOpenIoss",t)},expression:"data.isOpenIoss"}},[e._v("NO IOSS")]),a("p",{staticClass:"mg-b-15"},[e._v("When the parcel arrives in the EU destination country, the amount of the order (including shipping costs) will be declared and customs will ask the recipient to pay VAT.")]),a("el-radio",{attrs:{label:!0},model:{value:e.data.isOpenIoss,callback:function(t){e.$set(e.data,"isOpenIoss",t)},expression:"data.isOpenIoss"}},[e._v("Using the customer's IOSS")]),a("p",[e._v("Please enter the correct and valid IOSS ID that should be associated with the corresponding destination country. If the destination country is not associated with the correct IOSS ID, the IOSS ID will not be applied")])],1)],1),a("el-divider"),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.data.isShow=!1}}},[e._v("cancel")]),a("el-button",{attrs:{type:"primary"},on:{click:e.changeIoss}},[e._v("Instant Updates")])],1)],1),a("DialogEditIOSS",{attrs:{relationshipId:e.data.id,countryArr:e.countryArr,linked:e.linked,data:e.dialogEditIOSSData},on:{saveIOSSSuccess:e.saveIOSSSuccess}})],1)},h=[],g=(a("6062"),a("3ca3"),a("ddb0"),a("a434"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:(e.data.id?"edit":"add")+" IOSS",visible:e.data.isShow,"close-on-click-modal":!1,width:"600px"},on:{"update:visible":function(t){return e.$set(e.data,"isShow",t)},open:e.opened,close:e.closed}},[a("el-divider"),a("div",{staticClass:"d-body"},[a("el-form",{ref:"ruleForm",attrs:{model:e.data.form,rules:e.rules,"label-width":"150px"}},[a("el-form-item",{attrs:{label:"descriptive:",prop:"name"}},[a("el-input",{attrs:{placeholder:"Please enter a description"},model:{value:e.data.form.name,callback:function(t){e.$set(e.data.form,"name",t)},expression:"data.form.name"}})],1),a("el-form-item",{attrs:{label:"IOSS ID:",prop:"iossId"}},[a("el-input",{attrs:{placeholder:"Please enter IOSS ID"},model:{value:e.data.form.iossId,callback:function(t){e.$set(e.data.form,"iossId",t)},expression:"data.form.iossId"}})],1),a("el-form-item",{attrs:{label:"Destination country:",prop:"countrys",required:""}},[a("el-select",{staticStyle:{width:"412px"},attrs:{multiple:"",filterable:"","default-first-option":"",placeholder:"Please select the country of destination"},model:{value:e.data.form.countrys,callback:function(t){e.$set(e.data.form,"countrys",t)},expression:"data.form.countrys"}},e._l(e.countryArr,(function(t){return a("el-option",{key:t.value,attrs:{label:t.labelCN,value:t.value,disabled:e.linked.arr.indexOf(t.value)>-1&&e.data.oldCountrys.indexOf(t.value)<0}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.labelCN))]),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.label))])])})),1)],1)],1)],1),a("el-divider"),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.data.isShow=!1}}},[e._v("cancel")]),a("el-button",{attrs:{loading:e.data.loading,type:"primary"},on:{click:function(t){return e.save("ruleForm")}}},[e._v("save")])],1)],1)}),v=[],b=(a("d9e2"),a("00b4"),a("a15b"),{props:["data","countryArr","linked","relationshipId"],data:function(){var e=function(e,t,a){setTimeout((function(){t&&t.length||a(new Error("Select at least one country region")),a()}),100)},t=function(e,t,a){setTimeout((function(){(!t||t.length<12||!/^[0-9A-Za-z]*$/.test(t))&&a(new Error("IOSS ID must be entered. Letters or numbers of at least 12 characters")),a()}),100)};return{rules:{name:[{required:!0,message:"Description must be entered",trigger:"blur"}],iossId:[{required:!0,message:"IOSS ID must be entered. Letters or numbers of at least 12 characters",trigger:"blur"},{validator:t,trigger:"blur"}],countrys:[{validator:e,trigger:"change"}]}}},methods:{save:function(e){var t=this;this.data.loading=!0,this.$refs[e].validate((function(e){if(!e)return t.data.loading=!1,!1;var a={relationshipId:t.relationshipId,name:t.data.form.name,iossId:t.data.form.iossId,countrys:t.data.form.countrys.join(",")};t.data.id&&(a.id=t.data.id),t.$confirm("The IOSS of orders that have been imported to ERP and shipped orders cannot be changed, updating the IOSS will overwrite the IOSS of your customer's order, so please be careful!",{confirmButtonText:"ok",cancelButtonText:"cancel",type:"info"}).then((function(){t.setSave(a)})).catch((function(){t.data.loading=!1}))}))},setSave:function(e){var t=this;this.$apiCall("api.User.editIoss",e,(function(e){t.data.loading=!1,"9999"==e.ErrorCode?t.$emit("saveIOSSSuccess"):t.$message({message:e.Message,type:"error"})}))},opened:function(){var e=this;setTimeout((function(){e.$refs["ruleForm"].clearValidate()}),150)},closed:function(){this.$refs["ruleForm"].clearValidate()}}}),y=b,S=Object(u["a"])(y,g,v,!1,null,null,null),$=S.exports,w={props:["data"],data:function(){return{dialogEditIOSSData:{isShow:!1,loading:!1,id:"",form:{name:"",iossId:"",countrys:[]},oldCountrys:[]},defaultDialogEditIOSSData:"{}",countryArr:[{value:"AT",label:"Austria",labelCN:"奥地利"},{value:"BE",label:"Belgium",labelCN:"比利时"},{value:"BG",label:"Bulgaria",labelCN:"保加利亚"},{value:"CY",label:"Cyprus",labelCN:"塞浦路斯"},{value:"CZ",label:"Czechia",labelCN:"捷克"},{value:"DE",label:"Germany",labelCN:"德国"},{value:"DK",label:"Denmark",labelCN:"丹麦"},{value:"EE",label:"Estonia",labelCN:"爱沙尼亚"},{value:"ES",label:"Spain",labelCN:"西班牙"},{value:"FI",label:"Finland",labelCN:"芬兰"},{value:"FR",label:"France",labelCN:"法国"},{value:"GR",label:"Greece",labelCN:"希腊"},{value:"HR",label:"Croatia",labelCN:"克罗地亚"},{value:"HU",label:"Hungary",labelCN:"匈牙利"},{value:"IE",label:"Ireland",labelCN:"爱尔兰"},{value:"IT",label:"Italy",labelCN:"意大利"},{value:"LT",label:"Lithuania",labelCN:"立陶宛"},{value:"LU",label:"Luxembourg",labelCN:"卢森堡"},{value:"LV",label:"Latvia",labelCN:"拉脱维亚"},{value:"MT",label:"Malta",labelCN:"马耳他"},{value:"NL",label:"Netherlands (the)",labelCN:"荷兰"},{value:"PL",label:"Poland",labelCN:"波兰"},{value:"PT",label:"Portugal",labelCN:"葡萄牙"},{value:"RO",label:"Romania",labelCN:"罗马尼亚"},{value:"SE",label:"Sweden",labelCN:"瑞典"},{value:"SI",label:"Slovenia",labelCN:"斯洛文尼亚"},{value:"SK",label:"Slovakia",labelCN:"斯洛伐克"}]}},components:{DialogEditIOSS:$},computed:{linked:function(){var e=[];return this.data.items.forEach((function(t){e=e.concat(t.countrys)})),e=Object(s["a"])(new Set(e)),{arr:e,linkedNum:e.length,unlinkedNum:this.countryArr.length-e.length}}},mounted:function(){this.defaultDialogEditIOSSData=JSON.stringify(this.dialogEditIOSSData)},methods:{changeIoss:function(){var e=this;this.$confirm("已导入至ERP订单和已发货订单IOSS无法更改，更新IOSS会覆盖您客户订单的IOSS，请谨慎操作！",{confirmButtonText:"确认",cancelButtonText:"取消",type:"warning"}).then((function(){e.$apiCall("api.User.setIoss",{isOpenIoss:e.data.isOpenIoss,relationshipId:e.data.id},(function(t){"9999"==t.ErrorCode?(e.data.isShow=!1,e.$message({message:"保存成功",type:"success"})):(e.data.isOpenIoss=!e.data.isOpenIoss,e.$message({message:t.Message,type:"error"}))}))})).catch()},openEditIOSS:function(e){var t=this;this.dialogEditIOSSData=JSON.parse(this.defaultDialogEditIOSSData),e&&(this.dialogEditIOSSData.form.name=e.name,this.dialogEditIOSSData.form.iossId=e.iossId,this.dialogEditIOSSData.id=e.id,this.dialogEditIOSSData.isShow=!0,this.dialogEditIOSSData.oldCountrys=JSON.parse(JSON.stringify(e.countrys)),setTimeout((function(){t.$set(t.dialogEditIOSSData.form,"countrys",JSON.parse(JSON.stringify(e.countrys)))}),100)),this.dialogEditIOSSData.isShow=!0},delIOSS:function(e,t){var a=this;this.$confirm("已导入至ERP订单和已发货订单IOSS无法更改，更新IOSS会覆盖您客户订单的IOSS，请谨慎操作！","确定删除该条IOSS？",{confirmButtonText:"删除",cancelButtonText:"取消",confirmButtonClass:" el-button--danger",type:"warning"}).then((function(){a.loading=!0,a.$apiCall("api.User.deleteIoss",{relationshipId:a.data.id,id:e.id},(function(e){a.loading=!1,"9999"==e.ErrorCode?a.data.items.splice(t,1):a.$message({message:e.Message,type:"error"})}))})).catch()},saveIOSSSuccess:function(){this.dialogEditIOSSData.isShow=!1,this.getData()},getData:function(){var e=this;this.data.loading=!0,this.$apiCall("api.User.getIoss",{relationshipId:this.data.id},(function(t){if(e.data.loading=!1,"9999"==t.ErrorCode){var a=t.Data.Results;e.data.isOpenIoss=!!a.isOpenIoss,e.data.items=a.iossSettings.length?a.iossSettings.map((function(e){return e.countrys=e.countrys.split(","),e})):[]}else e.$message({message:t.Message,type:"error"})}))},opened:function(){this.getData()},showCountry:function(e){var t="";return this.countryArr.forEach((function(a){a.value==e&&(t=a.labelCN)})),t}}},k=w,I=(a("9771"),Object(u["a"])(k,p,h,!1,null,"526cc4a0",null)),D=I.exports,C=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:e.$t("mycustomer.扣款"),visible:e.data.isShow,width:"700px"},on:{"update:visible":function(t){return e.$set(e.data,"isShow",t)},open:e.opened}},[a("el-divider"),a("div",{staticClass:"d-body"},[a("el-row",{staticClass:"pd-x-20",attrs:{gutter:30}},[a("el-col",{attrs:{span:24}},[a("el-form",{attrs:{"label-width":"100px"}},[a("el-form-item",{attrs:{label:e.$t("mycustomer.customersName")}},[a("span",{staticStyle:{color:"#303133"}},[e._v(e._s(e.data.item.customerName?e.data.item.customerName:"---"))])]),a("el-form-item",{attrs:{label:e.$t("mycustomer.扣款"),required:""}},[a("el-input",{attrs:{placeholder:""},model:{value:e.dialogData.amount,callback:function(t){e.$set(e.dialogData,"amount",t)},expression:"dialogData.amount"}}),a("span",[e._v("("+e._s(e.$t("mycustomer.客户Bonus余额"))+"("+e._s(e.$store.state.country.symbol)+"): "+e._s(e.data.item.bonus||0)+")")])],1),a("el-form-item",{attrs:{label:e.$t("mycustomer.扣款说明"),required:""}},[a("el-input",{attrs:{placeholder:"",type:"textarea",rows:3},model:{value:e.dialogData.remark,callback:function(t){e.$set(e.dialogData,"remark",t)},expression:"dialogData.remark"}})],1),a("el-form-item",{attrs:{label:e.$t("mycustomer.相关单号")}},[a("el-input",{attrs:{placeholder:e.$t("mycustomer.请填写关联订单")},model:{value:e.dialogData.order,callback:function(t){e.$set(e.dialogData,"order",t)},expression:"dialogData.order"}})],1)],1)],1)],1)],1),a("el-divider"),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.data.isShow=!1}}},[e._v(e._s(e.$t("invoice.cancel")))]),a("el-button",{attrs:{type:"primary"},on:{click:e.saveDeduction}},[e._v(" "+e._s(e.$t("invoice.confirm"))+" ")])],1)],1)},_=[],x={props:["data"],data:function(){return{dialogData:{amount:"",remark:"",order:""}}},methods:{opened:function(){this.dialogData.amount="",this.dialogData.remark="",this.dialogData.order=""},saveDeduction:function(){if(Number(this.data.item.bonus)<Number(this.dialogData.amount))this.$message({message:this.$t("mycustomer.扣款金额不能大于客户bonus余额"),type:"error"});else if(this.dialogData.amount&&this.dialogData.remark){var e={relationshipId:this.data.item.id,bonus:this.dialogData.amount,remark:this.dialogData.remark,paymentCode:this.dialogData.order};this.$emit("saveDeduction",e)}else this.$message({message:this.$t("mycustomer.请完善扣款明细"),type:"error"})}}},V=x,N=Object(u["a"])(V,C,_,!1,null,"ee78cb44",null),P=N.exports,O={data:function(){return{searchList:[],supplierName:"",aliasLoading:!1,dialogEmailVisible:!1,OtherName:"",shopId:"",shopIndex:"",uploading:!1,visibleTX:!1,loading:!1,sendEmailFlag:!0,ShopifyNameEdit:!1,EditInput:!1,BathBrokerage:"",dynamicValidateForm:{itemTotal:"",remark:"",certificate_urls:""},tableHeight:400,reSizeTime:0,pageSizes:[10,20,50,100],page:this.$route.query.page?Number(this.$route.query.page):1,rowsPerPage:localStorage.getItem("myCustomRowsPerPage")?Number(localStorage.getItem("myInvoiceRowsPerPage")):10,items:[],total:0,totalPage:0,ShopOtherName:[],addVendorDialog:{isEdit:!1,isShow:!1,loading:!1,creditStatus:!0,creditAmount:0,labelW:"100px",name:"",remark:"",email:"",id:"",weChat:"",skype:"",line:"",QQ:"",wangwang:"",whatsapp:"",customCode:"",customerPhone:"",clientGrade:"",brokerage:""},gridData:[{date:"2016-05-02",name:"王小虎",price:"14.5"},{date:"2016-05-04",name:"王小虎",price:"14.5"},{date:"2016-05-01",name:"王小虎",price:"14.5"},{date:"2016-05-03",name:"王小虎",price:"14.5"}],filterParams:Object(i["a"])({customCode:"",customerId:"",vendorSku:"",name:"",email:"",isAuth:"",customerLike:"",relationshipId:"",inviterUserId:"",shopName:"",clientGrade:"",customerPhone:"",timeCreated:"",createTimeFrom:"",createTimeTo:"",accountName:""},"clientGrade",""),customerId:"",filterParamsDefault:"{}",dialogInvite:{isShow:!1,loading:!1,wordLoading:!1,words:"",inviteUrl:"",qrcode:""},dialogInviteDefault:"{}",selectLoading:!1,selectArr:[],bonusParams:{remark:"",type:"",isShow:!1,loading:!1,id:"",status:"",name:"",num:void 0},bonusParamsDefault:"{}",dialogSettingIossData:{isShow:!1,loading:!1,isOpenIoss:!1,items:[],id:""},defaultDialogSettingIossData:"{}",dialogDeductionData:{isShow:!1,loading:!1,item:""},defaultDialogDeductionData:"{}",apiUserId:JSON.parse(localStorage.getItem("userInfo")).id}},components:{DialogAddVendor:f,DialogSettingIOSS:D,dialogDeduction:P},watch:{$route:"gotoPage"},mounted:function(){var e=this;setTimeout((function(){var t=JSON.parse(localStorage.getItem("userInfo")).configJson,a=JSON.parse(t).deliverNotifyCustomer;e.BathBrokerage=JSON.parse(t).brokerage,a&&(console.log(111111,a),e.sendEmailFlag="2"!==a,console.log(111121651511,e.sendEmailFlag))}),1e3),this.$route.query.id&&(this.filterParams.relationshipId=this.$route.query.id),this.filterParams.isAuth=this.$route.query.isAuth?this.$route.query.isAuth:"",this.addVendorDialogDefault=JSON.stringify(this.addVendorDialog),this.filterParamsDefault=JSON.stringify(this.filterParams),this.dialogInviteDefault=JSON.stringify(this.dialogInvite),this.bonusParamsDefault=JSON.stringify(this.bonusParams),this.defaultDialogSettingIossData=JSON.stringify(this.dialogSettingIossData),this.defaultDialogDeductionData=JSON.stringify(this.dialogDeductionData),this.getItem()},methods:{querySearchAsync:function(e,t){var a=this;if(!e)return!1;this.$apiCall("api.SubUser.findByUser",{nameLike:e,page:1,rowsPerPage:10},(function(o){if("9999"==o.ErrorCode){0==o.Data.Results.length&&a.$message.error(a.$t("supplier.搜索不到数据")),a.searchList=o.Data.Results;var r=e?a.searchList.filter((function(t){return t.name.indexOf(e)>-1})):a.searchList;r=r.map((function(e){return{value:e.name}})),t(r)}else a.$message.error(o.Message)}))},cleanClose:function(){this.visibleTX=!1},openTX:function(e){this.customerId=e.id,this.visibleTX=!0},submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;var a={relationshipId:t.customerId,amount:t.dynamicValidateForm.itemTotal};t.$apiCall("api.Relationship.commissionWithdrawal",a,(function(e){9999==e.ErrorCode?(t.$elementMessage(t.$t("orders.success"),"success"),t.visibleTX=!1,t.getItem(!0)):t.$message({message:e.Message,type:"error"})}))}))},resetForm:function(e){this.$refs[e].resetFields(),this.visibleTX=!1},openDeduction:function(e){this.dialogDeductionData=JSON.parse(this.defaultDialogDeductionData),this.dialogDeductionData.item=e,this.dialogDeductionData.isShow=!0},saveDeduction:function(e){var t=this;this.dialogDeductionData.loading=!0,this.$apiCall("api.Relationship.reduceBonusVendor",e,(function(e){t.dialogDeductionData.loading=!1,9999==e.ErrorCode?(t.$elementMessage(t.$t("orders.success"),"success"),t.dialogDeductionData.isShow=!1,t.getItem(!0)):t.$message({message:e.Message,type:"error"})}))},changeSwitch:function(e,t,a){var o=this,r={relationshipId:t,distributionSwitch:e,name:a};this.$apiCall("api.Relationship.changeByVendor",r,(function(e){o.addVendorDialog.loading=!1,9999==e.ErrorCode?(o.$message({message:"success",type:"success"}),o.getItem()):o.$message({message:e.Message,type:"error"})}))},openSetIOSS:function(e){this.dialogSettingIossData=JSON.parse(this.defaultDialogSettingIossData),this.dialogSettingIossData.id=e.id,this.dialogSettingIossData.isShow=!0},deleteAlias:function(e){var t=this;this.aliasLoading=!0,this.$apiCall("api.ShopifyAccount.changeAlias",{id:e.row.id,name:""},(function(a){t.aliasLoading=!1,9999==a.ErrorCode?(t.ShopOtherName[e.$index].alias="",t.$message({message:t.$t("mycustomer.删除成功"),type:"success"})):t.$message({message:a.Message,type:"error"})}))},openBatchVendor:function(){this.dialogEmailVisible=!0},beforeAvatarUpload:function(e){console.log(e),this.imgName=e.name,this.nowFile=e},httpRequest:function(e){var t=this,a="image/jpeg"===e.file.type||"image/jpg"===e.file.type||"image/png"===e.file.type,o=e.file.size/1024/1024<2;a?o?this.getBase64(e.file).then((function(e){t.fileBase64=e.split(",")[1];var a=e.match(/data:image\/(.*);base64,.*/)[1];console.log(t.tempUrl,"this.tempUrl"),t.getUploadImgUrl(t.fileBase64,a)})):this.$message.error("上传文件大小不能超过 2MB!"):this.$message.error("上传头像图片只能是 JPG、PNG、JPEG 格式!")},handleRemove:function(e,t){},getUploadImgUrl:function(e,t){var a=this;this.$apiCall("api.Comment.uploadImg",{imgUrlBase64:e,ext:t},(function(e){9999==e.ErrorCode?a.dynamicValidateForm.certificate_urls=e.Data.Results.imgUrl:a.$message({message:e.Message,type:"error"})}))},getBase64:function(e){return new Promise((function(t,a){var o=new FileReader,r="";o.readAsDataURL(e),o.onload=function(){r=o.result},o.onerror=function(e){a(e)},o.onloadend=function(){t(r)}}))},switchEmail:function(e){var t=this,a=1==e?1:2;this.$apiCall("api.User.changeByUser",{deliverNotifyCustomer:a},(function(e){9999==e.ErrorCode?t.$message({message:e.Message,type:"success"}):t.$message({message:e.Message,type:"error"})}))},ChangeEdit:function(){var e=this;this.aliasLoading=!0;var t=this.OtherName;this.$apiCall("api.ShopifyAccount.changeAlias",{id:this.shopId,name:t},(function(a){e.EditInput=!1,e.aliasLoading=!1,9999==a.ErrorCode?(e.ShopOtherName[e.shopIndex].alias=t,e.$message({message:e.$t("mycustomer.修改成功"),type:"success"})):e.$message({message:a.Message,type:"error"})}))},editOtherName:function(e){this.EditInput=!0,this.shopId=e.row.id,this.shopIndex=e.$index},editShopName:function(e){this.ShopifyNameEdit=!0,this.ShopOtherName=e.shops},close:function(){this.selectArr=[],this.filterParams.relationshipId="",this.getItem()},rageTick:function(){var e=this;this.$apiCall("api.User.changeByUser",{brokerage:this.BathBrokerage},(function(t){9999==t.ErrorCode?(e.$message({message:t.Message,type:"success"}),e.dialogEmailVisible=!1,e.getItem()):e.$message({message:t.Message,type:"error"})}))},goTo:function(e,t){this.$router.push({name:e,params:{id:t.id,customerName:t.customerName}})},remoteMethodCustom:function(e){var t=this;this.selectArr=[],e&&(this.selectLoading=!0,this.$apiCall("api.Relationship.findByVendor",{name:e},(function(e){t.selectLoading=!1,9999==e.ErrorCode?t.selectArr=e.Data.Results:t.$message({message:e.Message,type:"error"})})))},setInvoiceWord:function(){var e=this;this.dialogInvite.wordLoading=!0,this.$apiCall("api.User.setWords",{words:this.dialogInvite.words},(function(t){if(e.dialogInvite.wordLoading=!1,9999==t.ErrorCode){e.$message({message:e.$t("mycustomer.savedSuccess"),type:"success"});var a=e.$store.state.userInfo;a.inviteWords=e.dialogInvite.words,e.$store.commit("setUserInfo",a),localStorage.setItem("userInfo",JSON.stringify(a))}else e.$message({message:t.Message,type:"error"})}))},onCopy:function(){this.$elementMessage(this.$t("mycustomer.copiedSuccess"),"success")},onError:function(){this.$elementMessage(this.$t("mycustomer.copiedFailed"),"error")},inviteOpened:function(){(function(e,t,a){e.loadSkypeWebSdkAsync=e.loadSkypeWebSdkAsync||function(e){var o,r=t.getElementsByTagName(a)[0];t.getElementById(e.id)||(o=t.createElement(a),o.id=e.id,o.src=e.scriptToLoad,o.onload=e.callback,r.parentNode.insertBefore(o,r))};var o={scriptToLoad:"https://swx.cdn.skype.com/shared/v/latest/skypewebsdk.js",id:"skype_web_sdk"};e.loadSkypeWebSdkAsync(o)})(window,document,"script")},openInvite:function(e){var t=this;this.items.some((function(a){if(a.customerName==e)return t.openInvitation(a),!0}))},openInvitation:function(e){this.dialogInvite=JSON.parse(this.dialogInviteDefault),this.dialogInvite.isShow=!0,this.dialogInvite.words=this.$store.state.userInfo.inviteWords,this.dialogInvite.inviteUrl="".concat(location.host.indexOf("sandbox")>-1?"sandbox":"").concat(this.$store.state.userInfo.shop.subDomain,".myourmall.com/"),this.dialogInvite.qrcode=e.qrcodeBase64},clearFilter:function(){this.supplierName="",this.filterParams=JSON.parse(this.filterParamsDefault),this.selectArr=[],1==this.$route.query.page?this.getItem():this.$router.push({query:{page:1}})},filterGetItem:function(e){var t=this;"relationshipId"==e?(this.selectArr.forEach((function(e){e.customerName==t.filterParams.name&&(t.filterParams.relationshipId=e.id)})),this.getItem()):1==this.$route.query.page?this.getItem():this.$router.push({query:{page:1}})},gotoImport:function(e){this.$router.push({name:"importData",query:{rid:e.id}})},delVendor:function(e){var t=this;this.$confirm(this.$t("mycustomer.confirmToCancel"),"",{confirmButtonText:this.$t("mycustomer.delete"),cancelButtonText:this.$t("mycustomer.cancel"),type:"error"}).then((function(){t.$apiCall("api.Relationship.deleteByVendor",{relationshipId:e.id},(function(e){9999==e.ErrorCode?(t.$root,t.$message({message:t.$t("mycustomer.cancelSuccess"),type:"success"}),t.$root.$children[0].getCnt(),t.getItem(!0)):t.$message({message:e.Message,type:"error"})}))})).catch((function(){}))},editVendor:function(e){this.addVendorDialog=JSON.parse(this.addVendorDialogDefault),this.addVendorDialog.name=e.customerName,this.addVendorDialog.email=e.customerEmail,this.addVendorDialog.remark=e.customerRemark,this.addVendorDialog.id=e.id,this.addVendorDialog.weChat=e.customerWeChat,this.addVendorDialog.customerPhone=e.customerPhone,this.addVendorDialog.clientGrade=e.clientGrade,this.addVendorDialog.skype=e.customerSkype,this.addVendorDialog.line=e.customerLine,this.addVendorDialog.QQ=e.customerQQ,this.addVendorDialog.wangwang=e.customerWangwang,this.addVendorDialog.creditStatus="2"!=e.creditStatus,this.addVendorDialog.creditAmount=e.creditAmount,this.addVendorDialog.whatsapp=e.customerWhatsapp,this.addVendorDialog.isShow=!0,this.addVendorDialog.isEdit=!!e.customerEmail,this.addVendorDialog.customCode=e.customCode||"",this.addVendorDialog.brokerage=e.brokerage||""},openAddVendor:function(){this.addVendorDialog=JSON.parse(this.addVendorDialogDefault),this.addVendorDialog.isShow=!0},addVendorSaveSuccess:function(){this.clearFilter()},getItem:function(e){var t=this;this.loading=!0,this.supplierName&&(this.filterParams.inviterUserId=this.searchList.find((function(e){return e.name==t.supplierName})).subUserId),this.$apiCall("api.Relationship.findByVendor",{page:this.page,rowsPerPage:this.rowsPerPage,name:this.filterParams.name,accountName:this.filterParams.accountName,customerId:this.filterParams.customerId,customCode:this.filterParams.customCode,customerPhone:this.filterParams.customerPhone,vendorSku:this.filterParams.vendorSku,email:this.filterParams.email,isAuth:this.filterParams.isAuth,customerLike:"",clientGrade:this.filterParams.clientGrade,relationshipId:this.filterParams.relationshipId,inviterUserId:this.filterParams.inviterUserId,createTimeFrom:this.filterParams.timeCreated?this.filterParams.timeCreated[0]:"",createTimeTo:this.filterParams.timeCreated?this.filterParams.timeCreated[1]:"",status:1},(function(a){t.loading=!1,9999==a.ErrorCode?(t.items=a.Data.Results,t.items.forEach((function(e){t.$apiCall("api.Relationship.getCntDetail",{relationshipId:e.id},(function(a){9999==a.ErrorCode&&(e.invoiceCnt=a.Data.Results.invoiceCnt,e.totalAmount=a.Data.Results.totalAmount,e.orderCnt=a.Data.Results.orderCnt,e.skuCnt=a.Data.Results.skuCnt,e.offerSkuCnt=a.Data.Results.offerSkuCnt,t.items=Object(s["a"])(t.items))}))})),t.total=Number(a.Data.Pagination.totalCount),t.totalPage=Number(a.Data.Pagination.totalPage),e||(t.$root.$children[0].$refs.mainScroll.wrap.scrollTop=0),t.$route.params.openInvite&&t.items.some((function(e){if(e.customerName==t.$route.params.name)return t.openInvitation(e),t.$route.params.openInvite=!1,!0})),t.$route.params.item&&(t.openInvitation(t.$route.params.item),t.$route.params.item=null),t.$route.query.id&&0!=t.items.length&&(t.filterParams.relationshipId="",t.openInvitation(t.items[0]))):t.$message({message:a.Message,type:"error"})}))},toPage:function(e){e!=this.$route.query.page&&this.$router.push({query:{page:e}})},changePageSize:function(e){this.rowsPerPage=e,localStorage.setItem("myCustomRowsPerPage",e),this.getItem()},gotoPage:function(){this.page=this.$route.query.page?Number(this.$route.query.page):1,this.getItem()},showBonus:function(e,t){this.bonusParams=JSON.parse(this.bonusParamsDefault),this.bonusParams.type=t,this.bonusParams.id=e.id,this.bonusParams.name=e.customerName,1==t&&(this.bonusParams.status=e.bonusStatus),this.bonusParams.isShow=!0},updateBonus:function(){var e=this;this.bonusParams.loading=!0,this.$apiCall("api.Relationship.changeBonusStatusVendor",{relationshipId:this.bonusParams.id},(function(t){e.bonusParams.loading=!1,9999==t.ErrorCode?(e.$message({message:1==e.bonusParams.status?e.$t("mycustomer.停用成功"):e.$t("mycustomer.启用成功"),type:"success"}),e.bonusParams.isShow=!1,e.getItem(!0)):e.$message({message:t.Message,type:"error"})}))},addBonusNum:function(){var e=this;this.bonusParams.num?(this.bonusParams.loading=!0,this.$apiCall("api.Relationship.addBonusVendor",{relationshipId:this.bonusParams.id,bonus:this.bonusParams.num,remark:this.bonusParams.remark},(function(t){e.bonusParams.loading=!1,9999==t.ErrorCode?(e.$message({message:e.$t("mycustomer.充值成功"),type:"success"}),e.bonusParams.isShow=!1,e.getItem(!0)):e.$message({message:t.Message,type:"error"})}))):this.$message({message:this.$t("mycustomer.充值金额必须填写"),type:"error"})}}},E=O,A=(a("f995"),Object(u["a"])(E,o,r,!1,null,"7eb74384",null));t["default"]=A.exports},2909:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var o=a("6b75");function r(e){if(Array.isArray(e))return Object(o["a"])(e)}a("a4d3"),a("e01a"),a("d3b7"),a("d28b"),a("3ca3"),a("ddb0"),a("a630");function s(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}var i=a("06c5");a("d9e2");function n(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e){return r(e)||s(e)||Object(i["a"])(e)||n()}},"2a62":function(e,t,a){var o=a("c65b"),r=a("825a"),s=a("dc4a");e.exports=function(e,t,a){var i,n;r(e);try{if(i=s(e,"return"),!i){if("throw"===t)throw a;return a}i=o(i,e)}catch(l){n=!0,i=l}if("throw"===t)throw a;if(n)throw i;return r(i),a}},"2b78":function(e,t,a){"use strict";a("e9ef")},"35a1":function(e,t,a){var o=a("f5df"),r=a("dc4a"),s=a("3f8c"),i=a("b622"),n=i("iterator");e.exports=function(e){if(void 0!=e)return r(e,n)||r(e,"@@iterator")||s[o(e)]}},"4df4":function(e,t,a){"use strict";var o=a("0366"),r=a("c65b"),s=a("7b0b"),i=a("9bdd"),n=a("e95a"),l=a("68ee"),c=a("07fa"),d=a("8418"),u=a("9a1f"),m=a("35a1"),f=Array;e.exports=function(e){var t=s(e),a=l(this),p=arguments.length,h=p>1?arguments[1]:void 0,g=void 0!==h;g&&(h=o(h,p>2?arguments[2]:void 0));var v,b,y,S,$,w,k=m(t),I=0;if(!k||this===f&&n(k))for(v=c(t),b=a?new this(v):f(v);v>I;I++)w=g?h(t[I],I):t[I],d(b,I,w);else for(S=u(t,k),$=S.next,b=a?new this:[];!(y=r($,S)).done;I++)w=g?i(S,h,[y.value,I],!0):y.value,d(b,I,w);return b.length=I,b}},"4fad":function(e,t,a){var o=a("d039"),r=a("861d"),s=a("c6b6"),i=a("d86b"),n=Object.isExtensible,l=o((function(){n(1)}));e.exports=l||i?function(e){return!!r(e)&&((!i||"ArrayBuffer"!=s(e))&&(!n||n(e)))}:n},6062:function(e,t,a){a("1c59")},6566:function(e,t,a){"use strict";var o=a("9bf2").f,r=a("7c73"),s=a("6964"),i=a("0366"),n=a("19aa"),l=a("2266"),c=a("7dd0"),d=a("2626"),u=a("83ab"),m=a("f183").fastKey,f=a("69f3"),p=f.set,h=f.getterFor;e.exports={getConstructor:function(e,t,a,c){var d=e((function(e,o){n(e,f),p(e,{type:t,index:r(null),first:void 0,last:void 0,size:0}),u||(e.size=0),void 0!=o&&l(o,e[c],{that:e,AS_ENTRIES:a})})),f=d.prototype,g=h(t),v=function(e,t,a){var o,r,s=g(e),i=b(e,t);return i?i.value=a:(s.last=i={index:r=m(t,!0),key:t,value:a,previous:o=s.last,next:void 0,removed:!1},s.first||(s.first=i),o&&(o.next=i),u?s.size++:e.size++,"F"!==r&&(s.index[r]=i)),e},b=function(e,t){var a,o=g(e),r=m(t);if("F"!==r)return o.index[r];for(a=o.first;a;a=a.next)if(a.key==t)return a};return s(f,{clear:function(){var e=this,t=g(e),a=t.index,o=t.first;while(o)o.removed=!0,o.previous&&(o.previous=o.previous.next=void 0),delete a[o.index],o=o.next;t.first=t.last=void 0,u?t.size=0:e.size=0},delete:function(e){var t=this,a=g(t),o=b(t,e);if(o){var r=o.next,s=o.previous;delete a.index[o.index],o.removed=!0,s&&(s.next=r),r&&(r.previous=s),a.first==o&&(a.first=r),a.last==o&&(a.last=s),u?a.size--:t.size--}return!!o},forEach:function(e){var t,a=g(this),o=i(e,arguments.length>1?arguments[1]:void 0);while(t=t?t.next:a.first){o(t.value,t.key,this);while(t&&t.removed)t=t.previous}},has:function(e){return!!b(this,e)}}),s(f,a?{get:function(e){var t=b(this,e);return t&&t.value},set:function(e,t){return v(this,0===e?0:e,t)}}:{add:function(e){return v(this,e=0===e?0:e,e)}}),u&&o(f,"size",{get:function(){return g(this).size}}),d},setStrong:function(e,t,a){var o=t+" Iterator",r=h(t),s=h(o);c(e,t,(function(e,t){p(this,{type:o,target:e,state:r(e),kind:t,last:void 0})}),(function(){var e=s(this),t=e.kind,a=e.last;while(a&&a.removed)a=a.previous;return e.target&&(e.last=a=a?a.next:e.state.first)?"keys"==t?{value:a.key,done:!1}:"values"==t?{value:a.value,done:!1}:{value:[a.key,a.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),a?"entries":"values",!a,!0),d(t)}}},6964:function(e,t,a){var o=a("cb2d");e.exports=function(e,t,a){for(var r in t)o(e,r,t[r],a);return e}},"6b75":function(e,t,a){"use strict";function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,o=new Array(t);a<t;a++)o[a]=e[a];return o}a.d(t,"a",(function(){return o}))},"6d61":function(e,t,a){"use strict";var o=a("23e7"),r=a("da84"),s=a("e330"),i=a("94ca"),n=a("cb2d"),l=a("f183"),c=a("2266"),d=a("19aa"),u=a("1626"),m=a("861d"),f=a("d039"),p=a("1c7e"),h=a("d44e"),g=a("7156");e.exports=function(e,t,a){var v=-1!==e.indexOf("Map"),b=-1!==e.indexOf("Weak"),y=v?"set":"add",S=r[e],$=S&&S.prototype,w=S,k={},I=function(e){var t=s($[e]);n($,e,"add"==e?function(e){return t(this,0===e?0:e),this}:"delete"==e?function(e){return!(b&&!m(e))&&t(this,0===e?0:e)}:"get"==e?function(e){return b&&!m(e)?void 0:t(this,0===e?0:e)}:"has"==e?function(e){return!(b&&!m(e))&&t(this,0===e?0:e)}:function(e,a){return t(this,0===e?0:e,a),this})},D=i(e,!u(S)||!(b||$.forEach&&!f((function(){(new S).entries().next()}))));if(D)w=a.getConstructor(t,e,v,y),l.enable();else if(i(e,!0)){var C=new w,_=C[y](b?{}:-0,1)!=C,x=f((function(){C.has(1)})),V=p((function(e){new S(e)})),N=!b&&f((function(){var e=new S,t=5;while(t--)e[y](t,t);return!e.has(-0)}));V||(w=t((function(e,t){d(e,$);var a=g(new S,e,w);return void 0!=t&&c(t,a[y],{that:a,AS_ENTRIES:v}),a})),w.prototype=$,$.constructor=w),(x||N)&&(I("delete"),I("has"),v&&I("get")),(N||_)&&I(y),b&&$.clear&&delete $.clear}return k[e]=w,o({global:!0,constructor:!0,forced:w!=S},k),h(w,e),b||a.setStrong(w,e,v),w}},"82f3":function(e,t,a){},9771:function(e,t,a){"use strict";a("0040")},"9a1f":function(e,t,a){var o=a("c65b"),r=a("59ed"),s=a("825a"),i=a("0d51"),n=a("35a1"),l=TypeError;e.exports=function(e,t){var a=arguments.length<2?n(e):t;if(r(a))return s(o(a,e));throw l(i(e)+" is not iterable")}},"9bdd":function(e,t,a){var o=a("825a"),r=a("2a62");e.exports=function(e,t,a,s){try{return s?t(o(a)[0],a[1]):t(a)}catch(i){r(e,"throw",i)}}},a15b:function(e,t,a){"use strict";var o=a("23e7"),r=a("e330"),s=a("44ad"),i=a("fc6a"),n=a("a640"),l=r([].join),c=s!=Object,d=n("join",",");o({target:"Array",proto:!0,forced:c||!d},{join:function(e){return l(i(this),void 0===e?",":e)}})},a630:function(e,t,a){var o=a("23e7"),r=a("4df4"),s=a("1c7e"),i=!s((function(e){Array.from(e)}));o({target:"Array",stat:!0,forced:i},{from:r})},ab36:function(e,t,a){var o=a("861d"),r=a("9112");e.exports=function(e,t){o(t)&&"cause"in t&&r(e,"cause",t.cause)}},aeb0:function(e,t,a){var o=a("9bf2").f;e.exports=function(e,t,a){a in e||o(e,a,{configurable:!0,get:function(){return t[a]},set:function(e){t[a]=e}})}},b980:function(e,t,a){var o=a("d039"),r=a("5c6c");e.exports=!o((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",r(1,7)),7!==e.stack)}))},bb2f:function(e,t,a){var o=a("d039");e.exports=!o((function(){return Object.isExtensible(Object.preventExtensions({}))}))},c770:function(e,t,a){var o=a("e330"),r=Error,s=o("".replace),i=function(e){return String(r(e).stack)}("zxcasd"),n=/\n\s*at [^:]*:[^\n]*/,l=n.test(i);e.exports=function(e,t){if(l&&"string"==typeof e&&!r.prepareStackTrace)while(t--)e=s(e,n,"");return e}},d86b:function(e,t,a){var o=a("d039");e.exports=o((function(){if("function"==typeof ArrayBuffer){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}))},d9e2:function(e,t,a){var o=a("23e7"),r=a("da84"),s=a("2ba4"),i=a("e5cb"),n="WebAssembly",l=r[n],c=7!==Error("e",{cause:7}).cause,d=function(e,t){var a={};a[e]=i(e,t,c),o({global:!0,constructor:!0,arity:1,forced:c},a)},u=function(e,t){if(l&&l[e]){var a={};a[e]=i(n+"."+e,t,c),o({target:n,stat:!0,constructor:!0,arity:1,forced:c},a)}};d("Error",(function(e){return function(t){return s(e,this,arguments)}})),d("EvalError",(function(e){return function(t){return s(e,this,arguments)}})),d("RangeError",(function(e){return function(t){return s(e,this,arguments)}})),d("ReferenceError",(function(e){return function(t){return s(e,this,arguments)}})),d("SyntaxError",(function(e){return function(t){return s(e,this,arguments)}})),d("TypeError",(function(e){return function(t){return s(e,this,arguments)}})),d("URIError",(function(e){return function(t){return s(e,this,arguments)}})),u("CompileError",(function(e){return function(t){return s(e,this,arguments)}})),u("LinkError",(function(e){return function(t){return s(e,this,arguments)}})),u("RuntimeError",(function(e){return function(t){return s(e,this,arguments)}}))},e391:function(e,t,a){var o=a("577e");e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:o(e)}},e5cb:function(e,t,a){"use strict";var o=a("d066"),r=a("1a2d"),s=a("9112"),i=a("3a9b"),n=a("d2bb"),l=a("e893"),c=a("aeb0"),d=a("7156"),u=a("e391"),m=a("ab36"),f=a("c770"),p=a("b980"),h=a("83ab"),g=a("c430");e.exports=function(e,t,a,v){var b="stackTraceLimit",y=v?2:1,S=e.split("."),$=S[S.length-1],w=o.apply(null,S);if(w){var k=w.prototype;if(!g&&r(k,"cause")&&delete k.cause,!a)return w;var I=o("Error"),D=t((function(e,t){var a=u(v?t:e,void 0),o=v?new w(e):new w;return void 0!==a&&s(o,"message",a),p&&s(o,"stack",f(o.stack,2)),this&&i(k,this)&&d(o,this,D),arguments.length>y&&m(o,arguments[y]),o}));if(D.prototype=k,"Error"!==$?n?n(D,I):l(D,I,{name:!0}):h&&b in w&&(c(D,w,b),c(D,w,"prepareStackTrace")),l(D,w),!g)try{k.name!==$&&s(k,"name",$),k.constructor=D}catch(C){}return D}}},e95a:function(e,t,a){var o=a("b622"),r=a("3f8c"),s=o("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||i[s]===e)}},e9ef:function(e,t,a){},f183:function(e,t,a){var o=a("23e7"),r=a("e330"),s=a("d012"),i=a("861d"),n=a("1a2d"),l=a("9bf2").f,c=a("241c"),d=a("057f"),u=a("4fad"),m=a("90e3"),f=a("bb2f"),p=!1,h=m("meta"),g=0,v=function(e){l(e,h,{value:{objectID:"O"+g++,weakData:{}}})},b=function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!n(e,h)){if(!u(e))return"F";if(!t)return"E";v(e)}return e[h].objectID},y=function(e,t){if(!n(e,h)){if(!u(e))return!0;if(!t)return!1;v(e)}return e[h].weakData},S=function(e){return f&&p&&u(e)&&!n(e,h)&&v(e),e},$=function(){w.enable=function(){},p=!0;var e=c.f,t=r([].splice),a={};a[h]=1,e(a).length&&(c.f=function(a){for(var o=e(a),r=0,s=o.length;r<s;r++)if(o[r]===h){t(o,r,1);break}return o},o({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:d.f}))},w=e.exports={enable:$,fastKey:b,getWeakData:y,onFreeze:S};s[h]=!0},f995:function(e,t,a){"use strict";a("82f3")},fb6a:function(e,t,a){"use strict";var o=a("23e7"),r=a("e8b5"),s=a("68ee"),i=a("861d"),n=a("23cb"),l=a("07fa"),c=a("fc6a"),d=a("8418"),u=a("b622"),m=a("1dde"),f=a("f36a"),p=m("slice"),h=u("species"),g=Array,v=Math.max;o({target:"Array",proto:!0,forced:!p},{slice:function(e,t){var a,o,u,m=c(this),p=l(m),b=n(e,p),y=n(void 0===t?p:t,p);if(r(m)&&(a=m.constructor,s(a)&&(a===g||r(a.prototype))?a=void 0:i(a)&&(a=a[h],null===a&&(a=void 0)),a===g||void 0===a))return f(m,b,y);for(o=new(void 0===a?g:a)(v(y-b,0)),u=0;b<y;b++,u++)b in m&&d(o,u,m[b]);return o.length=u,o}})}}]);