(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["storeDesignCover"],{"0fb5":function(t,e,s){"use strict";s.r(e);var o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"contentpanel transaction-page"},[s("div",{ref:"pageHeader",staticClass:"pagetitle"},[s("div",{staticClass:"left"},[s("div",{staticClass:"title"},[s("i",{staticClass:"el-icon-s-shop"}),s("h2",[t._v(t._s(t.$t("storeSetting.店铺装修")))])])]),s("div",{staticClass:"right"})]),s("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"pagebody"},[s("el-row",{staticClass:"mg-b-20",attrs:{gutter:15}},[s("el-col",{attrs:{span:24}},[s("el-card",[s("div",{staticClass:"title-t d-flex"},[s("div",[t._v(t._s(t.$t("storeSetting.当前店铺")))]),s("div",[s("el-button",{attrs:{type:"primary",size:"medium"},on:{click:t.goToMyStore}},[t._v(t._s(t.$t("storeSetting.查看店铺"))),s("i",{staticClass:"el-icon-view el-icon--right"})]),s("el-button",{attrs:{type:"primary",size:"medium",disabled:!t.$isRole(t.$route.meta.roleWrite)},on:{click:t.goSetting}},[t._v(t._s(t.$t("storeSetting.店铺装修"))+" ")])],1)]),s("div",{staticClass:"tip"},[t._v(t._s(t.$t("storeSetting.这是当前你的站长所看到的店铺样式")))]),s("div",{staticClass:"windowBox"},[s("div",{staticClass:"inner"},[t.setting?s("div",{staticClass:"content"},[s("Main",{attrs:{setting:t.setting,code:t.code}})],1):t._e()])])])],1)],1)],1),s("el-backtop",{staticClass:"goto-top",attrs:{target:".main-scroll  .el-scrollbar__wrap",right:20,bottom:60}})],1)},i=[],n=(s("e9c4"),s("d3b7"),s("159b"),s("caad"),s("2532"),s("99af"),s("b0c0"),s("e948")),a={data:function(){return{setting:null,loading:!1,code:{header:[],footer:[]}}},created:function(){var t=this;this.$apiCall("api.VendorShop.getShopConfig",{},(function(e){9999==e.ErrorCode&&0!==e.Data.Results.length&&(t.$store.commit("getShopConfig",e.Data.Results),t.setting=JSON.parse(JSON.stringify(t.$store.state.configJson)))})),this.getConfig()},methods:{handleCode:function(t){var e=this;console.log(t),t.forEach((function(t){t.pages.includes("首页")&&("底部"==t.position&&e.code.footer.push(t.desc),"顶部"==t.position&&e.code.header.push(t.desc))}))},goToMyStore:function(){window.open("//".concat(location.host.indexOf("sandbox")>-1?"sandbox":"").concat(this.$store.state.userInfo.shop.name,".myourmall.com"))},goSetting:function(){this.$router.push("/store-setting")},getConfig:function(){var t=this;this.$apiCall("api.VendorShop.getShopConfig",{},(function(e){9999==e.ErrorCode?e.Data.Results.header?(t.$store.commit("getStoreComponent",e.Data.Results),t.setting=e.Data.Results,t.handleCode(e.Data.Results.customCode)):t.setting=JSON.parse(JSON.stringify(t.$store.state.configJson)):t.$message({message:e.Message,type:"error"})}))}},components:{Main:n["a"]}},r=a,d=(s("9e28"),s("2877")),c=Object(d["a"])(r,o,i,!1,null,"46072f51",null);e["default"]=c.exports},"9e28":function(t,e,s){"use strict";s("d99e")},d99e:function(t,e,s){},e948:function(t,e,s){"use strict";var o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"designHome"},[t.code&&t.code.header&&t.code.header.length>0&&"storeDesign"!=this.$route.name?t._l(t.code.header,(function(e,o){return s("div",{key:o,staticStyle:{overflow:"hidden"},domProps:{innerHTML:t._s(e)}})})):t._e(),s("div",{staticStyle:{position:"relative"}},[s("DHeader",{attrs:{data:t.setting.header,headerMenu:t.headerMenu}}),s("demoBody",{attrs:{data:t.setting,header:t.setting.header}}),s("Footer",{attrs:{setting:t.setting.footer}})],1),t.code&&t.code.footer&&t.code.footer.length>0&&"storeDesign"!=this.$route.name?t._l(t.code.footer,(function(e,o){return s("div",{key:o,staticStyle:{overflow:"hidden"},domProps:{innerHTML:t._s(e)}})})):t._e()],2)},i=[],n=(s("d3b7"),s("159b"),s("826e")),a=s("db46"),r=s("8c3c"),d={props:["setting","code"],components:{DHeader:n["a"],Footer:a["a"],demoBody:r["a"]},data:function(){return{headerMenu:[]}},watch:{"setting.header.activeMenu":{handler:function(){this.getMenu()},deep:!0,immediate:!0}},methods:{getMenu:function(){var t=this;this.setting.header.activeMenu&&this.setting.menu.forEach((function(e){e.id==t.setting.header.activeMenu&&(t.headerMenu=e)}))}}},c=d,l=s("2877"),g=Object(l["a"])(c,o,i,!1,null,null,null);e["a"]=g.exports}}]);