(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Dropshipping"],{"215c":function(e,t,a){"use strict";a("5e79")},2747:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen",value:e.loading,expression:"loading",modifiers:{fullscreen:!0}}],attrs:{"element-loading-background":"rgba(0, 0, 0, 0.3)"}},[t("div",{staticClass:"br-pagetitle d-flex justify-content-between align-items-center"},[t("div",{staticClass:"d-flex"},[t("h4",{staticClass:"mg-r-15"},[e._v("DropShipping 客户挖掘机")]),t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"",placement:"right"}},[t("div",{staticStyle:{width:"455px"},attrs:{slot:"content"},slot:"content"},[t("p",{staticStyle:{"font-size":"16px","margin-bottom":"5px"}},[e._v("这些数据为什么在这里？")]),t("p",{staticClass:"mg-b-20"},[e._v("马帮ERP通过对您账号中的店铺订单数据进行分析，发现这些客户可能是DropShipping客户。")]),t("p",{staticStyle:{"font-size":"16px","margin-bottom":"5px"}},[e._v("什么是DropShipping?")]),t("p",{staticClass:"mg-b-15"},[e._v("海外客户通过速实通等平台，找中国卖家进行一件代发等批发采购的业务。")]),t("div",{staticStyle:{display:"flex"}},[t("i",{staticClass:"el-icon-warning-outline mg-r-5",staticStyle:{color:"#FEA93F","font-size":"14px"}}),t("div",[e._v("马帮ERP提醒您:这类客户维护好有什么好处? 他们有持续的下单能力，服务好这类客户可以获取大量订单对您业绩提升有极大的帮助。 ")])])]),t("i",{staticClass:"el-icon-question",staticStyle:{color:"#3f56a1"}})])],1),t("div",{staticClass:"tx-right"},[1==e.isShow?t("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.showCustomer(2)}}},[e._v("显示被隐藏的客户")]):t("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.showCustomer(1)}}},[e._v("显示有效的客户")])])]),t("div",{staticClass:"pd-x-20 pd-sm-x-30 br-pagebody",staticStyle:{"margin-bottom":"20px"}},[t("div",{staticClass:"card bd-gray-400 formBox",staticStyle:{padding:"9px 30px"}},[t("div",{staticClass:"formItem",staticStyle:{display:"flex"}},[t("select",{directives:[{name:"model",rawName:"v-model",value:e.complete,expression:"complete"}],attrs:{name:"complete",id:"complete"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.complete=t.target.multiple?a:a[0]}}},[t("option",{attrs:{value:""}},[e._v("请选择")]),t("option",{attrs:{value:"completeRateGt"}},[e._v("大于")]),t("option",{attrs:{value:"completeRate"}},[e._v("等于")]),t("option",{attrs:{value:"completeRateLt"}},[e._v("小于")]),t("option",{attrs:{value:"completeRateGeq"}},[e._v("大于等于")]),t("option",{attrs:{value:"completeRateLeq"}},[e._v("小于等于")]),t("option",{attrs:{value:"completeRateNeq"}},[e._v("不等于")])]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.num,expression:"num"}],staticStyle:{width:"100px","margin-left":"5px","margin-right":"5px"},attrs:{type:"number",placeholder:"完整度"},domProps:{value:e.num},on:{input:[function(t){t.target.composing||(e.num=t.target.value)},e.numRole]}}),e._v("% ")]),t("div",{staticClass:"formItem"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.uidLike,expression:"form.uidLike"}],attrs:{type:"text",placeholder:"买家账号"},domProps:{value:e.form.uidLike},on:{input:function(t){t.target.composing||e.$set(e.form,"uidLike",t.target.value)}}})]),t("div",{staticClass:"formItem"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.nameLike,expression:"form.nameLike"}],attrs:{type:"text",placeholder:"买家姓名"},domProps:{value:e.form.nameLike},on:{input:function(t){t.target.composing||e.$set(e.form,"nameLike",t.target.value)}}})]),t("div",{staticClass:"formItem"},[t("select",{directives:[{name:"model",rawName:"v-model",value:e.form.countryCode,expression:"form.countryCode"}],attrs:{name:"country",id:"country","data-error":"请选择国家"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.form,"countryCode",t.target.multiple?a:a[0])}}},[t("option",{attrs:{value:""}},[e._v("请选择国家")]),e._l(e.countryArr,(function(a){return t("option",{key:a.value,domProps:{value:a.value}},[e._v(" "+e._s(a.label)+" ")])}))],2)]),t("div",{staticClass:"formItem"},[t("button",{staticClass:"but",on:{click:function(t){return e.getVendor("filter")}}},[e._v("筛选")])])])]),t("div",{staticClass:"pd-x-20 pd-sm-x-30 br-pagebody"},[t("div",{staticClass:"card bd-gray-400"},[t("table",{staticClass:"table mg-b-0 table-contact bill"},[e._m(0),t("tbody",[e.items&&0==e.items.length?t("tr",[t("td",{attrs:{colspan:"11"}},[t("div",{staticClass:"none-product"},[e._v(" 没有"),1!=e.isShow?t("span",[e._v("被隐藏")]):t("span",[e._v("有效")]),e._v("的客户")])])]):e._l(e.items,(function(a,o){return t("tr",{key:o+a.id},[t("td",{staticClass:"valign-middle"},[0==a.completeRate?t("span",[e._v("尚未完善")]):t("span",[e._v(e._s(a.completeRate)+" %")])]),t("td",{staticClass:"valign-middle tx-12"},[a.uid?t("div",[e._v(" "+e._s(a.uid)+" ")]):t("div",[e._v("---")])]),t("td",{staticClass:"valign-middle tx-12"},[a.name?t("div",[e._v(" "+e._s(a.name)+" ")]):t("div",[e._v("---")])]),t("td",{staticClass:"valign-middle tx-12"},[a.countryCode?t("div",[e._v(" "+e._s(a.countryCode)+" ")]):t("div",[e._v("---")])]),t("td",{staticClass:"valign-middle tx-12"},[t("div",[e._v("总订单："),a.orderCnt?t("span",[e._v(e._s(a.orderCnt))]):t("span",[e._v("---")]),e._v(" / "),a.amount?t("span",[e._v("$"+e._s(a.amount))]):t("span",[e._v("---")])]),t("div",[e._v("上月订单： "),a.lastMonthOrderCnt?t("span",[e._v(e._s(a.lastMonthOrderCnt))]):t("span",[e._v("---")]),e._v(" / "),a.lastMonthAmount?t("span",[e._v(e._s(a.lastMonthAmount))]):t("span",[e._v("---")])])]),t("td",{staticClass:"valign-middle tx-12"},[t("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.goDetail(a)}}},[e._v(" 查看详情")])])])}))],2)]),t("div",{staticStyle:{position:"relative",top:"20px","text-align":"center"}},[t("el-pagination",{attrs:{"current-page":e.page,background:!0,layout:"sizes, total, prev, pager, next, jumper","page-sizes":e.pageSize,"page-size":e.rowsPerPage,total:Number(e.totalCount)},on:{"current-change":e.toPage,"size-change":e.changePageSize}})],1)]),t("div",{staticClass:"power"},[e._v("Powered by OurMall")])])])},i=[function(){var e=this,t=e._self._c;return t("thead",[t("tr",[t("th",{staticClass:"wd-lg-150"},[e._v("资料完整度 ")]),t("th",{staticClass:"wd-lg-150"},[e._v("买家账号")]),t("th",{staticClass:"wd-lg-150"},[e._v(" 买家姓名 ")]),t("th",{staticClass:"wd-lg-200"},[e._v(" 国家 ")]),t("th",{staticClass:"wd-lg-200"},[e._v(" 平台订单汇总 ")]),t("th",{staticClass:"wd-lg-150"},[e._v(" 操作 ")])])])}],n=(a("14d9"),{getUrlKey:function(e){return decodeURIComponent((new RegExp("[?|&]"+e+"=([^&;]+?)(&|#|;|$)").exec(location.href)||[,""])[1].replace(/\+/g,"%20"))||null}}),s=a("c895"),r={data(){return{userInfo:{},form:{countryCode:"",uidLike:"",nameLike:""},complete:"",num:"",loading:!1,pageSize:[10,20,50,100],page:this.$route.query.page?Number(this.$route.query.page):1,rowsPerPage:localStorage.getItem(this.$route.name+"RowsPerPage")?Number(localStorage.getItem(this.$route.name+"RowsPerPage")):10,totalCount:0,totalPage:0,items:[],List:[],unList:[],isShow:1,countryArr:[],countryJSON:null}},components:{utils:n,countryArr:s},watch:{$route:"gotoPage"},mounted(){this.$route.query.outerUserId?this.openDrop():this.getVendor(),this.countryJSON=s,Object.keys(s).forEach(e=>{Object.keys(s[e]).forEach(t=>{this.countryArr.push({label:s[e][t].nameCN,value:s[e][t].code2})})}),this.countryArr.sort((e,t)=>e.label.charCodeAt(0)-t.label.charCodeAt(0))},methods:{numRole(){this.form.num>100&&(this.form.num=this.form.num.slice(0,2))},openDrop(){if(this.$route.query){localStorage.removeItem("apiUserId"),localStorage.removeItem("apiUserToken");let e=this.$route.query;this.$apiCall("api.SourceBuyer.loginByVendor",e,e=>{9999==e.ErrorCode&&(this.userInfo=e.Data.Results,localStorage.setItem("apiUserToken",e.Data.Results.apiUserToken),localStorage.setItem("apiUserId",e.Data.Results.id),localStorage.setItem("userInfo",JSON.stringify(e.Data.Results)),localStorage.getItem("userInfo")&&this.$store.commit("setUserInfo",JSON.parse(localStorage.getItem("userInfo"))),this.getVendor())})}},getVendor(e){this.loading=!0,e&&(this.page=1);let t=$.extend({page:this.page,rowsPerPage:this.rowsPerPage,status:this.isShow},this.form);t[this.complete]=this.num,this.$apiCall("api.SourceBuyer.findByVendor",t,e=>{this.loading=!1,9999==e.ErrorCode?(this.items=e.Data.Results,this.items.forEach(e=>{this.countryArr.forEach(t=>{e.countryCode==t.value&&(e.countryCode=t.label)})}),this.totalPage=e.Data.Pagination.totalPage,this.totalCount=e.Data.Pagination.totalCount,this.$root.$children[0].$refs.mainScroll.wrap.scrollTop=0):this.$message({message:e.Message,type:"error"})})},toPage(e){e!=this.$route.query.page&&this.$router.push({query:{page:e}})},changePageSize(e){this.rowsPerPage=e,localStorage.setItem(this.$route.name+"RowsPerPage",e),this.getVendor()},gotoPage(){this.page=this.$route.query.page?Number(this.$route.query.page):1,this.getVendor()},goDetail(e){this.$router.push({name:"DropD",query:{index:e.id,id:e.relationship.id,show:e.status}})},showCustomer(e){this.isShow=e,this.getVendor()}}},c=r,l=(a("215c"),a("2877")),d=Object(l["a"])(c,o,i,!1,null,"88629d82",null);t["default"]=d.exports},3810:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this;e._self._c;return e._m(0)},i=[function(){var e=this,t=e._self._c;return t("div",{},[t("table",{staticStyle:{border:"none"}},[t("tr",[t("td",{staticStyle:{border:"none"}},[t("div",{staticClass:"left"},[t("h3",[e._v("Invoice")]),t("h3",[e._v("PO # 2231700022141")])])]),t("td",{staticStyle:{border:"none"}},[t("div",{staticClass:"right"},[t("img",{attrs:{src:a("405b"),alt:""}})])])]),t("tr",[t("td",{staticStyle:{border:"none"}},[t("div",{staticClass:"time-box box-teil"},[t("p",[e._v("COMXBCN TRADING GO.,LIMITED")]),t("p",[e._v("Unit 1102.11/F,29 Austin Road")])])]),t("td",{staticStyle:{border:"none"}},[t("div",{staticClass:"time-box box-teft"},[t("p",[e._v("创建时间：2022-11-14 14：20:15")]),t("p",[e._v("支付时间：2022年12月8日 15:44:13")])])])]),t("tr",[t("td",{staticStyle:{border:"none"}}),t("td",{staticStyle:{border:"none","text-align":"right"}},[t("div",[t("span",{staticStyle:{"font-weight":"600","margin-right":"10px","line-height":"40px"}},[e._v("采购单金额(US$):")]),t("span",{staticStyle:{"font-weight":"600",color:"rgb(236, 17, 46)","line-height":"40px"}},[e._v("21.68")])])])])]),t("h3",[e._v("Customer Name")]),t("h5",[e._v("BCN Shop")]),t("div",[t("table",[t("thead",[t("tr",[t("th",[e._v("Thumbnails")]),t("th",{staticStyle:{"line-height":"40px"}},[e._v("Order items")]),t("th",{staticStyle:{"line-height":"40px"}},[e._v("Logistics number")]),t("th",{staticStyle:{"line-height":"40px"}},[e._v("My SKU")]),t("th",{staticStyle:{"line-height":"40px"}},[e._v("Purchase Qty")]),t("th",{staticStyle:{"line-height":"40px"}},[e._v("Supply unit price(US$)")]),t("th",{staticStyle:{"line-height":"40px"}},[e._v("Logistics fee")]),t("th",{staticStyle:{"line-height":"40px"}},[e._v("Subtotal (US$)")])])]),t("tbody",[t("tr",[t("td",[t("img",{staticStyle:{width:"50px",height:"50px"},attrs:{src:"",alt:""}})]),t("td",[t("div",{staticClass:"flex-box-start"},[t("div",[t("p",[e._v("PET Dog Toys Cartoon Animal Dog Chew To ys")]),t("p",[e._v("SKU:29956454564")]),t("p",[e._v("#1134 to Brazil")])])])]),t("td",[t("p",[e._v("APC(APC)")]),t("p",[e._v("14124141412")])]),t("td",[e._v("465456456")]),t("td",[e._v("1")]),t("td",[e._v("14")]),t("td",[e._v("78")]),t("td",[e._v("23")])])])]),t("table",{staticStyle:{border:"none"}},[t("tr",[t("td",{staticStyle:{border:"none"}}),t("td",{staticStyle:{border:"none","text-align":"right"}},[t("div",[t("span",{staticStyle:{"font-weight":"600","margin-right":"10px","line-height":"40px"}},[e._v("Product + ShippingTotal(US$):")]),t("span",{staticStyle:{"font-weight":"600",color:"rgb(236, 17, 46)","line-height":"40px"}},[e._v("31.68")])])])]),t("tr",[t("td",{staticStyle:{border:"none"}}),t("td",{staticStyle:{border:"none","text-align":"right"}},[t("div",[t("span",{staticStyle:{"font-weight":"600","margin-right":"10px","line-height":"40px"}},[e._v("DiscountTotal(US$):")]),t("span",{staticStyle:{"font-weight":"600",color:"rgb(236, 17, 46)","line-height":"40px"}},[e._v("11.68")])])])]),t("tr",[t("td",{staticStyle:{border:"none"}}),t("td",{staticStyle:{border:"none","text-align":"right"}},[t("div",[t("span",{staticStyle:{"font-weight":"600","margin-right":"10px","line-height":"40px"}},[e._v("Totalamount(US$):")]),t("span",{staticStyle:{"font-weight":"600",color:"rgb(236, 17, 46)","line-height":"40px"}},[e._v("20")])])])])])])])}],n={components:{},data(){return{}},computed:{},watch:{},methods:{},created(){},mounted(){},beforeCreate(){},beforeMount(){},beforeUpdate(){},updated(){},beforeDestroy(){},destroyed(){},activated(){}},s=n,r=(a("54d5"),a("2877")),c=Object(r["a"])(s,o,i,!1,null,"eb0c863a",null);t["default"]=c.exports},"405b":function(e,t,a){e.exports=a.p+"img/Dasouchelogo.e495aeba.png"},"54d5":function(e,t,a){"use strict";a("92ff")},"5e79":function(e,t,a){},"7afa":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"card bd-gray-400"},[t("div",{staticClass:"br-pagetitle d-flex justify-content-between align-items-center"},[t("div",{staticClass:"d-flex"},[t("h4",[e._v("DropShipping客户详情")]),0==e.data.completeRate?t("b",{staticClass:"mg-l-20"},[e._v("(客户资料尚未保存)")]):e._e()]),t("div",{staticClass:"tx-right"},[t("router-link",{attrs:{to:{path:"/Drop"}}},[e._v("返回客户列表")])],1)]),t("div",{staticClass:"box"},[t("div",{staticClass:"d-flex formBox"},[e._m(0),t("div",{staticClass:"form-group-drop"},[t("div",{staticClass:"formItem"},[t("label",{staticClass:"required",attrs:{for:"name"}},[e._v("名称：")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.name,expression:"form.name"}],attrs:{id:"name",type:"text"},domProps:{value:e.form.name},on:{input:function(t){t.target.composing||e.$set(e.form,"name",t.target.value)}}})]),t("div",{staticClass:"formItem"},[t("label",{attrs:{for:"country"}},[e._v("国家：")]),t("div",[t("select",{directives:[{name:"model",rawName:"v-model",value:e.form.countryCode,expression:"form.countryCode"}],attrs:{name:"country",id:"country","data-error":"请选择国家"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.form,"countryCode",t.target.multiple?a:a[0])}}},[t("option",{attrs:{value:""}},[e._v("请选择国家")]),e._l(e.countryArr,(function(a){return t("option",{key:a.value,domProps:{value:a.value}},[e._v(" "+e._s(a.label)+" ")])}))],2)])])]),t("div",{staticClass:"form-group-drop"},[t("div",{staticClass:"formItem"},[t("label",{attrs:{for:"email"}},[e._v("邮箱：")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.email,expression:"form.email"}],attrs:{id:"email",type:"text"},domProps:{value:e.form.email},on:{input:function(t){t.target.composing||e.$set(e.form,"email",t.target.value)}}})]),t("div",{staticClass:"formItem"},[t("label",{attrs:{for:"mobile"}},[e._v("电话：")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.mobile,expression:"form.mobile"}],attrs:{id:"mobile",type:"text"},domProps:{value:e.form.mobile},on:{input:function(t){t.target.composing||e.$set(e.form,"mobile",t.target.value)}}})])]),t("div",{staticClass:"form-group-drop"},[t("div",{staticClass:"formItem"},[t("label",{attrs:{for:"skype"}},[e._v("Skype：")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.skype,expression:"form.skype"}],attrs:{id:"skype",type:"text"},domProps:{value:e.form.skype},on:{input:function(t){t.target.composing||e.$set(e.form,"skype",t.target.value)}}})]),t("div",{staticClass:"formItem"},[t("label",{attrs:{for:"whatsapp"}},[e._v("WhatsApp：")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.whatsapp,expression:"form.whatsapp"}],attrs:{id:"whatsapp",type:"text"},domProps:{value:e.form.whatsapp},on:{input:function(t){t.target.composing||e.$set(e.form,"whatsapp",t.target.value)}}})])]),t("div",{staticClass:"form-group-drop"},[t("div",{staticClass:"formItem"},[t("label",{attrs:{for:"line"}},[e._v("Line：")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.line,expression:"form.line"}],attrs:{id:"line",type:"text"},domProps:{value:e.form.line},on:{input:function(t){t.target.composing||e.$set(e.form,"line",t.target.value)}}})]),t("div",{staticClass:"formItem"},[t("label",{attrs:{for:"weChat"}},[e._v("微信：")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.weChat,expression:"form.weChat"}],attrs:{id:"weChat",type:"text"},domProps:{value:e.form.weChat},on:{input:function(t){t.target.composing||e.$set(e.form,"weChat",t.target.value)}}})])]),t("div",{staticClass:"form-group-drop"},[t("div",{staticClass:"formItem"},[t("label",{attrs:{for:"channelId"}},[e._v("分销渠道：")]),t("div",{staticClass:"rad",staticStyle:{flex:"1"}},[t("el-radio",{attrs:{label:"SHOPIFY"},model:{value:e.form.channelId,callback:function(t){e.$set(e.form,"channelId",t)},expression:"form.channelId"}},[e._v("Shopify")]),t("el-radio",{attrs:{label:"LAZADA"},model:{value:e.form.channelId,callback:function(t){e.$set(e.form,"channelId",t)},expression:"form.channelId"}},[e._v("Lazada")]),t("el-radio",{attrs:{label:"SHOPEE"},model:{value:e.form.channelId,callback:function(t){e.$set(e.form,"channelId",t)},expression:"form.channelId"}},[e._v("Shopee")]),t("el-radio",{attrs:{label:"EBAY"},model:{value:e.form.channelId,callback:function(t){e.$set(e.form,"channelId",t)},expression:"form.channelId"}},[e._v("eBay")]),t("el-radio",{attrs:{label:"AMAZON"},model:{value:e.form.channelId,callback:function(t){e.$set(e.form,"channelId",t)},expression:"form.channelId"}},[e._v("Amazon")]),t("el-radio",{attrs:{label:"WISH"},model:{value:e.form.channelId,callback:function(t){e.$set(e.form,"channelId",t)},expression:"form.channelId"}},[e._v("Wish")]),t("el-radio",{attrs:{label:"WOOCOMMERCE"},model:{value:e.form.channelId,callback:function(t){e.$set(e.form,"channelId",t)},expression:"form.channelId"}},[e._v("WooCommerce")]),t("el-radio",{attrs:{label:"线下"},model:{value:e.form.channelId,callback:function(t){e.$set(e.form,"channelId",t)},expression:"form.channelId"}},[e._v("线下渠道")]),t("el-radio",{attrs:{label:"其他"},model:{value:e.form.channelId,callback:function(t){e.$set(e.form,"channelId",t)},expression:"form.channelId"}},[e._v("其他")])],1)]),t("div",{staticClass:"formItem"},[t("label",{attrs:{for:"remark"}},[e._v("备注：")]),t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.form.remark,expression:"form.remark"}],attrs:{id:"remark",cols:"30",rows:"5"},domProps:{value:e.form.remark},on:{input:function(t){t.target.composing||e.$set(e.form,"remark",t.target.value)}}})])])]),t("div",{staticClass:"footer d-flex"},[t("div",[1==e.isShow?t("el-link",{attrs:{type:"danger"},on:{click:function(t){return e.hideCust(2)}}},[e._v("将该客户从挖掘机列表中设为隐藏")]):t("el-link",{attrs:{type:"success"},on:{click:function(t){return e.hideCust(1)}}},[e._v("将该客户从挖掘机列表中设为显示")])],1),t("div",{staticStyle:{"text-align":"right"}},[t("button",{staticClass:"save",on:{click:function(t){return e.save()}}},[e._v("保存资料")])])])]),t("el-divider"),e._m(1),t("div",{staticClass:"box"},[t("div",{staticClass:"formBox"},[0!=e.tableData.length?t("a",{staticClass:"invite",attrs:{href:"javascript:;"},on:{click:e.inviteMore}},[e._v("邀请客户授权更多店铺")]):e._e(),t("el-tabs",{attrs:{type:"border-card"},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[t("el-tab-pane",{attrs:{label:"其他线上平台订单",name:"first",disabled:""}},[e._v("其他线上平台订单")]),t("el-tab-pane",{attrs:{label:"线下DropShipping订单",name:"second"}},[e.tableData.length>0?t("div",{staticClass:"tableBox"},[t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData}},[t("el-table-column",{attrs:{label:e.$t("myinvoice.invoiceNum"),align:"center",prop:"code",width:"250"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",[e._v(" "+e._s(a.row.code)+" "),1==a.row.importError&&4!=a.row.status&&5!=a.row.status&&6!=a.row.status?t("el-tooltip",{attrs:{placement:"top"}},[t("div",{attrs:{slot:"content"},slot:"content"},[a.row.extraJson&&a.row.extraJson.importErrorLog&&a.row.extraJson.importErrorLog.length?e._l(a.row.extraJson.importErrorLog,(function(a,o){return t("p",{key:o},[e._v(" "+e._s(a)+" ")])})):e._e()],2),t("i",{staticClass:"el-icon-warning tx-danger",staticStyle:{"font-size":"14px","margin-left":"5px"}})]):e._e()],1),t("p",{staticClass:"tx-gray-600",staticStyle:{"white-space":"nowrap"}},[t("span",{domProps:{innerHTML:e._s(e.$t("myinvoice.includeNum",{num:Number(a.row.orderCnt)}))}}),e._v(" / "),a.row.totalCnt?t("el-popover",{attrs:{trigger:"hover",placement:"right"}},[t("div",{directives:[{name:"loading",rawName:"v-loading",value:a.row.loadCnt,expression:"scope.row.loadCnt"}],staticStyle:{"min-height":"50px","font-size":"12px"},attrs:{slot:""},slot:"default"},[t("div",{staticStyle:{"margin-bottom":"5px"}},[e._v(e._s(e.$t("myinvoice.totalOrders"))),t("b",[e._v(e._s(a.row.totalCnt))]),e._v(" "+e._s(e.$t("myinvoice.pros")))]),a.row.cnt?[t("div",{staticStyle:{"margin-bottom":"15px","padding-left":"10px"}},e._l(a.row.cnt,(function(a,o){return t("div",{key:o},[t("span",{staticStyle:{"white-space":"nowrap"}},[e._v(e._s(a.name)+" :")]),e._v(" "),t("span",{staticStyle:{color:"#606266","white-space":"nowrap"}},[e._v(e._s(a.cnt))])])})),0),t("div",{staticStyle:{"text-align":"right"}},[t("a",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:a.row.cntText,expression:"scope.row.cntText",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.cntOnCopy,expression:"cntOnCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:e.cntOnError,expression:"cntOnError",arg:"error"}],staticStyle:{color:"#5c6ac4"},attrs:{href:"javascript:;"}},[e._v(e._s(e.$t("myinvoice.copyData")))])])]:e._e()],2),t("a",{staticStyle:{color:"#5c6ac4"},attrs:{slot:"reference",href:"javascript:;"},on:{mouseenter:function(t){return e.getCntCountry(a.row)}},slot:"reference"},[e._v(e._s(a.row.totalCnt))])]):t("span",{staticStyle:{color:"#606266"}},[e._v("0")]),e._v(" "+e._s(e.$t("myinvoice.pros"))+" / "),a.row.shops.length?t("el-popover",{attrs:{trigger:"hover",placement:"right"}},[t("div",{staticStyle:{"min-height":"50px","font-size":"12px"}},[t("div",{staticStyle:{"margin-bottom":"5px"}},[e._v(e._s(e.$t("myinvoice.总共店铺数："))),t("b",[e._v(e._s(a.row.shops.length))]),e._v(e._s(e.$t("myinvoice.店铺")))]),e._l(a.row.shops,(function(a){return t("div",{key:a.id},[e._v(e._s(a.shopName))])}))],2),t("a",{staticStyle:{color:"#5c6ac4"},attrs:{slot:"reference",href:"javascript:;"},slot:"reference"},[e._v(e._s(a.row.shops.length))])]):t("span",{staticStyle:{color:"#606266"}},[e._v("0")]),e._v(e._s(e.$t("myinvoice.个店铺"))+" ")],1)]}}],null,!1,2623249301)}),t("el-table-column",{attrs:{align:"center",label:e.$t("myinvoice.cus"),prop:"customerName"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",[e._v(e._s(a.row.customerName))]),t("div",[e._v(e._s(a.row.customerRemark))])]}}],null,!1,4214761489)}),t("el-table-column",{attrs:{align:"center",label:e.$t("myinvoice.采购单金额"),width:"230"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",{staticStyle:{width:"100%","text-align":"center"}},[1==a.row.status?[a.row.orderStatusCnt&&Number(a.row.orderStatusCnt.notBindCnt)?t("div",{staticClass:"tx-danger"},[e._v(" "+e._s(e.$t("myinvoice.部分商品供货价未设置"))+" ")]):a.row.orderStatusCnt?[t("div",[t("span",{staticStyle:{"margin-right":"5px",color:"#909399"}},[e._v("US$")]),t("span",{staticStyle:{color:"#F56C6C"}},[e._v(e._s(a.row.realAmount))])]),a.row.paymentType?t("div",[t("span",{staticStyle:{"margin-right":"5px",color:"#909399"}},[e._v(e._s(e.$t("invoice.采购单付款方式"))+": ")]),t("span",[e._v(e._s(e.$t(e.$dict.paymentType[a.row.paymentType].text)))])]):e._e()]:e._e()]:[t("div",{staticClass:"d-flex",staticStyle:{"justify-content":"center"}},[Number(a.row.totalAmount)?[t("span",{staticStyle:{"margin-right":"10px",color:"#909399"}},[e._v("US$")]),t("span",{staticStyle:{color:"#303133"}},[e._v(" "+e._s(a.row.totalAmount)+" ")])]:t("span",{staticStyle:{"text-align":"right"}},[e._v(e._s(e.$t("myinvoice.setUp")))])],2)]],2)]}}],null,!1,2823546414)}),t("el-table-column",{attrs:{label:e.$t("myinvoice.发货统计"),align:"center",width:"280"},scopedSlots:e._u([{key:"default",fn:function(a){return[a.row.orderStatusCnt?[t("div",{staticStyle:{display:"flex","justify-content":"center"}},[t("div",{staticClass:"mg-r-10"},[/^(1|2|3|4|5)$/.test(a.row.status)?t("div",{staticClass:"total-num"},[t("span",{staticClass:"title mg-r-5"},[e._v(" "+e._s(1==a.row.status?e.$t("myinvoice.待报价："):e.$t("myinvoice.待发货："))+" ")]),1==a.row.status?t("span",{staticClass:"num mg-r-5",class:"tx-"+e.$dict.invoiceStatus[a.row.status].type},[e._v(e._s(a.row.orderStatusCnt.waitOfferCnt||"---"))]):t("span",{staticClass:"num mg-r-5",class:"tx-"+e.$dict.invoiceStatus[a.row.status].type},[e._v(e._s(a.row.orderStatusCnt.undeliveredCnt||"---"))]),Number(a.row.orderStatusCnt.refundOrderCnt)?t("div",{staticClass:"total-num"},[t("span",{staticClass:"msg"},[e._v("( "),t("span",{staticClass:"tx-danger"},[e._v(e._s(a.row.orderStatusCnt.refundOrderCnt))]),e._v(" "+e._s(e.$t("myinvoice.个订单采购数量异常"))+" )")])]):e._e()]):e._e(),/^(4|5|6)$/.test(a.row.status)?t("div",{staticClass:"total-num"},[t("span",{staticClass:"title mg-r-5"},[e._v(e._s(e.$t("myinvoice.已发货：")))]),t("span",{staticClass:"num mg-r-5 tx-success"},[e._v(e._s(a.row.orderStatusCnt.deliveredCnt||"---"))]),t("div",[Number(a.row.orderStatusCnt.refundOrderCnt)&&6==a.row.status?t("div",{staticClass:"total-num"},[t("span",{staticClass:"msg"},[e._v("( "),t("span",{staticClass:"tx-danger"},[e._v(e._s(a.row.orderStatusCnt.refundOrderCnt))]),e._v(" "+e._s(e.$t("myinvoice.个客户有退款"))+" )")])]):e._e(),Number(a.row.orderStatusCnt.notSyncCnt)?t("div",{staticClass:"total-num"},[t("el-popover",{attrs:{placement:"bottom",title:e.$t("myinvoice.Download"),width:"500",trigger:"hover"}},[t("div",{staticClass:"mg-t-15 mg-b-15",staticStyle:{"white-space":"nowrap"}},[t("span",{staticClass:"tx-gray-600"},[e._v(e._s(e.$t("myinvoice.shippedquantity"))+" ")]),t("a",{attrs:{href:"javascript:;"}},[e._v(e._s(a.row.orderStatusCnt.deliveredCnt))]),t("span",{staticClass:"mg-l-10"},[e._v(" ("),t("a",{attrs:{href:"javascript:;"}},[e._v(e._s(a.row.orderStatusCnt.notSyncOrderCnt))]),e._v(" "+e._s(e.$t("myinvoice.个订单同步异常"))+") ")])]),t("el-alert",{staticClass:"icon-color",attrs:{closable:!1,title:e.$t("myinvoice.Downloadtext"),type:"info","show-icon":""}}),t("div",{staticClass:"mg-t-15 d-flex justify-content-center"},[t("button",{staticClass:"save",staticStyle:{"margin-right":"30px"},on:{click:function(t){return e.exportDeliver(a.row.id,1)}}},[e._v(e._s(e.$t("myinvoice.Downloadall")))]),t("button",{staticClass:"save",on:{click:function(t){return e.exportDeliver(a.row.id,2)}}},[e._v(e._s(e.$t("myinvoice.Downloadallunsync")))])]),t("a",{staticClass:"msg",attrs:{slot:"reference",href:"javascript:;"},slot:"reference"},[e._v(" ( "),t("span",{staticClass:"tx-danger"},[e._v(e._s(a.row.orderStatusCnt.notSyncOrderCnt))]),e._v(" "+e._s(e.$t("myinvoice.个订单同步异常"))+" ) ")])],1)],1):e._e()])]):e._e()])])]:t("i",{staticClass:"el-icon-loading"})]}}],null,!1,747157097)}),t("el-table-column",{attrs:{align:"center",label:e.$t("myinvoice.status"),width:"180"},scopedSlots:e._u([{key:"default",fn:function(a){return[e.$dict.invoiceStatus[a.row.status]?["9"==a.row.status&&a.row.stopReason?t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:a.row.stopReason,placement:"top"}},[t("span",[e._v(e._s(e.$t(e.$dict.invoiceStatus[a.row.status].text)))])]):t("span",{class:"tx-"+e.$dict.invoiceStatus[a.row.status].type},[e._v(e._s(e.$t(e.$dict.invoiceStatus[a.row.status].text)))])]:e._e()]}}],null,!1,2315358076)}),t("el-table-column",{attrs:{align:"center",label:e.$t("myinvoice.dateTime"),width:"250"},scopedSlots:e._u([{key:"default",fn:function(a){return[a.row.timeCreated?t("div",{staticStyle:{"white-space":"nowrap"}},[t("span",{staticClass:"tx-gray-600"},[e._v(e._s(e.$t("myinvoice.orderCreate")))]),t("span",[e._v(e._s(e.$moment.unix(a.row.timeCreated).format("YYYY-MM-DD HH:mm:ss")))])]):e._e(),a.row.timeRead?t("div",{staticStyle:{"white-space":"nowrap"}},[t("span",{staticClass:"tx-gray-600"},[e._v(e._s(e.$t("myinvoice.orderPaid")))]),t("span",[e._v(e._s(e.$moment.unix(a.row.timeRead).format("YYYY-MM-DD HH:mm:ss")))])]):e._e(),a.row.timePaid?t("div",{staticStyle:{"white-space":"nowrap"}},[t("span",{staticClass:"tx-gray-600"},[e._v(e._s(e.$t("myinvoice.orderConfirm")))]),t("span",[e._v(e._s(e.$moment.unix(a.row.timePaid).format("YYYY-MM-DD HH:mm:ss")))])]):e._e()]}}],null,!1,1315535821)}),t("el-table-column",{attrs:{fixed:"right",label:e.$t("myinvoice.action"),width:"150"},scopedSlots:e._u([{key:"default",fn:function(a){return[a.row.orderStatusCnt?["1"!=a.row.status||Number(a.row.orderStatusCnt.notBindCnt)?e._e():t("div",[t("el-link",{staticStyle:{"font-size":"12px"},attrs:{type:"success"},on:{click:function(t){return e.setPriceConfirm(a.row)}}},[e._v(" "+e._s(e.$t("invoice.确认完成报价"))+" ")])],1),t("div",[t("el-link",{staticStyle:{"font-size":"12px"},attrs:{type:"1"==a.row.status&&Number(a.row.orderStatusCnt.notBindCnt)?"success":"primary"},on:{click:function(t){return e.gotoInvoice(a.row)}}},[e._v(" "+e._s("1"==a.row.status&&Number(a.row.orderStatusCnt.notBindCnt)?e.$t("myinvoice.完善报价"):e.$t("myinvoice.viewDetail"))+" ")])],1)]:e._e(),2!=a.row.status&&3!=a.row.status&&4!=a.row.status&&5!=a.row.status&&6!=a.row.status&&9!=a.row.status?[t("el-link",{staticStyle:{"font-size":"12px"},attrs:{type:"primary"},on:{click:function(t){return e.handleCommand({row:a.row,command:"b"})}}},[e._v(e._s(e.$t("myinvoice.导出订单信息")))]),t("el-link",{staticStyle:{"font-size":"12px"},attrs:{type:"primary"},on:{click:function(t){return e.handleCommand({row:a.row,command:"a"})}}},[e._v(e._s(e.$t("myinvoice.importInfo")))])]:e._e(),2==a.row.status?t("div",[t("el-link",{staticStyle:{"font-size":"12px"},attrs:{disabled:a.row.submitLoading,type:"success"},on:{click:function(t){return e.sendInvoice(a.row)}}},[e._v(e._s(e.$t("myinvoice.sendCus")))])],1):e._e(),3==a.row.status?t("div",[t("el-link",{staticStyle:{"font-size":"12px"},attrs:{disabled:a.row.submitLoading,type:"success"},on:{click:function(t){return e.openConfirmSetPayed(a.row)}}},[e._v(e._s(e.$t("myinvoice.确认收到款项")))])],1):e._e(),4==a.row.status||5==a.row.status?t("div",[t("el-link",{staticStyle:{"font-size":"12px"},attrs:{type:"primary"},on:{click:function(t){return e.openDeliverImport(a.row)}}},[e._v(e._s(e.$t("myinvoice.手工导入发货信息")))])],1):e._e(),1!=a.row.status&&2!=a.row.status?t("div",[t("el-link",{staticStyle:{"font-size":"12px"},attrs:{type:"primary"},on:{click:function(t){return e.handleCommand({row:a.row,command:"c"})}}},[e._v(e._s(e.$t("myinvoice.exportt")))])],1):e._e(),2==a.row.status?t("div",[t("div",[t("el-dropdown",{attrs:{type:"primary"},on:{command:e.handleCommandStatus2}},[t("div",[t("el-link",{staticStyle:{"font-size":"12px"},attrs:{type:"primary"},on:{click:function(t){return e.handleCommand({row:a.row,command:"b"})}}},[e._v(e._s(e.$t("myinvoice.导出订单信息")))]),t("i",{staticClass:"el-icon-arrow-down el-icon--right"})],1),t("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[t("el-dropdown-item",{attrs:{disabled:""}},[t("b",{staticClass:"black"},[e._v(" "+e._s(e.$t("myinvoice.更多操作"))+" ")])]),t("el-dropdown-item",{attrs:{command:{type:"a",data:a.row}}},[e._v(e._s(e.$t("myinvoice.importInfo")))]),a.row.status<5?t("el-dropdown-item",{attrs:{command:{type:"c",data:a.row}}},[e._v(e._s(e.$t("myinvoice.cancelOrder")))]):e._e()],1)],1)],1)]):e._e(),4!=a.row.paymentType||1!=a.row.payStatus?[2!=a.row.status&&a.row.status<5?t("div",[t("el-link",{staticStyle:{"font-size":"12px"},attrs:{type:"danger"},on:{click:function(t){return e.cancelInvoice(a.row)}}},[e._v(e._s(e.$t("myinvoice.cancelOrder")))])],1):e._e()]:e._e()]}}],null,!1,3046077754)})],1),t("div",{ref:"tableFooter"},[e.tableData.length?t("el-row",{attrs:{gutter:20}},[t("el-col",{staticClass:"d-flex justify-content-center",staticStyle:{height:"80px"},attrs:{span:24}},[t("el-pagination",{attrs:{"current-page":e.page,background:!0,layout:"sizes, total, prev, pager, next, jumper","page-sizes":e.pageSize,"page-size":e.rowsPerPage,total:Number(e.totalCount)},on:{"current-change":e.toPage,"size-change":e.changePageSize}})],1)],1):e._e()],1)],1):t("div",{staticClass:"d-flex justify-content-center noShip"},[t("div",[e._v(" 没有当前客户的线下DropShipping订单, "),t("a",{attrs:{href:"javascript:;"},on:{click:e.inviteMore}},[e._v("立刻邀请客户授权店铺")]),e._v("吧 ")])])])],1)],1)]),t("div",{staticClass:"power"},[e._v("Powered by OurMall")])],1),t("el-dialog",{attrs:{width:"80%",title:"b"==e.exportInvoiceType?e.$t("myinvoice.exportShopify"):e.$t("myinvoice.exportOrder"),visible:e.innerVisible},on:{"update:visible":function(t){e.innerVisible=t}}},[t("div",{staticClass:"modal-export"},[t("el-divider"),t("div",{staticClass:"border-bottom-1 mg-b-15 pd-b-15"},[t("h6",{staticClass:"mg-b-15",staticStyle:{"border-left":"4px solid #3F4EAE","padding-left":"10px"}},[e._v(e._s(e.$t("myinvoice.exportFields"))),t("span",{staticClass:"mg-l-5"},[e._v(e._s(e.$t("myinvoice.dragging")))])]),t("div",{staticClass:"draggable-wrap"},[t("draggable",{attrs:{list:e.modalCustomExport.selectedTitles,draggable:".dargDiv",options:{animation:300},group:"tags"}},e._l(e.modalCustomExport.selectedTitles,(function(a,o){return t("el-tag",{key:a.name,staticClass:"dargDiv",attrs:{closable:"","disable-transitions":!1},on:{close:function(t){return e.removeTitle(o)}}},[e._v(" "+e._s(a.name)+" ")])})),1),e.modalCustomExport.selectedTitles.length?e._e():t("div",{staticClass:"w-100 justify-content-center"},[t("span",{staticStyle:{color:"#F56C6C"}},[e._v(e._s(e.$t("myinvoice.PleaseSelectBelow")))])])],1)]),t("el-divider"),t("div",{staticClass:"border-bottom-1 mg-b-15 pd-b-15"},[t("h6",{staticClass:"mg-b-15",staticStyle:{"border-left":"4px solid #3F4EAE","padding-left":"10px"}},[e._v(e._s(e.$t("myinvoice.optionalfields"))+" "),t("span",{staticClass:"tx-danger tx-12",staticStyle:{color:"#F56C6C"}},[e._v(e._s(e.$t("myinvoice.notExport")))])]),t("div",{staticClass:"tag-wrap"},[t("draggable",{attrs:{list:e.modalCustomExport.unselectedTitles,draggable:".uns-tag",options:{animation:300},group:"tags"}},e._l(e.modalCustomExport.unselectedTitles,(function(a,o){return t("el-tag",{key:a.orName,attrs:{effect:"dark"},on:{click:function(t){return e.selectTitle(o)}}},[e._v(" "+e._s(a.orName)+" ")])})),1)],1)]),t("el-divider"),t("div",{staticClass:"border-bottom-1 mg-b-15 pd-b-15"},[t("h6",{staticClass:"mg-b-15",staticStyle:{"border-left":"4px solid #3F4EAE","padding-left":"10px"}},[e._v(" "+e._s(e.$t("myinvoice.customField"))+" "),t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.$t("myinvoice.rename"),placement:"top"}},[t("i",{staticClass:"fa fa-question-circle-o",staticStyle:{color:"#5C6AC4","text-decoration":"none"}})]),t("a",{staticClass:"mg-l-20",staticStyle:{color:"#5C6AC4","text-decoration":"none"},attrs:{href:"javascript:;"},on:{click:function(t){e.showCustom=!e.showCustom}}},[e._v(e._s(e.showCustom?e.$t("myinvoice.hideFields"):e.$t("myinvoice.showFields")))])],1),t("div",{staticClass:"row custom-wrap",class:{hide:!e.showCustom}},[t("el-row",{staticStyle:{margin:"0"},attrs:{gutter:20}},e._l(e.modalCustomExport.selectedTitles,(function(a){return t("el-col",{key:a.orName,staticStyle:{"margin-top":"10px"},attrs:{span:12}},[t("div",{staticClass:"grid-content",staticStyle:{display:"flex","align-items":"center"}},[t("label",{staticStyle:{width:"200px","white-space":"nowrap","text-align":"right","margin-right":"10px",color:"#999"}},[e._v("["+e._s(a.orName)+"]"+e._s(e.$t("myinvoice.showAs"))+"：")]),t("div",{staticClass:"col-6"},[t("el-input",{attrs:{placeholder:a.orName,size:"small"},model:{value:a.name,callback:function(t){e.$set(a,"name",t)},expression:"title.name"}})],1)])])})),1)],1)]),t("el-divider")],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{size:"small"},on:{click:function(t){e.innerVisible=!1}}},[e._v(e._s(e.$t("myinvoice.discard")))]),t("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.saveCustomExportSettingOnly}},[e._v(e._s(e.$t("myinvoice.saveSetting")))]),1!=e.exportItem.payStatus&&"c"==e.exportInvoiceType?[t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",placement:"top"}},[t("div",{attrs:{slot:"content"},slot:"content"},[e._v(" "+e._s(e.$t("myinvoice.confirmReceipt"))+" ")]),t("el-button",{staticStyle:{"background-color":"#b3e19d","border-color":"#b3e19d",cursor:"not-allowed"},attrs:{type:"success",size:"small"}},[e._v(" "+e._s(e.$t("myinvoice.saveSettingExcel"))+" ")])],1),t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",placement:"top"}},[t("div",{attrs:{slot:"content"},slot:"content"},[e._v(" "+e._s(e.$t("myinvoice.confirmReceipt"))+" ")]),t("el-button",{staticStyle:{"background-color":"#b3e19d","border-color":"#b3e19d",cursor:"not-allowed"},attrs:{type:"success",size:"small"}},[e._v(" "+e._s(e.$t("myinvoice.saveSettingCsv"))+" ")])],1)]:[t("el-button",{attrs:{type:"success",size:"small"},on:{click:function(t){return e.saveCustomExport("1")}}},[e._v(e._s(e.$t("myinvoice.saveSettingExcel")))]),t("el-button",{attrs:{type:"success",size:"small"},on:{click:function(t){return e.saveCustomExport("2")}}},[e._v(e._s(e.$t("myinvoice.saveSettingCsv")))])]],2)]),t("el-dialog",{attrs:{"custom-class":"sendInvoice",title:e.$t("myinvoice.sendInvoice"),visible:e.sendInvoiceOpen,width:"50%"},on:{open:e.openSkype,"update:visible":function(t){e.sendInvoiceOpen=t}}},[[t("div",{staticStyle:{position:"relative","z-index":"1"}},[t("div",{staticStyle:{position:"absolute",right:"30px",top:"15px"}},[t("el-switch",{on:{change:e.changeShowItemPrice},model:{value:e.showItemPrice,callback:function(t){e.showItemPrice=t},expression:"showItemPrice"}}),e._v(" "+e._s(e.$t("myinvoice.showPrice"))+" ")],1)]),t("el-tabs",{staticStyle:{"margin-left":"20px","margin-top":"10px"},attrs:{type:"card"},model:{value:e.activeShareName,callback:function(t){e.activeShareName=t},expression:"activeShareName"}},[t("el-tab-pane",{attrs:{name:"shareLink"}},[t("span",{attrs:{slot:"label"},slot:"label"},[t("i",{staticClass:"iconfont icon-link"}),e._v(" "+e._s(e.$t("myinvoice.shareLink")))]),t("div",{staticClass:"d-flex mg-y-20"},[t("div",{staticStyle:{color:"#999",width:"150px","text-align":"right","margin-right":"10px","white-space":"nowrap"}},[e._v(e._s(e.$t("myinvoice.shareUrl")))]),t("div",[t("span",[e._v(e._s(e.invoiceInfo.url))])])]),t("div",{staticClass:"d-flex mg-y-20"},[t("div",{staticStyle:{color:"#999",width:"150px","text-align":"right","margin-right":"10px","white-space":"nowrap"}}),t("div",[t("div",[t("el-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.invoiceInfo.url,expression:"invoiceInfo.url",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:e.onError,expression:"onError",arg:"error"}],attrs:{size:"mini",type:"success"}},[e._v(e._s(e.$t("myinvoice.shareCopy")))])],1)])])]),t("el-tab-pane",{attrs:{name:"shareWeixin"}},[t("span",{attrs:{slot:"label"},slot:"label"},[t("i",{staticClass:"iconfont icon-shejiao"}),e._v(" "+e._s(e.$t("myinvoice.showApp")))]),t("div",[t("div",{staticClass:"d-flex mg-y-20"},[t("div",{staticStyle:{color:"#999",width:"150px","text-align":"right","margin-right":"10px","white-space":"nowrap"}},[e._v(e._s(e.$t("myinvoice.setTitle")))]),t("div",{staticStyle:{width:"70%"}},[t("el-input",{attrs:{type:"text",size:"small"},on:{change:function(t){return e.saveRemark("2")}},model:{value:e.shareTitle,callback:function(t){e.shareTitle=t},expression:"shareTitle"}})],1)]),t("div",{staticClass:"d-flex mg-y-20 align-items-center"},[t("div",{staticStyle:{color:"#999",width:"150px","text-align":"right","margin-right":"10px","white-space":"nowrap"}},[e._v(e._s(e.$t("myinvoice.setContent")))]),t("div",{staticStyle:{width:"70%"}},[t("el-input",{attrs:{type:"textarea",resize:"none",autosize:{minRows:3,maxRows:6},size:"small"},on:{change:function(t){return e.saveRemark("2")}},model:{value:e.shareDesc,callback:function(t){e.shareDesc=t},expression:"shareDesc"}})],1)]),t("div",{staticClass:"d-flex mg-y-20"},[t("div",{staticStyle:{color:"#999",width:"150px","text-align":"right","margin-right":"10px","white-space":"nowrap"}},[e._v(e._s(e.$t("myinvoice.setType")))]),t("div",{staticClass:"d-flex",staticStyle:{width:"70%"}},[t("div",{staticClass:"skype-share",staticStyle:{"margin-right":"30px"},attrs:{"data-href":e.shareTitle+e.shareDesc,"data-lang":"en-US","data-text":e.invoiceInfo.url,"data-style":"large"}}),t("div",[t("el-tooltip",{attrs:{placement:"bottom"}},[t("div",{attrs:{slot:"content"},slot:"content"},[t("p",{staticClass:"tx-center mg-b-10"},[e._v(e._s(e.$t("myinvoice.scan")))]),t("img",{attrs:{src:e.invoiceInfo.qrcodeBase64,width:"130"}}),t("img",{staticStyle:{position:"absolute",left:"50%",top:"50%","margin-left":"-15px","margin-top":"-4px"},attrs:{src:"images/weixin.png",width:"30px"}})]),t("a",{staticClass:"share-weixin",attrs:{href:"javascript:;"}},[t("i",{staticClass:"fa fa-weixin"}),e._v(" "+e._s(e.$t("myinvoice.share"))+" ")])])],1)])])])])],1)],t("el-divider"),t("div",{staticClass:"dialog-footer d-flex justify-content-between",attrs:{slot:"footer"},slot:"footer"},[t("div",[t("el-button",{directives:[{name:"show",rawName:"v-show",value:"shareWeixin"==e.activeShareName,expression:"activeShareName == 'shareWeixin'"}],attrs:{size:"small",type:"primary",plain:""},on:{click:function(t){return e.saveRemark("1")}}},[e._v(e._s(e.$t("myinvoice.reset")))])],1),t("div",[t("el-button",{attrs:{size:"small"},on:{click:function(t){e.sendInvoiceOpen=!1}}},[e._v(e._s(e.$t("myinvoice.discard")))]),t("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.invoicePreview(e.invoiceInfo.url)}}},[e._v(e._s(e.$t("myinvoice.previewInvocie")))])],1)])],2),t("el-dialog",{attrs:{title:e.$t("myinvoice.您当前采购订单中有 0 元供货价的商品"),visible:e.dialogZeroAlert.isShow,width:"600px"},on:{"update:visible":function(t){return e.$set(e.dialogZeroAlert,"isShow",t)}}},[t("div",{staticStyle:{padding:"0 20px"}},[t("div",{staticClass:"mg-b-10"},[e._v(" "+e._s(e.$t("myinvoice.您当前采购订单中有 0 元供货价的商品"))+"： ")]),e._l(e.dialogZeroAlert.items,(function(a){return t("div",{key:a.id,staticStyle:{"margin-bottom":"5px","padding-left":"15px",color:"#909399"}},[e._v(" "+e._s(a.codeName)+" - "+e._s(a.sku)+" × "+e._s(a.quantity)+" ")])})),t("div",{staticClass:"mg-t-30"},[t("el-alert",{attrs:{title:e.$t("myinvoice.确定要发送当前发票发送给客户吗"),type:"warning",closable:!1}})],1)],2),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{size:"small"},on:{click:function(t){e.dialogZeroAlert.isShow=!1}}},[e._v(" "+e._s(e.$t("myinvoice.我再看看"))+" ")]),t("el-button",{attrs:{size:"small",type:"primary",loading:e.dialogZeroAlert.loading},on:{click:function(t){return e.toSendInvoice(e.dialogZeroAlert.invoice,!0)}}},[e._v(" "+e._s(e.$t("myinvoice.确定"))+" ")])],1)]),t("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:e.dialogDeliverImport.loading,expression:"dialogDeliverImport.loading"}],attrs:{title:e.$t("invoice.shippinginformation"),visible:e.dialogDeliverImport.isShow,width:"600px"},on:{"update:visible":function(t){return e.$set(e.dialogDeliverImport,"isShow",t)}}},[t("div",{staticClass:"download-xsl"},[t("el-alert",{staticStyle:{width:"100%"},attrs:{type:"warning",closable:!1}},[t("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"space-between"}},[t("span",[e._v(e._s(e.$t("invoice.templateprovided")))]),t("el-button",{staticStyle:{padding:"0"},attrs:{type:"text"},on:{click:e.downloadFile}},[e._v(e._s(e.$t("invoice.template")))])],1)])],1),t("div",{staticStyle:{"margin-top":"40px",padding:"0 20px"}},[t("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:"",accept:".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel","auto-upload":!1,"file-list":e.dialogDeliverImport.uploadfileList,"on-change":e.handleUploadChange}},[t("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[e._v(e._s(e.$t("invoice.fileSelect")))]),e.dialogDeliverImport.invoiceInfo&&1!=e.dialogDeliverImport.invoiceInfo.payStatus?[t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",placement:"top"}},[t("div",{attrs:{slot:"content"},slot:"content"},[e._v(" "+e._s(e.$t("invoice.proceeding"))+" ")]),t("el-button",{staticStyle:{"background-color":"#b3e19d","border-color":"#b3e19d",cursor:"not-allowed","margin-left":"10px"},attrs:{size:"small",type:"success"}},[e._v(e._s(e.$t("invoice.shippinginformation")))])],1)]:[t("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"success"},on:{click:e.submitUpload}},[e._v(e._s(e.$t("invoice.shippinginformation")))])],t("div",{staticClass:"el-upload__tip mg-y-15",staticStyle:{"margin-top":"20px"},attrs:{slot:"tip"},slot:"tip"},[t("p",[e._v(e._s(e.$t("invoice.shippinginformation1")))]),t("p",[e._v(e._s(e.$t("invoice.shippinginformation2")))])])],2)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{size:"small"},on:{click:function(t){e.dialogDeliverImport.isShow=!1}}},[e._v(" "+e._s(e.$t("myinvoice.关闭"))+" ")])],1)]),t("DialogCancelInvoice",{attrs:{data:e.dialogCancelInvoice},on:{setCancel:e.setCancel}})],1)},i=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"form-group-drop",staticStyle:{border:"none"}},[t("div",{staticClass:"col-md-12"},[t("h4",[e._v("客户详情")])])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"br-pagetitle d-flex justify-content-between align-items-center"},[t("div",[t("h4",[e._v("客户订单情况")])]),t("div",{staticClass:"tx-right"})])}],n=(a("14d9"),a("c895")),r=a("ccff"),c={data(){return{sendInvoiceOpen:!1,activeShareName:"shareLink",shareTitle:"",shareDesc:"",exportItem:"",exportInvoiceType:"",dialogZeroAlert:{isShow:!1,loading:!1,items:[],invoice:null},dialogZeroAlertDefault:"{}",showItemPrice:!0,showCustom:!1,invoiceInfo:"",modalCustomExport:{tags:[],selectedTitles:[],unselectedTitles:[]},modalCustomExportDefault:"",innerVisible:!1,dialogDeliverImport:{isShow:!1,loading:!1,invoiceInfo:null,uploadfileList:[]},dialogDeliverImportDefault:"{}",dialogCancelInvoice:{loading:!1,isShow:!1,item:null,stopReason:""},dialogCancelInvoiceDefault:"{}",id:null,index:null,data:{},channelId:"",activeName:"second",isShow:1,tableData:[],countryJSON:null,countryArr:[],form:{id:"",name:"",countryCode:"",email:"",mobile:"",skype:"",whatsapp:"",line:"",weChat:"",channelId:"",remark:""},tableHeight:400,pageSize:[10,20,50,100],page:this.$route.query.page?Number(this.$route.query.page):1,rowsPerPage:localStorage.getItem(this.$route.name+"RowsPerPage")?Number(localStorage.getItem(this.$route.name+"RowsPerPage")):10,totalCount:0,totalPage:0,channelArr:[{name:"SHOPIFY",id:1},{name:"WOOCOMMERCE",id:2},{name:"LAZADA",id:3},{name:"SHOPEE",id:4},{name:"WAYFAIR",id:5},{name:"EBAY",id:6},{name:"AMAZON",id:8},{name:"WISH",id:9},{name:"线下",id:10},{name:"线下",id:11}],platformArr:[{name:"eBay",id:1},{name:"亚马逊",id:2},{name:"速卖通",id:3},{name:"Wish",id:4},{name:"敦煌",id:6},{name:"LAZADA",id:7},{name:"Cdiscount",id:8},{name:"Bellabuy",id:9},{name:"云分销",id:10},{name:"ensogo",id:11},{name:"LINIO",id:12},{name:"Tobox",id:13},{name:"TopHatter",id:14},{name:"Kilimall",id:15},{name:"Shopify",id:16},{name:"Shopee",id:17},{name:"阿里巴巴",id:18},{name:"Joom",id:19},{name:"京东国际",id:20},{name:"E店宝",id:21},{name:"BigCommerce",id:22},{name:"Ourmall",id:23},{name:"ZoobMall",id:24},{name:"Fyndiq",id:25},{name:"MyMall",id:26},{name:"Shopyy",id:27},{name:"Jumia",id:28},{name:"Jolly",id:29},{name:"Ezbuy",id:30},{name:"Magento",id:31},{name:"Walmart",id:32},{name:"Yandex",id:33},{name:"Vova",id:34},{name:"Alabom",id:35},{name:"Woocommerce",id:36},{name:"Oberlo",id:37},{name:"Prestashop",id:38},{name:"京东印尼",id:39},{name:"Shoplazza",id:40},{name:"Xshopyy",id:41},{name:"Mercadolibre",id:42},{name:"AlibabaInternation",id:43},{name:"Tokopedia",id:44},{name:"京东泰国",id:45},{name:"淘宝",id:46},{name:"Daraz",id:47},{name:"Real",id:48},{name:"Rakuten",id:49},{name:"Skyhub",id:50},{name:"Allegro",id:51},{name:"Pdd",id:52},{name:"Darty",id:53},{name:"Coupang",id:54},{name:"有赞云",id:55},{name:"Umka",id:56},{name:"Uzo",id:57},{name:"Etsy",id:58},{name:"Newegg",id:59},{name:"Shoptima",id:60},{name:"Akulaku",id:61},{name:"Ueeshop",id:62},{name:"Shopline",id:63},{name:"抖音小店",id:64},{name:"京东国内",id:65},{name:"shopBase",id:66},{name:"OTTO",id:67},{name:"Fnac",id:68},{name:"天猫",id:69},{name:"yahooJP",id:70},{name:"ezapp",id:71},{name:"wayfair",id:72},{name:"backmarket",id:73},{name:"bukalapak",id:74},{name:"AllValue",id:75},{name:"shopy",id:76},{name:"Ecwid",id:77},{name:"自营平台",id:98},{name:"其他",id:99},{name:"Tobox",id:100},{name:"real",id:101},{name:"zoodmall",id:111}]}},mounted(){this.id=this.$route.query.id,this.isShow=this.$route.query.show,this.index=this.$route.query.index,this.countryJSON=n,this.dialogCancelInvoiceDefault=JSON.stringify(this.dialogCancelInvoice),this.filterParamsDefault=JSON.stringify(this.filterParams),this.dialogZeroAlertDefault=JSON.stringify(this.dialogZeroAlert),this.modalCustomExportDefault=JSON.stringify(this.modalCustomExport),this.dialogDeliverImportDefault=JSON.stringify(this.dialogDeliverImport),Object.keys(n).forEach(e=>{Object.keys(n[e]).forEach(t=>{this.countryArr.push({label:n[e][t].nameCN,value:n[e][t].code2})})}),this.countryArr.sort((e,t)=>e.label.charCodeAt(0)-t.label.charCodeAt(0)),this.getInfo(),this.id&&this.getItems()},watch:{$route:"gotoPage",cancelStatus:"gotoPage"},methods:{inviteMore(){if(0==this.data.relationship.length)this.$elementMessage("当前客户资料尚未保存，无法邀请客户授权店铺","error");else{let e=this.$router.resolve({name:"myCustom",query:{id:this.data.relationship.id}});window.open(e.href,"_blank")}},openConfirmSetPayed(e){this.$confirm(this.$t("myinvoice.是否要确认收到款项？"),"",{type:"warning",confirmButtonText:this.$t("myinvoice.确认"),cancelButtonText:this.$t("myinvoice.取消")}).then(()=>{this.confirmSetPayed(e)}).catch(()=>{})},checkItem(e){this.cid=e.relationshipId},checkDisabled(e){return!e.relationshipId||!!this.checkboxArr.length&&e.relationshipId!=this.cid},setPriceConfirm(e){this.$confirm(`\n        <p>${this.$t("invoice.是否要确认完成报价?")}</p>\n        <p>\n          <span style="margin-right: 5px; color: #909399;">${this.$t("myinvoice.采购订单编号")}: </span> ${e.code}\n        </p>\n        <p>\n          <span style="margin-right: 5px; color: #909399;">${this.$t("invoice.采购单金额")}: </span> US$ ${e.realAmount}\n        </p>\n        <p>\n          <span style="margin-right: 5px; color: #909399;">${this.$t("invoice.采购单付款方式")}: </span>\n          ${e.paymentType?this.$t(this.$dict.paymentType[e.paymentType].text):"---"}\n        </p>\n        `,"",{dangerouslyUseHTMLString:!0,confirmButtonText:this.$t("invoice.确定"),cancelButtonText:this.$t("invoice.取消"),type:"warning"}).then(()=>{this.loading=!0,this.$apiCall("api.Invoice.setPriceConfirm",{invoiceId:e.id},e=>{"9999"==e.ErrorCode?(this.$elementMessage(this.$t("invoice.确认完成报价成功"),"success"),this.getItems(!0)):this.$elementMessage(e.Message,"error")})})},handleCommandStatus2(e){"a"==e.type&&this.handleCommand({row:e.data,command:"a"}),"c"==e.type&&this.cancelInvoice(e.data)},submitUpload(){if(!this.dialogDeliverImport.uploadfileList.length)return void this.$elementMessage(this.$t("invoice.selectfile"),"error");this.dialogDeliverImport.loading=!0;let e=this.dialogDeliverImport.uploadfileList[0].raw;0==$("#ifilePro").length&&$("body").append('<iframe id="ifilePro" style="display:none"></iframe>');let t=e=>{document.getElementById("ifilePro").src=e},a="api.Invoice.deliverImport",o={invoiceId:this.dialogDeliverImport.invoiceInfo.id,"@file":e};this.$apiCall(a,o,e=>{this.dialogDeliverImport.loading=!1,"9999"==e.ErrorCode?(this.dialogDeliverImport.isShow=!1,this.$elementMessage(this.$t("invoice.successImport"),"success"),this.getItems(!0),t(e.Data.Results.file)):this.$elementMessage(e.Message,"error")})},handleUploadChange(e){this.dialogDeliverImport.uploadfileList=[],this.dialogDeliverImport.uploadfileList.push(e)},downloadFile(){let e="./file/orders_impor.xlsx";0==$("#downloadFile").length&&$("body").append('<iframe id="downloadFile" style="display:none"></iframe>');let t=e=>{document.getElementById("downloadFile").src=e};t(e)},openDeliverImport(e){this.dialogDeliverImport=JSON.parse(this.dialogDeliverImportDefault),this.dialogDeliverImport.isShow=!0,this.dialogDeliverImport.invoiceInfo=e},confirmSetPayed(e){e.submitLoading=!0,this.$apiCall("api.Invoice.setPayed",{invoiceId:e.id},e=>{"9999"==e.ErrorCode&&(this.$elementMessage(this.$t("invoice.successConfirm"),"success"),this.getItems(!0))})},clearFilter(e){switch(e){case"code":this.filterParams.code=this.code="";break;case"relationshipId":this.filterParams.relationshipId=this.filterParams.idName="";break;case"accountId":this.filterParams.accountId=this.filterParams.aIdName="";break;case"trackNumber":this.filterParams.trackNumber=this.filterParams.trackNumberIpt="";break;case"codeName":this.filterParams.codeName=this.filterParams.codeNameIpt="";break;case"date":this.filterParams.date=[],this.filterParams.dateFrom="",this.filterParams.dateTo="",this.filterParams.timeFilter="";break;default:this.code="",this.filterParams=JSON.parse(this.filterParamsDefault);break}"change"!=e&&this.gotoPage()},showDateText(e){let t="";return this.filterParams.timeOption.forEach(a=>{a.value==e&&(t=a.label)}),t},onCopy(e){this.$elementMessage(this.$t("successfullyToClipboard"),"success")},onError(e){this.$elementMessage(this.$t("failedToClipboard"),"error")},saveRemark(e){this.$showLoading(),this.$apiCall("api.Invoice.saveRemark",{uniCode:this.invoiceInfo.uniCode,title:1==e?"":this.shareTitle,desc:1==e?"":this.shareDesc},e=>{this.$hideLoading(),"9999"==e.ErrorCode?(this.shareTitle=e.Data.Results.title,this.shareDesc=e.Data.Results.desc):(this.$elementMessage(e.Message,"error"),"1002"!=e.ErrorCode&&"1003"!=e.ErrorCode||this.$userFailure(this))})},invoicePreview(e){let t=window.open("/blank.html","invoicePreview");t.location.href=e},openSkype(){let e=0,t=setInterval(()=>{(function(e,t,a){e.loadSkypeWebSdkAsync=e.loadSkypeWebSdkAsync||function(e){var o,i=t.getElementsByTagName(a)[0];t.getElementById(e.id)||(o=t.createElement(a),o.id=e.id,o.src=e.scriptToLoad,o.onload=e.callback,i.parentNode.insertBefore(o,i))};var o={scriptToLoad:"https://swx.cdn.skype.com/shared/v/latest/skypewebsdk.js",id:"skype_web_sdk"};e.loadSkypeWebSdkAsync(o)})(window,document,"script"),e++,e>10&&clearInterval(t)},300)},toSendInvoice(e,t){this.showItemPrice="1"==e.showItemPrice,this.sendInvoiceOpen=!0,this.activeShareName="shareLink",t&&(this.dialogZeroAlert.loading=!0),this.$apiCall("api.Invoice.getShareUrl",{invoiceId:e.id},e=>{this.$hideLoading(),"9999"==e.ErrorCode?(this.invoiceInfo=e.Data.Results,this.shareTitle=this.invoiceInfo.remark?this.invoiceInfo.remark.title:"",this.shareDesc=this.invoiceInfo.remark?this.invoiceInfo.remark.desc:"",this.sendInvoiceOpen=!0,this.activeShareName="shareLink",t&&(this.dialogZeroAlert.isShow=!1)):(this.$elementMessage(e.Message,"error"),"1002"!=e.ErrorCode&&"1003"!=e.ErrorCode||this.$userFailure())})},sendInvoice(e){e.submitLoading=!0,this.$apiCall("api.Invoice.checkItemPrice",{invoiceId:e.id},t=>{if(e.submitLoading=!1,"9999"==t.ErrorCode){let a=t.Data.Results;a.noSkuArr.length||a.nullPriceArr.length||a.zeroPriceArr.length?(this.dialogZeroAlert=JSON.parse(this.dialogZeroAlertDefault),this.dialogZeroAlert.items=a.noSkuArr.concat(a.noSkuArr,a.nullPriceArr,a.zeroPriceArr),this.dialogZeroAlert.isShow=!0,this.dialogZeroAlert.invoice=e):this.toSendInvoice(e)}else this.$elementMessage(t.Message,"error")})},changeShowItemPrice(){this.$apiCall("api.Invoice.setShowPrice",{uniCode:this.invoiceInfo.uniCode},e=>{"9999"==e.ErrorCode?this.getItems(!0):(this.showItemPrice=!this.showItemPrice,this.$elementMessage(e.Message,"error"))})},selectTitle(e){this.modalCustomExport.selectedTitles.push(this.modalCustomExport.unselectedTitles[e]),this.modalCustomExport.unselectedTitles.splice(e,1)},removeTitle(e){this.modalCustomExport.unselectedTitles.unshift(this.modalCustomExport.selectedTitles[e]),this.modalCustomExport.selectedTitles.splice(e,1)},getOrderCnt(e){!this.tableData.length||this.tableData.length<e+1||"undefined"==typeof this.tableData[e]||this.$apiCall("api.Invoice.getSummary",{invoiceId:this.tableData[e].id},t=>{"9999"==t.ErrorCode?"undefined"!=typeof this.tableData[e]&&this.$set(this.tableData[e],"orderStatusCnt",t.Data.Results):this.$elementMessage(t.Message,"error"),e++,this.getOrderCnt(e)})},cntOnError(){this.$elementMessage(this.$t("myinvoice.copyFailed"),"error")},cntOnCopy(){this.$elementMessage(this.$t("myinvoice.copyItems"),"success")},getCntCountry(e){e.cnt||(e.loadCnt=!0),this.$apiCall("api.Invoice.getItemsCountry",{invoiceId:e.id},t=>{if(e.loadCnt=!1,"9999"==t.ErrorCode){e.cnt=t.Data.Results;let a=`${this.$t("myinvoice.总共采购商品数：")}${e.totalCnt},`;Object.keys(t.Data.Results).forEach(e=>{a+=`${t.Data.Results[e].name}: ${t.Data.Results[e].cnt},`}),e.cntText=a.slice(0,a.length-1)}})},handleCommand(e){this.exportItem=e.row,this.exportInvoiceType=e.command;let t=()=>{},a="";switch(e.command){case"a":this.$router.push({name:"importData",query:{rid:this.exportItem.relationshipId,id:this.exportItem.id}});break;case"b":this.$showLoading(),0==$("#ifilePro").length&&$("body").append('<iframe id="ifilePro" style="display:none"></iframe>'),t=e=>{document.getElementById("ifilePro").src=e},a="b"==this.exportInvoiceType?"api.Invoice.exportInvoice":"api.Invoice.exportOrder",this.$apiCall(a,{invoiceId:this.exportItem.id,type:"excel"},e=>{this.$hideLoading(),"9999"==e.ErrorCode?(this.$elementMessage(this.$t("myinvoice.exportSuccess"),"success"),t(e.Data.Results.file)):(this.$elementMessage(e.Message,"error"),"1002"!=e.ErrorCode&&"1003"!=e.ErrorCode||this.$userFailure(this))});break;case"c":this.setExportOnly("c");break}},saveCustomExport(e){this.saveCustomExportSettingOnly(e)},saveCustomExportSettingOnly(e){if(!this.modalCustomExport.selectedTitles.length)return this.$elementMessage(this.$t("myinvoice.leastOne"),"error"),!1;if(this.modalCustomExport.selectedTitles.some(e=>!e.name))return this.$elementMessage(this.$t("myinvoice.notEmpty"),"error"),!1;this.$showLoading();let t={};this.modalCustomExport.selectedTitles.forEach(e=>{t[e.key]=e.name});let a="b"==this.exportInvoiceType?"api.Invoice.saveInvoiceTitle":"api.Invoice.saveExportTitle";this.$apiCall(a,{titles:t},a=>{if("9999"==a.ErrorCode)if(e>0){0==$("#ifilePro").length&&$("body").append('<iframe id="ifilePro" style="display:none"></iframe>');let a=e=>{document.getElementById("ifilePro").src=e},o="b"==this.exportInvoiceType?"api.Invoice.exportInvoice":"api.Invoice.exportOrder";this.$apiCall(o,{titles:t,invoiceId:this.exportItem.id,type:1==e?"excel":"csv"},e=>{this.$hideLoading(),"9999"==e.ErrorCode?(this.innerVisible=!1,this.$elementMessage(this.$t("myinvoice.saveSettingAndExport"),"success"),a(e.Data.Results.file)):(this.$elementMessage(e.Message,"error"),"1002"!=e.ErrorCode&&"1003"!=e.ErrorCode||this.$userFailure(this))})}else this.$elementMessage(this.$t("myinvoice.saveSettingSuccess"),"success"),this.innerVisible=!1;else this.$hideLoading(),this.$elementMessage(a.Message,"error"),"1002"!=a.ErrorCode&&"1003"!=a.ErrorCode||this.$userFailure(this)})},setExportOnly(e){this.exportInvoiceType=e,this.loading=!0,this.showCustom=!1,this.modalCustomExport=JSON.parse(this.modalCustomExportDefault);let t="b"==this.exportInvoiceType?"api.Invoice.exportInvoiceTitle":"api.Invoice.exportTitle";this.$apiCall(t,{},e=>{if(this.loading=!1,"9999"==e.ErrorCode){for(var t in this.innerVisible=!0,e.Data.Results.default){let a={};a.key=t,a.orName=e.Data.Results.default[t],a.name=e.Data.Results.default[t],this.modalCustomExport.tags.push(a)}for(var t in e.Data.Results.titles){let a={};a.key=t,a.orName=e.Data.Results.titles[t],a.name=e.Data.Results.titles[t],this.modalCustomExport.selectedTitles.push(a)}this.modalCustomExport.tags.forEach(e=>{this.modalCustomExport.selectedTitles.some(t=>e.key==t.key)||this.modalCustomExport.unselectedTitles.unshift(e),this.modalCustomExport.selectedTitles.some(t=>{e.key==t.key&&this.$set(t,"orName",e.name)})})}else this.$elementMessage(e.Message,"error"),"1002"!=e.ErrorCode&&"1003"!=e.ErrorCode||this.$userFailure(this)})},gotoInvoice(e){let t=this.$router.resolve({name:"Invoice",query:{uniCode:e.uniCode,fromPage:1}});window.open(t.href,"_blank")},setCancel(){this.dialogCancelInvoice.stopReason?(this.dialogCancelInvoice.loading=!0,this.$apiCall("api.Invoice.cancel",{invoiceId:this.dialogCancelInvoice.item.id,stopReason:this.dialogCancelInvoice.stopReason},e=>{this.dialogCancelInvoice.loading=!1,9999==e.ErrorCode?(this.dialogCancelInvoice.isShow=!1,this.$message({message:this.$t("myinvoice.cancelSuccess"),type:"success"}),this.getItems(!0)):this.$message({message:e.Message,type:"error"})})):this.$message({message:"作废原因必须填写",type:"error"})},cancelInvoice(e){this.dialogCancelInvoice=JSON.parse(this.dialogCancelInvoiceDefault),this.dialogCancelInvoice.isShow=!0,this.dialogCancelInvoice.item=e},exportDeliver(e,t){this.$showLoading(),this.$apiCall("api.Invoice.exportDeliverTitle",{invoiceId:e},a=>{if("9999"==a.ErrorCode){let i=[];for(var o in a.Data.Results.titles){let e={};e.key=o,e.orName=a.Data.Results.titles[o],e.name=a.Data.Results.titles[o],i.push(e)}let n={};i.forEach(e=>{n[e.key]=e.name});let s={invoiceId:e,titles:n,onlyDelivered:!0};2==t&&(s.onlyNotSync=!0),0==$("#ifilePro").length&&$("body").append('<iframe id="ifilePro" style="display:none"></iframe>');let r=e=>{document.getElementById("ifilePro").src=e};this.$apiCall("api.Invoice.exportDeliver",s,e=>{this.$hideLoading(),"9999"==e.ErrorCode?(this.$elementMessage(this.$t("myinvoice.下载成功"),"success"),r(e.Data.Results.file)):(this.$elementMessage(e.Message,"error"),"1002"!=e.ErrorCode&&"1003"!=e.ErrorCode||this.$userFailure())})}else this.$elementMessage(a.Message,"error"),"1002"!=a.ErrorCode&&"1003"!=a.ErrorCode||this.$userFailure()})},toPage(e){e!=this.$route.query.page&&this.$router.push({query:{page:e}})},changePageSize(e){this.rowsPerPage=e,localStorage.setItem(this.$route.name+"RowsPerPage",e),this.getItems()},gotoPage(){this.page=this.$route.query.page?Number(this.$route.query.page):1,this.getItems()},getInfo(){this.$apiCall("api.SourceBuyer.findByVendor",{status:this.isShow},e=>{e.Data.Results.forEach(e=>{e.id==this.index&&(this.data=e,this.form.name=this.data.relationship.customerName||this.data.name,this.form.countryCode=this.data.countryCode||"",this.form.email=this.data.relationship.customerEmail,this.form.line=this.data.relationship.customerLine,this.form.mobile=this.data.mobile,this.form.whatsapp=this.data.relationship.customerWhatsapp,0==isNaN(Number(this.data.channelId.replace(/,/g,"")))?(this.form.channelId=Number(this.data.channelId.replace(/,/g,"")),this.channelArr.forEach(e=>{e.id==this.form.channelId&&(this.form.channelId=e.name)})):this.form.channelId=this.data.channelId,this.form.weChat=this.data.relationship.customerWeChat,this.form.skype=this.data.relationship.customerSkype,this.form.remark=this.data.relationship.customerRemark)})})},getItems(){this.$apiCall("api.Invoice.findByVendor",{page:this.page,rowsPerPage:this.rowsPerPage,code:this.id},e=>{if(9999==e.ErrorCode){this.loading=!1;let[t,a]=[e.Data.Results,e.Data.Pagination];this.tableData=t.map(e=>(e.loadCnt=!1,e.cnt=null,e.cntText="",e.submitLoading=!1,e.orderStatusCnt=null,e)),this.totalCount=Number(a.totalCount),this.totalPage=Number(a.totalPage),this.getOrderCnt(0),s||(this.$root.$children[0].$refs.mainScroll.wrap.scrollTop=0)}else this.$message({message:e.Message,type:"error"})})},getOrderCnt(e){!this.tableData.length||this.tableData.length<e+1||"undefined"==typeof this.tableData[e]||this.$apiCall("api.Invoice.getSummary",{invoiceId:this.tableData[e].id},t=>{"9999"==t.ErrorCode?"undefined"!=typeof this.tableData[e]&&this.$set(this.tableData[e],"orderStatusCnt",t.Data.Results):this.$elementMessage(t.Message,"error"),e++,this.getOrderCnt(e)})},cntOnError(){this.$elementMessage(this.$t("myinvoice.copyFailed"),"error")},cntOnCopy(){this.$elementMessage(this.$t("myinvoice.copyItems"),"success")},save(){this.channelArr.forEach(e=>{e.name==this.form.channelId&&(this.form.channelId=e.id)}),this.form.id=this.index;let e=this.form;return this.form.name?this.form.email||this.form.skype||this.form.line||this.form.mobile||this.form.whatsapp||this.form.weChat?void this.$apiCall("api.SourceBuyer.changeByVendor",e,e=>{9999==e.ErrorCode?(this.channelArr.forEach(e=>{e.id==this.form.channelId&&(this.form.channelId=e.name)}),this.getInfo(),this.$elementMessage("保存成功","success")):this.$message({message:e.Message,type:"error"})}):(this.$elementMessage("邮箱、电话、Skype、WhatsApp、Line、微信 至少填写一项","error"),!1):(this.$elementMessage("请填写客户名称","error"),!1)},setShow(e){this.$apiCall("api.SourceBuyer.setShowOrHide",{id:this.index,status:e},t=>{9999==t.ErrorCode?(this.isShow=e,this.$elementMessage("设置成功","success")):this.$message({message:t.Message,type:"error"})})},hideCust(e){2==e?this.$confirm("隐藏后可以在Dropshipping客户挖掘机列表右上角\t->   显示被隐藏的客户 页面恢复客户","提示",{confirmButtonText:"确定",type:"warning"}).then(()=>{this.setShow(e)}).catch(()=>{this.$message({type:"info",message:"已取消设置"})}):this.setShow(e)},getCntCountry(e){e.cnt||(e.loadCnt=!0),this.$apiCall("api.Invoice.getItemsCountry",{invoiceId:e.id},t=>{if(e.loadCnt=!1,"9999"==t.ErrorCode){e.cnt=t.Data.Results;let a=`${this.$t("myinvoice.总共采购商品数：")}${e.totalCnt},`;Object.keys(t.Data.Results).forEach(e=>{a+=`${t.Data.Results[e].name}: ${t.Data.Results[e].cnt},`}),e.cntText=a.slice(0,a.length-1)}})}},components:{DialogCancelInvoice:r["a"]}},l=c,d=(a("c3d8"),a("2877")),m=Object(d["a"])(l,o,i,!1,null,"22313fe9",null);t["default"]=m.exports},"92ff":function(e,t,a){},"9ca2":function(e,t,a){},c3d8:function(e,t,a){"use strict";a("9ca2")},c895:function(e){e.exports=JSON.parse('{"亚洲":{"AE":{"nameCN":"阿联酋","nameEN":"United Arab Emirates","code2":"AE","code3":"ARE","codeNumber":"784"},"AF":{"nameCN":"阿富汗","nameEN":"Afghanistan","code2":"AF","code3":"AFG","codeNumber":"4"},"AM":{"nameCN":"亚美尼亚","nameEN":"Armenia","code2":"AM","code3":"ARM","codeNumber":"51"},"AZ":{"nameCN":"阿塞拜疆","nameEN":"Azerbaijan","code2":"AZ","code3":"AZE","codeNumber":"31"},"BD":{"nameCN":"孟加拉","nameEN":"Bangladesh","code2":"BD","code3":"BGD","codeNumber":"50"},"BH":{"nameCN":"巴林","nameEN":"Bahrain","code2":"BH","code3":"BHR","codeNumber":"48"},"BN":{"nameCN":"文莱","nameEN":"Brunei Darussalam","code2":"BN","code3":"BRN","codeNumber":"96"},"BT":{"nameCN":"不丹","nameEN":"Bhutan","code2":"BT","code3":"BTN","codeNumber":"64"},"CC":{"nameCN":"科科斯（基林）群岛","nameEN":"Cocos (Keeling) Islands","code2":"CC","code3":"CCK","codeNumber":"166"},"CN":{"nameCN":"中国","nameEN":"China","code2":"CN","code3":"CHN","codeNumber":"156"},"GE":{"nameCN":"格鲁吉亚","nameEN":"Georgia","code2":"GE","code3":"GEO","codeNumber":"268"},"HK":{"nameCN":"中国香港","nameEN":"Hong Kong, Province of China","code2":"HK","code3":"HKG","codeNumber":"344"},"ID":{"nameCN":"印度尼西亚","nameEN":"Indonesia","code2":"ID","code3":"IDN","codeNumber":"360"},"IL":{"nameCN":"以色列","nameEN":"Israel","code2":"IL","code3":"ISR","codeNumber":"376"},"IN":{"nameCN":"印度","nameEN":"India","code2":"IN","code3":"IND","codeNumber":"356"},"IO":{"nameCN":"英属印度洋领地","nameEN":"British Indian Ocean Territory","code2":"IO","code3":"IOT","codeNumber":"86"},"IQ":{"nameCN":"伊拉克","nameEN":"Iraq","code2":"IQ","code3":"IRQ","codeNumber":"368"},"IR":{"nameCN":"伊朗","nameEN":"Iran, Islamic Republic of","code2":"IR","code3":"IRN","codeNumber":"364"},"JO":{"nameCN":"约旦","nameEN":"Jordan","code2":"JO","code3":"JOR","codeNumber":"400"},"JP":{"nameCN":"日本","nameEN":"Japan","code2":"JP","code3":"JPN","codeNumber":"392"},"KG":{"nameCN":"吉尔吉斯坦","nameEN":"Kyrgyzstan","code2":"KG","code3":"KGZ","codeNumber":"417"},"KH":{"nameCN":"柬埔寨","nameEN":"Cambodia","code2":"KH","code3":"KHM","codeNumber":"116"},"KP":{"nameCN":"朝鲜","nameEN":"Korea, Democratic People\'s Republic of","code2":"KP","code3":"PRK","codeNumber":"408"},"KR":{"nameCN":"韩国","nameEN":"Korea, Republic of","code2":"KR","code3":"KOR","codeNumber":"410"},"KW":{"nameCN":"科威特","nameEN":"Kuwait","code2":"KW","code3":"KWT","codeNumber":"414"},"KZ":{"nameCN":"哈萨克","nameEN":"Kazakhstan","code2":"KZ","code3":"KAZ","codeNumber":"398"},"LA":{"nameCN":"老挝","nameEN":"Lao People\'s Democratic Republic","code2":"LA","code3":"LAO","codeNumber":"418"},"LB":{"nameCN":"黎巴嫩","nameEN":"Lebanon","code2":"LB","code3":"LBN","codeNumber":"422"},"LK":{"nameCN":"斯里兰卡","nameEN":"Sri Lanka","code2":"LK","code3":"LKA","codeNumber":"144"},"MM":{"nameCN":"缅甸","nameEN":"Myanmar","code2":"MM","code3":"MMR","codeNumber":"104"},"MN":{"nameCN":"蒙古","nameEN":"Mongolia","code2":"MN","code3":"MNG","codeNumber":"496"},"MO":{"nameCN":"中国澳门","nameEN":"Macao, Province of China","code2":"MO","code3":"MAC","codeNumber":"446"},"MV":{"nameCN":"马尔代夫","nameEN":"Maldives","code2":"MV","code3":"MDV","codeNumber":"462"},"MY":{"nameCN":"马来西亚","nameEN":"Malaysia","code2":"MY","code3":"MYS","codeNumber":"458"},"NP":{"nameCN":"尼泊尔","nameEN":"Nepal","code2":"NP","code3":"NPL","codeNumber":"524"},"OM":{"nameCN":"阿曼","nameEN":"Oman","code2":"OM","code3":"OMN","codeNumber":"512"},"PH":{"nameCN":"菲律宾","nameEN":"Philippines","code2":"PH","code3":"PHL","codeNumber":"608"},"PK":{"nameCN":"巴基斯坦","nameEN":"Pakistan","code2":"PK","code3":"PAK","codeNumber":"586"},"PS":{"nameCN":"巴勒斯坦","nameEN":"Palestinian Territory","code2":"PS","code3":"PSE","codeNumber":"275"},"QA":{"nameCN":"卡塔尔","nameEN":"Qatar","code2":"QA","code3":"QAT","codeNumber":"634"},"SA":{"nameCN":"沙特阿拉伯","nameEN":"Saudi Arabia","code2":"SA","code3":"SAU","codeNumber":"682"},"SG":{"nameCN":"新加坡","nameEN":"Singapore","code2":"SG","code3":"SGP","codeNumber":"702"},"SY":{"nameCN":"叙利亚","nameEN":"Syrian Arab Republic","code2":"SY","code3":"SYR","codeNumber":"760"},"TH":{"nameCN":"泰国","nameEN":"Thailand","code2":"TH","code3":"THA","codeNumber":"764"},"TJ":{"nameCN":"塔吉克斯坦","nameEN":"Tajikistan","code2":"TJ","code3":"TJK","codeNumber":"762"},"TL":{"nameCN":"东帝汶","nameEN":"Timor-Leste","code2":"TL","code3":"TLS","codeNumber":"626"},"TM":{"nameCN":"土库曼","nameEN":"Turkmenistan","code2":"TM","code3":"TKM","codeNumber":"795"},"TR":{"nameCN":"土耳其","nameEN":"Turkey","code2":"TR","code3":"TUR","codeNumber":"792"},"TW":{"nameCN":"中国台湾","nameEN":"Taiwan, Province of China","code2":"TW","code3":"TWN","codeNumber":"158"},"UZ":{"nameCN":"乌兹别克","nameEN":"Uzbekistan","code2":"UZ","code3":"UZB","codeNumber":"860"},"VN":{"nameCN":"越南","nameEN":"Viet Nam","code2":"VN","code3":"VNM","codeNumber":"704"},"YE":{"nameCN":"也门","nameEN":"Yemen","code2":"YE","code3":"YEM","codeNumber":"887"}},"北美洲":{"AG":{"nameCN":"安提瓜和巴布达","nameEN":"Antigua and Barbuda","code2":"AG","code3":"ATG","codeNumber":"28"},"AI":{"nameCN":"安圭拉岛","nameEN":"Anguilla","code2":"AI","code3":"AIA","codeNumber":"660"},"AW":{"nameCN":"阿鲁巴","nameEN":"Aruba","code2":"AW","code3":"ABW","codeNumber":"533"},"BB":{"nameCN":"巴巴多斯","nameEN":"Barbados","code2":"BB","code3":"BRB","codeNumber":"52"},"BM":{"nameCN":"百慕大群岛","nameEN":"Bermuda","code2":"BM","code3":"BMU","codeNumber":"60"},"BQ":{"nameCN":"荷兰加勒比区","nameEN":"Caribbean Netherlands","code2":"BQ","code3":"BES","codeNumber":"535"},"BZ":{"nameCN":"伯利兹","nameEN":"Belize","code2":"BZ","code3":"BLZ","codeNumber":"84"},"CA":{"nameCN":"加拿大","nameEN":"Canada","code2":"CA","code3":"CAN","codeNumber":"124"},"CR":{"nameCN":"哥斯达黎加","nameEN":"Costa Rica","code2":"CR","code3":"CRI","codeNumber":"188"},"CU":{"nameCN":"古巴","nameEN":"Cuba","code2":"CU","code3":"CUB","codeNumber":"192"},"DM":{"nameCN":"多米尼加","nameEN":"Dominica","code2":"DM","code3":"DMA","codeNumber":"212"},"GD":{"nameCN":"格林纳达","nameEN":"Grenada","code2":"GD","code3":"GRD","codeNumber":"308"},"GL":{"nameCN":"格陵兰","nameEN":"Greenland","code2":"GL","code3":"GRL","codeNumber":"304"},"GT":{"nameCN":"危地马拉","nameEN":"Guatemala","code2":"GT","code3":"GTM","codeNumber":"320"},"GU":{"nameCN":"关岛","nameEN":"Guam","code2":"GU","code3":"GUM","codeNumber":"316"},"HN":{"nameCN":"洪都拉斯","nameEN":"Honduras","code2":"HN","code3":"HND","codeNumber":"340"},"HT":{"nameCN":"海地","nameEN":"Haiti","code2":"HT","code3":"HTI","codeNumber":"332"},"KN":{"nameCN":"圣基茨和尼维斯","nameEN":"Saint Kitts and Nevis","code2":"KN","code3":"KNA","codeNumber":"659"},"KY":{"nameCN":"开曼群岛","nameEN":"Cayman Islands","code2":"KY","code3":"CYM","codeNumber":"136"},"LC":{"nameCN":"圣卢西亚","nameEN":"Saint Lucia","code2":"LC","code3":"LCA","codeNumber":"662"},"MX":{"nameCN":"墨西哥","nameEN":"Mexico","code2":"MX","code3":"MEX","codeNumber":"484"},"NI":{"nameCN":"尼加拉瓜","nameEN":"Nicaragua","code2":"NI","code3":"NIC","codeNumber":"558"},"PM":{"nameCN":"圣皮埃尔和密克隆","nameEN":"Saint Pierre and Miquelon","code2":"PM","code3":"SPM","codeNumber":"666"},"PR":{"nameCN":"波多黎各","nameEN":"Puerto Rico","code2":"PR","code3":"PRI","codeNumber":"630"},"TC":{"nameCN":"特克斯和凯科斯群岛","nameEN":"Turks and Caicos Islands","code2":"TC","code3":"TCA","codeNumber":"796"},"TT":{"nameCN":"特立尼达和多巴哥","nameEN":"Trinidad and Tobago","code2":"TT","code3":"TTO","codeNumber":"780"},"UM":{"nameCN":"美国周边小岛屿","nameEN":"United States Minor Outlying Islands","code2":"UM","code3":"UMI","codeNumber":"581"},"US":{"nameCN":"美国","nameEN":"United States","code2":"US","code3":"USA","codeNumber":"840"},"VC":{"nameCN":"圣文森特和格林纳丁斯","nameEN":"Saint Vincent and the Grenadines","code2":"VC","code3":"VCT","codeNumber":"670"},"VI":{"nameCN":"美属维尔京群岛","nameEN":"United States Virgin Islands","code2":"VI","code3":"VIR","codeNumber":"850"},"WS":{"nameCN":"萨摩亚","nameEN":"Samoa","code2":"WS","code3":"WSM","codeNumber":"882"},"CW":{"nameCN":"库拉索","nameEN":"Curacao","code2":"CW","code3":"CUW","codeNumber":"531"}},"南美洲":{"AN":{"nameCN":"安的列斯","nameEN":"Netherlands Antilles","code2":"AN","code3":"ANT","codeNumber":"530"},"AR":{"nameCN":"阿根廷","nameEN":"Argentina","code2":"AR","code3":"ARG","codeNumber":"32"},"BO":{"nameCN":"玻利维亚","nameEN":"Bolivia, Plurinational State of","code2":"BO","code3":"BOL","codeNumber":"68"},"BR":{"nameCN":"巴西","nameEN":"Brazil","code2":"BR","code3":"BRA","codeNumber":"76"},"BS":{"nameCN":"巴哈马","nameEN":"Bahamas","code2":"BS","code3":"BHS","codeNumber":"44"},"CL":{"nameCN":"智利","nameEN":"Chile","code2":"CL","code3":"CHL","codeNumber":"152"},"CO":{"nameCN":"哥伦比亚","nameEN":"Colombia","code2":"CO","code3":"COL","codeNumber":"170"},"EC":{"nameCN":"厄瓜多尔","nameEN":"Ecuador","code2":"EC","code3":"ECU","codeNumber":"218"},"FK":{"nameCN":"福克兰群岛（马尔维纳斯群岛）","nameEN":"Falkland Islands (Malvinas)","code2":"FK","code3":"FLK","codeNumber":"238"},"GF":{"nameCN":"法属圭亚那","nameEN":"French Guiana","code2":"GF","code3":"GUF","codeNumber":"254"},"GP":{"nameCN":"瓜德罗普","nameEN":"Guadeloupe","code2":"GP","code3":"GLP","codeNumber":"312"},"GY":{"nameCN":"圭亚那","nameEN":"Guyana","code2":"GY","code3":"GUY","codeNumber":"328"},"JM":{"nameCN":"牙买加","nameEN":"Jamaica","code2":"JM","code3":"JAM","codeNumber":"388"},"MS":{"nameCN":"蒙特塞拉特岛","nameEN":"Montserrat","code2":"MS","code3":"MSR","codeNumber":"500"},"PA":{"nameCN":"巴拿马","nameEN":"Panama","code2":"PA","code3":"PAN","codeNumber":"591"},"PE":{"nameCN":"秘鲁","nameEN":"Peru","code2":"PE","code3":"PER","codeNumber":"604"},"PY":{"nameCN":"巴拉圭","nameEN":"Paraguay","code2":"PY","code3":"PRY","codeNumber":"600"},"SR":{"nameCN":"苏里南","nameEN":"Suriname","code2":"SR","code3":"SUR","codeNumber":"740"},"UY":{"nameCN":"乌拉圭","nameEN":"Uruguay","code2":"UY","code3":"URY","codeNumber":"858"},"VE":{"nameCN":"委内瑞拉","nameEN":"Venezuela, Bolivarian Republic of","code2":"VE","code3":"VEN","codeNumber":"862"}},"大洋洲":{"AQ":{"nameCN":"南极洲","nameEN":"Antarctica","code2":"AQ","code3":"ATA","codeNumber":"10"},"AS":{"nameCN":"美国萨摩亚","nameEN":"American Samoa","code2":"AS","code3":"ASM","codeNumber":"16"},"AU":{"nameCN":"澳大利亚","nameEN":"Australia","code2":"AU","code3":"AUS","codeNumber":"36"},"CK":{"nameCN":"库克群岛","nameEN":"Cook Islands","code2":"CK","code3":"COK","codeNumber":"184"},"CX":{"nameCN":"圣诞岛","nameEN":"Christmas Island","code2":"CX","code3":"CXR","codeNumber":"162"},"FJ":{"nameCN":"斐济","nameEN":"Fiji","code2":"FJ","code3":"FJI","codeNumber":"242"},"FM":{"nameCN":"密克罗尼西亚联邦","nameEN":"Micronesia, Federated States of","code2":"FM","code3":"FSM","codeNumber":"583"},"HM":{"nameCN":"赫德和麦克唐纳群岛","nameEN":"Heard Island and McDonald Islands","code2":"HM","code3":"HMD","codeNumber":"334"},"KI":{"nameCN":"基里巴斯","nameEN":"Kiribati","code2":"KI","code3":"KIR","codeNumber":"296"},"MH":{"nameCN":"马绍尔群岛","nameEN":"Marshall Islands","code2":"MH","code3":"MHL","codeNumber":"584"},"MP":{"nameCN":"北马里亚纳群岛","nameEN":"Northern Mariana Islands","code2":"MP","code3":"MNP","codeNumber":"580"},"NC":{"nameCN":"新喀里多尼亚","nameEN":"New Caledonia","code2":"NC","code3":"NCL","codeNumber":"540"},"NF":{"nameCN":"诺福克岛","nameEN":"Norfolk Island","code2":"NF","code3":"NFK","codeNumber":"574"},"NR":{"nameCN":"瑙鲁","nameEN":"Nauru","code2":"NR","code3":"NRU","codeNumber":"520"},"NU":{"nameCN":"纽埃","nameEN":"Niue","code2":"NU","code3":"NIU","codeNumber":"570"},"NZ":{"nameCN":"新西兰","nameEN":"New Zealand","code2":"NZ","code3":"NZL","codeNumber":"554"},"PF":{"nameCN":"波利尼西亚","nameEN":"French Polynesia","code2":"PF","code3":"PYF","codeNumber":"258"},"PG":{"nameCN":"巴布亚新几内亚","nameEN":"Papua New Guinea","code2":"PG","code3":"PNG","codeNumber":"598"},"PN":{"nameCN":"皮特凯恩","nameEN":"Pitcairn","code2":"PN","code3":"PCN","codeNumber":"612"},"PW":{"nameCN":"帕劳","nameEN":"Palau","code2":"PW","code3":"PLW","codeNumber":"585"},"SB":{"nameCN":"所罗门群岛","nameEN":"Solomon Islands","code2":"SB","code3":"SLB","codeNumber":"90"},"TK":{"nameCN":"托克劳","nameEN":"Tokelau","code2":"TK","code3":"TKL","codeNumber":"772"},"TO":{"nameCN":"汤加","nameEN":"Tonga","code2":"TO","code3":"TON","codeNumber":"776"},"TV":{"nameCN":"图瓦卢","nameEN":"Tuvalu","code2":"TV","code3":"TUV","codeNumber":"798"},"VG":{"nameCN":"英属维尔京群岛","nameEN":"Virgin Islands, British","code2":"VG","code3":"VGB","codeNumber":"92"},"VU":{"nameCN":"瓦努阿图","nameEN":"Vanuatu","code2":"VU","code3":"VUT","codeNumber":"548"},"WL":{"nameCN":"瓦利斯和富图纳","nameEN":"Wallis and Futuna","code2":"WL","code3":"WLF","codeNumber":"876"}},"欧洲":{"AD":{"nameCN":"安道尔","nameEN":"Andorra","code2":"AD","code3":"AND","codeNumber":"20"},"AL":{"nameCN":"阿尔巴尼亚","nameEN":"Albania","code2":"AL","code3":"ALB","codeNumber":"8"},"AT":{"nameCN":"奥地利","nameEN":"Austria","code2":"AT","code3":"AUT","codeNumber":"40"},"AX":{"nameCN":"奥兰群岛","nameEN":"Aland Islands","code2":"AX","code3":"ALA","codeNumber":"248"},"BA":{"nameCN":"波黑","nameEN":"Bosnia and Herzegovina","code2":"BA","code3":"BIH","codeNumber":"70"},"BE":{"nameCN":"比利时","nameEN":"Belgium","code2":"BE","code3":"BEL","codeNumber":"56"},"BG":{"nameCN":"保加利亚","nameEN":"Bulgaria","code2":"BG","code3":"BGR","codeNumber":"100"},"BL":{"nameCN":"圣巴泰勒米","nameEN":"Saint Barthelemy","code2":"BL","code3":"BLM","codeNumber":"590"},"BV":{"nameCN":"布维岛","nameEN":"Bouvet Island","code2":"BV","code3":"BVT","codeNumber":"74"},"BY":{"nameCN":"白俄罗斯","nameEN":"Belarus","code2":"BY","code3":"BLR","codeNumber":"112"},"CH":{"nameCN":"瑞士","nameEN":"Switzerland","code2":"CH","code3":"CHE","codeNumber":"756"},"CV":{"nameCN":"佛得角","nameEN":"Cape Verde","code2":"CV","code3":"CPV","codeNumber":"132"},"CY":{"nameCN":"塞浦路斯","nameEN":"Cyprus","code2":"CY","code3":"CYP","codeNumber":"196"},"CZ":{"nameCN":"捷克","nameEN":"Czech Republic","code2":"CZ","code3":"CZE","codeNumber":"203"},"DE":{"nameCN":"德国","nameEN":"Germany","code2":"DE","code3":"DEU","codeNumber":"276"},"DK":{"nameCN":"丹麦","nameEN":"Denmark","code2":"DK","code3":"DNK","codeNumber":"208"},"DO":{"nameCN":"多米尼加共和国","nameEN":"Dominican Republic","code2":"DO","code3":"DOM","codeNumber":"214"},"EE":{"nameCN":"爱沙尼亚","nameEN":"Estonia","code2":"EE","code3":"EST","codeNumber":"233"},"ES":{"nameCN":"西班牙","nameEN":"Spain","code2":"ES","code3":"ESP","codeNumber":"724"},"FI":{"nameCN":"芬兰","nameEN":"Finland","code2":"FI","code3":"FIN","codeNumber":"246"},"FO":{"nameCN":"法罗群岛","nameEN":"Faroe Islands","code2":"FO","code3":"FRO","codeNumber":"234"},"FR":{"nameCN":"法国","nameEN":"France","code2":"FR","code3":"FRA","codeNumber":"250"},"GG":{"nameCN":"根西岛","nameEN":"Guernsey","code2":"GG","code3":"GGY","codeNumber":"831"},"GI":{"nameCN":"直布罗陀","nameEN":"Gibraltar","code2":"GI","code3":"GIB","codeNumber":"292"},"GR":{"nameCN":"希腊","nameEN":"Greece","code2":"GR","code3":"GRC","codeNumber":"300"},"HR":{"nameCN":"克罗地亚","nameEN":"Croatia","code2":"HR","code3":"HRV","codeNumber":"191"},"HU":{"nameCN":"匈牙利","nameEN":"Hungary","code2":"HU","code3":"HUN","codeNumber":"348"},"IE":{"nameCN":"爱尔兰","nameEN":"Ireland","code2":"IE","code3":"IRL","codeNumber":"372"},"IM":{"nameCN":"马恩岛","nameEN":"Isle of Man","code2":"IM","code3":"IMN","codeNumber":"833"},"IS":{"nameCN":"冰岛","nameEN":"Iceland","code2":"IS","code3":"ISL","codeNumber":"352"},"IT":{"nameCN":"意大利","nameEN":"Italy","code2":"IT","code3":"ITA","codeNumber":"380"},"JE":{"nameCN":"泽西岛","nameEN":"Jersey","code2":"JE","code3":"JEY","codeNumber":"832"},"LI":{"nameCN":"列支敦士登","nameEN":"Liechtenstein","code2":"LI","code3":"LIE","codeNumber":"438"},"LT":{"nameCN":"立陶宛","nameEN":"Lithuania","code2":"LT","code3":"LTU","codeNumber":"440"},"LU":{"nameCN":"卢森堡","nameEN":"Luxembourg","code2":"LU","code3":"LUX","codeNumber":"442"},"LV":{"nameCN":"拉脱维亚","nameEN":"Latvia","code2":"LV","code3":"LVA","codeNumber":"428"},"MC":{"nameCN":"摩纳哥","nameEN":"Monaco","code2":"MC","code3":"MCO","codeNumber":"492"},"MD":{"nameCN":"摩尔多瓦","nameEN":"Moldova, Republic of","code2":"MD","code3":"MDA","codeNumber":"498"},"ME":{"nameCN":"黑山共和国","nameEN":"Montenegro","code2":"ME","code3":"MNE","codeNumber":"499"},"MK":{"nameCN":"马其顿","nameEN":"Macedonia, the former Yugoslav Republic of","code2":"MK","code3":"MKD","codeNumber":"807"},"MQ":{"nameCN":"马提尼克","nameEN":"Martinique","code2":"MQ","code3":"MTQ","codeNumber":"474"},"MT":{"nameCN":"马耳他","nameEN":"Malta","code2":"MT","code3":"MLT","codeNumber":"470"},"NL":{"nameCN":"荷兰","nameEN":"Netherlands","code2":"NL","code3":"NLD","codeNumber":"528"},"NO":{"nameCN":"挪威","nameEN":"Norway","code2":"NO","code3":"NOR","codeNumber":"578"},"PL":{"nameCN":"波兰","nameEN":"Poland","code2":"PL","code3":"POL","codeNumber":"616"},"PT":{"nameCN":"葡萄牙","nameEN":"Portugal","code2":"PT","code3":"PRT","codeNumber":"620"},"RE":{"nameCN":"留尼旺岛","nameEN":"Reunion","code2":"RE","code3":"REU","codeNumber":"638"},"RO":{"nameCN":"罗马尼亚","nameEN":"Romania","code2":"RO","code3":"ROU","codeNumber":"642"},"RS":{"nameCN":"塞尔维亚","nameEN":"Serbia","code2":"RS","code3":"SRB","codeNumber":"688"},"RU":{"nameCN":"俄罗斯","nameEN":"Russian Federation","code2":"RU","code3":"RUS","codeNumber":"643"},"SE":{"nameCN":"瑞典","nameEN":"Sweden","code2":"SE","code3":"SWE","codeNumber":"752"},"SI":{"nameCN":"斯洛文尼亚","nameEN":"Slovenia","code2":"SI","code3":"SVN","codeNumber":"705"},"SJ":{"nameCN":"斯瓦尔巴群岛和扬马延岛","nameEN":"Svalbard and Jan Mayen","code2":"SJ","code3":"SJM","codeNumber":"744"},"SK":{"nameCN":"斯洛伐克","nameEN":"Slovakia","code2":"SK","code3":"SVK","codeNumber":"703"},"SM":{"nameCN":"圣马力诺","nameEN":"San Marino","code2":"SM","code3":"SMR","codeNumber":"674"},"SV":{"nameCN":"萨尔瓦多","nameEN":"El Salvador","code2":"SV","code3":"SLV","codeNumber":"222"},"TF":{"nameCN":"法国南部的领土","nameEN":"French Southern Territories","code2":"TF","code3":"ATF","codeNumber":"260"},"UA":{"nameCN":"乌克兰","nameEN":"Ukraine","code2":"UA","code3":"UKR","codeNumber":"804"},"UK":{"nameCN":"英国","nameEN":"United Kingdom","code2":"UK","code3":"UK","codeNumber":"826"},"VA":{"nameCN":"梵蒂冈","nameEN":"Vatican City","code2":"VA","code3":"VAT","codeNumber":"336"},"YK":{"nameCN":"科索沃","nameEN":"Kosovo","code2":"YK","code3":"","codeNumber":""}},"非洲":{"AO":{"nameCN":"安哥拉","nameEN":"Angola","code2":"AO","code3":"AGO","codeNumber":"24"},"BF":{"nameCN":"布基纳法索","nameEN":"Burkina Faso","code2":"BF","code3":"BFA","codeNumber":"854"},"BI":{"nameCN":"布隆迪","nameEN":"Burundi","code2":"BI","code3":"BDI","codeNumber":"108"},"BJ":{"nameCN":"贝宁","nameEN":"Benin","code2":"BJ","code3":"BEN","codeNumber":"204"},"BW":{"nameCN":"博茨瓦纳","nameEN":"Botswana","code2":"BW","code3":"BWA","codeNumber":"72"},"CD":{"nameCN":"刚果民主共和国","nameEN":"Congo, the Democratic Republic of the","code2":"CD","code3":"COD","codeNumber":"180"},"CF":{"nameCN":"中非","nameEN":"Central African Republic","code2":"CF","code3":"CAF","codeNumber":"140"},"CG":{"nameCN":"刚果","nameEN":"Congo","code2":"CG","code3":"COG","codeNumber":"178"},"CI":{"nameCN":"科特迪瓦","nameEN":"Cote d\'Ivoire","code2":"CI","code3":"CIV","codeNumber":"384"},"KT":{"nameCN":"科特迪瓦 ","nameEN":"Coteo Ivoire","code2":"KT","code3":"","codeNumber":""},"CM":{"nameCN":"喀麦隆","nameEN":"Cameroon","code2":"CM","code3":"CMR","codeNumber":"120"},"DJ":{"nameCN":"吉布提","nameEN":"Djibouti","code2":"DJ","code3":"DJI","codeNumber":"262"},"DZ":{"nameCN":"阿尔及利亚","nameEN":"Algeria","code2":"DZ","code3":"DZA","codeNumber":"12"},"EG":{"nameCN":"埃及","nameEN":"Egypt","code2":"EG","code3":"EGY","codeNumber":"818"},"EH":{"nameCN":"西撒哈拉","nameEN":"Western Sahara","code2":"EH","code3":"ESH","codeNumber":"732"},"ER":{"nameCN":"厄立特里亚","nameEN":"Eritrea","code2":"ER","code3":"ERI","codeNumber":"232"},"ET":{"nameCN":"埃塞俄比亚","nameEN":"Ethiopia","code2":"ET","code3":"ETH","codeNumber":"231"},"GA":{"nameCN":"加蓬","nameEN":"Gabon","code2":"GA","code3":"GAB","codeNumber":"266"},"GH":{"nameCN":"加纳","nameEN":"Ghana","code2":"GH","code3":"GHA","codeNumber":"288"},"GM":{"nameCN":"冈比亚","nameEN":"Gambia","code2":"GM","code3":"GMB","codeNumber":"270"},"GN":{"nameCN":"几内亚","nameEN":"Guinea","code2":"GN","code3":"GIN","codeNumber":"324"},"GQ":{"nameCN":"赤道几内亚","nameEN":"Equatorial Guinea","code2":"GQ","code3":"GNQ","codeNumber":"226"},"GS":{"nameCN":"南乔治亚和南桑德威奇群岛","nameEN":"South Georgia and the South Sandwich Islands","code2":"GS","code3":"SGS","codeNumber":"239"},"GW":{"nameCN":"几内亚比绍","nameEN":"Guinea-Bissau","code2":"GW","code3":"GNB","codeNumber":"624"},"KE":{"nameCN":"肯尼亚","nameEN":"Kenya","code2":"KE","code3":"KEN","codeNumber":"404"},"KM":{"nameCN":"科摩罗伊斯兰联邦共和国","nameEN":"Comoros","code2":"KM","code3":"COM","codeNumber":"174"},"LR":{"nameCN":"利比里亚","nameEN":"Liberia","code2":"LR","code3":"LBR","codeNumber":"430"},"LS":{"nameCN":"莱索托","nameEN":"Lesotho","code2":"LS","code3":"LSO","codeNumber":"426"},"LY":{"nameCN":"利比亚","nameEN":"Libyan Arab Jamahiriya","code2":"LY","code3":"LBY","codeNumber":"434"},"MA":{"nameCN":"摩洛哥","nameEN":"Morocco","code2":"MA","code3":"MAR","codeNumber":"504"},"MF":{"nameCN":"圣马丁","nameEN":"Saint Martin (French part)","code2":"MF","code3":"MAF","codeNumber":"663"},"MG":{"nameCN":"马达加斯加","nameEN":"Madagascar","code2":"MG","code3":"MDG","codeNumber":"450"},"ML":{"nameCN":"马里","nameEN":"Mali","code2":"ML","code3":"MLI","codeNumber":"466"},"MR":{"nameCN":"毛里塔尼亚","nameEN":"Mauritania","code2":"MR","code3":"MRT","codeNumber":"478"},"MU":{"nameCN":"毛里求斯","nameEN":"Mauritius","code2":"MU","code3":"MUS","codeNumber":"480"},"MW":{"nameCN":"马拉维","nameEN":"Malawi","code2":"MW","code3":"MWI","codeNumber":"454"},"MZ":{"nameCN":"莫桑比克","nameEN":"Mozambique","code2":"MZ","code3":"MOZ","codeNumber":"508"},"NA":{"nameCN":"纳米比亚","nameEN":"Namibia","code2":"NA","code3":"NAM","codeNumber":"516"},"NE":{"nameCN":"尼日尔","nameEN":"Niger","code2":"NE","code3":"NER","codeNumber":"562"},"NG":{"nameCN":"尼日利亚","nameEN":"Nigeria","code2":"NG","code3":"NGA","codeNumber":"566"},"RW":{"nameCN":"卢旺达","nameEN":"Rwanda","code2":"RW","code3":"RWA","codeNumber":"646"},"SC":{"nameCN":"塞舌尔","nameEN":"Seychelles","code2":"SC","code3":"SYC","codeNumber":"690"},"SD":{"nameCN":"苏丹","nameEN":"Sudan","code2":"SD","code3":"SDN","codeNumber":"736"},"SH":{"nameCN":"圣海伦娜","nameEN":"Saint Helena, Ascension and Tristan da Cunha","code2":"SH","code3":"SHN","codeNumber":"654"},"SL":{"nameCN":"塞拉利昂","nameEN":"Sierra Leone","code2":"SL","code3":"SLE","codeNumber":"694"},"SN":{"nameCN":"塞内加尔","nameEN":"Senegal","code2":"SN","code3":"SEN","codeNumber":"686"},"SO":{"nameCN":"索马里","nameEN":"Somalia","code2":"SO","code3":"SOM","codeNumber":"706"},"SS":{"nameCN":"南苏丹","nameEN":"South Sudan","code2":"SS","code3":"SSD","codeNumber":"728"},"ST":{"nameCN":"圣多美和普林西比","nameEN":"Sao Tome and Principe","code2":"ST","code3":"STP","codeNumber":"678"},"SZ":{"nameCN":"斯威士兰","nameEN":"Swaziland","code2":"SZ","code3":"SWZ","codeNumber":"748"},"TD":{"nameCN":"乍得","nameEN":"Chad","code2":"TD","code3":"TCD","codeNumber":"148"},"TG":{"nameCN":"多哥","nameEN":"Togo","code2":"TG","code3":"TGO","codeNumber":"768"},"TN":{"nameCN":"突尼斯","nameEN":"Tunisia","code2":"TN","code3":"TUN","codeNumber":"788"},"TZ":{"nameCN":"坦桑尼亚","nameEN":"Tanzania, United Republic of","code2":"TZ","code3":"TZA","codeNumber":"834"},"UG":{"nameCN":"乌干达","nameEN":"Uganda","code2":"UG","code3":"UGA","codeNumber":"800"},"YT":{"nameCN":"马约特岛","nameEN":"Mayotte","code2":"YT","code3":"MYT","codeNumber":"175"},"ZA":{"nameCN":"南非","nameEN":"South Africa","code2":"ZA","code3":"ZAF","codeNumber":"710"},"ZM":{"nameCN":"赞比亚","nameEN":"Zambia","code2":"ZM","code3":"ZMB","codeNumber":"894"},"ZW":{"nameCN":"津巴布韦","nameEN":"Zimbabwe","code2":"ZW","code3":"ZWE","codeNumber":"716"}}}')},ccff:function(e,t,a){"use strict";var o=function(){var e=this,t=e._self._c;return t("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:e.data.loading,expression:"data.loading"}],attrs:{title:e.$t("myinvoice.confirmToCancel"),visible:e.data.isShow,width:"500px"},on:{"update:visible":function(t){return e.$set(e.data,"isShow",t)}}},[t("el-divider"),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:24}},[t("el-form",{ref:"form",attrs:{"label-width":"80px"}},[e.data.item?t("el-form-item",{attrs:{label:"订单号"}},[t("span",{staticStyle:{color:"#909399"}},[e._v(e._s(e.data.item.code))])]):e._e(),t("el-form-item",{attrs:{label:"作废原因"}},[t("el-input",{attrs:{type:"textarea"},model:{value:e.data.stopReason,callback:function(t){e.$set(e.data,"stopReason",t)},expression:"data.stopReason"}})],1)],1)],1)],1),t("el-divider"),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{size:"small"},on:{click:function(t){e.data.isShow=!1}}},[e._v(" "+e._s(e.$t("myinvoice.discard"))+" ")]),t("el-button",{attrs:{size:"small",type:"danger"},on:{click:e.setCancel}},[e._v(" "+e._s(e.$t("myinvoice.cancel"))+" ")])],1)],1)},i=[],n={props:["data"],methods:{setCancel(){this.$emit("setCancel")}}},s=n,r=a("2877"),c=Object(r["a"])(s,o,i,!1,null,null,null);t["a"]=c.exports}}]);