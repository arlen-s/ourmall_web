(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pricing"],{2339:function(t,i,e){"use strict";e("96a5")},"96a5":function(t,i,e){},"9daa":function(t,i,e){"use strict";e.r(i);var s=function(){var t=this,i=t._self._c;return i("div",{staticClass:"contentpanel dashboard-page"},[i("div",{staticClass:"pagetitle"},[i("div",{staticClass:"left"},[i("div",{staticClass:"title"},[i("i",{staticClass:"el-icon-bank-card"}),i("h2",[t._v(t._s(t.$t("pricing.Pricing")))])])]),i("div",{staticClass:"right"})]),i("div",{staticClass:"pagebody"},[i("el-row",{staticClass:"mg-b-20",attrs:{gutter:15}},[i("el-col",{attrs:{span:24}},[i("el-row",{staticClass:"mg-b-20",attrs:{gutter:30}},[i("el-col",{attrs:{span:8}},[i("div",{staticClass:"price"},[i("div",{staticClass:"price-free tx-center"},[i("p",{staticClass:"price-title"},[t._v(t._s(t.$t("pricing.Basic")))]),i("p",{staticClass:"price-price",staticStyle:{"line-height":"27px"}},[t._v(t._s(t.$t("pricing.Free")))]),t.isOverTimeBefore()?[i("el-button",{staticStyle:{opacity:"0","margin-top":"20px"}},[t._v(t._s(t.$t("pricing.Currentuse")))])]:[i("div",{staticClass:"mg-t-30"},[i("el-button",[t._v(t._s(t.$t("pricing.Currentuse")))])],1),i("p",{staticClass:"mg-t-15",staticStyle:{opacity:"0"}},[i("el-link",{attrs:{underline:!1,type:"primary"}},[t._v("主要链接")])],1)]],2),i("div",{staticClass:"price-detail",staticStyle:{padding:"20px"}},[i("p",[i("i",{staticClass:"el-icon-circle-check"}),t._v(" "+t._s(t.$t("pricing.unlimitedmonthly"))+" ")]),i("p",[i("i",{staticClass:"el-icon-circle-check"}),t._v(" "+t._s(t.$t("pricing.Unlimited"))+" ")]),i("p",[i("i",{staticClass:"el-icon-circle-check"}),t._v(" "+t._s(t.$t("pricing.Export"))+" ")]),i("p",[i("i",{staticClass:"el-icon-circle-check"}),t._v(" "+t._s(t.$t("pricing.markorder"))+" ")])])])]),i("el-col",{attrs:{span:15}},[i("div",{staticClass:"price pro-price"},[i("div",{staticClass:"price-free price-pro tx-center"},[i("div",{staticClass:"star"},[i("i",{staticClass:"el-icon-star-on"}),t._v(" "+t._s(t.$t("pricing.Recommend"))+" ")]),i("p",{staticClass:"price-title"},[t._v(t._s(t.$t("pricing.Professional")))]),i("div",[i("span",{staticClass:"price-price"},[t._v("US$ 19")]),i("span",[t._v(" / "+t._s(t.$t("pricing.month")))])]),t.isOverTimeBefore()?[i("el-button",{staticStyle:{"margin-top":"20px"}},[t._v(t._s(t.$t("pricing.Currentuse"))+" ("+t._s(t.$t("pricing.Expiration"))+"： "+t._s(t.$moment(1e3*t.userInfo.overTime).format("YYYY-MM-DD"))+")")]),i("el-button",{attrs:{type:"primary"},on:{click:t.pricingOpen}},[t._v(t._s(t.$t("pricing.Renewal")))])]:[i("div",{staticClass:"mg-t-30"},[i("el-button",{attrs:{type:"primary"},on:{click:t.pricingOpen}},[t._v(t._s(t.$t("pricing.Upgrade")))])],1),i("p",{staticClass:"mg-t-15"},[i("el-link",{attrs:{underline:!1,type:"primary"},on:{click:t.pricingOpen}},[t._v(t._s(t.$t("pricing.havediscount")))])],1)]],2),i("div",{staticClass:"price-detail price-pro-detail"},[i("el-row",[i("el-col",{staticStyle:{"padding-right":"0"},attrs:{span:12}},[i("h4",[t._v(t._s(t.$t("pricing.basicedition")))]),t._l(t.carouselItemsText,(function(e,s){return i("p",{key:s,class:t.activeIndex==s?"has-hover":"",on:{click:function(i){return t.setActiveItem(s)}}},[i("i",{staticClass:"el-icon-circle-check"}),t._v(" "+t._s(e.title)+" ")])}))],2),i("el-col",{staticStyle:{background:"rgba(92,106,196,.12)"},attrs:{span:12}},[i("el-carousel",{ref:"pricingCarousel",attrs:{direction:"vertical",interval:1e4,autoplay:t.autoplay,loop:!0,"indicator-position":"none"},on:{change:function(i){return t.handleChange()}}},t._l(t.carouselItems,(function(e,s){return i("el-carousel-item",{key:s},[i("h4",{staticClass:"medium"},[t._v(t._s(e.title))]),i("p",[t._v(t._s(e.content))]),i("img",{attrs:{src:e.img,width:"100%"}})])})),1)],1)],1)],1)])])],1)],1)],1)],1),i("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:t.pricingDialog.loading,expression:"pricingDialog.loading"}],attrs:{visible:t.pricingDialog.isShow,width:"400px","show-close":1==t.pricingDialog.status,"close-on-click-modal":!1,"close-on-press-escape":!1,"append-to-body":""},on:{"update:visible":function(i){return t.$set(t.pricingDialog,"isShow",i)}}},[1==t.pricingDialog.status?[i("div",{staticClass:"tx-center dialog-content"},[i("div",{staticClass:"grid-top"},[i("i",{staticClass:"fa fa-diamond"})]),i("h4",[t._v(t._s(t.$t("pricing.Professional")))]),i("div",{staticClass:"mg-b-20"},[i("span",{staticClass:"price-price"},[t._v(" US$ 19 ")]),i("span",[t._v(" / "+t._s(t.$t("pricing.month")))])]),i("el-divider"),i("div",{staticClass:"discount"},[t.userInfo.overTime>0?i("div",{staticClass:"d-flex"},[i("span",{staticStyle:{width:"130px","text-align":"right",display:"inline-block"}},[t._v(t._s(t.$t("pricing.Expiration"))+"：")]),i("span",[t._v(t._s(t.$moment(1e3*t.userInfo.overTime).format("YYYY-MM-DD")))])]):t._e(),i("div",{staticClass:"d-flex mg-t-10"},[i("span",{staticStyle:{width:"130px","text-align":"right",display:"inline-block"}},[t._v(t._s(t.$t("pricing.Renewalmonth"))+"：")]),i("el-input-number",{attrs:{min:1,step:1,"step-strictly":"",size:"mini"},nativeOn:{focus:function(i){return t.handleChange()}},model:{value:t.months,callback:function(i){t.months=i},expression:"months"}}),i("span",{staticStyle:{"margin-left":"10px"}},[t._v("个月")])],1),i("div",{staticClass:"d-flex mg-t-10"},[i("span",{staticStyle:{width:"130px","text-align":"right",display:"inline-block"}},[t._v(t._s(t.$t("pricing.Validto"))+"：")]),i("span",[t._v(t._s(t.overTime?t.$moment(1e3*t.overTime).format("YYYY-MM-DD"):"-"))])]),i("div",{staticClass:"d-flex mg-t-10"},[i("span",{staticStyle:{width:"130px","text-align":"right",display:"inline-block"}},[t._v(t._s(t.$t("pricing.Amount"))+"：")]),i("span",{staticClass:"tx-bold"},[t._v("US$ "+t._s(19*t.months))])]),i("div",{staticClass:"code d-flex mg-t-10"},[i("span",{staticStyle:{width:"130px","text-align":"right",display:"inline-block"}},[t._v(t._s(t.$t("pricing.Discount"))+"：")]),i("el-input",{staticStyle:{width:"200px",margin:"0"},attrs:{size:"mini",placeholder:t.$t("pricing.fillcode")},nativeOn:{keyup:[function(i){return t.getCode(2)},function(i){return!i.type.indexOf("key")&&t._k(i.keyCode,"enter",13,i.key,"Enter")?null:t.getCode(2)}]},model:{value:t.code,callback:function(i){t.code=i},expression:"code"}})],1),t.codeFail?i("div",{staticClass:"d-flex mg-t-5"},[i("span",{staticStyle:{width:"130px","text-align":"right",display:"inline-block"}}),i("p",{staticClass:"tx-danger mg-b-0",staticStyle:{"margin-bottom":"0"}},[t._v(t._s(t.codeFail))])]):t._e(),i("div",{staticClass:"d-flex mg-t-10"},[i("span",{staticStyle:{width:"130px","text-align":"right",display:"inline-block"}},[t._v(t._s(t.$t("pricing.afterdiscount"))+"：")]),t.code&&t.discount?i("span",{staticClass:"tx-bold"},[t._v("US$ "),t.months<=Number(t.discount.discount)?i("span",[t._v("0")]):t._e(),t.months>Number(t.discount.discount)?i("span",[t._v(t._s((t.months-Number(t.discount.discount))*Number(t.discount.price)))]):t._e()]):(t.discount,i("span",{staticClass:"tx-bold"},[t._v("US$ "+t._s(19*t.months))]))])])],1),i("el-divider"),i("div",{staticClass:"dialog-footer d-flex justify-content-center",attrs:{slot:"footer"},slot:"footer"},[t.code&&!t.codeFail?[t.months<=Number(t.discount.discount)?i("el-button",{attrs:{type:"primary"},on:{click:function(i){return t.getCode(1)}}},[t._v(t._s(t.$t("pricing.Upgrade")))]):(t.months-Number(t.discount.discount))*Number(t.discount.price)>0?i("el-button",{attrs:{type:"primary"},on:{click:function(i){return t.gotoPay()}}},[t._v(t._s(t.$t("pricing.Pay")))]):t._e()]:[i("el-button",{attrs:{type:"primary"},on:{click:function(i){return t.gotoPay()}}},[t._v(t._s(t.$t("pricing.Pay")))])]],2)]:i("div",{staticClass:"mg-b-30 tx-center"},[t._v("支付进行中。如果遇到问题请"),i("el-link",{attrs:{type:"primary"},nativeOn:{click:function(i){return t.resetPage.apply(null,arguments)}}},[t._v("重试")])],1)],2)],1)},a=[],n={data(){return{autoplay:!0,carouselItems:[{title:this.$t("pricing.carouselTitle1"),content:this.$t("pricing.carouselText1"),img:"images/pricing1.jpg"},{title:this.$t("pricing.carouselTitle2"),content:this.$t("pricing.carouselText2"),img:"images/pricing2.jpg"},{title:this.$t("pricing.carouselTitle3"),content:this.$t("pricing.carouselText3"),img:"images/pricing3.jpg"},{title:this.$t("pricing.carouselTitle4"),content:this.$t("pricing.carouselText4"),img:"images/pricing3.jpg"}],carouselItemsText:[{title:this.$t("pricing.carouselTitle1")},{title:this.$t("pricing.carouselTitle2")},{title:this.$t("pricing.carouselTitle3")},{title:this.$t("pricing.carouselTitle4")}],activeIndex:0,pricingDialog:{loading:!1,isShow:!1,status:1},code:"",codeFail:"",discount:0,months:1,userInfo:localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):"",payTime:0,overTime:""}},components:{},mounted(){this.getOverTime()},beforeDestroy(){clearInterval(this.payTime)},watch:{code:{handler(t,i){this.code=t.toUpperCase()},deep:!0},months:{handler(t,i){this.getOverTime(),t.length&&(isNaN(t)||parseInt(t)<0?this.months=1:this.months=parseInt(Number(t)))},deep:!0}},methods:{getOverTime(){this.$apiCall("api.User.getTime",{vipCount:this.months},t=>{9999==t.ErrorCode?this.overTime=t.Data.Results.overTime:this.$elementMessage(t.Message,"error")})},resetPage(){this.pricingDialog.loading=!0,this.$apiCall("api.User.checkLoginStatus",{},t=>{localStorage.setItem("apiUserToken",t.Data.Results.apiUserToken),localStorage.setItem("apiUserId",t.Data.Results.id),localStorage.setItem("userInfo",JSON.stringify(t.Data.Results)),location.reload()})},handleChange(){this.months.length&&(isNaN(this.months)||parseInt(this.months)<0?this.months=1:this.months=parseInt(Number(this.months)))},gotoPay(){let t=window.open(void 0,"pricingToPay"),i={isInviteCode:this.code&&!this.codeFail?this.code:"",vipCount:this.months};this.pricingDialog.status=2,this.$Burying({object:"9003"}),this.$apiCall("api.User.goToPay",i,i=>{9999==i.ErrorCode?(t.location.href=i.Data.Results,this.payTime=setInterval(()=>{this.$apiCall("api.User.getPayStatus",{},i=>{if(9999==i.ErrorCode){let e=i.Data.Results.status;1!=e&&clearInterval(this.payTime),2==e?(this.pricingDialog.isShow=!1,this.pricingDialog.status=1,this.$Burying({object:"9004"}),this.$elementMessage("支付成功","success"),t.close(),setTimeout(()=>{this.$apiCall("api.User.checkLoginStatus",{},t=>{localStorage.setItem("apiUserToken",t.Data.Results.apiUserToken),localStorage.setItem("apiUserId",t.Data.Results.id),localStorage.setItem("userInfo",JSON.stringify(t.Data.Results)),location.reload()})},2e3)):3==e&&(this.pricingDialog.status=1,this.$Burying({object:"9005"}),this.$elementMessage(i.Data.Results.message,"error"),t.close())}})},3e3)):this.$elementMessage(i.Message,"error")})},getCode(t){let i=500,e={code:this.code};this.timer&&clearTimeout(this.timer),1==t&&(i=0,e.isConfirm=!0),this.timer=setTimeout(()=>{this.codeFail="",this.discount="",this.$showLoading(),this.$apiCall("api.User.getVip",e,i=>{if(this.$hideLoading(),9999==i.ErrorCode)if(this.discount=i.Data.Results,1==t){let t=JSON.parse(JSON.stringify(this.$store.state.userInfo));t.overTime=Number(i.Data.Results.overTime),localStorage.setItem("userInfo",JSON.stringify(t)),this.$store.commit("setUserInfo",t),this.userInfo=JSON.parse(localStorage.getItem("userInfo")),this.pricingDialog.isShow=!1,this.$elementMessage(this.$t("pricing.successUpgrade"),"success"),this.$apiCall("api.User.checkLoginStatus",{},t=>{localStorage.setItem("apiUserToken",t.Data.Results.apiUserToken),localStorage.setItem("apiUserId",t.Data.Results.id),localStorage.setItem("userInfo",JSON.stringify(t.Data.Results)),location.reload()})}else this.months<=Number(this.discount.discount)&&(this.months=Number(this.discount.discount));else this.codeFail=i.Message})},i)},pricingOpen(){this.codeFail="",this.discount="",this.code="",this.pricingDialog.loading=!1,this.pricingDialog.status=1,this.pricingDialog.isShow=!0},isOverTimeBefore(){let t=this.$moment().unix();return 0!=this.userInfo.overTime&&this.$moment(t).isBefore(Number(this.userInfo.overTime),"second")},handleChange(){this.activeIndex=this.$refs.pricingCarousel.activeIndex},setActiveItem(t){this.autoplay=!1,this.$refs.pricingCarousel.setActiveItem(t)}}},r=n,o=(e("2339"),e("2877")),c=Object(o["a"])(r,s,a,!1,null,"77c6e293",null);i["default"]=c.exports}}]);