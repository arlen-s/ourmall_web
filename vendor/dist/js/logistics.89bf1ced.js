(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["logistics"],{"19c0":function(t,e,s){t.exports=s.p+"img/none-logistics.bbdcb2c3.webp"},"239f":function(t,e,s){"use strict";s("9861")},"2a98":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"contentpanel logistics-page"},[e("div",{ref:"pageHeader",staticClass:"pagetitle"},[e("div",{staticClass:"left"},[e("div",{staticClass:"title"},[e("i",{staticClass:"el-icon-guide"}),e("h2",[t._v(t._s(t.$t("logistics.运费设置")))])])]),e("div",{staticClass:"right"},[e("el-button",{attrs:{disabled:!t.$isRole(t.$route.meta.roleWrite),type:"primary",size:"small"},on:{click:function(e){return t.goto("settingsLogistics")}}},[t._v(t._s(t.$t("logistics.添加区域方案")))])],1)]),e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"pagebody"},[e("el-card",[t.items.length?e("div",{staticClass:"table-wrap"},[e("el-table",{ref:"AreaShippingTable",staticStyle:{width:"100%"},attrs:{data:t.items,stripe:""}},[e("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(s){return[e("el-table",{attrs:{data:s.row.shippings,border:""}},[e("el-table-column",{attrs:{label:t.$t("logistics.方案名称"),width:"200"},scopedSlots:t._u([{key:"default",fn:function(s){return[e("span",{staticClass:"tx-ellipsis1"},[t._v(t._s(s.row.name))])]}}],null,!0)}),e("el-table-column",{attrs:{label:t.$t("logistics.运费"),width:"200"},scopedSlots:t._u([{key:"default",fn:function(t){return[e("TableFreight",{attrs:{item:t.row}})]}}],null,!0)}),e("el-table-column",{attrs:{label:t.$t("logistics.时效天数")},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.agingDaysBegin)+" - "+t._s(e.row.agingDaysEnd)+" "+t._s(t.$t("logistics.天"))+" ")]}}],null,!0)}),e("el-table-column",{attrs:{label:t.$t("logistics.商品属性")},scopedSlots:t._u([{key:"default",fn:function(s){return t._l(s.row.productType,(function(s,i){return e("div",{key:i},[t._v(" "+t._s(t.$dict.productType[s]?t.$t(t.$dict.productType[s].text):"")+" ")])}))}}],null,!0)}),e("el-table-column",{attrs:{label:t.$t("logistics.计算规则"),width:"250"},scopedSlots:t._u([{key:"default",fn:function(t){return[e("TableWeight",{attrs:{item:t.row}})]}}],null,!0)})],1)]}}],null,!1,2969296439)}),e("el-table-column",{attrs:{label:t.$t("logistics.方案名称")},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.name)+" ")]}}],null,!1,2507105690)}),e("el-table-column",{attrs:{label:t.$t("logistics.国家地区")},scopedSlots:t._u([{key:"default",fn:function(s){return[t._v(" "+t._s(t.$t("logistics.包含"))+" "+t._s(t.showCountryName(s.row.countrys[0]))),s.row.countrys.length>1?e("span",[t._v(" "+t._s(t.$t("logistics.等")))]):t._e(),t._v(" "),e("b",[t._v(t._s(s.row.countrys.length))]),t._v(" "+t._s(t.$t("logistics.个国家"))+" ")]}}],null,!1,1764586825)}),e("el-table-column",{attrs:{label:t.$t("logistics.操作"),width:"300"},scopedSlots:t._u([{key:"default",fn:function(s){return[e("el-link",{staticClass:"mg-r-15",attrs:{disabled:!t.$isRole(t.$route.meta.roleWrite),type:"primary"},on:{click:function(e){return t.editAreaShipping(s.row)}}},[t._v(t._s(t.$t("logistics.编辑方案")))]),e("el-link",{attrs:{disabled:!t.$isRole(t.$route.meta.roleWrite),type:"danger"},on:{click:function(e){return t.delAreaShipping(s.row,s.$index)}}},[t._v(t._s(t.$t("logistics.删除")))])]}}],null,!1,3262264462)})],1)],1):e("div",{staticClass:"none-list"},[e("img",{staticStyle:{"margin-bottom":"40px",width:"360px",height:"232px"},attrs:{src:s("19c0")}}),e("p",{staticStyle:{"margin-bottom":"15px","font-weight":"bold","font-size":"16px"}},[t._v(t._s(t.$t("logistics.请设置你的物流方案")))]),e("p",{staticStyle:{"margin-bottom":"50px",color:"#909399"}},[t._v(t._s(t.$t("logistics.开始设置并完善你的运费方案，以便顾客轻松选择最合适的运费方案，获得更好的购物体验。")))]),e("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.goto("settingsLogistics")}}},[t._v(t._s(t.$t("logistics.添加区域方案")))])],1)])],1)])},l=[],a=(s("14d9"),s("c895")),n=s("b879"),o=s("3d50"),r={data(){return{loading:!1,items:[]}},components:{TableFreight:n["a"],TableWeight:o["a"]},mounted(){this.getAreaShipping()},methods:{showCountryName(t){let e="";return Object.keys(a).forEach(s=>{Object.keys(a[s]).forEach(i=>{i==t&&(e=`${a[s][i].nameCN} (${a[s][i].nameEN})`)})}),e},editAreaShipping(t){this.$router.push({name:"settingsLogistics",query:{id:t.id}})},delAreaShipping(t,e){this.$confirm(this.$t("logistics.是否确定删除该区域方案？"),{type:"warning",confirmButtonText:this.$t("logistics.删除"),cancelButtonText:this.$t("logistics.取消"),confirmButtonClass:"el-button--danger"}).then(()=>{this.loading=!0,this.$apiCall("api.AreaShipping.delete",{id:t.id},t=>{this.loading=!1,"9999"==t.ErrorCode?this.items.splice(e,1):this.$elementMessage(t.Message,"error")})}).catch(()=>{})},getAreaShipping(){this.loading=!0,this.$apiCall("api.AreaShipping.findByVendor",{},t=>{this.loading=!1,"9999"==t.ErrorCode?t.Data.Results&&t.Data.Results.length&&(this.items=t.Data.Results.map(t=>t)):this.$elementMessage(t.Message,"error")})},goto(t){this.$router.push({name:t})}}},c=r,u=(s("239f"),s("2877")),d=Object(u["a"])(c,i,l,!1,null,"18f1d716",null);e["default"]=d.exports},9861:function(t,e,s){}}]);