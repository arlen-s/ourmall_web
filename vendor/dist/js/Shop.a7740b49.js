(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Shop"],{"17e7":function(t,e,s){},"19f7":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"contentpanel role-management-page"},[e("div",{ref:"pageHeader",staticClass:"pagetitle"},[e("div",{staticClass:"left"},[e("div",{staticClass:"title"},[e("h2",[t._v(t._s(t.$t("shop.交易币种")))])])]),e("div",{staticClass:"right"})]),e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"pagebody"},[e("el-row",{staticClass:"mg-b-20",attrs:{gutter:15}},[e("el-col",{attrs:{span:24}},[e("el-card",[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:24}},[e("div",{staticClass:"mg-b-20",staticStyle:{"font-size":"20px"}},[t._v(t._s(t.$t("shop.交易币种")))]),e("div",{staticClass:"mg-b-10"},[t._v(t._s(t.$t("shop.用户可以选择他们的常用货币类型来与您进行交易")))]),e("div",[e("el-select",{staticClass:"mg-r-20",attrs:{placeholder:t.$t("shop.请选择一个币种"),clearable:""},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addCurrency.apply(null,arguments)}},model:{value:t.selectCurrency,callback:function(e){t.selectCurrency=e},expression:"selectCurrency"}},t._l(t.currencyArr,(function(t){return e("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1),e("el-link",{attrs:{type:"primary",underline:!1},on:{click:t.addCurrency}},[t._v(t._s(t.$t("shop.添加")))])],1),e("el-divider"),e("div",{staticClass:"mg-b-20",staticStyle:{"font-size":"20px"}},[t._v(t._s(t.$t("shop.已选币种")))]),t.currencyList.length>0?e("div",{staticClass:"selected-currency"},t._l(t.currencyList,(function(s){return e("div",{key:s.id,staticClass:"mg-b-30 d-flex"},[e("span",{staticClass:"mg-r-10"},[t._v("1 "+t._s(t.$store.state.country.symbol)+t._s(t.$store.state.country.shopCurrency)+" = ")]),e("el-input-number",{staticStyle:{width:"120px"},attrs:{precision:2,min:0,controls:!1},model:{value:s.rate,callback:function(e){t.$set(s,"rate",e)},expression:"info.rate"}}),e("span",{staticClass:"mg-l-5"},[t._v(t._s(t.$CE[s.name].code3))]),e("i",{staticClass:"el-icon-circle-close close",on:{click:function(e){return t.delCurrency(s)}}})],1)})),0):e("div",{staticClass:"none"},[t._v(t._s(t.$t("shop.暂无已选币种")))]),e("el-divider"),e("el-button",{attrs:{type:"primary"},on:{click:t.save}},[t._v(t._s(t.$t("shop.保存")))])],1)],1)],1)],1)],1)],1)])},i=[],o=(s("14d9"),{data(){return{selectCurrency:"",loading:!1,currencyArr:[{name:"AUD",id:"1"},{name:"EGP",id:"2"},{name:"RUB",id:"3"},{name:"COP",id:"4"},{name:"CAD",id:"5"},{name:"EUR",id:"6"},{name:"JPY",id:"7"},{name:"CNY",id:"8"},{name:"GBP",id:"9"},{name:"INR",id:"10"}],currencyList:[],isAdd:!0,isSave:!0}},mounted(){this.$store.state.userInfo.vendorCurrency&&(this.currencyList=this.$store.state.userInfo.vendorCurrency)},methods:{addCurrency(){this.isAdd=!0,this.selectCurrency?(this.currencyList&&this.currencyList.length>0&&this.currencyList.forEach(t=>{t.id==this.selectCurrency&&(this.isAdd=!1,this.$elementMessage(this.$t("shop.不能选择重复币种"),"error"))}),this.isAdd&&this.isRe()):this.$elementMessage(this.$t("shop.请选择一个币种"),"error")},delCurrency(t){this.$confirm(this.$t("shop.确定删除此币种?"),"",{confirmButtonText:this.$t("shop.确定"),cancelButtonText:this.$t("shop.取消"),type:"warning"}).then(()=>{this.currencyList.forEach((e,s)=>{e==t&&this.currencyList.splice(s,1)}),this.$message({type:"success",message:this.$t("shop.删除成功")})}).catch(()=>{})},isRe(){this.currencyArr.forEach(t=>{t.id==this.selectCurrency&&(t.rate=void 0,this.currencyList.push(t))})},save(){this.isSave=!0,this.currencyList.forEach(t=>{if(!t.rate)return this.$elementMessage(this.$t("shop.请输入汇率"),"error"),void(this.isSave=!1)}),this.isSave&&(this.loading=!0,this.$apiCall("api.User.changeVendorConfig",{vendorCurrency:this.currencyList},t=>{this.loading=!1,9999==t.ErrorCode?(this.$root.$children[0].routerCheckLogin(),this.$elementMessage(this.$t("shop.该货币类型已生效"),"success")):this.$elementMessage(t.Message,"error")}))}},components:{}}),r=o,l=(s("4a0a"),s("2877")),n=Object(l["a"])(r,a,i,!1,null,"072bb762",null);e["default"]=n.exports},"1f73":function(t,e,s){},2418:function(t,e,s){"use strict";s("a4a5")},"285f":function(t,e,s){},"36f1":function(t,e,s){"use strict";s("9e39")},"4a0a":function(t,e,s){"use strict";s("fdc8")},"4fc2":function(t,e,s){"use strict";s("1f73")},5413:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"contentpanel role-management-page"},[e("div",{ref:"pageHeader",staticClass:"pagetitle"},[e("div",{staticClass:"left"},[e("div",{staticClass:"title"},[e("h2",[t._v(t._s(t.$t("shop.角色管理")))])])]),e("div",{staticClass:"right"},[e("el-button",{attrs:{type:"primary",disabled:!t.$isRole(t.$route.meta.roleWrite)},on:{click:t.addRole}},[t._v(t._s(t.$t("shop.添加角色")))])],1)]),e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"pagebody"},[e("el-row",{staticClass:"mg-b-20",attrs:{gutter:15}},[e("el-col",{attrs:{span:24}},[e("el-card",[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:24}},[e("div",{ref:"pageFilter",staticClass:"page-filter"},[e("el-table",{ref:"gridTable2",staticStyle:{width:"100%"},attrs:{data:t.items,stripe:"","row-key":"id"}},[e("el-table-column",{attrs:{label:t.$t("shop.员工角色"),prop:"name"}}),e("el-table-column",{attrs:{label:t.$t("shop.描述"),prop:"remark"}}),e("el-table-column",{attrs:{label:t.$t("shop.员工数据"),prop:"subUserCnt"}}),e("el-table-column",{attrs:{label:t.$t("shop.操作")},scopedSlots:t._u([{key:"default",fn:function(s){return[e("el-link",{attrs:{disabled:!t.$isRole(t.$route.meta.roleWrite),type:"primary"},on:{click:function(e){return t.view(s.row)}}},[t._v(" "+t._s(t.$t("shop.查看"))+" ")])]}}])})],1)],1)])],1)],1)],1)],1)],1),e("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:t.dialogLoading,expression:"dialogLoading"}],attrs:{"append-to-body":"","close-on-click-modal":!1,visible:t.addRoleVis,width:"50%",title:t.roleDetailVis?t.$t("shop.角色详情"):t.$t("shop.添加角色")},on:{close:t.closeVis}},[e("el-divider"),e("div",[e("el-form",{staticClass:"mg-b-15",attrs:{"label-width":"120px"}},[e("el-form-item",{attrs:{label:t.$t("shop.角色名称"),required:""}},[e("el-input",{attrs:{placeholder:t.$t("shop.请输入角色名称，如高级管理员，普通管理员等")},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),e("el-form-item",{attrs:{label:t.$t("shop.角色描述")}},[e("el-input",{attrs:{placeholder:t.$t("shop.至多输入50个汉字"),maxlength:"50"},model:{value:t.form.remark,callback:function(e){t.$set(t.form,"remark",e)},expression:"form.remark"}})],1),e("el-form-item",{attrs:{label:t.$t("shop.权限"),required:""}},[e("div",{staticStyle:{height:"280px",overflow:"auto"}},[e("el-tree",{key:t.addRoleVis,ref:"roleTree",staticClass:"mg-t-15",attrs:{"default-expand-all":t.addRoleVis,data:t.treeData,props:t.defaultProps,"node-key":"key","show-checkbox":""},on:{"check-change":t.handleCheckChange}})],1)])],1)],1),e("el-divider"),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.addRoleVis=!1}}},[t._v(t._s(t.$t("shop.取消")))]),e("el-button",{attrs:{type:"primary"},on:{click:t.save}},[t._v(t._s(t.$t("shop.保存"))+" ")])],1)],1)],1)},i=[],o=(s("14d9"),{data(){return{roleId:"",roleDetailVis:!1,treeData:[],defaultProps:{label:"name",children:"subMenu"},form:{name:"",remark:""},loading:!1,dialogLoading:!1,addRoleVis:!1,items:[],roleArr:[],roleList:[],checkedRole:[],changeRole:!1}},mounted(){this.getRole(),this.getRightArr()},methods:{closeVis(){this.addRoleVis=!1,this.roleId="",this.form.name="",this.form.remark="",this.roleArr=[],this.checkedRole=[],this.$refs.roleTree.setCheckedKeys(this.checkedRole),this.roleDetailVis=!1},getRole(){this.loading=!0,this.$apiCall("api.UserRole.findByUser",{},t=>{this.loading=!1,9999==t.ErrorCode?this.items=t.Data.Results:this.$message({message:t.Message,type:"error"})})},getRightArr(){this.$apiCall("api.UserRole.getSystemRights",{},t=>{9999==t.ErrorCode?(this.treeData=t.Data.Results.rights,this.roleList=t.Data.Results.endpoint):this.$message.error(t.Message)})},handleCheckChange(){this.changeRole=!0;let t=this.$refs.roleTree.getCheckedKeys(!0),e=[];0!=t.length?this.roleList.forEach(s=>{-1==t.indexOf(s)&&e.push(s)}):this.changeRole=!1,this.roleArr=e},view(t){this.roleId=t.id,this.form.name=t.name,this.form.remark=t.remark,this.roleArr=t.rights,this.checkedRole=this.roleList.filter(t=>!this.roleArr.some(e=>e===t)),this.roleDetailVis=!0,this.addRoleVis=!0,this.$nextTick(()=>{this.$refs.roleTree.setCheckedKeys(this.checkedRole)})},addRole(){this.addRoleVis=!0},save(){return this.form.name?this.changeRole||0!=this.roleArr.length?void(this.roleDetailVis?(this.dialogLoading=!0,this.$apiCall("api.UserRole.changeUserRole",{name:this.form.name,remark:this.form.remark,rights:this.roleArr,id:this.roleId},t=>{9999==t.ErrorCode?(this.dialogLoading=!1,this.getRole(),this.addRoleVis=!1,this.$message({message:this.$t("shop.修改成功"),type:"success"})):this.$message({message:t.Message,type:"error"})})):(this.dialogLoading=!0,this.$apiCall("api.UserRole.addUserRole",{name:this.form.name,remark:this.form.remark,rights:this.roleArr},t=>{this.dialogLoading=!1,9999==t.ErrorCode?(this.getRole(),this.addRoleVis=!1,this.$message({message:this.$t("shop.保存成功"),type:"success"})):this.$message({message:t.Message,type:"error"})}))):(this.$message({message:this.$t("shop.请选择权限"),type:"error"}),!1):(this.$message({message:this.$t("shop.请填写角色名称"),type:"error"}),!1)}},components:{}}),r=o,l=s("2877"),n=Object(l["a"])(r,a,i,!1,null,"817feeea",null);e["default"]=n.exports},5538:function(t,e,s){"use strict";var a=function(){var t=this,e=t._self._c;return e("el-dialog",{attrs:{visible:t.authData.isShow,title:t.$t("orders.mabang"),width:"800px"},on:{"update:visible":function(e){return t.$set(t.authData,"isShow",e)}}},[e("el-divider"),e("div",{staticClass:"d-body",staticStyle:{margin:"20px"}},[e("div",[e("div",{staticClass:"mg-y-20"},[e("span",{staticStyle:{margin:"0 16px",display:"inline-block"}},[t._v(t._s(t.$t("invoice.tokenerp")))]),t.isStaff?[e("span",{staticClass:"mg-r-10"},[t._v(" "+t._s(t.authData.staffData&&t.authData.staffData.secretKey?t.authData.staffData.secretKey:"---")+" ")]),t.authData.staffData&&t.authData.staffData.secretKey?e("el-button",{attrs:{size:"mini",type:"text"}},[e("i",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.authData.staffData.secretKey,expression:"authData.staffData.secretKey",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}],staticClass:"el-icon-document-copy"})]):t._e()]:[e("span",{staticClass:"mg-r-10"},[t._v(t._s(t.$store.state.userInfo&&t.$store.state.userInfo.secretKey?t.$store.state.userInfo.secretKey:"---"))]),t.$store.state.userInfo&&t.$store.state.userInfo.secretKey?e("el-button",{attrs:{size:"mini",type:"text"}},[e("i",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.$store.state.userInfo.secretKey,expression:"$store.state.userInfo.secretKey",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}],staticClass:"el-icon-document-copy"})]):t._e()],e("el-button",{staticStyle:{"margin-left":"30px"},attrs:{size:"mini",type:"text"},on:{click:t.openSecretKey}},[t._v(" "+t._s(t.$t("invoice.usertoken"))+" ")])],2),e("el-alert",{attrs:{title:t.isStaff?t.$t("invoice.将员工令牌授权到马帮ERP之前"):t.$t("invoice.如果已经在erp授权了员工令牌"),type:"warning",closable:!1}})],1)]),e("el-divider"),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.authData.isShow=!1}}},[t._v("取消")])],1)],1)},i=[],o={props:["authData","isStaff"],data(){return{shopName:"",invoiceInfo:{}}},methods:{openSecretKey(){this.$emit("openSecretKey")},querySearch(t,e){var s=this.authData.shopData,a=t?s.filter(this.createFilter(t)):s;e(a)},createFilter(t){return e=>0===e.value.toLowerCase().indexOf(t.toLowerCase())},handleSelect(t){this.shopName=t.value},onCopy(t){this.$elementMessage(this.$t("successfullyToClipboard"),"success")},onError(t){this.$elementMessage(this.$t("failedToClipboard"),"error")},confirmMoneyFn(){this.tempCode=`${this.invoiceInfo.id}${Date.parse(new Date)}`,this.$apiCall("api.Invoice.setSyncToErp",{invoiceId:this.invoiceInfo.id,shopName:this.shopName,tempCode:this.tempCode},t=>{}),this.DialogLoadingCnt.loadingCnt=0,this.DialogLoadingCnt.isShow=!0,this.getInvocieTime=setInterval(()=>{this.$apiCall("api.Invoice.checkPriceResult",{tempCode:this.tempCode,type:4},t=>{if("9999"==t.ErrorCode){let e=t.Data.Results;Number(e.count)&&Number(e.total)&&(this.DialogLoadingCnt.loadingCnt=e.count/e.total),1!=e.status&&(this.tempCode="",clearInterval(this.getInvocieTime),this.DialogLoadingCnt.isShow=!1,3==e.status&&this.$elementMessage(e.message,"error"),2==e.status&&(this.$elementMessage(this.$t("invoice.storeSet"),"success"),this.confirmMoneyOpen=!1,this.getData()))}})},1e3)}}},r=o,l=s("2877"),n=Object(l["a"])(r,a,i,!1,null,"63bb7ade",null);e["a"]=n.exports},5951:function(t,e,s){"use strict";s("7455")},"5ee5":function(t,e,s){"use strict";s("285f")},"64e3":function(t,e,s){"use strict";s("effb")},"69a3":function(t,e,s){t.exports=s.p+"img/secretKey2.9602a74a.jpg"},"6f91":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.pageLoading,expression:"pageLoading"}],staticClass:"contentpanel edit-goods-page"},[e("div",{ref:"pageHeader",staticClass:"pagetitle"},[e("div",{staticClass:"left"},[e("div",{staticClass:"title"},[e("el-link",{attrs:{type:"primary"},on:{click:function(e){return t.goto()}}},[t._v("返回到域名管理")]),e("span",{staticStyle:{margin:"0 20px"}},[t._v("/")]),e("h2",[t._v("添加域名")])],1)]),e("div",{staticClass:"right"})]),e("div",{staticClass:"pagebody"},[e("el-card",[e("div",{staticStyle:{padding:"20px 200px"}},[e("el-steps",{attrs:{active:t.active,"finish-status":"success"}},[e("el-step",{attrs:{title:t.$t("shop.输入域名")}}),e("el-step",{attrs:{title:t.$t("shop.解析域名")}}),e("el-step",{attrs:{title:t.$t("shop.完成")}})],1)],1),t.active<3?e("div",{staticClass:"bind"},[t.isSure?e("div",{staticClass:"input-domain"},[e("b",{staticStyle:{"font-size":"18px",color:"#333"}},[t._v(t._s(t.$t("shop.域名")))]),e("p",{staticClass:"d-flex"},[e("span",{staticStyle:{"font-size":"18px",color:"#666",height:"36px"}},[t._v(t._s(t.linkUrl))]),e("el-link",{staticClass:"mg-l-20",attrs:{type:"primary"},on:{click:function(e){return t.changUrl(!1)}}},[t._v(t._s(t.$t("shop.修改"))+" ")])],1),t.isSuccess?e("p",{staticClass:"mg-t-20"},[t._v(" "+t._s(t.$t("shop.请登录您的域名服务提供商，参照下述表格修改域名的DNS设置。由于域名绑定需要一定时间后才能生效，请添加之后，稍等片刻再来查看是否连接成功。"))+" ")]):t._e()]):e("div",{staticClass:"input-domain"},[e("p",[t._v(t._s(t.$t("shop.绑定已有域名")))]),e("p",[t._v(t._s(t.$t("shop.你可以在Godaddy、阿里云等域名服务商处购买第三方域名，并输入到此处。")))]),e("p",{staticClass:"mg-t-20"},[e("el-input",{staticStyle:{width:"60%"},attrs:{placeholder:t.$t("shop.请输入")},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.changUrl(!0)}},model:{value:t.linkUrl,callback:function(e){t.linkUrl=e},expression:"linkUrl"}}),e("el-link",{staticClass:"mg-l-20",attrs:{type:"primary"},on:{click:function(e){return t.changUrl(!0)}}},[t._v(t._s(t.$t("shop.确定")))])],1),e("p",{staticClass:"mg-t-20"},[t._v(" "+t._s(t.$t("shop.请登录您的域名服务提供商，参照下述表格修改域名的DNS设置。由于域名绑定需要一定时间后才能生效，请添加之后，稍等片刻再来查看是否连接成功。"))+" ")])]),e("div",{staticClass:"mg-t-20 input-domain"},[t.isSuccess?t._e():[e("el-alert",{attrs:{closable:!1,title:t.errorText,type:"error","show-icon":""}}),e("div",{staticClass:"mg-t-10 mg-b-10"},[t._v(" "+t._s(t.$t("shop.请前往你的域名服务商处，参照下述表格添加或修改域名的DNS设置。修改后一般10分钟左右生效，若验证不通过请检查记录值或再次验证。"))+" ")])],e("el-table",{ref:"gridTable",attrs:{data:t.items,border:"","row-key":"id"}},[e("el-table-column",{attrs:{prop:"type",label:t.$t("shop.记录类型")}}),e("el-table-column",{attrs:{prop:"record",label:t.$t("shop.主机记录")}}),e("el-table-column",{attrs:{prop:"ip",label:t.$t("shop.当前记录值")}}),e("el-table-column",{attrs:{prop:"correctIp",label:t.$t("shop.正确记录值")},scopedSlots:t._u([{key:"default",fn:function(s){return[t._v(" "+t._s(s.row.correctIp)+" "),e("i",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:s.row.correctIp,expression:"scope.row.correctIp",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}],staticClass:"iconfont icon-cc-copy copy"})]}}],null,!1,1666784182)})],1)],2),e("p",{staticClass:"tx-center mg-t-30"},[e("el-button",{staticStyle:{"margin-right":"50px"},on:{click:t.goto}},[t._v(" "+t._s(t.$t("shop.取消"))+" ")]),e("el-button",{attrs:{type:"primary",disabled:!t.isSure},on:{click:t.save}},[t._v(" "+t._s(this.isSuccess?t.$t("shop.解析域名"):t.$t("shop.再次解析"))+" ")])],1)]):e("div",{staticClass:"finish",staticStyle:{height:"400px","padding-top":"50px"}},[e("el-result",{attrs:{icon:"success",title:t.$t("shop.绑定成功"),subTitle:t.$t("shop.OurMall 将为你的域名激活SSL安全证书，根据域名服务商不同，最快加密时间10分钟，最晚24小时后自动生效")}})],1)])],1)])},i=[],o=(s("14d9"),{data(){return{errorText:"",isSuccess:!0,isSure:!1,active:0,pageLoading:!1,linkUrl:"",items:[{type:"A",record:"@",ip:"",correctIp:"172.65.227.72"},{type:"CNAME",record:"WWW",ip:"www.hongniu.com",correctIp:"vip.xxxx.store"}]}},components:{},computed:{},methods:{changUrl(t){this.isSure=t,this.active=t?1:0},onCopy(){this.$elementMessage(this.$t("mycustomer.copiedSuccess"),"success")},onError(){this.$elementMessage(this.$t("mycustomer.copiedFailed"),"error")},goto(){this.$router.push("/domain")},save(){this.pageLoading=!0,this.$apiCall("api.VendorShop.shopUrlResolution",{url:this.linkUrl},t=>{if(this.pageLoading=!1,9999==t.ErrorCode){let e=t.Data.Results;this.items.forEach((t,s)=>{t.ip=e[s].ip,t.correctIp=e[s].correctIp,t.type=e[s].type}),this.items=[...this.items],this.active=2,this.add()}else this.isSuccess=!1,this.active=1,this.errorText=t.Message,this.$message({message:t.Message,type:"error"})})},add(){let t=this.items.find(t=>"A"==t.type);t.ip==t.correctIp?this.$apiCall("api.VendorShop.addShopUrl",{url:this.linkUrl},t=>{9999==t.ErrorCode?(this.$message({message:this.$t("shop.添加成功"),type:"success"}),this.active=3):(this.active=2,this.$message({message:t.Message,type:"error"}))}):this.$message.error("解析失败，A记录值不正确")}}}),r=o,l=(s("92bc"),s("2877")),n=Object(l["a"])(r,a,i,!1,null,null,null);e["default"]=n.exports},7251:function(t,e,s){"use strict";s("a831")},7455:function(t,e,s){},"88d1":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"contentpanel shop-set-page"},[e("div",{ref:"pageHeader",staticClass:"pagetitle"},[e("div",{staticClass:"left"},[e("div",{staticClass:"title"},[e("i",{staticClass:"iconfont icon-dianpushezhi"}),e("h2",[t._v(t._s(t.$t("shop.刊登平台")))])])]),e("div",{staticClass:"right"})]),e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"pagebody"},t._l(t.platformLists,(function(s){return e("div",{key:s.id,staticClass:"p-4 mt-60"},[e("el-row",[e("el-col",{attrs:{span:8}},[e("span",{staticClass:"font-medium text-20"},[t._v(t._s(s.name))])]),e("el-col",{attrs:{span:16}},[e("el-switch",{model:{value:s.switch,callback:function(e){t.$set(s,"switch",e)},expression:"item.switch"}})],1)],1),e("el-row",[e("el-card",{staticClass:"box-card mt-20"},[e("div",{staticClass:"flex"},[e("div",{staticClass:"img_box border-solid"},[e("el-image",{attrs:{src:s.src,fit:"contain",lazy:""}},[e("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[e("i",{staticClass:"el-icon-picture-outline"})])])],1),e("div",{staticClass:"flex-grow flex_box text-16 font-medium"},[t._v(" "+t._s(s.title)+" ")])])])],1)],1)})),0)])},i=[],o={data(){return{loading:!1,value:!0,src:"https://global.mabangerp.com/main_refactor/image/ico/ico_shopee.jpg",platformList:[{id:1,name:"Shopify",switch:1,src:"https://global.mabangerp.com/main_refactor/image/ico/ico_shopee.jpg",title:"新增一个刊登平台管理菜单，作为店铺设置下的子菜单。（对应的角色管理下，需要加上这个菜单 刊登平台，仅查看，可操作）"},{id:2,name:"Woocommerce",switch:1,src:"https://global.mabangerp.com/main_refactor/image/ico/ico_shopee.jpg",title:"新增一个刊登平台管理菜单，作为店铺设置下的子菜单。（对应的角色管理下，需要加上这个菜单 刊登平台，仅查看，可操作）"},{id:3,name:"Shopee",switch:1,src:"https://global.mabangerp.com/main_refactor/image/ico/ico_shopee.jpg",title:"新增一个刊登平台管理菜单，作为店铺设置下的子菜单。（对应的角色管理下，需要加上这个菜单 刊登平台，仅查看，可操作）"}],platformLists:[]}},mounted(){this.getPlatformList()},methods:{getPlatformList(){let t=this.platformList.map(t=>(1==t.switch?t.switch=!0:t.switch=!1,t));this.platformLists=t}}},r=o,l=(s("64e3"),s("2877")),n=Object(l["a"])(r,a,i,!1,null,"7b0fc76e",null);e["default"]=n.exports},"92bc":function(t,e,s){"use strict";s("17e7")},"94c7":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t._self._c;return e("div",{},[e("h2",{staticStyle:{"font-size":"16px"}},[e("i",{staticClass:"el-icon-collection"}),e("span",[e("strong",[t._v(t._s(t.$t("ticket.票类设置")))])])]),e("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"20px"}},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[e("el-table-column",{attrs:{prop:"type",label:t.$t("ticket.类型"),align:"center",width:"180"}},[[e("span",[t._v("发票")])]],2),e("el-table-column",{attrs:{prop:"model",label:t.$t("ticket.使用模板"),align:"center",width:"180"}},[e("span",[t._v("模板一")])]),e("el-table-column",{attrs:{prop:"logo",label:t.$t("ticket.发票logo"),align:"center"},scopedSlots:t._u([{key:"default",fn:function(t){return[e("el-image",{staticStyle:{width:"100px",height:"100px"},attrs:{src:t.row.logo,fit:"fit"}})]}}])}),e("el-table-column",{attrs:{prop:"address",align:"center",label:t.$t("ticket.公司地址")}}),e("el-table-column",{attrs:{prop:"language",align:"center",label:t.$t("ticket.语言")}}),e("el-table-column",{attrs:{prop:"status",align:"center",label:t.$t("ticket.状态")},scopedSlots:t._u([{key:"default",fn:function(s){return[e("span",[t._v(t._s(1==s.row.status?t.$t("ticket.启用"):t.$t("ticket.停用")))])]}}])}),e("el-table-column",{attrs:{align:"center",label:t.$t("ticket.操作")},scopedSlots:t._u([{key:"default",fn:function(s){return[e("el-link",{attrs:{type:"primary"},on:{click:function(e){return t.edit(s.row)}}},[t._v(t._s(t.$t("ticket.编辑")))])]}}])})],1)],1),e("el-dialog",{attrs:{title:t.$t("ticket.发票设置"),visible:t.dialogVisible,width:"30%"},on:{"update:visible":function(e){t.dialogVisible=e},open:function(e){return t.open()}}},[e("el-form",{ref:"form",attrs:{model:t.form,"label-width":"80px"}},[e("el-form-item",{attrs:{label:t.$t("ticket.使用模板")}},[e("el-radio-group",{model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}},[t._v(t._s(t.form.type)+" "),e("el-radio",{attrs:{label:"1"}},[t._v("模板一")])],1)],1),e("el-form-item",{attrs:{label:t.$t("ticket.公司地址")}},[e("el-input",{model:{value:t.form.address,callback:function(e){t.$set(t.form,"address",e)},expression:"form.address"}})],1),e("el-form-item",{attrs:{label:t.$t("ticket.发票logo")}},[e("div",{staticClass:"up-avatar"},[e("el-upload",{ref:"elupload",staticClass:"avatar-uploader",attrs:{action:"#","http-request":t.httpRequest,"show-file-list":!1,"before-upload":t.beforeAvatarUpload,"on-remove":t.handleRemove}},[t.form.logo?e("img",{staticClass:"avatar",attrs:{src:t.form.logo}}):e("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)]),e("el-form-item",{attrs:{label:t.$t("ticket.发票语言")}},[e("el-radio-group",{model:{value:t.form.language,callback:function(e){t.$set(t.form,"language",e)},expression:"form.language"}},[e("el-radio",{attrs:{label:"CN"}},[t._v(t._s(t.$t("ticket.中文")))]),e("el-radio",{attrs:{label:"GE"}},[t._v(t._s(t.$t("ticket.德文")))])],1)],1),e("el-form-item",{attrs:{label:t.$t("ticket.状态")}},[e("el-select",{attrs:{placeholder:"请选择活动区域"},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}},[e("el-option",{attrs:{label:t.$t("ticket.启用"),value:"1"}}),e("el-option",{attrs:{label:t.$t("ticket.停用"),value:"2"}})],1)],1)],1),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v(t._s(t.$t("ticket.取消")))]),e("el-button",{attrs:{type:"primary"},on:{click:t.changeTicket}},[t._v(t._s(t.$t("ticket.确定")))])],1)],1)],1)},i=[],o={components:{},data(){return{dialogVisible:!1,form:{address:"",id:"",type:"",logo:"https://upload.ourmall.com/user/helpDoc/3ef25cda5aae0828b8b4af13f103be62.png",language:"CN",logoImage:[],status:"1"},tableData:[],fileBase64:"",imgName:"",nowFile:""}},computed:{},watch:{},methods:{edit(t){this.form={id:t.id,address:t.address,type:"1",logo:t.logo,language:t.language,logoImage:t.logo?[{name:"logo",url:t.logo}]:[],status:t.status},this.dialogVisible=!0},open(){console.log(this.form,"this.form")},beforeAvatarUpload(t){console.log(t),this.imgName=t.name,this.nowFile=t},handleRemoveOtherERPDialog(t,e){e.forEach((e,s)=>{e.name==t.name&&this.form.logo.splice(s,1)})},httpRequest(t){const e="image/jpeg"===t.file.type||"image/jpg"===t.file.type||"image/png"===t.file.type,s=t.file.size/1024/1024<2;e?s?this.getBase64(t.file).then(t=>{this.fileBase64=t.split(",")[1];let e=t.match(/data:image\/(.*);base64,.*/)[1];console.log(this.tempUrl,"this.tempUrl"),this.getUploadImgUrl(this.fileBase64,e)}):this.$message.error("上传文件大小不能超过 2MB!"):this.$message.error("上传头像图片只能是 JPG、PNG、JPEG 格式!")},getUploadImgUrl(t,e){this.$apiCall("api.Comment.uploadImg",{imgUrlBase64:t,ext:e},t=>{9999==t.ErrorCode?this.form.logo=t.Data.Results.imgUrl:this.$message({message:t.Message,type:"error"})})},getBase64(t){return new Promise((e,s)=>{let a=new FileReader,i="";a.readAsDataURL(t),a.onload=function(){i=a.result},a.onerror=function(t){s(t)},a.onloadend=function(){e(i)}})},handleRemove(t,e){},getBil(){this.$apiCall("api.BillSet.get",{},t=>{9999==t.ErrorCode?(this.tableData=t.Data.Results,console.log(t.Data,"25415")):this.$message({message:t.Message,type:"error"})})},changeTicket(){let t={id:this.form.id,status:this.form.status,language:this.form.language,model:this.form.model,address:this.form.address,logo:this.form.logo};this.$apiCall("api.BillSet.change",t,t=>{9999==t.ErrorCode?(this.dialogVisible=!1,this.getBil()):this.$message({message:t.Message,type:"error"})})}},created(){this.getBil()},mounted(){},beforeCreate(){},beforeMount(){},beforeUpdate(){},updated(){},beforeDestroy(){},destroyed(){},activated(){}},r=o,l=(s("4fc2"),s("2877")),n=Object(l["a"])(r,a,i,!1,null,"036f5a14",null);e["default"]=n.exports},"9e39":function(t,e,s){},a4a5:function(t,e,s){},a831:function(t,e,s){},afed:function(t,e,s){t.exports=s.p+"img/secretKey1.5bdafac9.png"},bc52:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"contentpanel role-management-page"},[e("div",{ref:"pageHeader",staticClass:"pagetitle"},[e("div",{staticClass:"left"},[e("div",{staticClass:"title"},[e("h2",[t._v(t._s(t.$t("shop.域名管理")))])])]),e("div",{staticClass:"right"})]),e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"pagebody"},[e("el-row",{staticClass:"mg-b-20",attrs:{gutter:15}},[e("el-col",{attrs:{span:24}},[e("el-card",[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:24}},[e("div",{ref:"pageFilter",staticClass:"page-filter"},[e("div",{staticClass:"main-name"},[e("div",[e("div",{staticClass:"mg-b-20"},[t._v(t._s(t.$t("shop.主域名")))]),e("div",[t._v(t._s(t.mainUrl||t.subDomain)+" "),t.mainUrl?t._e():e("span",[t._v(t._s(t.$t("shop.（OurMall提供）")))])])]),e("div",[e("el-button",{attrs:{type:"primary"},on:{click:t.changeMain}},[t._v(" "+t._s(t.$t("shop.更改主域名"))+" ")])],1)]),e("div",{ref:"pageHeader",staticClass:"pagetitle"},[e("div",{staticClass:"left"},[e("div",{staticClass:"title"},[e("h2",[t._v(t._s(t.$t("shop.多域名管理")))])])]),e("div",{staticClass:"right"},[e("el-button",{attrs:{type:"primary"},on:{click:t.addDomain}},[t._v(" "+t._s(t.$t("shop.添加域名"))+" ")])],1)]),e("el-table",{ref:"gridTable2",staticStyle:{width:"100%"},attrs:{data:t.items,stripe:"","row-key":"id"}},[e("el-table-column",{attrs:{label:t.$t("shop.域名"),prop:"url"}}),e("el-table-column",{attrs:{label:t.$t("shop.操作"),width:"100px"},scopedSlots:t._u([{key:"default",fn:function(s){return[e("el-link",{attrs:{type:"primary"},on:{click:function(e){return t.delDomain(s.row)}}},[t._v(" "+t._s(t.$t("shop.删除"))+" ")])]}}])})],1)],1)])],1)],1)],1)],1),t.items.length?e("el-row",{attrs:{gutter:20}},[e("el-col",{staticClass:"d-flex justify-content-center",attrs:{span:24}},[e("div",[e("el-pagination",{attrs:{"current-page":t.page,background:!0,layout:"sizes, total, prev, pager, next, jumper","page-sizes":t.pageSizes,"page-size":t.rowsPerPage,total:Number(t.total)},on:{"current-change":t.toPage,"size-change":t.changePageSize}})],1)])],1):t._e()],1),e("el-dialog",{attrs:{visible:t.visibleDomain,width:"400px"},on:{"update:visible":function(e){t.visibleDomain=e},close:t.closeSelectAssign}},[e("div",{staticClass:"tx-center dialog-content",staticStyle:{padding:"20px"}},[t.visibleDomain?[e("el-select",{staticClass:"mg-r-15",attrs:{remote:"",placeholder:t.$t("shop.请选择域名")},model:{value:t.changeUrl,callback:function(e){t.changeUrl=e},expression:"changeUrl"}},t._l(t.allItems,(function(t,s){return e("el-option",{key:s,attrs:{label:t.url,value:t.url}})})),1)]:t._e()],2),e("div",{attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:t.closeSelectAssign}},[t._v(t._s(t.$t("shop.取消")))]),e("el-button",{attrs:{type:"primary"},on:{click:t.changeMainDomain}},[t._v(t._s(t.$t("shop.确定")))])],1)])],1)},i=[],o=(s("14d9"),{data(){return{mainUrl:"",oldUrl:"",name:"",changeUrl:"",visibleDomain:!1,subDomain:"",loading:!1,items:[],allItems:[],pageSizes:[10,20,50,100],page:this.$route.query.page?Number(this.$route.query.page):1,rowsPerPage:localStorage.getItem("myDomainPerPage")?Number(localStorage.getItem("myDomainPerPage")):10,total:0,totalPage:0}},watch:{$route:"gotoPage"},mounted(){this.getItems()},methods:{closeSelectAssign(){this.visibleDomain=!1,this.allItems=[]},getVonders(){this.$apiCall("api.VendorShop.getByVendor",{},t=>{if(9999==t.ErrorCode){let e=t.Data.Results;this.name=e.name,this.mainUrl=e.url,this.oldUrl=this.subDomain=window.location.host.indexOf("sandbox")>=0?`sandbox${e.name}.bcndropshippingelite.com`:e.name+".bcndropshippingelite.com",this.subDomain?this.subDomain=window.location.host.indexOf("sandbox")>=0?`sandbox${e.subDomain}.bcndropshippingelite.com`:e.subDomain+".bcndropshippingelite.com":this.subDomain=this.oldUrl}})},toPage(t){t!=this.$route.query.page&&this.$router.push({query:{page:t}})},changePageSize(t){this.rowsPerPage=t,localStorage.setItem("myDomainPerPage",t),this.getItems()},gotoPage(){this.page=this.$route.query.page?this.$route.query.page:1,this.getItems()},getAllItems(){this.$apiCall("api.VendorShop.getShopUrlList",{},t=>{9999==t.ErrorCode&&(this.allItems=t.Data.Results,this.allItems.push({url:this.oldUrl}))})},getItems(t){this.loading=!0,this.$apiCall("api.VendorShop.getShopUrlList",{page:this.page,rowsPerPage:this.rowsPerPage},e=>{this.loading=!1,9999==e.ErrorCode&&(this.items=e.Data.Results,this.getVonders(),this.total=Number(e.Data.Pagination.totalCount),this.totalPage=Number(e.Data.Pagination.totalPage),t||(this.$root.$children[0].$refs.mainScroll.wrap.scrollTop=0))})},addDomain(){this.$router.push("/add-domain")},delDomain(t){this.$confirm(this.$t("shop.确定删除该域名？"),this.$t("products.删除"),{confirmButtonText:this.$t("products.删除"),cancelButtonText:this.$t("products.取消"),type:"warning"}).then(()=>{this.$apiCall("api.VendorShop.deleteShopUrl",{id:t.id},t=>{9999==t.ErrorCode?(this.getItems(),this.$message({message:this.$t("shop.删除成功"),type:"success"})):this.$message({message:t.Message,type:"error"})})})},changeMain(){this.getAllItems(),this.visibleDomain=!0},changeMainDomain(){this.$apiCall("api.VendorShop.changeShopUrl",{url:this.changeUrl,setDefault:this.changeUrl==this.oldUrl?"1":void 0},t=>{9999==t.ErrorCode?(this.getVonders(),this.visibleDomain=!1,this.$message({message:this.$t("shop.更换成功"),type:"success"})):this.$message({message:t.Message,type:"error"})})}},components:{}}),r=o,l=(s("5ee5"),s("2877")),n=Object(l["a"])(r,a,i,!1,null,"1a861090",null);e["default"]=n.exports},c414:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"contentpanel edit-goods-page"},[e("div",{ref:"pageHeader",staticClass:"pagetitle"},[e("div",{staticClass:"left"},[e("div",{staticClass:"title"},[e("el-link",{attrs:{type:"primary"},on:{click:function(e){return t.goto()}}},[t._v(t._s(t.$t("shop.返回到店铺设置")))]),e("span",{staticStyle:{margin:"0 20px"}},[t._v("/")]),e("h2",[t._v(t._s(t.$t("shop.shopify 应用更换")))])],1)]),e("div",{staticClass:"right"})]),e("div",{staticClass:"pagebody"},[e("el-card",{staticClass:"bind"},[e("p",{staticClass:"mg-b-30",staticStyle:{"font-size":"18px"}},[t._v(t._s(t.$t("shop.请联系您对接的销售提交更换应用所需要的资料，我们会在尽快 为您提供更换应用服务；")))]),e("p",{staticClass:"mg-b-20",staticStyle:{"font-size":"16px"}},[t._v(t._s(t.$t("shop.需准备资料：")))]),e("p",{staticClass:"mg-b-10"},[t._v(t._s(t.$t("shop.set1")))]),e("p",{staticClass:"mg-b-10"},[t._v(t._s(t.$t("shop.set2")))]),e("p",{staticClass:"mg-b-10"},[t._v(t._s(t.$t("shop.set3")))]),e("p",{staticClass:"mg-b-10"},[t._v(t._s(t.$t("shop.set4")))]),e("p",{staticClass:"mg-b-10"},[t._v(t._s(t.$t("shop.set5")))]),e("p",{staticClass:"mg-b-10"},[t._v(t._s(t.$t("shop.set6")))]),e("p",{staticClass:"mg-b-10"},[t._v(t._s(t.$t("shop.set7")))]),e("p",{staticClass:"mg-b-10"},[t._v(t._s(t.$t("shop.set8")))])])],1)])},i=[],o=(s("14d9"),{data(){return{}},methods:{goto(){this.$router.push("/Shop")}}}),r=o,l=(s("5951"),s("2877")),n=Object(l["a"])(r,a,i,!1,null,null,null);e["default"]=n.exports},c730:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"contentpanel role-management-page"},[e("div",{ref:"pageHeader",staticClass:"pagetitle"},[e("div",{staticClass:"left"},[e("div",{staticClass:"title"},[e("h2",[t._v(t._s(t.$t("shop.汇率设置")))])])]),e("div",{staticClass:"right"})]),e("div",{staticClass:"pagebody"},[e("el-row",{staticClass:"mg-b-20",attrs:{gutter:15}},[e("el-col",{attrs:{span:24}},[e("el-card",[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:24}},[e("el-alert",{attrs:{type:"warning",closable:!1}},[e("div",{attrs:{slot:"title"},slot:"title"},[e("p",[t._v(t._s(t.$t("shop.售价=成本价×商品系数÷汇率，结果保留2位小数")))])])]),e("p",{staticStyle:{"margin-bottom":"10px"}}),e("el-form",{ref:"form",attrs:{model:t.form,"label-width":"80px"}},[e("el-form-item",[t._v(" "+t._s(t.$t("shop.汇率"))+" "),e("el-input-number",{staticStyle:{width:"200px"},attrs:{placeholder:t.$t("shop.请输入有效数值"),min:0,precision:2},model:{value:t.form.Rate,callback:function(e){t.$set(t.form,"Rate",e)},expression:"form.Rate"}}),t._v(" "+t._s(t.$t("shop.系数"))+" "),e("el-input-number",{staticStyle:{width:"200px"},attrs:{placeholder:t.$t("shop.请输入有效数值"),min:0,precision:2},model:{value:t.form.ratio,callback:function(e){t.$set(t.form,"ratio",e)},expression:"form.ratio"}})],1),e("el-form-item",[e("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v(t._s(t.$t("shop.确定")))])],1)],1)],1)],1)],1)],1)],1)],1)])},i=[],o={data(){return{form:{Rate:"",ratio:""}}},mounted(){this.getRea()},methods:{onSubmit(){this.$apiCall("api.User.setExchangeRate",{exchangeRate:this.form.Rate,productCoefficient:this.form.ratio},t=>{"9999"==t.ErrorCode?this.$elementMessage(t.Message,"success"):this.$elementMessage(t.Message,"error")})},getRea(){this.$apiCall("api.User.getUserConfig",{},t=>{"9999"==t.ErrorCode?(this.form.Rate=t.Data.Results.exchangeRate,this.form.ratio=t.Data.Results.productCoefficient):this.$elementMessage(t.Message,"error")})}},components:{}},r=o,l=s("2877"),n=Object(l["a"])(r,a,i,!1,null,"70e5a1d7",null);e["default"]=n.exports},cad8:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"contentpanel staff-management-page"},[e("div",{ref:"pageHeader",staticClass:"pagetitle"},[e("div",{staticClass:"left"},[e("div",{staticClass:"title"},[e("h2",[t._v(t._s(t.$t("shop.员工管理")))]),e("div",{staticClass:"mg-l-20"},[t._v(t._s(t.$t("package.当前版本支持添加员工数为：{num1}个，还可再添加{num2}个",{num1:t.$root.$children[0].vipNowDetail.subUserCnt,num2:t.$root.$children[0].vipNowDetail.nowSubUserCnt}))+" ")])])]),e("div",{staticClass:"right"},[e("el-button",{attrs:{type:"primary",disabled:!t.$isRole(t.$route.meta.roleWrite)},on:{click:function(e){return t.addStaff()}}},[t._v(" "+t._s(t.$t("shop.添加员工")))])],1)]),e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"pagebody"},[e("el-row",{staticClass:"mg-b-20",attrs:{gutter:15}},[e("el-col",{attrs:{span:24}},[e("el-card",[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:24}},[e("div",{ref:"pageFilter",staticClass:"page-filter"},[e("el-form",{attrs:{inline:!0,size:"mini"}},[e("el-form-item",{attrs:{label:t.$t("shop.角色")}},[e("el-select",{staticStyle:{width:"120px"},attrs:{placeholder:t.$t("mycustomer.all")},on:{change:t.filterItem},model:{value:t.filterParams.roleId,callback:function(e){t.$set(t.filterParams,"roleId",e)},expression:"filterParams.roleId"}},[e("el-option",{attrs:{label:t.$t("mycustomer.all"),value:""}}),t._l(t.roleList,(function(t){return e("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],2)],1),e("el-form-item",[e("el-input",{attrs:{placeholder:t.$t("shop.输入员工账号或姓名"),clearable:""},on:{clear:function(e){return t.clearFilter("name")}},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.filterItem()}},model:{value:t.filterParams.nameLike,callback:function(e){t.$set(t.filterParams,"nameLike",e)},expression:"filterParams.nameLike"}})],1),e("el-form-item",[e("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.filterItem()}}},[t._v(t._s(t.$t("mycustomer.filter")))]),e("el-button",{attrs:{type:"danger"},on:{click:function(e){return t.clearFilter()}}},[t._v(t._s(t.$t("mycustomer.clear")))])],1)],1)],1)])],1),e("el-table",{ref:"gridTable",staticStyle:{width:"100%"},attrs:{data:t.items,stripe:"","row-key":"id"}},[e("el-table-column",{attrs:{label:t.$t("shop.员工账号"),prop:"username"}}),e("el-table-column",{attrs:{label:t.$t("shop.员工姓名"),prop:"name"}}),e("el-table-column",{attrs:{label:t.$t("shop.员工联系方式"),prop:"email"}}),e("el-table-column",{attrs:{label:t.$t("shop.角色")},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t.roleChange(e.row.roleId))+" ")]}}])}),e("el-table-column",{attrs:{label:t.$t("shop.操作")},scopedSlots:t._u([{key:"default",fn:function(s){return[e("div",[e("el-link",{attrs:{disabled:!t.$isRole(t.$route.meta.roleWrite),type:"primary"},on:{click:function(e){return t.addStaff(s.row)}}},[t._v(t._s(t.$t("shop.编辑")))]),e("el-link",{staticClass:"mg-l-20",attrs:{type:"primary"},on:{click:function(e){return t.openAuth(s.row)}}},[t._v(" "+t._s(t.$t("invoice.token")))]),e("el-link",{staticClass:"mg-l-20",attrs:{type:"danger"},on:{click:function(e){return t.delItem(s.row)}}},[t._v(t._s(t.$t("shop.删除")))]),2==s.row.status?e("el-link",{staticClass:"mg-l-20",attrs:{type:"primary"},on:{click:function(e){return t.changeOpen(s.row,"1")}}},[t._v(t._s(t.$t("shop.启用")))]):t._e(),1==s.row.status?e("el-link",{staticClass:"mg-l-20",attrs:{type:"danger"},on:{click:function(e){return t.changeOpen(s.row,"2")}}},[t._v(t._s(t.$t("shop.停用")))]):t._e()],1)]}}])})],1)],1)],1)],1),t.items.length?e("el-row",{attrs:{gutter:20}},[e("el-col",{staticClass:"d-flex justify-content-center",attrs:{span:24}},[e("div",[e("el-pagination",{attrs:{"current-page":Number(t.page),background:!0,layout:"sizes, total, prev, pager, next, jumper","page-sizes":t.pageSizes,"page-size":t.rowsPerPage,total:Number(t.total)},on:{"current-change":t.toPage,"size-change":t.changePageSize}})],1)])],1):t._e()],1),e("el-dialog",{attrs:{"append-to-body":"","close-on-click-modal":!1,visible:t.addStaffVis,width:"50%",title:t.editStaff?t.$t("shop.编辑员工信息"):t.$t("shop.添加员工")},on:{close:t.closeVis}},[e("div",[e("el-divider"),e("el-form",{directives:[{name:"loading",rawName:"v-loading",value:t.addLoading,expression:"addLoading"}],staticClass:"mg-b-15",attrs:{"label-width":"120px"}},[t.editStaff?t._e():[e("el-form-item",{attrs:{label:t.$t("shop.员工账号"),required:""}},[e("el-input",{attrs:{placeholder:t.$t("shop.请输入员工注册时的邮箱/手机号码")},model:{value:t.form.username,callback:function(e){t.$set(t.form,"username",e)},expression:"form.username"}}),e("div",{staticStyle:{color:"#909399"}},[t._v(" "+t._s(t.$t("shop.员工使用该手机号作为帐号即可登录后台"))+" ")])],1),e("el-form-item",{attrs:{label:t.$t("shop.账号密码"),required:""}},[e("el-input",{attrs:{placeholder:t.$t("shop.请输入员工账号的密码"),"show-password":"","auto-complete":"new-password"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1)],e("el-form-item",{attrs:{label:t.$t("shop.员工姓名"),required:""}},[e("el-input",{model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),e("el-form-item",{attrs:{label:t.$t("shop.员工联系方式")}},[e("el-input",{attrs:{placeholder:t.$t("shop.请输入邮箱/手机号码")},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}})],1),e("el-form-item",{attrs:{label:t.$t("shop.所属角色"),required:""}},[e("el-select",{staticStyle:{width:"300px"},attrs:{filterable:""},model:{value:t.form.roleId,callback:function(e){t.$set(t.form,"roleId",e)},expression:"form.roleId"}},t._l(t.roleList,(function(t){return e("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1),e("span",{staticClass:"mg-l-10"},[t._v(t._s(t.$t("shop.暂无角色？前往"))+" "),e("span",{staticStyle:{color:"#5c6ac4",cursor:"pointer"},on:{click:t.goAddRole}},[t._v(t._s(t.$t("shop.添加角色")))])])],1),e("el-form-item",{attrs:{label:t.$t("shop.员工数据")}},[e("vue-tags-input",{attrs:{tags:t.form.tags,placeholder:t.$t("shop.请输入邮箱")},on:{"tags-changed":t.tagsChange},model:{value:t.tagIpt,callback:function(e){t.tagIpt=e},expression:"tagIpt"}}),e("div",[t._v(t._s(t.$t("shop.可通过指定客户限制员工查看客户相关页面数据")))])],1)],2)],1),e("el-divider"),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.addStaffVis=!1}}},[t._v(t._s(t.$t("shop.取消")))]),e("el-button",{attrs:{type:"primary"},on:{click:t.save}},[t._v(" "+t._s(t.$t("shop.保存"))+" ")])],1)],1),e("el-dialog",{attrs:{visible:t.dialogVipUp,width:"400px"},on:{close:function(e){t.dialogVipUp=!1}}},[e("el-divider"),e("div",{staticStyle:{padding:"20px","font-size":"18px","line-height":"36px"}},[t._v(" 您当前添加员工的数量已达"+t._s(t.$root.$children[0].vipNowDetail.subUserCnt)+" 个，是否进行套餐升级？")]),e("el-divider"),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.dialogVipUp=!1}}},[t._v(t._s(t.$t("shop.取消")))])],1)],1),e("dialoAuth",{attrs:{authData:t.dialoAuthInfo,isStaff:1},on:{openSecretKey:t.openSecretKey}}),e("dialogKey",{attrs:{keyData:t.dialoKeyInfo},on:{openAddComment:t.openAddComment}}),e("DialogEditComment",{attrs:{DialogEditComment:t.DialogEditComment}})],1)},i=[],o=(s("14d9"),s("5538")),r=s("fa9e"),l=s("cd22"),n=s("c7a0"),c=s.n(n),p={data(){return{dialoAuthInfo:{isShow:!1,loading:!1,shopData:[],staffData:""},dialogAuthInfoDefault:"{}",dialoKeyInfo:{isShow:!1,loading:!1},dialogKeyInfoDefault:"{}",DialogEditComment:{loading:!1,uploadLoading:!1,visible:!1,contents:"",shopName:"",attach:[],commentId:"",item:null},DialogEditCommentDefault:"{}",dialogVipUp:!1,staffId:"",multipleSelection:[],editStaff:!1,isSelectItems:!1,allCheckedData:!1,form:{username:"",password:"",name:"",email:"",roleId:"",tags:[]},tagIpt:"",pageSizes:[10,20,50,100],page:this.$route.query.page?Number(this.$route.query.page):1,rowsPerPage:localStorage.getItem("staffPerPage")?Number(localStorage.getItem("staffPerPage")):10,total:0,totalPage:0,addLoading:!1,addStaffVis:!1,items:[],loading:!1,filterParams:{roleId:"",nameLike:"",username:""},roleList:[]}},watch:{allChecked(){this.allCheckedData=this.allChecked},$route:"gotoPage"},mounted(){this.dialogAuthInfoDefault=JSON.stringify(this.dialoAuthInfo),this.dialogKeyInfoDefault=JSON.stringify(this.dialoKeyInfo),this.DialogEditCommentDefault=JSON.stringify(this.DialogEditComment),this.getItem(),this.getRole()},methods:{openAddComment(){this.$refs.uploadFile&&this.$refs.uploadFile.clearFiles(),this.DialogEditComment=JSON.parse(this.DialogEditCommentDefault),this.DialogEditComment.visible=!0},openSecretKey(){this.dialoKeyInfo=JSON.parse(this.dialogKeyInfoDefault),this.dialoKeyInfo.isShow=!0},openAuth(t){this.dialoAuthInfo=JSON.parse(this.dialogAuthInfoDefault),this.dialoAuthInfo.shopData=localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")).erpShops:[],this.dialoAuthInfo.staffData=JSON.parse(JSON.stringify(t)),this.dialoAuthInfo.isShow=!0},tagsChange(t){this.form.tags=t.map(t=>t)},goAddRole(){this.$router.push({path:"/Role"})},goToUP(){this.$router.push({name:"pricingUp"})},roleChange(t){let e="";return this.roleList.forEach(s=>{t==s.id&&(e=s.name)}),e},getRole(){this.$apiCall("api.UserRole.findByUser",{},t=>{9999==t.ErrorCode?this.roleList=t.Data.Results:this.$message({message:t.Message,type:"error"})})},closeVis(){this.editStaff=!1,this.staffId="",this.form={username:"",password:"",name:"",email:"",roleId:""},this.addStaffVis=!1},delItem(t){this.$confirm(this.$t("shop.确定删除该员工吗?"),"Tips",{confirmButtonText:this.$t("shop.确定"),cancelButtonText:this.$t("shop.取消"),type:"warning"}).then(()=>{this.$apiCall("api.SubUser.deleteByUser",{id:t.id},t=>{9999==t.ErrorCode?(this.$message({message:this.$t("shop.删除成功"),type:"success"}),this.getItem()):this.$message({message:t.Message,type:"error"})})}).catch(()=>!1)},changeOpen(t,e){this.$apiCall("api.SubUser.changeByUser",{status:e,ids:t.id},t=>{9999==t.ErrorCode?(this.$message({message:"success",type:"success"}),this.getItem()):this.$message({message:t.Message,type:"error"})})},allChange(){this.items.forEach(t=>{this.$set(t,"checked",this.allCheckedData)})},toPage(t){t!=this.$route.query.page&&this.$router.push({query:{page:t}})},changePageSize(t){this.rowsPerPage=t,localStorage.setItem("staffPerPage",t),this.getItem()},gotoPage(){this.page=this.$route.query.page?this.$route.query.page:1,this.getItem()},getItem(){this.loading=!0,this.$apiCall("api.SubUser.findByUser",{page:this.page,rowsPerPage:this.rowsPerPage,nameLike:this.filterParams.nameLike,roleId:this.filterParams.roleId,username:this.filterParams.username},t=>{this.loading=!1,9999==t.ErrorCode?(this.items=t.Data.Results,this.total=Number(t.Data.Pagination.totalCount),this.totalPage=Number(t.Data.Pagination.totalPage),this.$root.$children[0].$refs.mainScroll.wrap.scrollTop=0):this.$message({message:t.Message,type:"error"})})},filterItem(){1==this.$route.query.page?this.getItem():this.$router.push({query:{page:1}})},clearFilter(t){t||(this.filterParams.roleId=""),this.filterParams.nameLike="",1==this.$route.query.page?this.getItem():this.$router.push({query:{page:1}})},addStaff(t){if(this.form.tags=[],t){this.staffId=t.id,this.editStaff=!0,this.form.name=t.name,this.form.email=t.email,this.form.roleId=t.roleId;let e=t.relationCustomer?t.relationCustomer.split(","):[];e.length&&e.forEach(t=>{this.form.tags.push({text:t,tiClasses:["ti-valid"]})})}this.addStaffVis=!0},save(){let t={};if(this.editStaff){if(t={ids:this.staffId,name:this.form.name,email:this.form.email,roleId:this.form.roleId},!this.form.name)return this.$message({message:this.$t("shop.请输入员工姓名"),type:"error"}),!1;if(!this.form.roleId)return this.$message({message:this.$t("shop.请选择所属角色"),type:"error"}),!1}else{if(t=this.form,!this.form.username)return this.$message({message:this.$t("shop.请输入员工账号"),type:"error"}),!1;if(!this.form.password)return this.$message({message:this.$t("shop.请输入员工账号的密码"),type:"error"}),!1;if(!this.form.roleId)return this.$message({message:this.$t("shop.请选择所属角色"),type:"error"}),!1}let e=this.form.tags.map(t=>t.text);t.relationCustomer=e,this.$apiCall(this.editStaff?"api.SubUser.changeByUser":"api.SubUser.insertByUser",t,t=>{9999==t.ErrorCode?(this.addStaffVis=!1,this.editStaff=!1,this.getItem(),this.$root.$children[0].getVipDetail(),this.$message({message:this.$t("shop.保存成功"),type:"success"})):202120803==t.ErrorCode?this.dialogVipUp=!0:this.$message({message:t.Message,type:"error"})})}},components:{dialoAuth:o["a"],dialogKey:r["a"],DialogEditComment:l["a"],VueTagsInput:c.a}},d=p,m=(s("36f1"),s("2877")),h=Object(m["a"])(d,a,i,!1,null,"3985b5e6",null);e["default"]=h.exports},cd1c:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"contentpanel shop-set-page"},[e("div",{ref:"pageHeader",staticClass:"pagetitle"},[e("div",{staticClass:"left"},[e("div",{staticClass:"title"},[e("i",{staticClass:"iconfont icon-dianpushezhi"}),e("h2",[t._v(t._s(t.$t("shop.店铺设置")))])])]),e("div",{staticClass:"right"})]),e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"pagebody"},[e("el-row",{staticClass:"mg-b-20",attrs:{gutter:10}},[e("el-col",{attrs:{span:24}},[e("el-card",[e("el-form",{ref:"shopForm",staticClass:"inner",attrs:{model:t.form,rules:t.rulesReg}},[e("el-form-item",{staticStyle:{width:"40%"},attrs:{label:t.$t("shop.店铺名称"),prop:"name"}},[e("el-input",{attrs:{maxlength:"36",minlength:"3",disabled:!0,"show-word-limit":"",placeholder:t.$t("shop.请输入店铺名称")},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),e("el-form-item",{staticStyle:{width:"40%"},attrs:{label:t.$t("shop.店铺链接")}},[!t.form.url&&t.apiSubUserId?e("el-input",{attrs:{disabled:""},model:{value:t.form.subDomain+"/home?invitationCode="+t.invitationCode,callback:function(e){t.$set(t.form,"subDomain+'/home?invitationCode='+invitationCode",e)},expression:"form.subDomain+'/home?invitationCode='+invitationCode"}}):t.form.url&&t.apiSubUserId?e("el-input",{attrs:{disabled:""},model:{value:t.form.url+"/home?invitationCode="+t.invitationCode,callback:function(e){t.$set(t.form,"url+'/home?invitationCode='+invitationCode",e)},expression:"form.url+'/home?invitationCode='+invitationCode"}}):t.form.url?e("el-input",{attrs:{disabled:""},model:{value:t.form.url,callback:function(e){t.$set(t.form,"url",e)},expression:"form.url"}}):e("el-input",{attrs:{disabled:""},model:{value:t.form.subDomain,callback:function(e){t.$set(t.form,"subDomain",e)},expression:"form.subDomain"}}),e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.$t("shop.查看店铺"),placement:"top-start"}},[e("i",{staticClass:"el-icon-view view",on:{click:t.goMyStore}})])],1),e("el-form-item",{staticStyle:{width:"40%"},attrs:{label:t.$t("shop.当前店铺在shopify应用")}},[e("el-input",{attrs:{disabled:""},model:{value:t.form.accountStoreName,callback:function(e){t.$set(t.form,"accountStoreName",e)},expression:"form.accountStoreName"}})],1),e("el-form-item",{staticStyle:{width:"40%"},attrs:{label:t.$t("shop.店铺邮箱"),prop:"email"}},[e("el-input",{attrs:{placeholder:t.$t("shop.请输入店铺邮箱")},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}}),e("div",{staticClass:"tip"},[t._v(t._s(t.$t("shop.如有需要，我们会通过此邮箱来联系您")))])],1),e("el-form-item",{staticStyle:{width:"40%"},attrs:{label:t.$t("shop.店主手机号"),prop:"phone"}},[e("el-input",{attrs:{placeholder:t.$t("shop.请输入店主手机号")},model:{value:t.form.phone,callback:function(e){t.$set(t.form,"phone",e)},expression:"form.phone"}})],1),e("el-form-item",{staticStyle:{width:"40%"},attrs:{label:t.$t("shop.工信部备案号")}},[e("el-input",{attrs:{placeholder:t.$t("shop.请输入")},model:{value:t.form.referenceNumber,callback:function(e){t.$set(t.form,"referenceNumber",e)},expression:"form.referenceNumber"}})],1),e("el-form-item",{staticStyle:{width:"40%"},attrs:{label:t.$t("shop.店铺头像")}},[e("div",{staticClass:"upload",on:{click:t.uploadOpen}},[t.form.logo?e("el-image",{staticStyle:{width:"100%",height:"100%"},attrs:{src:t.form.logo,fit:"cover"}}):e("i",{staticClass:"el-icon-plus"})],1),e("div",{staticClass:"tip"},[t._v(t._s(t.$t("shop.Support the format of image/jpeg, image/png，One picture utmost, each cannot beyond 1 MB, general size 50x50 PX")))])]),e("el-form-item",{staticStyle:{width:"40%"},attrs:{label:t.$t("shop.财务邮箱"),prop:"financialEmail"}},[e("el-input",{attrs:{placeholder:t.$t("shop.请输入财务邮箱")},model:{value:t.form.financialEmail,callback:function(e){t.$set(t.form,"financialEmail",e)},expression:"form.financialEmail"}}),e("div",{staticClass:"tip"},[t._v(t._s(t.$t("shop.用于存在费用争议时联系的邮箱，请务必填")))])],1),e("el-form-item",[e("el-button",{attrs:{disabled:!t.$isRole(t.$route.meta.roleWrite),type:"primary"},on:{click:t.save}},[t._v(" "+t._s(t.$t("shop.保存"))+" ")])],1)],1)],1)],1)],1)],1),e("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"imgFile",accept:".jpg,.png,.gif"},on:{change:function(e){return t.Base64(e)}}}),e("el-dialog",{attrs:{visible:t.dialogVisible,width:"500px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[e("div",{staticClass:"tx-center dialog-content",staticStyle:{padding:"30px 0 50px","font-size":"18px"}},[e("span",[t._v("很抱歉，该版本无法修改域名，请升级版本")]),e("el-link",{staticStyle:{position:"relative",top:"-3px",left:"2px","font-size":"18px"},attrs:{type:"primary"},on:{click:t.gotoUp}},[t._v("去升级")])],1)])],1)},i=[],o=(s("14d9"),{data(){return{invitationCode:"",apiSubUserId:null,dialogVisible:!1,loading:!1,form:{name:"",accountStoreName:"",subDomain:"",email:"",phone:"",logo:"",referenceNumber:"",financialEmail:"",url:""},rulesReg:{name:[{required:!0,message:this.$t("shop.请输入店铺名称"),trigger:"blur"},{pattern:/^[A-Za-z0-9]{3,35}$/,message:this.$t("shop.店铺名称格式错误"),trigger:"blur"}],email:[{pattern:/^([a-z0-9_\.-]+)@([\da-z\.-]+)\.([a-z\.]{2,6})$/,message:this.$t("shop.邮箱格式错误"),trigger:"blur"}],financialEmail:[{pattern:/^([a-z0-9_\.-]+)@([\da-z\.-]+)\.([a-z\.]{2,6})$/,message:this.$t("shop.邮箱格式错误"),trigger:"blur"},{required:!0,message:this.$t("shop.请输入财务邮箱"),trigger:"blur"}],phone:[{pattern:/^1[34578]\d{9}$/,message:this.$t("shop.手机号格式错误"),trigger:"blur"}]}}},mounted(){console.log(this.$isRole("shopEdit")),this.getVonders()},created(){localStorage.getItem("apiSubUserId")&&(this.apiSubUserId=JSON.parse(localStorage.getItem("apiSubUserId")))},methods:{gotoUp(){this.$router.push("/pricingUp")},saveStoreLogo(){let t=JSON.parse(JSON.stringify(this.$store.state.configJson.header));t.logo=this.form.logo,this.$store.commit("setStoreHeader",t),this.$apiCall("api.VendorShop.setShopConfig",{configJson:JSON.stringify(this.$store.state.configJson)},t=>{9999==t.ErrorCode||this.$message({message:t.Message,type:"error"})})},goMyStore(){this.form.url&&this.apiSubUserId?window.open(`//${this.form.url}/?invitationCode=${this.invitationCode}`):!this.form.url&&this.apiSubUserId?window.open(`//${this.form.subDomain}/?invitationCode=${this.invitationCode}`):this.form.url?window.open("//"+this.form.url):window.open("//"+this.form.subDomain)},save(){this.$refs.shopForm.validate(t=>{if(t){this.loading=!0;let t=this.form;t.subDomain=t.name,this.$apiCall("api.VendorShop.changeByVendor",t,t=>{if(this.loading=!1,9999==t.ErrorCode){let t=JSON.parse(JSON.stringify(this.$store.state.configJson.header));t.logo=this.form.logo,this.$store.commit("setStoreHeader",t),this.$apiCall("api.VendorShop.setShopConfig",{configJson:JSON.stringify(this.$store.state.configJson)},t=>{if(9999==t.ErrorCode){let t=/^localhost:/,e=/^sandbox/,s=".bcndropshippingelite.com";if("/admin"!=this.$root.$children[0].baseUrl&&(s=".bcndropshippingelite.com/admin"),t.test(window.location.host))this.$router.go(0);else{let t;t=e.test(window.location.host)?window.location.href.replace(window.location.host,`//sandbox${this.form.name}${s}`):window.location.href.replace(window.location.host,`//${this.form.name}${s}`),window.location=""+t}this.$message({message:this.$t("shop.保存成功"),type:"success"})}else this.$message({message:t.Message,type:"error"})})}else this.$message({message:t.Message,type:"error"})})}})},getVonders(){this.loading=!0,this.$apiCall("api.VendorShop.getByVendor",{},t=>{if(this.loading=!1,9999==t.ErrorCode){let e=t.Data.Results;this.invitationCode=e.invitationCode||"",this.form.name=e.name,this.form.subDomain?this.form.subDomain=window.location.host.indexOf("sandbox")>=0?`sandbox${e.subDomain}.bcndropshippingelite.com`:e.subDomain+".bcndropshippingelite.com":this.form.subDomain=window.location.host.indexOf("sandbox")>=0?`sandbox${e.name}.bcndropshippingelite.com`:e.name+".bcndropshippingelite.com",this.form.email=e.email?e.email:this.$store.state.userInfo.email,this.form.url=e.url,this.form.phone=e.phone,this.form.accountStoreName=e.accountStoreName||"ourmall app",this.form.logo=e.logo,this.form.financialEmail=e.financialEmail,this.form.referenceNumber=e.referenceNumber}else this.$message({message:t.Message,type:"error"})})},uploadOpen(){document.getElementById("imgFile").click()},Base64(t){if(t.target.value){if(t.target.files[0].size/1024/1024>1)return void this.$message({message:"上传文件不能大于1MB",type:"error"});let e=new FileReader,s=new Image,a="";e.onload=t=>{s.src=t.target.result;let e=t.target.result.match(/data:image\/(.*);base64,.*/);a=e[1],this.uploadImgBase64(t.target.result.split(",").pop(),a)},e.readAsDataURL(t.target.files[0])}},uploadImgBase64(t,e){this.loading=!0,this.$apiCall("api.User.uploadImgBase64",{imgUrlBase64:t,ext:e},t=>{this.loading=!1,9999==t.ErrorCode?this.form.logo=t.Data.Results.imgUrl:this.$message.error(t.Message)})},tip(t){this.$root.$children[0].vipDetail.service?t?this.$router.push("/shopifyApp"):this.$router.push("/domain"):this.dialogVisible=!0}},components:{}}),r=o,l=(s("7251"),s("2877")),n=Object(l["a"])(r,a,i,!1,null,"4237b56f",null);e["default"]=n.exports},cd22:function(t,e,s){"use strict";var a=function(){var t=this,e=t._self._c;return e("el-dialog",{attrs:{title:t.$t("ticket.submitTicket"),visible:t.DialogEditComment.visible,width:"800px","append-to-body":""},on:{"update:visible":function(e){return t.$set(t.DialogEditComment,"visible",e)},closed:function(e){return t.$refs.uploadFile.clearFiles()}}},[e("el-divider"),e("div",[e("el-form",{ref:"CommentForm"},[e("el-form-item",{attrs:{label:t.$t("ticket.problemsOrRequirements")}},[e("el-input",{attrs:{type:"textarea"},model:{value:t.DialogEditComment.contents,callback:function(e){t.$set(t.DialogEditComment,"contents",e)},expression:"DialogEditComment.contents"}})],1),e("el-form-item",{attrs:{label:""}},[e("div",{staticStyle:{"font-size":"16px","font-weight":"bold",margin:"20px 0 0"}},[t._v(" "+t._s(t.$t("ticket.uploadImageAttachment"))+" ")])]),e("el-form-item",{attrs:{label:""}},[e("el-upload",{ref:"uploadFile",staticClass:"upload-file",attrs:{"on-change":t.handleChangeImg,"before-remove":t.handleRemoveImg,action:"","auto-upload":!1,accept:"image/gif,image/jpeg,image/jpg,image/png"}},[e("el-button",{ref:"uploadBtn",attrs:{size:"small",type:"primary",loading:t.DialogEditComment.uploadLoading}},[t._v(t._s(t.$t("ticket.browse")))])],1)],1)],1)],1),e("el-divider"),e("div",{staticClass:"dialog-footer d-flex justify-content-end",attrs:{slot:"footer"},slot:"footer"},[e("div",{staticClass:"mg-r-15"},[e("el-button",{attrs:{size:"small",type:"primary",loading:t.DialogEditComment.loading},on:{click:t.saveComment}},[t._v(t._s(t.$t("ticket.submitTicket")))])],1),e("div",[e("el-button",{attrs:{size:"small"},on:{click:function(e){t.DialogEditComment.visible=!1}}},[t._v(" "+t._s(t.$t("invoice.cancel")))])],1)])],1)},i=[],o=(s("14d9"),{props:["DialogEditComment"],data(){return{}},methods:{handleRemoveImg(t,e){e.forEach((e,s)=>{e.name==t.name&&this.DialogEditComment.attach.splice(s,1)})},handleChangeImg(t){this.DialogEditComment.loading=!0,this.DialogEditComment.uploadLoading=!0,this.$apiCall("api.Comment.uploadAttach",{"@file":t.raw},t=>{this.DialogEditComment.loading=!1,this.DialogEditComment.uploadLoading=!1,"9999"==t.ErrorCode?this.DialogEditComment.attach.push(t.Data.Results.url):this.$elementMessage(t.Message,"error")})},saveComment(){if(!this.DialogEditComment.contents)return this.$message({message:this.$t("invoice.emptyQuestion"),type:"error"}),!1;this.DialogEditComment.loading=!0,this.$apiCall("api.Comment.addByUser",{commentId:this.DialogEditComment.commentId,contents:this.DialogEditComment.contents,shopName:this.DialogEditComment.shopName,attach:this.DialogEditComment.attach},t=>{this.DialogEditComment.loading=!1,9999==t.ErrorCode?(this.DialogEditComment.visible=!1,this.$message({message:this.$t("app._wewillReplyASAP"),type:"success"})):this.$message({message:t.Message,type:"error"})})}}}),r=o,l=s("2877"),n=Object(l["a"])(r,a,i,!1,null,null,null);e["a"]=n.exports},effb:function(t,e,s){},fa9e:function(t,e,s){"use strict";var a=function(){var t=this,e=t._self._c;return e("el-dialog",{attrs:{title:t.$t("invoice.usertoken"),visible:t.keyData.isShow,width:"800px","close-on-click-modal":!1,"append-to-body":""},on:{"update:visible":function(e){return t.$set(t.keyData,"isShow",e)}}},[e("el-divider"),e("div",{staticStyle:{margin:"20px",color:"#303133"}},[e("p",[t._v(" "+t._s(t.$t("invoice.software"))+" ")])]),e("div",{staticClass:"d-body"},[e("p",[t._v(" "+t._s(t.$t("invoice.pastetoken"))+" ")]),e("div",{staticClass:"d-flex",staticStyle:{"justify-content":"space-around",margin:"15px 0"}},[e("div",{staticStyle:{width:"48%","margin-right":"2%"}},[e("p",{staticClass:"mg-y-10"},[t._v(t._s(t.$t("invoice.Picture1")))]),e("img",{staticStyle:{border:"1px solid #ddd"},attrs:{width:"100%",src:s("afed")}})]),e("div",{staticStyle:{width:"48%","margin-left":"2%"}},[e("p",{staticClass:"mg-y-10"},[t._v(t._s(t.$t("invoice.Picture2")))]),e("img",{staticStyle:{border:"1px solid #ddd"},attrs:{width:"100%",src:s("69a3")}})])]),e("p",{staticStyle:{"margin-top":"10px"}},[t._v(" "+t._s(t.$t("invoice.present"))+" "),e("el-link",{attrs:{target:"_blank",type:"primary",underline:!1,href:"//www.mabangerp.com/"}},[t._v("马帮ERP ")]),t._v(" "+t._s(t.$t("invoice.soon"))+" ")],1)]),e("div",{staticStyle:{margin:"20px",color:"rgb(153, 153, 153)"}},[e("p",[t._v(" "+t._s(t.$t("invoice.sametime"))+" "),e("el-link",{attrs:{type:"primary",underline:!1},on:{click:t.openAddComment}},[t._v(" "+t._s(t.$t("invoice.contact"))+" ")]),t._v("。 ")],1)]),e("el-divider"),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){t.keyData.isShow=!1}}},[t._v(" "+t._s(t.$t("importdata.gotIt"))+" ")])],1)],1)},i=[],o={props:["keyData"],data(){return{}},methods:{openAddComment(){this.$emit("openAddComment")}}},r=o,l=(s("2418"),s("2877")),n=Object(l["a"])(r,a,i,!1,null,"af075a7e",null);e["a"]=n.exports},fdc8:function(t,e,s){}}]);