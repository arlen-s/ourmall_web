{"version":3,"sources":["webpack:///./src/views/vendors/Main.vue?e9cc","webpack:///./src/views/vendors/Main.vue?9801","webpack:///src/views/vendors/Main.vue","webpack:///./src/views/vendors/Main.vue?598b","webpack:///./src/views/vendors/Main.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","ref","_v","_s","$t","test","$route","name","attrs","on","openAddVendorsDialog","_e","handleClick","model","value","callback","$$v","activeName","expression","slot","vendorsCnt","key","pageKey","getTableHeight","getNum","staticRenderFns","data","reSizeTime","updateOrderLoading","cnow","now","Date","parse","$store","state","userInfo","timeDiff","updateTime","localStorage","getItem","Number","mounted","setInterval","watch","methods","$refs","subPage","openAddVendor","$apiCall","r","ErrorCode","time","valueOf","clearInterval","t","clearTimeout","setTimeout","children","tableHeight","h","$router","push","component"],"mappings":"4IAAA,W,yCCAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,4BAA4B,CAACF,EAAG,MAAM,CAACG,IAAI,aAAaD,YAAY,aAAa,CAACF,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,MAAM,CAACE,YAAY,SAAS,CAACF,EAAG,IAAI,CAACE,YAAY,qBAAqBF,EAAG,KAAK,CAACJ,EAAIQ,GAAGR,EAAIS,GAAGT,EAAIU,GAAG,mBAAmBN,EAAG,MAAM,CAACE,YAAY,SAAS,CAAE,YAAYK,KAAKX,EAAIY,OAAOC,MAAO,CAAsB,cAApBb,EAAIY,OAAOC,KAAsBT,EAAG,YAAY,CAACU,MAAM,CAAC,KAAO,UAAU,KAAO,SAAS,KAAO,gBAAgBC,GAAG,CAAC,MAAQf,EAAIgB,uBAAuB,CAAChB,EAAIQ,GAAG,IAAIR,EAAIS,GAAGT,EAAIU,GAAG,qBAAqB,OAAOV,EAAIiB,MAAMjB,EAAIiB,MAAM,KAAKb,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,UAAU,CAACA,EAAG,SAAS,CAACA,EAAG,SAAS,CAACG,IAAI,WAAWO,MAAM,CAAC,KAAO,KAAK,CAACV,EAAG,UAAU,CAACW,GAAG,CAAC,YAAYf,EAAIkB,aAAaC,MAAM,CAACC,MAAOpB,EAAc,WAAEqB,SAAS,SAAUC,GAAMtB,EAAIuB,WAAWD,GAAKE,WAAW,eAAe,CAACpB,EAAG,cAAc,CAACU,MAAM,CAAC,MAAQ,aAAa,KAAO,cAAc,CAACV,EAAG,OAAO,CAACU,MAAM,CAAC,KAAO,SAASW,KAAK,SAAS,CAACzB,EAAIQ,GAAG,IAAIR,EAAIS,GAAGT,EAAIU,GAAG,eAAe,KAAMV,EAAc,WAAEI,EAAG,OAAO,CAACE,YAAY,cAAc,CAACN,EAAIQ,GAAG,IAAIR,EAAIS,GAAGT,EAAI0B,YAAY,OAAO1B,EAAIiB,UAAU,IAAI,GAAGb,EAAG,SAAS,CAACU,MAAM,CAAC,KAAO,KAAK,CAACV,EAAG,cAAc,CAACuB,IAAI3B,EAAI4B,QAAQrB,IAAI,UAAUQ,GAAG,CAAC,eAAiBf,EAAI6B,eAAe,OAAS7B,EAAI8B,WAAW,IAAI,IAAI,IAAI,MACh0CC,EAAkB,GCiEtB,G,oBAAA,CACEC,KADF,WAEI,MAAO,CACLJ,SAAS,IAAf,gBACML,WAAY,GACZU,WAAY,EACZP,WAAY,EACZQ,oBAAoB,EACpBC,KAAM,EACNC,IAAKC,KAAKC,MAAM,IAAID,MAAU,IAAOpC,KAAKsC,OAAOC,MAAMC,SAASC,SAChEC,WAAYC,aAAaC,QAAQ,uBAAyBC,OAAOF,aAAaC,QAAQ,wBAA0B,IAGpHE,QAbF,WAaA,WACI9C,KAAKsB,WAAatB,KAAKW,OAAOC,KAC9BZ,KAAKkC,KAAOa,aAAY,WAC5B,kEACA,KACI/C,KAAK6B,UAEPmB,MAAO,CACLrC,OADJ,WAEMX,KAAKsB,WAAatB,KAAKW,OAAOC,KAC9BZ,KAAK6B,WAGToB,QAAS,CACPlC,qBADJ,WAE8B,cAApBf,KAAKsB,YACPtB,KAAKkD,MAAMC,QAAQC,iBAGvBvB,OANJ,SAMA,cACM7B,KAAKqD,SAAS,kCAAmC,IAAI,SAA3D,GACQ,GAAmB,QAAfC,EAAEC,UACJ,IAAV,iBACA,4BACiBC,IAAQ,IAAIpB,MAAOqB,UAAYD,EAAO,QACzCE,cAAcC,GACd,EAAd,uBAOA,UAEU,EAAV,uCAII/B,eA1BJ,SA0BA,cAEMgC,aAAa5D,KAAKgC,YAClBhC,KAAKgC,WAAa6B,YAAW,WAC3B,IAAR,EACA,yDACA,gCACA,kCACA,iCACA,kCACA,IAEQC,EAASC,YAAcC,EAAI,IAAMA,EAAI,MAC7C,MAEI/C,YAzCJ,SAyCA,GACA,yBACQjB,KAAK2B,SAAU,IAAvB,gBAGQ3B,KAAKiE,QAAQC,KAAK,CAA1B,kBC1I6V,I,wBCQzVC,EAAY,eACd,EACArE,EACAgC,GACA,EACA,KACA,KACA,MAIa,aAAAqC,E","file":"js/ordersDelivered.b263f829.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Main.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"contentpanel orders-page\"},[_c('div',{ref:\"pageHeader\",staticClass:\"pagetitle\"},[_c('div',{staticClass:\"left\"},[_c('div',{staticClass:\"title\"},[_c('i',{staticClass:\"el-icon-s-custom\"}),_c('h2',[_vm._v(_vm._s(_vm.$t('Vendors')))])])]),_c('div',{staticClass:\"right\"},[(/MyVendors/.test(_vm.$route.name))?[(_vm.$route.name === 'MyVendors')?_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"medium\",\"icon\":\"el-icon-plus\"},on:{\"click\":_vm.openAddVendorsDialog}},[_vm._v(\" \"+_vm._s(_vm.$t('Add a new vendor'))+\" \")]):_vm._e()]:_vm._e()],2)]),_c('div',{staticClass:\"pagebody\"},[_c('el-card',[_c('el-row',[_c('el-col',{ref:\"pageTabs\",attrs:{\"span\":24}},[_c('el-tabs',{on:{\"tab-click\":_vm.handleClick},model:{value:(_vm.activeName),callback:function ($$v) {_vm.activeName=$$v},expression:\"activeName\"}},[_c('el-tab-pane',{attrs:{\"label\":\"My Vendors\",\"name\":\"MyVendors\"}},[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_vm._v(\" \"+_vm._s(_vm.$t('My Vendors'))+\" \"),(_vm.vendorsCnt)?_c('span',{staticClass:\"tx-success\"},[_vm._v(\"(\"+_vm._s(_vm.vendorsCnt)+\")\")]):_vm._e()])])],1)],1),_c('el-col',{attrs:{\"span\":24}},[_c('router-view',{key:_vm.pageKey,ref:\"subPage\",on:{\"getTableHeight\":_vm.getTableHeight,\"getNum\":_vm.getNum}})],1)],1)],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"contentpanel orders-page\">\r\n    <div\r\n      class=\"pagetitle\"\r\n      ref=\"pageHeader\"\r\n    >\r\n      <div class=\"left\">\r\n        <div class=\"title\">\r\n          <i class=\"el-icon-s-custom\"></i>\r\n          <h2>{{$t('Vendors')}}</h2>\r\n        </div>\r\n      </div>\r\n      <div class=\"right\">\r\n        <!-- 前三个菜单显示 导出和更新 -->\r\n        <template v-if=\"/MyVendors/.test($route.name)\">\r\n          <el-button\r\n            v-if=\"$route.name === 'MyVendors'\"\r\n            type=\"primary\"\r\n            size=\"medium\"\r\n            icon=\"el-icon-plus\"\r\n            @click=\"openAddVendorsDialog\"\r\n          >\r\n           {{$t('Add a new vendor')}}\r\n          </el-button>\r\n        </template>\r\n      </div>\r\n    </div>\r\n    <div class=\"pagebody\">\r\n      <el-card>\r\n        <el-row>\r\n          <el-col\r\n            :span=\"24\"\r\n            ref=\"pageTabs\"\r\n          >\r\n            <el-tabs\r\n              v-model=\"activeName\"\r\n              @tab-click=\"handleClick\"\r\n            >\r\n              <el-tab-pane\r\n                label=\"My Vendors\"\r\n                name=\"MyVendors\"\r\n              >\r\n                <span slot=\"label\">\r\n                  {{$t('My Vendors')}} <span\r\n                  v-if=\"vendorsCnt\"\r\n                  class=\"tx-success\"\r\n                >({{vendorsCnt}})</span>\r\n                </span>\r\n              </el-tab-pane>\r\n            </el-tabs>\r\n          </el-col>\r\n          <el-col :span=\"24\">\r\n            <router-view\r\n              :key=\"pageKey\"\r\n              ref=\"subPage\"\r\n              @getTableHeight=\"getTableHeight\"\r\n              @getNum=\"getNum\"\r\n            />\r\n          </el-col>\r\n        </el-row>\r\n      </el-card>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      pageKey: (new Date()).valueOf(),\r\n      activeName: \"\",\r\n      reSizeTime: 0,\r\n      vendorsCnt: 0,\r\n      updateOrderLoading: false,\r\n      cnow: 0,\r\n      now: Date.parse(new Date()) / 1000 - this.$store.state.userInfo.timeDiff,\r\n      updateTime: localStorage.getItem('c_orders-updateTime') ? Number(localStorage.getItem('c_orders-updateTime')) : 0,\r\n    };\r\n  },\r\n  mounted() {\r\n    this.activeName = this.$route.name;\r\n    this.cnow = setInterval(()=>{\r\n\t\t\tthis.now = Date.parse(new Date()) / 1000 - this.$store.state.userInfo.timeDiff;\r\n\t\t},1000)\r\n    this.getNum();\r\n  },\r\n  watch: {\r\n    $route() {\r\n      this.activeName = this.$route.name;\r\n      this.getNum();\r\n    },\r\n  },\r\n  methods: {\r\n    openAddVendorsDialog() {\r\n      if (this.activeName === \"MyVendors\") {\r\n        this.$refs.subPage.openAddVendor()\r\n      }\r\n    },\r\n    getNum(time) {\r\n      this.$apiCall(\"api.Relationship.findByCustomer\", {}, (r) => {\r\n        if (r.ErrorCode == \"9999\") {\r\n          let data = r.Data.Results;\r\n          let t = setInterval(() => {\r\n            if (!time || new Date().valueOf() > time + 1500) {\r\n              clearInterval(t);\r\n              this.vendorsCnt = data.length\r\n              // if(!this.vendorsCnt && !sessionStorage.getItem('c_jumpAliExpressDropShippingVendors')){\r\n              //   sessionStorage.setItem('c_jumpAliExpressDropShippingVendors', 1)\r\n              //   this.$router.push({path: '/aliExpress-dropShipping-vendors'});\r\n              // }\r\n                \r\n            }\r\n          }, 100);\r\n        } else {\r\n          this.$elementMessage(r.Message, \"error\");\r\n        }\r\n      });\r\n    },\r\n    getTableHeight(children) {\r\n      //获取表格高度\r\n      clearTimeout(this.reSizeTime);\r\n      this.reSizeTime = setTimeout(() => {\r\n        let h =\r\n          this.$root.$children[0].$refs.mainScroll.wrap.offsetHeight -\r\n          (this.$refs.pageHeader.offsetHeight +\r\n            this.$refs.pageTabs.$el.offsetHeight +\r\n            children.$refs.tablefilter.offsetHeight +\r\n            children.$refs.tableFooter.offsetHeight) -\r\n          120;\r\n\r\n        children.tableHeight = h > 200 ? h : 200;\r\n      }, 500);\r\n    },\r\n    handleClick(tab) {\r\n      if(tab.name == this.$route.name){ //点击相同路由刷新\r\n        this.pageKey = (new Date()).valueOf();\r\n      }else{\r\n        //tabs 切换\r\n        this.$router.push({ name: tab.name });\r\n      }   \r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.icon-hot {\r\n  font-size: 24px;\r\n  color: #F56C6C;\r\n}\r\n.el-checkbox-group,\r\n.el-radio-group {\r\n  overflow-y: auto;\r\n}\r\n.orders-page {\r\n  .table-wrap {\r\n    .el-tag {\r\n      background-color: #ffea8a;\r\n      color: #595130;\r\n      display: inline-flex;\r\n      align-items: center;\r\n      padding: 0.3rem 0.8rem;\r\n      border-radius: 2rem;\r\n      font-size: 1.3rem;\r\n      line-height: 1.5rem;\r\n      font-weight: normal;\r\n      .-EFlq {\r\n        height: 1rem;\r\n        width: 1rem;\r\n        margin: 0 0.4rem 0 -0.3rem;\r\n        border: 0.2rem solid currentColor;\r\n        border-radius: 50%;\r\n        flex-shrink: 0;\r\n        background: transparent;\r\n        color: #8a6116;\r\n      }\r\n      .-EFlq.bg2 {\r\n        background-color: linear-gradient(\r\n          0deg,\r\n          currentColor,\r\n          currentColor 50%,\r\n          transparent 0,\r\n          transparent\r\n        );\r\n      }\r\n      .-EFlq.bg3 {\r\n        background-color: currentColor;\r\n      }\r\n    }\r\n    .el-tag.el-tag--info {\r\n      background-color: #E3E4E6;\r\n      .-EFlq {\r\n        color: #616266;\r\n      }\r\n    }\r\n    .el-tag.el-tag--warning {\r\n      border-color: #ffea8a;\r\n      background-color: #ffea8a;\r\n      color: #303133;\r\n      .-EFlq {\r\n        color: #8a6116;\r\n      }\r\n    }\r\n    .el-tag.el-tag--danger {\r\n      background-color: #ffc58b;\r\n      color: #303133;\r\n      .-EFlq {\r\n        color: #8a6116;\r\n      }\r\n    }\r\n  }\r\n  .el-button-group > span:not(:first-child):not(:last-child) .el-button {\r\n    border-radius: 0;\r\n  }\r\n  .el-button-group > span:not(:last-child) .el-button {\r\n    margin-right: -1px;\r\n  }\r\n  .el-button-group > span:first-child .el-button {\r\n    border-top-right-radius: 0;\r\n    border-bottom-right-radius: 0;\r\n  }\r\n  .el-button-group > span:last-child .el-button {\r\n    border-top-left-radius: 0;\r\n    border-bottom-left-radius: 0;\r\n  }\r\n  .el-popover {\r\n    max-height: 400px;\r\n    overflow: auto;\r\n  }\r\n  .el-button-group > span:not(:first-child):not(:last-child) .el-button {\r\n    border-radius: 0;\r\n  }\r\n  .el-button-group > span:not(:last-child) .el-button {\r\n    margin-right: -1px;\r\n  }\r\n  .el-button-group > span:first-child .el-button {\r\n    border-top-right-radius: 0;\r\n    border-bottom-right-radius: 0;\r\n  }\r\n  .el-button-group > span:last-child .el-button {\r\n    border-top-left-radius: 0;\r\n    border-bottom-left-radius: 0;\r\n  }\r\n}\r\n</style>\r\n\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Main.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Main.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Main.vue?vue&type=template&id=8ed049c4&\"\nimport script from \"./Main.vue?vue&type=script&lang=js&\"\nexport * from \"./Main.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Main.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}