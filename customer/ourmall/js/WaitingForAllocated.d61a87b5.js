(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["WaitingForAllocated"],{"2d10":function(t,e,a){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",[t.item.shippingJson?e("el-popover",{attrs:{"popper-class":"customer-popover",placement:"bottom",width:"600",trigger:"hover"}},[2==t.type?e("span",{staticStyle:{cursor:"pointer"},attrs:{slot:"reference"},slot:"reference"},[e("span",[t._v(t._s(t.item.codeName||""))]),e("i",{staticClass:"el-icon-caret-bottom el-icon--right"})]):e("span",{staticClass:"d-flex",staticStyle:{cursor:"pointer"},attrs:{slot:"reference"},slot:"reference"},["mini"==t.size?e("span",[e("i",{staticClass:"el-icon-user-solid",staticStyle:{color:"#909399"}})]):e("span",{staticClass:"tx-ellipsis1",staticStyle:{display:"inline-block","max-width":"160px","font-size":"12px"}},[t._v(t._s(t.item.shippingJson.name||""))]),e("i",{staticClass:"el-icon-caret-bottom el-icon--right"})]),e("div",{staticClass:"title"},[e("div",{staticClass:"left"},[t._v("Shopify Order "+t._s(t.item.codeName))]),t.item.timeCreated?e("div",{staticClass:"right"},[e("span",[t._v("Order Date: ")]),t._v(" "+t._s(t.moment(t.item.timeCreated).format("ll [at] LTS"))+" ")]):t._e()]),e("div",{staticClass:"mg-y-15 mg-t-20 pd-x-20"},[e("div",{staticClass:"title2"},[t._v("Shipping address")]),e("div",{staticClass:"info"},[e("div",{staticClass:"info-row"},[e("div",[e("span",[t._v("Customer")]),t._v(" "+t._s(t.item.shippingJson.name||"---")+" "),t.item.shippingJson.name?e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"copy",placement:"right"}},[e("el-button",{attrs:{size:"mini",type:"text"}},[e("i",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.item.shippingJson.name,expression:"item.shippingJson.name",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}],staticClass:"el-icon-document-copy"})])],1):t._e()],1)]),e("div",{staticClass:"info-row",style:{marginBottom:t.item.shippingJson.country?"0":"10px"}},[e("div",[e("span",[t._v("Address")]),t._v(" "+t._s(t.item.shippingJson.zip||"")+" "+t._s(t.item.shippingJson.address1||"")+" "+t._s(t.item.shippingJson.city||"")+" "+t._s(t.item.shippingJson.province||"")+" "),t.item.shippingJson.address1?e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"copy",placement:"right"}},[e("el-button",{attrs:{size:"mini",type:"text"}},[e("i",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:`${t.item.shippingJson.zip||""} ${t.item.shippingJson.address1||""}  ${t.item.shippingJson.city||""}  ${t.item.shippingJson.province||""} ${t.item.shippingJson.country||""}`,expression:"`${item.shippingJson.zip || ''} ${item.shippingJson.address1 || ''}  ${item.shippingJson.city ||  ''}  ${item.shippingJson.province || ''} ${item.shippingJson.country || ''}`",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}],staticClass:"el-icon-document-copy"})])],1):t._e()],1)]),t.item.shippingJson.country?e("div",{staticClass:"info-row"},[e("div",[e("span"),t._v(" "+t._s(t.item.shippingJson.country))])]):t._e(),e("div",{staticClass:"info-row"},[e("div",[e("span",[t._v("Apartment, sulte, etc.")]),t._v(" "+t._s(t.item.shippingJson.address2||"---")+" "),t.item.shippingJson.address2?e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"copy",placement:"right"}},[e("el-button",{attrs:{size:"mini",type:"text"}},[e("i",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.item.shippingJson.address2,expression:"item.shippingJson.address2",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}],staticClass:"el-icon-document-copy"})])],1):t._e()],1)]),e("div",{staticClass:"info-row"},[e("div",[e("span",[t._v("City")]),t._v(" "+t._s(t.item.shippingJson.city||"---")+" "),t.item.shippingJson.city?e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"copy",placement:"right"}},[e("el-button",{attrs:{size:"mini",type:"text"}},[e("i",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.item.shippingJson.city,expression:"item.shippingJson.city",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}],staticClass:"el-icon-document-copy"})])],1):t._e()],1),e("div",[e("span",[t._v("State")]),t._v(" "+t._s(t.item.shippingJson.province||"---")+" "),t.item.shippingJson.province?e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"copy",placement:"right"}},[e("el-button",{attrs:{size:"mini",type:"text"}},[e("i",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.item.shippingJson.province,expression:"item.shippingJson.province",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}],staticClass:"el-icon-document-copy"})])],1):t._e()],1)]),e("div",{staticClass:"info-row"},[e("div",[e("span",[t._v("Country")]),t._v(" "+t._s(t.item.shippingJson.country||"---")+" "),t.item.shippingJson.country?e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"copy",placement:"right"}},[e("el-button",{attrs:{size:"mini",type:"text"}},[e("i",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.item.shippingJson.country,expression:"item.shippingJson.country",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}],staticClass:"el-icon-document-copy"})])],1):t._e()],1),e("div",[e("span",[t._v("Zipcode")]),t._v(" "+t._s(t.item.shippingJson.zip||"---")+" "),t.item.shippingJson.zip?e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"copy",placement:"right"}},[e("el-button",{attrs:{size:"mini",type:"text"}},[e("i",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.item.shippingJson.zip,expression:"item.shippingJson.zip",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}],staticClass:"el-icon-document-copy"})])],1):t._e()],1)])]),e("div",{staticClass:"title2"},[t._v("Contact Information")]),e("div",{staticClass:"info"},[e("div",{staticClass:"info-row"},[e("div",[e("span",[t._v("Phone number")]),t._v(" "+t._s(t.item.shippingJson.phone||"---")+" "),t.item.shippingJson.phone?e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"copy",placement:"right"}},[e("el-button",{attrs:{size:"mini",type:"text"}},[e("i",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.item.shippingJson.phone,expression:"item.shippingJson.phone",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}],staticClass:"el-icon-document-copy"})])],1):t._e()],1)]),e("div",{staticClass:"info-row"},[e("div",[e("span",[t._v("Email")]),t._v(" "+t._s(t.item.email||"---")+" "),t.item.email?e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"copy",placement:"right"}},[e("el-button",{attrs:{size:"mini",type:"text"}},[e("i",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.item.email,expression:"item.email",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}],staticClass:"el-icon-document-copy"})])],1):t._e()],1)])]),t.item.ioss?[e("div",{staticClass:"title2"},[t._v("IOSS Information")]),e("div",{staticClass:"info"},[e("div",{staticClass:"info-row"},[e("div",[e("span",[t._v("IOSS Id")]),t._v(" "+t._s(t.item.ioss)+" ")])])])]:t._e(),t.item.note?[e("div",{staticClass:"title2"},[t._v("Notes")]),e("div",{staticClass:"info"},[e("div",{staticClass:"info-row"},[e("div",{staticStyle:{"word-break":"break-all"}},[e("span",[t._v("Notes")]),t._v(" "+t._s(t.item.note)+" "),t.item.note?e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"copy",placement:"right"}},[e("el-button",{attrs:{size:"mini",type:"text"}},[e("i",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.item.note,expression:"item.note",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}],staticClass:"el-icon-document-copy"})])],1):t._e()],1)])])]:t._e()],2)]):e("span",[t._v("---")]),t.item.note&&t.isicon?e("span",{staticClass:"mg-l-5"},[e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.item.note,placement:"top"}},[e("i",{staticClass:"el-icon-info",staticStyle:{"font-size":"12px",width:"12px",color:"#5c6ac4"}})])],1):t._e()],1)},i=[],l={props:["item","type","size","isicon"],methods:{onCopy(t){this.$emit("onCopy",t)},onError(t){this.$emit("onError",t)}}},o=l,r=(a("76ff"),a("e607")),n=Object(r["a"])(o,s,i,!1,null,"1df2d8d3",null);e["a"]=n.exports},"340e":function(t,e,a){t.exports=a.p+"img/shopify_icon.862d4ffa.png"},"3fd9":function(t,e,a){},"4d6b":function(t,e,a){t.exports=a.p+"img/lazada_icon.895bb3eb.png"},6141:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen",value:t.loading,expression:"loading",modifiers:{fullscreen:!0}}],attrs:{"element-loading-background":"rgba(0, 0, 0, 0.3)"}},[e("div",{ref:"tablefilter"},[e("div",{staticStyle:{"margin-bottom":"5px","font-size":"12px"}},[e("el-alert",{attrs:{type:"warning",closable:!1}},[e("div",{staticClass:"table-wrap",attrs:{slot:"title"},slot:"title"},[t._v(" * In this tab, we will only filter your "),e("span",{staticClass:"el-tag el-tag--info el-tag--small el-tag--light"},[e("span",{staticClass:"-EFlq bg3"}),t._v(" Paid ")]),t._v(" + "),e("span",[e("span",{staticClass:"el-tag el-tag--warning el-tag--small el-tag--light"},[e("span",{staticClass:"-EFlq bg1"}),t._v(" Unfulfilled ")])]),t._v(" / "),e("span",[e("span",{staticClass:"shopfiy-status el-tag el-tag--danger el-tag--small el-tag--light"},[e("span",{staticClass:"-EFlq bg2"}),t._v(" Partially Fulfilled ")])]),t._v(" Orders which you can allocate to your vendor to process. ")])])],1),e("div",{staticStyle:{"margin-bottom":"5px"}},[e("div",{staticClass:"left d-flex",staticStyle:{"flex-wrap":"wrap"}},[e("el-checkbox",{attrs:{size:"small"},on:{change:t.changeAllCheckedT},model:{value:t.AllChecked,callback:function(e){t.AllChecked=e},expression:"AllChecked"}},[e("span",{staticStyle:{"margin-right":"15px","font-size":"12px"}},[t._v("All ("+t._s(t.CAllChecked.num)+" / "+t._s(t.tableDataCopy.length)+")")])]),e("div",{staticClass:"mg-r-10"},[e("el-input",{staticStyle:{width:"190px"},attrs:{size:"mini",placeholder:"Order ID"},on:{clear:function(e){return t.clearFilter("name")}},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.filterItems("name")}},model:{value:t.codeName,callback:function(e){t.codeName=e},expression:"codeName"}},[e("template",{slot:"prepend"},[t._v("#")])],2)],1),e("div",{staticClass:"mg-r-10"},[e("el-cascader",{key:t.cascaderKey,attrs:{size:"mini",placeholder:"All my stores",options:t.options,props:{expandTrigger:"hover"}},on:{change:function(e){return t.filterItems("store")}},model:{value:t.filterParams.shopifyStore,callback:function(e){t.$set(t.filterParams,"shopifyStore",e)},expression:"filterParams.shopifyStore"}})],1),e("el-button-group",{staticClass:"mg-r-10",staticStyle:{"min-width":"345px",height:"28px"}},[e("el-popover",{attrs:{placement:"bottom",title:"",trigger:"click","popper-class":"d-block"},model:{value:t.popDateFilter,callback:function(e){t.popDateFilter=e},expression:"popDateFilter"}},[e("el-radio-group",{staticStyle:{"max-height":"200px"},on:{change:function(e){return t.filterItems("date")}},model:{value:t.filterParams.timeFilter,callback:function(e){t.$set(t.filterParams,"timeFilter",e)},expression:"filterParams.timeFilter"}},t._l(t.dateArr,(function(a,s){return e("el-radio",{key:s,attrs:{label:s}},[t._v(t._s(a))])})),1),6==t.filterParams.timeFilter?e("div",[e("el-date-picker",{attrs:{size:"mini","value-format":"yyyy-MM-dd",type:"daterange",align:"right","unlink-panels":"","range-separator":"-","start-placeholder":"Start","end-placeholder":"End"},on:{change:t.dateChange},model:{value:t.filterDate,callback:function(e){t.filterDate=e},expression:"filterDate"}})],1):t._e(),e("div",{staticClass:"d-flex justify-content-end"},[e("el-link",{attrs:{type:"danger",disabled:!t.filterParams.timeFilter},on:{click:function(e){return t.clearFilter("date")}}},[t._v("Clear")])],1),e("el-button",{attrs:{slot:"reference",size:"mini"},slot:"reference"},[t._v("Date Ranges"),e("i",{staticClass:"el-icon-caret-bottom el-icon--right"})])],1),e("el-popover",{attrs:{placement:"bottom",title:"",trigger:"click","popper-class":"d-block"},model:{value:t.popFulfillFilter,callback:function(e){t.popFulfillFilter=e},expression:"popFulfillFilter"}},[e("el-checkbox-group",{on:{change:function(e){return t.filterItems("fulfill")}},model:{value:t.filterParams.fulfillStatus,callback:function(e){t.$set(t.filterParams,"fulfillStatus",e)},expression:"filterParams.fulfillStatus"}},[e("el-checkbox",{attrs:{label:"unfulfilled"}},[t._v("Unfulfilled")]),e("el-checkbox",{attrs:{label:"partial"}},[t._v("Partially fulfilled")])],1),e("div",{staticClass:"d-flex justify-content-end"},[e("el-link",{attrs:{type:"danger",disabled:!t.filterParams.fulfillStatus.length},on:{click:function(e){return t.clearFilter("fulfill")}}},[t._v("Clear")])],1),e("el-button",{attrs:{slot:"reference",size:"mini"},slot:"reference"},[t._v("Fulfillment Status"),e("i",{staticClass:"el-icon-caret-bottom el-icon--right"})])],1),e("el-popover",{attrs:{placement:"bottom",title:"",trigger:"click","popper-class":"d-block"},model:{value:t.popSortFilter,callback:function(e){t.popSortFilter=e},expression:"popSortFilter"}},[e("el-radio-group",{on:{change:function(e){return t.filterItems("sort")}},model:{value:t.filterParams.sortBy,callback:function(e){t.$set(t.filterParams,"sortBy",e)},expression:"filterParams.sortBy"}},t._l(t.sortArr,(function(a,s){return e("el-radio",{key:s,attrs:{label:s}},[t._v(t._s(a))])})),1),e("div",{staticClass:"d-flex justify-content-end"},[e("el-link",{attrs:{type:"danger",disabled:!t.filterParams.sortBy},on:{click:function(e){return t.clearFilter("sort")}}},[t._v("Clear")])],1),e("el-button",{attrs:{slot:"reference",size:"mini"},slot:"reference"},[t._v("SortBy"),e("i",{staticClass:"el-icon-caret-bottom el-icon--right"})])],1)],1),e("div",{staticStyle:{"min-width":"130px"}},[e("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.filterItems()}}},[t._v("Filter")]),e("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(e){return t.clearFilter()}}},[t._v("Clear")])],1),t.tableDataCopy.length&&t.CAllChecked.num?e("el-alert",{staticStyle:{margin:"0 20px","max-width":"400px","font-size":"12px"},attrs:{type:"warning",center:"","show-icon":"",closable:!1}},[e("div",{attrs:{slot:"title"},slot:"title"},[t.CAllChecked.num==t.tableDataCopy.length?e("el-link",{attrs:{type:"warning"},on:{click:function(e){return t.changeAllCheckedT(!1)}}},[t._v(t._s(t.CAllChecked.num)+" orders selected, uncheck")]):t._e(),t.CAllChecked.num&&t.CAllChecked.num<t.tableDataCopy.length?e("el-link",{attrs:{type:"primary"},on:{click:function(e){return t.changeAllCheckedT(!0)}}},[t._v(" "+t._s(t.CAllChecked.num)+" orders selected, select all ("+t._s(t.tableDataCopy.length)+") orders ")]):t._e()],1)]):t._e()],1),e("div",{staticClass:"right"})]),e("div",[t.filterParams.codeName?e("el-tag",{staticClass:"mg-r-5",attrs:{size:"small",type:"info",closable:""},on:{close:function(e){return t.clearFilter("name")}}},[t._v("#"+t._s(t.filterParams.codeName))]):t._e(),t.filterParams.shopifyStore.length?e("el-tag",{staticClass:"mg-r-5",attrs:{size:"small",type:"info",closable:""},on:{close:function(e){return t.clearFilter("store")}}},[t._v(t._s(t.shopifyStoreName))]):t._e(),t.filterParams.timeFilter?e("el-tag",{staticClass:"mg-r-5",attrs:{size:"small",type:"info",closable:""},on:{close:function(e){return t.clearFilter("date")}}},[t._v(" "+t._s(t.dateArr[t.filterParams.timeFilter])+" "),6==t.filterParams.timeFilter&&t.filterDate.length?e("span",[t._v(" "+t._s(t.filterDate[0])+"--"+t._s(t.filterDate[1])+" ")]):t._e()]):t._e(),t.filterParams.fulfillStatus.length?e("el-tag",{staticClass:"mg-r-5",attrs:{size:"small",type:"info",closable:""},on:{close:function(e){return t.clearFilter("fulfill")}}},[t._v(" "+t._s("unfulfilled"==t.filterParams.fulfillStatus[0]?"Unfulfilled":"Partially fulfilled")),t.filterParams.fulfillStatus.length>1?e("span",[t._v(","+t._s("unfulfilled"==t.filterParams.fulfillStatus[1]?"Unfulfilled":"Partially fulfilled"))]):t._e()]):t._e(),t.filterParams.sortBy?e("el-tag",{staticClass:"mg-r-5",attrs:{size:"small",type:"info",closable:""},on:{close:function(e){return t.clearFilter("sort")}}},[t._v(t._s(t.sortArr[t.filterParams.sortBy]))]):t._e()],1)]),e("div",{staticClass:"table-wrap",staticStyle:{"min-width":"930px"}},[e("div",{staticClass:"table-titel"},[e("el-row",{staticClass:"hidden-md-and-down"},[e("el-col",{attrs:{span:3,xs:3}},[t.tableData.length?e("a",{staticClass:"mg-r-10",attrs:{href:"javascript:;"},on:{click:t.changeAllExpand}},[e("i",{staticClass:"fa",class:t.isAllExpand?"fa-minus-square":"fa-plus-square"})]):t._e(),e("span",{staticClass:"title-tx"},[t._v("Order")])]),e("el-col",{staticStyle:{"min-width":"100px"},attrs:{xl:3,lg:5,xs:5}},[e("span",{staticClass:"title-tx"},[t._v("My Store")])]),e("el-col",{attrs:{xl:3,lg:3,xs:3}},[e("span",{staticClass:"title-tx"},[t._v("Date")])]),e("el-col",{staticClass:"hidden-lg-and-down",attrs:{span:3}},[e("span",{staticClass:"title-tx customer-title"},[t._v("Customer")])]),e("el-col",{staticClass:"hidden-xl-only",attrs:{span:1,xs:1}}),e("el-col",{staticStyle:{"justify-content":"flex-end"},attrs:{span:3,xs:3}},[e("span",{staticClass:"title-tx",staticStyle:{"margin-right":"40px"}},[t._v("Total")])]),e("el-col",{attrs:{span:3,xs:3}},[e("span",{staticClass:"title-tx"},[t._v("Fulfillment")])]),e("el-col",{attrs:{span:2,xs:2}},[e("span",{staticClass:"title-tx"},[t._v("Items")])]),e("el-col",{attrs:{span:4,xs:4}})],1)],1),t.tableData.length?e("vxe-list",{ref:"orderTree",staticClass:"my-tree",attrs:{data:t.tableData},scopedSlots:t._u([{key:"default",fn:function({items:a}){return[t._l(a,(function(a,s){return e("div",{key:a._id+"_"+s,staticClass:"my-tree-item",class:["level-"+a._LEVEL,{"has-child":a._HAS_CHILDREN,"is-expand":a._EXPAND,bg:a.bg}],staticStyle:{"font-size":"12px"}},[0===a._LEVEL?e("el-row",{staticClass:"order-itm-row",style:{borderBottom:a._EXPAND?"1px #E4E7ED solid":"none"},attrs:{gutter:20}},[e("el-col",{staticStyle:{"padding-left":"10px"},attrs:{span:3}},[e("el-checkbox",{staticStyle:{"margin-right":"5px","margin-top":"4px"},model:{value:a.checked,callback:function(e){t.$set(a,"checked",e)},expression:"item.checked"}}),e("a",{staticClass:"mg-r-10",attrs:{href:"javascript:;"},on:{click:function(e){return t.toggleTreeNode(a)}}},[e("i",{staticClass:"fa",class:a._EXPAND?"fa-minus-square":"fa-plus-square"})]),e("span",{staticStyle:{"white-space":"nowrap","font-size":"12px"}},[t._v(" "+t._s(a.codeName)+" "),a.note?e("span",{staticClass:"mg-l-5"},[e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:a.note,placement:"top"}},[e("i",{staticClass:"el-icon-info",staticStyle:{"font-size":"12px",width:"12px",color:"#5c6ac4"}})])],1):t._e()])],1),e("el-col",{staticClass:"tx-ellipsis1",attrs:{xl:3,lg:5}},[e("div",[e("div",{staticClass:"tx-ellipsis1",staticStyle:{"min-width":"100px","max-width":"190px","font-size":"12px",display:"flex"}},[e("shopCate",{attrs:{items:a}}),t._v(" "+t._s(a.store))],1)])]),e("el-col",{staticClass:"hidden-md-and-down",attrs:{xl:3,lg:3}},[e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.moment(a.timeCreated).format("ll [at] LTS"),placement:"top"}},[e("span",{staticClass:"tx-ellipsis1",staticStyle:{"word-break":"break-all","font-size":"12px"}},[t._v(t._s(t.moment(a.timeCreated).format("ll")))])])],1),e("el-col",{staticClass:"hidden-lg-and-down",attrs:{span:3}},[e("popShippingJson",{attrs:{item:a},on:{onCopy:t.onCopy,onError:t.onError}})],1),e("el-col",{staticClass:"hidden-xl-only",attrs:{span:1}},[e("popShippingJson",{attrs:{item:a,size:"mini"},on:{onCopy:t.onCopy,onError:t.onError}})],1),e("el-col",{staticStyle:{"justify-content":"flex-end"},attrs:{span:3}},[e("div",{staticStyle:{"margin-right":"25px","min-width":"50px"}},[a.currency?e("span",[t._v(t._s(t.ce[a.currency]?t.ce[a.currency].symbol:a.currency)+" ")]):t._e(),t._v(" "+t._s(a.totalPrice)+" ")])]),e("el-col",{staticClass:"hidden-md-and-down",attrs:{span:3}},[e("fulfillMentStatusTag",{attrs:{fulfillmentStatus:a.fulfillmentStatus}})],1),e("el-col",{staticClass:"hidden-md-and-down",attrs:{span:2}},[e("span",[t._v(t._s(a.items.length)+" Items")])]),e("el-col",{attrs:{span:4}},[e("el-link",{staticClass:"mg-l-20",staticStyle:{display:"inline","min-width":"170px"},attrs:{underline:!1,type:"primary"},on:{click:function(e){return t.openAllocateToVendor(a)}}},[t._v(" Allocate all to vendor ")])],1)],1):e("el-row",{staticClass:"sku-itm-row"},[e("el-col",{staticClass:"tree-sub-first",staticStyle:{border:"none"},attrs:{span:1}}),e("el-col",{attrs:{span:12}},[e("div",{staticStyle:{display:"flex","align-items":"center"}},[e("el-image",{staticStyle:{"min-width":"70px",width:"70px",height:"70px",margin:"5px 15px 5px 0",border:"1px solid #E4E7ED"},attrs:{src:a.imgUrl,"preview-src-list":[a.imgUrl]}},[e("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[e("i",{staticClass:"el-icon-picture-outline",staticStyle:{"font-size":"20px"}})])]),e("div",{staticStyle:{flex:"1","font-size":"12px"}},[e("p",{staticClass:"tx-ellipsis2"},[t._v(t._s(a.name))]),a.customerProperties&&a.customerProperties.length?e("div",t._l(a.customerProperties,(function(a){return e("div",{staticClass:"mg-r-5",staticStyle:{display:"inline-block"}},[e("span",{staticStyle:{color:"#909399"}},[t._v(t._s(a.name)+": ")]),t._v(" "+t._s(a.value)+" ")])})),0):t._e(),e("p",[e("span",{staticStyle:{color:"#909399"}},[t._v("SKU: ")]),t._v(t._s(a.sku))])])],1)]),e("el-col",{staticStyle:{"padding-left":"15px"},attrs:{span:8}},[a.unfulfillQuantity>0&&a.unfulfillQuantity<a.quantity?t._e():e("p",{class:a.unfulfillQuantity>0&&a.unfulfillQuantity<a.quantity?"line":""},[t._v(" x "+t._s(a.quantity)+" ")]),a.unfulfillQuantity>0&&a.unfulfillQuantity<a.quantity?e("p",[e("span",[t._v(" x "+t._s(a.unfulfillQuantity)+" ")]),e("span",{staticStyle:{color:"#c05717","margin-left":"20px"}},[t._v("("+t._s(a.fulfillQuantity)+" of "+t._s(a.quantity)+" purchased items are delivered)")])]):t._e(),0==a.unfulfillQuantity?e("p",[e("span",[t._v("("+t._s(a.fulfillQuantity)+" of "+t._s(a.quantity)+" fulfilled)")])]):t._e()]),e("el-col",{staticStyle:{"margin-left":"-15px"},attrs:{span:3}},[e("el-link",{attrs:{type:"primary"},on:{click:function(e){return t.openAllocateToVendor(a)}}},[t._v("Allocate to vendor")])],1)],1)],1)})),t.bottomLoading?e("div",{staticClass:"tx-center",staticStyle:{padding:"10px 0"}},[e("i",{staticClass:"el-icon-loading"}),t._v(" Loading")]):t._e()]}}],null,!1,92828726)}):t.loading?t._e():e("div",{staticClass:"nodata",style:{height:t.tableHeight+"px"}},[t._v(" No data ")])],1),e("div",{ref:"tableFooter"},[t.tableData.length?e("el-row",{attrs:{gutter:20}},[e("el-col",{staticClass:"d-flex justify-content-center",attrs:{span:24}},[e("div",{staticStyle:{position:"relative",top:"10px"}},[e("el-pagination",{attrs:{"current-page":Number(t.page),background:!0,layout:"sizes, total, prev, pager, next, jumper","page-sizes":t.pageSize,"page-size":t.rowsPerPage,total:Number(t.totalCount)},on:{"current-change":t.toPage,"size-change":t.changePageSize}})],1)])],1):t._e()],1),e("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:t.dialogAllocated.loading,expression:"dialogAllocated.loading"}],staticClass:"dialog-allocated",attrs:{title:1==t.dialogAllocated.status?"Select a vendor":"Product has been allocated",visible:t.dialogAllocated.isShow,width:1==t.dialogAllocated.status?"700px":"1000px"},on:{"update:visible":function(e){return t.$set(t.dialogAllocated,"isShow",e)},closed:t.closeAllocated}},[1==t.dialogAllocated.status?e("div",{staticClass:"vendors-wrap"},[e("div",{staticClass:"mg-b-10 d-flex"},[e("el-input",{staticStyle:{"margin-right":"5px",width:"300px"},attrs:{placeholder:"Vendor name / contact / shop name etc.",size:"mini",clearable:""},on:{clear:function(e){return t.getVendors(1)}},nativeOn:{keyup:function(e){return t.getVendors(1)}},model:{value:t.dialogAllocated.vendorLike,callback:function(e){t.$set(t.dialogAllocated,"vendorLike",e)},expression:"dialogAllocated.vendorLike"}})],1),e("el-table",{staticStyle:{"margin-bottom":"5px"},attrs:{border:"",stripe:"","highlight-current-row":"",data:t.dialogAllocated.vendors}},[e("el-table-column",{attrs:{label:t.$root.$children[0].pName.a+" ID",width:"200"},scopedSlots:t._u([{key:"default",fn:function(a){return[a.row.vendorId?e("i",{staticClass:"mg-r-10 el-icon-user-solid",staticStyle:{color:"#909399"}}):t._e(),e("span",[t._v(t._s(a.row.vendorId||"NOT Joined"))])]}}],null,!1,2495015603)}),e("el-table-column",{attrs:{label:"Vendor name",prop:"vendorName",width:"300"}}),e("el-table-column",{attrs:{label:"",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-popconfirm",{attrs:{title:`Allocate ${t.dialogAllocated.skus.length} products to this vendor？`,"confirm-button-text":"Confirm","cancel-button-text":"Cancel"},on:{onConfirm:function(e){return t.selectVendor(a.row)}}},[e("el-button",{attrs:{slot:"reference",type:"primary",size:"mini"},slot:"reference"},[t._v("Select")])],1)]}}],null,!1,1432527780)})],1),e("div",{staticClass:"d-flex",staticStyle:{"justify-content":"center"}},[e("el-pagination",{attrs:{"current-page":t.dialogAllocated.page,background:!0,layout:"total, prev, pager, next","page-size":t.dialogAllocated.rowsPerPage,total:Number(t.dialogAllocated.total)},on:{"current-change":t.getVendors}})],1)],1):[e("div",{staticClass:"row1"},[e("i",{staticClass:"el-icon-success",staticStyle:{"margin-right":"15px",color:"#67C23A","font-size":"46px"}}),e("div",{staticClass:"p-list"},[e("div",{staticClass:"pro-item"},[e("el-image",{staticStyle:{"margin-right":"20px","min-width":"50px",width:"50px",height:"50px",border:"1px solid #E4E7ED"},attrs:{src:t.dialogAllocated.skus[0].imgUrl}},[e("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[e("i",{staticClass:"el-icon-picture-outline",staticStyle:{"font-size":"20px"}})])]),e("div",{staticClass:"pro-info"},[e("div",{staticClass:"mg-b-10 tx-ellipsis2"},[t._v(t._s(t.dialogAllocated.skus[0].name))]),e("div",{staticClass:"d-flex"},[e("div",{staticClass:"title"},[t._v("SKU:")]),e("div",[t._v(t._s(t.dialogAllocated.skus[0].sku))])])]),t.dialogAllocated.skus.length>1?e("div",{staticClass:"total"},[e("div",[t._v("total "+t._s(t.dialogAllocated.skus.length)+" products")])]):t._e()],1)]),e("div",{staticClass:"right"},[e("i",{staticClass:"el-icon-right"}),e("span",[e("i",{staticClass:"el-icon-user-solid"}),e("span",[t._v(t._s(t.dialogAllocated.vendor.vendorName))])])])]),t.dialogAllocated.other.length?e("div",{staticClass:"row2"},[e("div",{staticClass:"title"},[t._v(" Here are some other products seems can been allocated to the vendor too, do you want to do it now? ")]),e("div",{staticClass:"select-items"},[e("div",{staticClass:"list"},[e("el-table",{staticClass:"other-table",attrs:{stripe:"","highlight-current-row":"",height:"300",data:t.dialogAllocated.other}},[e("el-table-column",{attrs:{label:"",align:"center",width:"50"},scopedSlots:t._u([{key:"header",fn:function(a){return[e("el-checkbox",{staticStyle:{margin:"0"},on:{change:t.changeAllChecked},model:{value:t.dialogAllocated.allChecked,callback:function(e){t.$set(t.dialogAllocated,"allChecked",e)},expression:"dialogAllocated.allChecked"}})]}},{key:"default",fn:function(a){return[e("el-checkbox",{model:{value:a.row.checked,callback:function(e){t.$set(a.row,"checked",e)},expression:"scope.row.checked"}})]}}],null,!1,1748228933)}),e("el-table-column",{attrs:{label:"Selected products"},scopedSlots:t._u([{key:"header",fn:function(a){return[e("span",[t._v("Selected products ")]),t.allocatedOtherSelectNum?e("span",[t._v("("+t._s(t.allocatedOtherSelectNum)+")")]):t._e()]}},{key:"default",fn:function(a){return[e("div",{staticClass:"pro-info"},[e("el-image",{staticStyle:{"margin-right":"20px","min-width":"50px",width:"50px",height:"50px",border:"1px solid #E4E7ED"},attrs:{src:a.row.imgUrl}},[e("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[e("i",{staticClass:"el-icon-picture-outline",staticStyle:{"font-size":"20px"}})])]),e("div",{staticClass:"right"},[e("div",{staticClass:"name tx-ellipsis2",attrs:{title:`${a.row.productName} - ${a.row.propertyValue}`}},[t._v(" "+t._s(a.row.productName)+" - "+t._s(a.row.propertyValue)+" ")]),e("div",{staticClass:"sku"},[e("span",{staticClass:"title",staticStyle:{"font-size":"12px"}},[t._v("SKU:")]),e("span",[t._v(t._s(a.row.sku))])])])],1)]}}],null,!1,2835279977)})],1)],1),e("div",{staticClass:"action"},[e("div",[e("el-button",{attrs:{type:"primary",size:"small",disabled:!t.allocatedOtherSelectNum},on:{click:t.AllocateNow}},[t._v("Allocate NOW")])],1),e("div",[e("el-button",{attrs:{size:"small"},on:{click:function(e){t.dialogAllocated.isShow=!1}}},[t._v("No thanks")])],1)])])]):t._e()],1==t.dialogAllocated.status||2==t.dialogAllocated.status&&!t.dialogAllocated.other.length?e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.dialogAllocated.isShow=!1}}},[t._v("Close")])],1):t._e()],2),e("div",{staticClass:"ball",style:{top:t.ball.y+"px",left:t.ball.x+"px",opacity:t.ball.opacity}}),e("DistributionVendorDialog",{ref:"DistributionVendorDialog",on:{resetPage:t.resetPage,ballAnimation:t.ballAnimation}}),e("el-backtop",{staticClass:"goto-top",attrs:{target:".main-scroll  .el-scrollbar__wrap",right:20,bottom:120}})],1)},i=[],l=(a("149f"),a("f1c9")),o=a.n(l),r=a("e98b"),n=a("f02e"),c=a("2d10"),p=a("716a"),d={data(){return{AllChecked:!1,options:[{id:1,label:"Shopify",children:[]},{id:2,label:"Woocommerce",children:[]},{id:3,label:"Lazada",children:[]},{id:4,label:"Shopee",children:[]}],cascaderKey:1,loading:!1,tableHeight:400,isAllExpand:!0,tableData:[],tableDataCopy:[],pageSize:[10,20,50],page:this.$route.query.page?Number(this.$route.query.page):1,rowsPerPage:localStorage.getItem("c_waitingForAllocatedRowsPerPage")?Number(localStorage.getItem("c_waitingForAllocatedRowsPerPage")):10,totalCount:0,totalPage:0,allExpand:!1,ce:this.$CE,isManage:1,codeName:"",filterParams:{codeName:"",shopifyStore:[],fulfillStatus:[],timeFilter:"",dateFrom:"",dateTo:"",sortBy:""},filterParamsDefault:"{}",storeList:[],shopifyStoreName:"",popStoreFilter:!1,popFulfillFilter:!1,popDateFilter:!1,popSortFilter:!1,filterDate:[],dateArr:{1:"Today",2:"Last 7 days",3:"Last 30 days",4:"Last 90 days",5:"Last 12 months",6:"Custom"},sortArr:{1:"Order number (ascending)",2:"Order number (descending)",3:"Date (oldest first)",4:"Date (newest first)"},dialogAllocated:{status:1,isShow:!1,loading:!1,skus:[],relationshipId:"",vendors:[],vendorLike:"",page:1,rowsPerPage:5,total:0,totalPage:0,vendor:null,other:[],allChecked:!1},dialogAllocatedDefault:"{}",ball:{x:window.innerWidth/2,y:window.innerHeight/2,opacity:0},bottomLoading:!1,scrollT:0,gvTime:0,keyTimeout:0}},components:{fulfillMentStatusTag:r["a"],DistributionVendorDialog:n["a"],popShippingJson:c["a"],shopCate:p["a"]},watch:{$route:"gotoPage",CAllChecked(){this.AllChecked=this.CAllChecked.status},"filterParams.shopifyStore"(){if(!this.filterParams.shopifyStore.length)return;let t=[];this.filterParams.shopifyStore.forEach(e=>{this.storeList.forEach(a=>{e==a.shopifyAccountId&&t.push(a.store)})}),this.shopifyStoreName=t.join(",")},isShowFilter(){this.isShowFilter},allocatedOtherSelectNum(){this.dialogAllocated.other.length?this.$set(this.dialogAllocated,"allChecked",this.allocatedOtherSelectNum==this.dialogAllocated.other.length):this.$set(this.dialogAllocated,"allChecked",!1)}},mounted(){this.filterParamsDefault=JSON.stringify(this.filterParams),this.dialogAllocatedDefault=JSON.stringify(this.dialogAllocated),"999e"==this.$route.params.vid&&(this.filterParams.timeFilter=""),this.$route.params.id&&(this.filterParams.timeFilter=""),this.$nextTick(()=>{this.getStore()}),this.loading=!0,this.$apiCall("api.ShopifyAccount.updateShopifyOrderNow",{},t=>{this.getItems()})},beforeDestroy(){},computed:{isShowFilter(){return!this.filterParams.sortBy&&!this.filterParams.fulfillStatus.length&&!this.filterParams.shopifyStore.length&&!this.filterParams.codeName},allocatedOtherSelectNum(){let t=0;return this.dialogAllocated.other.forEach(e=>{e.checked&&t++}),t},checkedOrder(){return this.tableDataCopy.filter(t=>t.checked)},CAllChecked(){let[t,e]=[0,[]];return this.tableDataCopy.forEach(a=>{a.checked&&(t++,a.items?a.items.forEach(t=>{e.push(t.id)}):e.push(a.itemId))}),{num:t,status:t&&t==this.tableDataCopy.length,skus:e}}},methods:{makeAnOffer(){if(!this.CAllChecked.num)return this.$message({message:"Please select at least one order!",type:"error"}),!1;this.$Burying({object:"14001"}),this.$confirm("Create quotation request?","",{confirmButtonText:"OK",cancelButtonText:"Discard",type:"info"}).then(()=>{this.loading=!0,this.$apiCall("api.OfferList.genOffer",{skus:this.CAllChecked.skus},t=>{this.loading=!1,"9999"==t.ErrorCode?(this.$elementMessage("success","success"),this.$router.push({name:"WaitingForVendorsRespond"})):this.$elementMessage(t.Message,"error")})}),setTimeout(()=>{document.querySelectorAll(".el-message-box__btns .el-button").forEach(t=>{t.blur()})},200)},toPage(t){t!=this.$route.query.page&&this.$router.push({query:{page:t}})},changePageSize(t){this.rowsPerPage=t,localStorage.setItem("c_waitingForAllocatedRowsPerPage",t),this.getItems()},gotoPage(){this.page=this.$route.query.page?this.$route.query.page:1,this.getItems()},listScroll(){this.scrollT=setTimeout(()=>{clearTimeout(this.scrollT);let t=document.querySelector(".vxe-list--virtual-wrapper").scrollTop,e=document.querySelector(".vxe-list--body").offsetHeight,a=document.querySelector(".vxe-list--body").style.marginTop?document.querySelector(".vxe-list--body").style.marginTop.match(/\d+/g)[0]:0;e+=Number(a),t+this.tableHeight+100>e&&this.page<=this.totalPage&&this.getItems(2)},200)},ballAnimation(){this.$emit("getNum",(new Date).valueOf());const t=t=>{let e=t.offsetTop,a=t.offsetLeft,s=t.offsetParent;while(null!==s)e+=s.offsetTop,a+=s.offsetLeft,s=s.offsetParent;return{left:a,top:e}};let e=t(document.getElementById("tab-WaitingForSourcing"));this.ball.opacity=1,this.ball.x=e.left+160,this.ball.y=e.top+20,setTimeout(()=>{this.ball.opacity=0},500),setTimeout(()=>{this.ball.x=window.innerWidth/2,this.ball.y=window.innerHeight/2},1e3)},closeAllocated(){2==this.dialogAllocated.status&&this.ballAnimation()},changeAllChecked(){this.dialogAllocated.other.forEach(t=>{this.$set(t,"checked",this.dialogAllocated.allChecked)})},changeAllCheckedT(t){this.AllChecked=t,this.tableDataCopy.forEach(t=>{this.$set(t,"checked",this.AllChecked)})},AllocateNow(){this.dialogAllocated.loading=!0;let t=this.dialogAllocated.other.map(t=>{if(t.checked)return t.variableId}),e={relationshipId:this.dialogAllocated.vendor.id,skus:t,notProduct:1};this.$apiCall("api.DispatchOrderRule.dispatchProducts",e,t=>{this.dialogAllocated.loading=!1,"9999"==t.ErrorCode?(this.dialogAllocated.isShow=!1,this.$elementMessage("Allocated Success","success"),this.resetPage()):this.$elementMessage(t.Message,"error")})},selectVendor(t){this.dialogAllocated.loading=!0;let e=this.dialogAllocated.skus.map(t=>t.variableId),a={relationshipId:t.id,skus:e};this.$apiCall("api.DispatchOrderRule.dispatchProducts",a,e=>{this.dialogAllocated.loading=!1,"9999"==e.ErrorCode?(this.dialogAllocated.vendor=t,this.dialogAllocated.allChecked=!0,this.dialogAllocated.other=e.Data.Results.map(t=>(t.checked=!0,t)),this.dialogAllocated.status=2,this.resetPage()):this.$elementMessage(e.Message,"error")})},getVendors(t){clearTimeout(this.gvTime),this.gvTime=setTimeout(()=>{t&&(this.dialogAllocated.page=t),this.dialogAllocated.vendorLike||(this.dialogAllocated.loading=!0),this.$apiCall("api.Relationship.findByCustomer",{page:this.dialogAllocated.page,rowsPerPage:this.dialogAllocated.rowsPerPage,vendorLike:this.dialogAllocated.vendorLike},t=>{"9999"==t.ErrorCode?(this.dialogAllocated.loading=!1,this.dialogAllocated.vendors=t.Data.Results,this.dialogAllocated.total=Number(t.Data.Pagination.totalCount)):this.$elementMessage(t.Message,"error")})},200)},openAllocateToVendor(t){0===t._LEVEL?this.$refs.DistributionVendorDialog.openDistributionDialog(t.items.slice()):this.$refs.DistributionVendorDialog.openDistributionDialog([t])},changeAllExpand(){this.isAllExpand=!this.isAllExpand,this.allTreeExpand()},allTreeExpand(){this.isAllExpand?o.a.eachTree(this.tree6,t=>{t._EXPAND=t._HAS_CHILDREN,t._VISIBLE=!0}):o.a.eachTree(this.tree6,t=>{t._EXPAND=!1,t._VISIBLE=!t._LEVEL}),this.refreshTree()},resetPage(){1==this.$route.query.page?this.getItems():this.$router.push({query:{page:1}})},dateChange(){this.filterDate.length>1&&(this.filterParams.dateFrom=moment(this.filterDate[0]).unix(),this.filterParams.dateTo=moment(this.filterDate[1]).endOf("d").unix(),this.resetPage())},filterItems(t){switch(t){case"name":this.filterParams.codeName=this.codeName;break;case"date":this.filterDate=[],this.filterParams.dateFrom="",this.filterParams.dateTo="";break;default:break}6!=this.timeFilter&&this.resetPage()},clearFilter(t){switch(t){case"name":this.filterParams.codeName=this.codeName="";break;case"store":this.filterParams.shopifyStore=[],this.popStoreFilter=!1,++this.cascaderKey;break;case"date":this.filterParams.timeFilter="",this.filterDate=[],this.filterParams.dateFrom="",this.filterParams.dateTo="",this.popDateFilter=!1;break;case"fulfill":this.filterParams.fulfillStatus=[],this.popFulfillFilter=!1;break;case"sort":this.filterParams.sortBy="",this.popSortFilter=!1;break;default:this.filterParams=JSON.parse(this.filterParamsDefault),this.codeName="",this.filterDate=[]}this.resetPage()},toggleTreeNode(t){t._HAS_CHILDREN&&this.setTreeExpand(t,!t._EXPAND)},setTreeExpand(t,e){const a=o.a.findTree(this.tree6,e=>e===t);t._EXPAND=e,a&&o.a.eachTree(a.item.children,(t,a,s,i,l)=>{t._VISIBLE=l?l._EXPAND&&l._VISIBLE:e}),this.refreshTree()},refreshTree(){const t=o.a.toTreeArray(this.tree6);if(this.fullList6=t,this.tableData=t.filter(t=>t._VISIBLE),this.tableData.length){let[t,e]=[0,0];this.tableData.forEach(a=>{0===a._LEVEL&&(a._EXPAND?t++:e++)}),t&&!e&&(this.isAllExpand=!0),e&&!t&&(this.isAllExpand=!1)}},getItems(t){let e=[];if(this.filterParams.shopifyStore[1]&&e.push(this.filterParams.shopifyStore[1]),t){if(this.bottomLoading)return;this.bottomLoading=!0}else this.loading=!0,this.tableData=[],this.tableDataCopy=[];let a={page:this.page,rowsPerPage:this.rowsPerPage,accountIds:e,timeFilter:this.filterParams.timeFilter>=6?"":this.filterParams.timeFilter,dateFrom:this.filterParams.dateFrom,dateTo:this.filterParams.dateTo,fulfillmentStatus:this.filterParams.fulfillStatus,sort:this.filterParams.sortBy,keywords:this.filterParams.codeName,waitDispatch:1};this.$apiCall("api.Invoice.shopifyOrders",a,e=>{"9999"==e.ErrorCode?(this.totalPage=e.Data.Pagination.totalPage,this.totalCount=e.Data.Pagination.totalCount,e.Data.Results.forEach((t,e)=>{this.$set(t,"shippingJson",JSON.parse(t.shippingJson)),this.$set(t,"_id",t.id),this.$set(t,"_LEVEL",0),this.$set(t,"_EXPAND",!1),this.$set(t,"_VISIBLE",!0),this.$set(t,"_HAS_CHILDREN",!(!t.items||!t.items.length)),this.$set(t,"_IS_LEAF",!t._HAS_CHILDREN),this.$set(t,"bg",e%2),t.children=[],t.items.forEach((a,s)=>{a._LEVEL=1,a._id=t.id+"_"+a.id+"_"+s+t.codeName,this.$set(a,"bg",e%2),this.$set(a,"storeDefaultVendorId",t.storeDefaultVendorId),t.children.push(a)}),this.tableData.push(t)}),this.tree6=this.tableData,this.tableDataCopy=this.tableData,this.$nextTick(()=>{this.isAllExpand&&this.allTreeExpand()}),this.loading=!1,t&&(this.bottomLoading=!1)):(this.loading=!1,this.$elementMessage(e.Message,"error"))})},getStore(){this.$apiCall("api.Invoice.findStores",{authStatus:1},t=>{9999==t.ErrorCode?(this.storeList=[],t.Data.Results.forEach(t=>{this.storeList.push({shopifyAccountId:t.id,store:t.shopName})}),this.options.map(e=>{t.Data.Results.filter(t=>{t.platform==e.id&&e.children.push({label:t.shopName,value:t.id})})})):this.$message({message:t.Message,type:"error"})})},onCopy(t){this.$elementMessage("Has been copied to the clipboard","success")},onError(t){this.$elementMessage("Copy to clipboard failed, please copy manually","error")}}},m=d,u=(a("d6be"),a("ebfb"),a("e607")),h=Object(u["a"])(m,s,i,!1,null,"e66009ca",null);e["default"]=h.exports},6247:function(t,e,a){},"6a78":function(t,e,a){},"716a":function(t,e,a){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"shop"},[1==t.items.platform?e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Shopify",placement:"left"}},[e("img",{staticClass:"shopImg",attrs:{src:a("340e")}})]):2==t.items.platform?e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Woocommerce",placement:"left"}},[e("img",{staticClass:"shopImg",attrs:{src:a("7e46")}})]):3==t.items.platform?e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Lazada",placement:"left"}},[e("img",{staticClass:"shopImg",attrs:{src:a("4d6b")}})]):4==t.items.platform?e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Shopee",placement:"left"}},[e("img",{staticClass:"shopImg",attrs:{src:a("e74a")}})]):t._e()],1)},i=[],l={props:["items"],data(){return{}},methods:{},components:{}},o=l,r=(a("c33f"),a("e607")),n=Object(r["a"])(o,s,i,!1,null,"7d79ad08",null);e["a"]=n.exports},"76ff":function(t,e,a){"use strict";a("f8db")},"7e46":function(t,e,a){t.exports=a.p+"img/woo_icon.bbaca118.png"},c33f:function(t,e,a){"use strict";a("6247")},c93a:function(t,e,a){"use strict";a("e5bf")},d6be:function(t,e,a){"use strict";a("6a78")},e5bf:function(t,e,a){},e74a:function(t,e,a){t.exports=a.p+"img/shopee_icon.c6765767.png"},e98b:function(t,e,a){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",[t.fulfillmentStatus?e("el-tag",{staticClass:"shopfiy-status",attrs:{size:"small",type:t.fulfillArr[t.fulfillmentStatus].type}},[e("span",{staticClass:"-EFlq",class:"bg"+t.fulfillArr[t.fulfillmentStatus].r}),t._v(" "+t._s(t.fulfillArr[t.fulfillmentStatus].text)+" ")]):e("el-tag",{attrs:{size:"small",type:"warning"}},[e("span",{staticClass:"-EFlq bg1"}),t._v(" Unfulfilled ")])],1)},i=[],l={props:["fulfillmentStatus"],data(){return{fulfillArr:{fulfilled:{text:"Fulfilled",type:"info",r:3},unfulfilled:{text:"Unfulfilled",type:"warning",r:1},partial:{text:"Partially Fulfilled",type:"danger",r:2},refunded:{text:"Refunded",type:"info",r:3}}}}},o=l,r=(a("c93a"),a("e607")),n=Object(r["a"])(o,s,i,!1,null,"d93044ba",null);e["a"]=n.exports},ebfb:function(t,e,a){"use strict";a("3fd9")},f8db:function(t,e,a){}}]);
//# sourceMappingURL=WaitingForAllocated.d61a87b5.js.map