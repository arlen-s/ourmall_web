(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["manageAddresses"],{"0df7":function(t,s,i){"use strict";i.r(s);var d=function(){var t=this,s=t._self._c;return s("div",{staticClass:"contentpanel add-page"},[s("div",{ref:"pageHeader",staticClass:"pagetitle"},[t._m(0),s("div",{staticClass:"right"},[s("el-button",{attrs:{type:"primary"},on:{click:function(s){return t.openAddAdd()}}},[t._v("Add New Address")])],1)]),s("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"pagebody"},[t.items.length?s("el-row",{staticClass:"mg-b-20",attrs:{gutter:15}},t._l(t.items,(function(i){return s("el-col",{key:i.id,staticClass:"mg-b-15",attrs:{sm:24,lg:12,xl:8}},[s("el-card",{staticClass:"add-card",class:{default:1==i.isDefault}},[1==i.isDefault?s("div",{staticClass:"badge-default"},[t._v("Default Shipping Address")]):t._e(),s("div",{staticClass:"add-row tx-ellipsis1"},[s("span",{staticClass:"title"},[t._v("First name:")]),t._v(" "+t._s(i.firstName)+" ")]),s("div",{staticClass:"add-row tx-ellipsis1"},[s("span",{staticClass:"title"},[t._v("Last name:")]),t._v(" "+t._s(i.lastName)+" ")]),s("div",{staticClass:"add-row tx-ellipsis1"},[s("span",{staticClass:"title"},[t._v("Phone:")]),t._v(" "+t._s(i.phone||"--")+" ")]),s("div",{staticClass:"add-row"},[s("span",{staticClass:"title"},[t._v("Address:")]),t._v(" "),s("span",{staticClass:"tx-ellipsis1"},[t._v(t._s(i.address1))])]),s("div",{staticClass:"add-row-2"},[s("div",{staticClass:"row-sub tx-ellipsis1"},[s("span",{staticClass:"title"},[t._v("City:")]),t._v(" "+t._s(i.city)+" ")]),s("div",{staticClass:"row-sub tx-ellipsis1"},[s("span",{staticClass:"title"},[t._v("Postcode:")]),t._v(" "+t._s(i.postcode||"--")+" ")])]),s("div",{staticClass:"add-row-2 tx-ellipsis1"},[s("div",{staticClass:"row-sub"},[s("span",{staticClass:"title"},[t._v("Province:")]),t._v(" "+t._s(i.province)+" ")]),s("div",{staticClass:"row-sub tx-ellipsis1"},[s("span",{staticClass:"title"},[t._v("Country:")]),t._v(" "+t._s(i.country?`${t.codeToCountry(i.country)} (${i.country})`:"---")+" ")])]),s("div",{staticClass:"action"},[s("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(s){return t.openAddAdd(i)}}},[t._v("Edit")]),s("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(s){return t.delAdd(i)}}},[t._v("Delete")])],1)])],1)})),1):s("el-row",{attrs:{gutter:10}},[s("el-col",{staticClass:"tx-center",staticStyle:{padding:"25px",color:"#909399","font-size":"18px"},attrs:{span:24}},[t._v(" No address ")])],1)],1),s("DialogEditAdd",{attrs:{data:t.dialogEditAdd},on:{setAdd:t.setAdd}})],1)},e=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"left"},[s("div",{staticClass:"title"},[s("i",{staticClass:"el-icon-location"}),s("h2",[t._v("Address Management")])])])}],a=(i("149f"),i("c895")),l=i("79fe"),o={data(){return{loading:!1,countryArr:[],dialogEditAdd:{isShow:!1,loading:!1,firstName:"",lastName:"",address1:"",address2:"",country:"",province:"",city:"",street:"",company:"",phone:"",postcode:"",isDefault:!1,addressId:""},dialogEditAddDefault:"{}",items:[]}},components:{DialogEditAdd:l["a"]},mounted(){Object.keys(a).forEach(t=>{Object.keys(a[t]).forEach(s=>{this.countryArr.push({label:a[t][s].nameEN,value:a[t][s].code2})})}),this.dialogEditAddDefault=JSON.stringify(this.dialogEditAdd),this.getAddList()},methods:{delAdd(t){this.$confirm("Do you want to delete?","",{confirmButtonClass:" el-button--danger",type:"error"}).then(()=>{this.loading=!0,this.$apiCall("api.Address.deleteAddress",{addressId:t.id},t=>{this.loading=!1,"9999"==t.ErrorCode?(this.$elementMessage("delete successfully","success"),this.getAddList()):this.$elementMessage(t.Message,"error")})}).catch(()=>{})},setAdd(){this.getAddList(),this.dialogEditAdd.isShow=!1,this.$elementMessage("save successfully","success")},openAddAdd(t){this.dialogEditAdd=JSON.parse(this.dialogEditAddDefault),t&&(this.dialogEditAdd.firstName=t.firstName,this.dialogEditAdd.lastName=t.lastName,this.dialogEditAdd.address1=t.address1,this.dialogEditAdd.address2=t.address2,this.dialogEditAdd.country=t.country,this.dialogEditAdd.province=t.province,this.dialogEditAdd.city=t.city,this.dialogEditAdd.street=t.street,this.dialogEditAdd.company=t.company,this.dialogEditAdd.phone=t.phone,this.dialogEditAdd.postcode=t.postcode,this.dialogEditAdd.isDefault=1==t.isDefault,this.dialogEditAdd.addressId=t.id),this.dialogEditAdd.isShow=!0},getAddList(){this.loading=!0,this.$apiCall(" api.Address.addressList",{},t=>{this.loading=!1,"9999"==t.ErrorCode?this.items=t.Data.Results:this.$elementMessage(t.Message,"error")})},codeToCountry(t){let s="";return this.countryArr.some(i=>{if(i.value==t)return s=i.label,!0}),s}}},r=o,n=(i("762f"),i("77e8"),i("e607")),c=Object(n["a"])(r,d,e,!1,null,"7e9a18c2",null);s["default"]=c.exports},"762f":function(t,s,i){"use strict";i("a255")},"77e8":function(t,s,i){"use strict";i("e23b")},a255:function(t,s,i){},e23b:function(t,s,i){}}]);
//# sourceMappingURL=manageAddresses.4bb88e3a.js.map