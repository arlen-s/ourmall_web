(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["settings"],{"06c5":function(t,e,a){"use strict";a.d(e,"a",(function(){return i}));a("a630"),a("fb6a"),a("b0c0"),a("d3b7"),a("25f0"),a("3ca3");var n=a("6b75");function i(t,e){if(t){if("string"===typeof t)return Object(n["a"])(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Object(n["a"])(t,e):void 0}}},2909:function(t,e,a){"use strict";a.d(e,"a",(function(){return l}));var n=a("6b75");function i(t){if(Array.isArray(t))return Object(n["a"])(t)}a("a4d3"),a("e01a"),a("d28b"),a("a630"),a("d3b7"),a("3ca3"),a("ddb0");function r(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}var o=a("06c5");function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(t){return i(t)||r(t)||Object(o["a"])(t)||s()}},"3f42":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"contentpanel settings-page"},[a("div",{staticClass:"pagetitle"},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/dashboard"}}},[t._v(t._s(t.$t("Dashboard")))]),a("el-breadcrumb-item",[t._v(t._s(t.$t("Settings")))])],1)],1),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"pagebody"},[a("el-row",{staticClass:"mg-b-20",attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("el-card",[a("el-alert",{staticStyle:{"margin-bottom":"25px"},attrs:{title:t.$t("According to the new European VAT e-commerce rules, declaration without lOSS will result in a delay in customs clearance and the recipient will be required to pay VAT, as the parcel will be detained when contact of the recipient is incorrect."),type:"info","show-icon":"",closable:!1}}),a("div",{staticClass:"options-wrap"},[a("h3",[t._v(t._s(t.$t("IOSS Options")))]),a("div",[a("el-radio",{attrs:{label:!1},on:{change:t.openIoss},model:{value:t.isOpenIoss,callback:function(e){t.isOpenIoss=e},expression:"isOpenIoss"}},[t._v(t._s(t.$t("No IOSS")))]),a("p",{staticClass:" mg-b-15"},[t._v(t._s(t.$t("The amount of the orders (shipping cost included) will be declared and recipients will be required by the customs to pay VAT when parcels arrive in the destination countries of EU")))]),a("el-radio",{attrs:{label:!0},on:{change:t.openIoss},model:{value:t.isOpenIoss,callback:function(e){t.isOpenIoss=e},expression:"isOpenIoss"}},[t._v(t._s(t.$t("Declare with my own IOSS")))]),a("p",[t._v(t._s(t.$t("Please enter correct and valid IOSS IDs, which should be linked to corresponding destination countries. IOSS ID will not be applied if the destination country is not linked to a correct IOSS ID")))])],1)]),a("div",{staticClass:"settings-wrap"},[a("h3",[t._v(t._s(t.$t("My IOSS Settings")))]),a("div",{staticClass:" action d-flex"},[a("div",{staticClass:"left"},[a("el-button",{attrs:{icon:"el-icon-plus",type:"primary",size:"small",plain:""},on:{click:function(e){return t.openEditIOSS()}}},[t._v(t._s(t.$t("Add IOSS")))])],1),a("div",{staticClass:"right"},[a("span",[t._v(t._s(t.$t("Linked Countries"))+": "),a("b",{staticStyle:{color:"#5c6ac4"}},[t._v(t._s(t.linked.linkedNum))])]),a("span",[t._v(t._s(t.$t("Unlinked Countries"))+": "),a("b",{staticStyle:{color:"#909399"}},[t._v(t._s(t.linked.unlinkedNum))])])])]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.items,stripe:""}},[a("el-table-column",{attrs:{label:t.$t("Description"),prop:"name"}}),a("el-table-column",{attrs:{label:"IOSS ID",prop:"iossId",width:"200"}}),a("el-table-column",{attrs:{label:"Destination Country"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",t._l(e.row.countrys,(function(e){return a("el-tag",{key:e,staticStyle:{margin:"5px"}},[t._v(" "+t._s(t.showCountry(e))+" ")])})),1)]}}])}),a("el-table-column",{attrs:{label:"Action"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[a("el-link",{staticStyle:{"margin-right":"20px"},attrs:{icon:"el-icon-edit",type:"primary"},on:{click:function(a){return t.openEditIOSS(e.row)}}}),a("el-link",{attrs:{icon:"el-icon-delete",type:"danger"},on:{click:function(a){return t.delIOSS(e.row,e.$index)}}})],1)]}}])})],1)],1)],1)],1)],1)],1),a("DialogEditIOSS",{ref:"editIoss",attrs:{countryArr:t.countryArr,linked:t.linked,data:t.dialogEditIOSSData},on:{saveIOSSSuccess:t.saveIOSSSuccess}})],1)},i=[],r=(a("99af"),a("d81d"),a("a434"),a("b0c0"),a("d3b7"),a("ac1f"),a("6062"),a("3ca3"),a("1276"),a("159b"),a("ddb0"),a("2909")),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{title:(t.data.id?"Edit":"Add")+" IOSS",visible:t.data.isShow,"close-on-click-modal":!1,width:"600px"},on:{"update:visible":function(e){return t.$set(t.data,"isShow",e)},open:t.opened,close:t.closed}},[a("el-divider"),a("div",{staticClass:"d-body"},[a("el-form",{ref:"ruleForm",attrs:{model:t.data.form,rules:t.rules,"label-width":"150px"}},[a("el-form-item",{attrs:{label:t.$t("Description"),prop:"name"}},[a("el-input",{attrs:{placeholder:"Please enter description"},model:{value:t.data.form.name,callback:function(e){t.$set(t.data.form,"name",e)},expression:"data.form.name"}})],1),a("el-form-item",{attrs:{label:"IOSS ID:",prop:"iossId"}},[a("el-input",{attrs:{placeholder:"Please enter IOSS ID"},model:{value:t.data.form.iossId,callback:function(e){t.$set(t.data.form,"iossId",e)},expression:"data.form.iossId"}})],1),a("el-form-item",{attrs:{label:t.$t("Destination Country"),prop:"countrys",required:""}},[a("el-select",{staticStyle:{width:"412px"},attrs:{multiple:"",filterable:"","default-first-option":"",placeholder:t.$t("Please select destination country")},model:{value:t.data.form.countrys,callback:function(e){t.$set(t.data.form,"countrys",e)},expression:"data.form.countrys"}},t._l(t.countryArr,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value,disabled:t.linked.arr.indexOf(e.value)>-1&&t.data.oldCountrys.indexOf(e.value)<0}})})),1)],1)],1)],1),a("el-divider"),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.data.isShow=!1}}},[t._v(t._s(t.$t("Cancel")))]),a("el-button",{attrs:{loading:t.data.loading,type:"primary"},on:{click:function(e){return t.save("ruleForm")}}},[t._v(t._s(t.$t("Save")))])],1)],1)},s=[],l=(a("a15b"),{props:["data","countryArr","linked"],data:function(){var t=this,e=function(e,a,n){setTimeout((function(){a&&a.length||n(new Error(t.$t("Please select at least 1 destination country."))),n()}),100)},a=function(e,a,n){setTimeout((function(){(!a||a.length<12||!/^[0-9A-Za-z]*$/.test(a))&&n(new Error(t.$t("Please enter an IOSS ID with 12 alphanumeric characters."))),n()}),100)};return{rules:{name:[{required:!0,message:"Please enter description.",trigger:"blur"}],iossId:[{required:!0,message:this.$t("Please enter an IOSS ID with 12 alphanumeric characters."),trigger:"blur"},{validator:a,trigger:"blur"}],countrys:[{validator:e,trigger:"change"}]}}},methods:{save:function(t){var e=this;this.data.loading=!0,this.$refs[t].validate((function(t){if(!t)return e.data.loading=!1,!1;var a={name:e.data.form.name,iossId:e.data.form.iossId,countrys:e.data.form.countrys.join(",")};e.data.id?(a.id=e.data.id,e.$confirm(e.$t("After saving, your IOSS will be updated to the corresponding order. Are you sure to save?"),{confirmButtonText:"Confirm",cancelButtonText:"Cancel",type:"info"}).then((function(){e.setSave(a)})).catch((function(){e.data.loading=!1}))):e.setSave(a)}))},setSave:function(t){var e=this;this.$apiCall("api.User.editIoss",t,(function(t){e.data.loading=!1,"9999"==t.ErrorCode?e.$emit("saveIOSSSuccess"):e.$message({message:t.Message,type:"error"})}))},opened:function(){var t=this;setTimeout((function(){t.$refs["ruleForm"].clearValidate()}),150)},closed:function(){this.$refs["ruleForm"].clearValidate()}}}),u=l,c=a("2877"),d=Object(c["a"])(u,o,s,!1,null,null,null),f=d.exports,v={data:function(){return{loading:!1,isOpenIoss:!1,items:[],dialogEditIOSSData:{isShow:!1,loading:!1,id:"",form:{name:"",iossId:"",countrys:[]},oldCountrys:[]},defaultDialogEditIOSSData:"{}",countryArr:[{value:"AT",label:"Austria"},{value:"BE",label:"Belgium"},{value:"BG",label:"Bulgaria"},{value:"CY",label:"Cyprus"},{value:"CZ",label:"Czechia"},{value:"DE",label:"Germany"},{value:"DK",label:"Denmark"},{value:"EE",label:"Estonia"},{value:"ES",label:"Spain"},{value:"FI",label:"Finland"},{value:"FR",label:"France"},{value:"GR",label:"Greece"},{value:"HR",label:"Croatia"},{value:"HU",label:"Hungary"},{value:"IE",label:"Ireland"},{value:"IT",label:"Italy"},{value:"LT",label:"Lithuania"},{value:"LU",label:"Luxembourg"},{value:"LV",label:"Latvia"},{value:"MT",label:"Malta"},{value:"NL",label:"Netherlands (the)"},{value:"PL",label:"Poland"},{value:"PT",label:"Portugal"},{value:"RO",label:"Romania"},{value:"SE",label:"Sweden"},{value:"SI",label:"Slovenia"},{value:"SK",label:"Slovakia"}]}},components:{DialogEditIOSS:f},computed:{linked:function(){var t=[];return this.items.forEach((function(e){t=t.concat(e.countrys)})),t=Object(r["a"])(new Set(t)),{arr:t,linkedNum:t.length,unlinkedNum:this.countryArr.length-t.length}}},mounted:function(){this.defaultDialogEditIOSSData=JSON.stringify(this.dialogEditIOSSData),this.getItem()},methods:{openIoss:function(){var t=this;this.$apiCall("api.User.setIoss",{isOpenIoss:this.isOpenIoss},(function(e){"9999"!=e.ErrorCode&&(t.isOpenIoss=!t.isOpenIoss,t.$message({message:e.Message,type:"error"}))}))},delIOSS:function(t,e){var a=this;this.$confirm(this.$t("Are you sure to delete the IOSS?"),{confirmButtonText:"Confirm",cancelButtonText:"Cancel",confirmButtonClass:" el-button--danger",type:"warning"}).then((function(){a.loading=!0,a.$apiCall("api.User.deleteIoss",{id:t.id},(function(t){a.loading=!1,"9999"==t.ErrorCode?a.items.splice(e,1):a.$message({message:t.Message,type:"error"})}))})).catch()},getItem:function(){var t=this;this.loading=!0,this.$apiCall("api.User.getIoss",{},(function(e){if(t.loading=!1,"9999"==e.ErrorCode){var a=e.Data.Results;t.isOpenIoss=!!a.isOpenIoss,t.items=a.iossSettings.length?a.iossSettings.map((function(t){return t.countrys=t.countrys.split(","),t})):[]}else t.$message({message:e.Message,type:"error"})}))},saveIOSSSuccess:function(){this.dialogEditIOSSData.isShow=!1,this.getItem()},openEditIOSS:function(t){var e=this;this.dialogEditIOSSData=JSON.parse(this.defaultDialogEditIOSSData),t&&(this.dialogEditIOSSData.form.name=t.name,this.dialogEditIOSSData.form.iossId=t.iossId,this.dialogEditIOSSData.id=t.id,this.dialogEditIOSSData.isShow=!0,this.dialogEditIOSSData.oldCountrys=JSON.parse(JSON.stringify(t.countrys)),setTimeout((function(){e.$set(e.dialogEditIOSSData.form,"countrys",JSON.parse(JSON.stringify(t.countrys)))}),100)),this.dialogEditIOSSData.isShow=!0},showCountry:function(t){var e="";return this.countryArr.forEach((function(a){a.value==t&&(e=a.label)})),e}}},p=v,h=(a("f8d7"),Object(c["a"])(p,n,i,!1,null,"072a73aa",null));e["default"]=h.exports},"4df4":function(t,e,a){"use strict";var n=a("0366"),i=a("7b0b"),r=a("9bdd"),o=a("e95a"),s=a("50c4"),l=a("8418"),u=a("35a1");t.exports=function(t){var e,a,c,d,f,v,p=i(t),h="function"==typeof this?this:Array,b=arguments.length,m=b>1?arguments[1]:void 0,S=void 0!==m,g=u(p),y=0;if(S&&(m=n(m,b>2?arguments[2]:void 0,2)),void 0==g||h==Array&&o(g))for(e=s(p.length),a=new h(e);e>y;y++)v=S?m(p[y],y):p[y],l(a,y,v);else for(d=g.call(p),f=d.next,a=new h;!(c=f.call(d)).done;y++)v=S?r(d,m,[c.value,y],!0):c.value,l(a,y,v);return a.length=y,a}},6062:function(t,e,a){"use strict";var n=a("6d61"),i=a("6566");t.exports=n("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),i)},"61e8":function(t,e,a){},6566:function(t,e,a){"use strict";var n=a("9bf2").f,i=a("7c73"),r=a("e2cc"),o=a("0366"),s=a("19aa"),l=a("2266"),u=a("7dd0"),c=a("2626"),d=a("83ab"),f=a("f183").fastKey,v=a("69f3"),p=v.set,h=v.getterFor;t.exports={getConstructor:function(t,e,a,u){var c=t((function(t,n){s(t,c,e),p(t,{type:e,index:i(null),first:void 0,last:void 0,size:0}),d||(t.size=0),void 0!=n&&l(n,t[u],{that:t,AS_ENTRIES:a})})),v=h(e),b=function(t,e,a){var n,i,r=v(t),o=m(t,e);return o?o.value=a:(r.last=o={index:i=f(e,!0),key:e,value:a,previous:n=r.last,next:void 0,removed:!1},r.first||(r.first=o),n&&(n.next=o),d?r.size++:t.size++,"F"!==i&&(r.index[i]=o)),t},m=function(t,e){var a,n=v(t),i=f(e);if("F"!==i)return n.index[i];for(a=n.first;a;a=a.next)if(a.key==e)return a};return r(c.prototype,{clear:function(){var t=this,e=v(t),a=e.index,n=e.first;while(n)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete a[n.index],n=n.next;e.first=e.last=void 0,d?e.size=0:t.size=0},delete:function(t){var e=this,a=v(e),n=m(e,t);if(n){var i=n.next,r=n.previous;delete a.index[n.index],n.removed=!0,r&&(r.next=i),i&&(i.previous=r),a.first==n&&(a.first=i),a.last==n&&(a.last=r),d?a.size--:e.size--}return!!n},forEach:function(t){var e,a=v(this),n=o(t,arguments.length>1?arguments[1]:void 0,3);while(e=e?e.next:a.first){n(e.value,e.key,this);while(e&&e.removed)e=e.previous}},has:function(t){return!!m(this,t)}}),r(c.prototype,a?{get:function(t){var e=m(this,t);return e&&e.value},set:function(t,e){return b(this,0===t?0:t,e)}}:{add:function(t){return b(this,t=0===t?0:t,t)}}),d&&n(c.prototype,"size",{get:function(){return v(this).size}}),c},setStrong:function(t,e,a){var n=e+" Iterator",i=h(e),r=h(n);u(t,e,(function(t,e){p(this,{type:n,target:t,state:i(t),kind:e,last:void 0})}),(function(){var t=r(this),e=t.kind,a=t.last;while(a&&a.removed)a=a.previous;return t.target&&(t.last=a=a?a.next:t.state.first)?"keys"==e?{value:a.key,done:!1}:"values"==e?{value:a.value,done:!1}:{value:[a.key,a.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),a?"entries":"values",!a,!0),c(e)}}},"6b75":function(t,e,a){"use strict";function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=new Array(e);a<e;a++)n[a]=t[a];return n}a.d(e,"a",(function(){return n}))},"6d61":function(t,e,a){"use strict";var n=a("23e7"),i=a("da84"),r=a("94ca"),o=a("6eeb"),s=a("f183"),l=a("2266"),u=a("19aa"),c=a("861d"),d=a("d039"),f=a("1c7e"),v=a("d44e"),p=a("7156");t.exports=function(t,e,a){var h=-1!==t.indexOf("Map"),b=-1!==t.indexOf("Weak"),m=h?"set":"add",S=i[t],g=S&&S.prototype,y=S,I={},O=function(t){var e=g[t];o(g,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(b&&!c(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return b&&!c(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(b&&!c(t))&&e.call(this,0===t?0:t)}:function(t,a){return e.call(this,0===t?0:t,a),this})},w=r(t,"function"!=typeof S||!(b||g.forEach&&!d((function(){(new S).entries().next()}))));if(w)y=a.getConstructor(e,t,h,m),s.REQUIRED=!0;else if(r(t,!0)){var E=new y,x=E[m](b?{}:-0,1)!=E,k=d((function(){E.has(1)})),$=f((function(t){new S(t)})),D=!b&&d((function(){var t=new S,e=5;while(e--)t[m](e,e);return!t.has(-0)}));$||(y=e((function(e,a){u(e,y,t);var n=p(new S,e,y);return void 0!=a&&l(a,n[m],{that:n,AS_ENTRIES:h}),n})),y.prototype=g,g.constructor=y),(k||D)&&(O("delete"),O("has"),h&&O("get")),(D||x)&&O(m),b&&g.clear&&delete g.clear}return I[t]=y,n({global:!0,forced:y!=S},I),v(y,t),b||a.setStrong(y,t,h),y}},"9bdd":function(t,e,a){var n=a("825a"),i=a("2a62");t.exports=function(t,e,a,r){try{return r?e(n(a)[0],a[1]):e(a)}catch(o){throw i(t),o}}},a15b:function(t,e,a){"use strict";var n=a("23e7"),i=a("44ad"),r=a("fc6a"),o=a("a640"),s=[].join,l=i!=Object,u=o("join",",");n({target:"Array",proto:!0,forced:l||!u},{join:function(t){return s.call(r(this),void 0===t?",":t)}})},a630:function(t,e,a){var n=a("23e7"),i=a("4df4"),r=a("1c7e"),o=!r((function(t){Array.from(t)}));n({target:"Array",stat:!0,forced:o},{from:i})},bb2f:function(t,e,a){var n=a("d039");t.exports=!n((function(){return Object.isExtensible(Object.preventExtensions({}))}))},f183:function(t,e,a){var n=a("d012"),i=a("861d"),r=a("5135"),o=a("9bf2").f,s=a("90e3"),l=a("bb2f"),u=s("meta"),c=0,d=Object.isExtensible||function(){return!0},f=function(t){o(t,u,{value:{objectID:"O"+ ++c,weakData:{}}})},v=function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!r(t,u)){if(!d(t))return"F";if(!e)return"E";f(t)}return t[u].objectID},p=function(t,e){if(!r(t,u)){if(!d(t))return!0;if(!e)return!1;f(t)}return t[u].weakData},h=function(t){return l&&b.REQUIRED&&d(t)&&!r(t,u)&&f(t),t},b=t.exports={REQUIRED:!1,fastKey:v,getWeakData:p,onFreeze:h};n[u]=!0},f8d7:function(t,e,a){"use strict";a("61e8")},fb6a:function(t,e,a){"use strict";var n=a("23e7"),i=a("861d"),r=a("e8b5"),o=a("23cb"),s=a("50c4"),l=a("fc6a"),u=a("8418"),c=a("b622"),d=a("1dde"),f=d("slice"),v=c("species"),p=[].slice,h=Math.max;n({target:"Array",proto:!0,forced:!f},{slice:function(t,e){var a,n,c,d=l(this),f=s(d.length),b=o(t,f),m=o(void 0===e?f:e,f);if(r(d)&&(a=d.constructor,"function"!=typeof a||a!==Array&&!r(a.prototype)?i(a)&&(a=a[v],null===a&&(a=void 0)):a=void 0,a===Array||void 0===a))return p.call(d,b,m);for(n=new(void 0===a?Array:a)(h(m-b,0)),c=0;b<m;b++,c++)b in d&&u(n,c,d[b]);return n.length=c,n}})}}]);
//# sourceMappingURL=settings.bddd8f9c.js.map