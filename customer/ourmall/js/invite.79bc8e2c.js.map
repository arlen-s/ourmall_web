{"version":3,"sources":["webpack:///./src/views/Invite-reg.vue?5975","webpack:///./src/views/Invite-reg.vue?ff27","webpack:///./src/views/Invite-reg.vue?3d74","webpack:///src/views/Invite-reg.vue","webpack:///./src/views/Invite-reg.vue?b1a4","webpack:///./src/views/Invite-reg.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_m","directives","name","rawName","value","expression","_v","_s","customerName","words","vendorName","attrs","domProps","on","$event","target","composing","shopUrl","storeInput","loading","login","$root","$children","pName","b","staticRenderFns","data","pageLoading","created","$","addClass","attr","beforeDestroy","removeClass","mounted","getWords","methods","$apiCall","rid","decodeURIComponent","$route","query","r","ErrorCode","getLoginStatus","$elementMessage","$t","win","window","open","i","len","codeReg","test","val","str","component"],"mappings":"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","file":"js/invite.79bc8e2c.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Invite-reg.vue?vue&type=style&index=1&id=3ba6656d&lang=scss&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Invite-reg.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page-invite-reg\"},[_vm._m(0),_c('div',{staticClass:\"body\"},[_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.pageLoading),expression:\"pageLoading\"}],staticClass:\"content\"},[_c('p',{staticClass:\"row1\"},[_vm._v(\"Hello \"+_vm._s(_vm.customerName)+\",\")]),_c('p',{staticClass:\" row2\"},[_vm._v(\" \"+_vm._s(_vm.words)+\" \")]),_c('p',{staticClass:\"row3\"},[_vm._v(\"Yours,\")]),_c('p',{staticClass:\" row4\"},[_vm._v(_vm._s(_vm.vendorName))]),_c('div',{staticClass:\"reg\"},[_c('div',{staticClass:\"reg-box\"},[_vm._m(1),_c('div',{staticClass:\"row6\"},[_c('div',[_c('span',{staticClass:\"http\"},[_vm._v(\"http://\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.shopUrl),expression:\"shopUrl\"}],attrs:{\"type\":\"text\",\"placeholder\":\"Your Shopify store name\"},domProps:{\"value\":(_vm.shopUrl)},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.shopUrl=$event.target.value},function($event){return _vm.storeInput($event.target.value)}]}}),_c('span',{staticClass:\"domain\"},[_vm._v(\".myshopify.com\")])]),_c('el-button',{attrs:{\"loading\":_vm.loading},on:{\"click\":_vm.login}},[_vm._v(\" \"+_vm._s(_vm.loading ? 'Please Wait' : 'Connect')+\" \")])],1)])])])]),_c('div',{staticClass:\"page-footer\"},[_c('div',[_vm._v(\"© 2021, Powered by \"+_vm._s(_vm.$root.$children[0].pName.b)+\" APP\")])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"header\"},[_c('div',{staticClass:\"content\"},[_c('h1')])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row5\"},[_c('div',{staticClass:\"s-logo\"})])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"page-invite-reg\">\r\n    <div class=\"header\">\r\n      <div class=\"content\">\r\n        <h1></h1>\r\n      </div>\r\n    </div>\r\n    <div class=\"body\">\r\n      <div v-loading=\"pageLoading\" class=\"content\">\r\n        <p class=\"row1\">Hello {{customerName}},</p>\r\n        <p class=\" row2\">\r\n          {{words}}\r\n        </p>\r\n        <p class=\"row3\">Yours,</p>\r\n        <p class=\" row4\">{{vendorName}}</p>\r\n        <div class=\"reg\">\r\n          <div class=\"reg-box\">\r\n            <div class=\"row5\">\r\n              <div class=\"s-logo\"></div>\r\n\r\n            </div>\r\n            <div class=\"row6\">\r\n              <div>\r\n                <span class=\"http\">http://</span>\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"Your Shopify store name\"\r\n                  @input=\"storeInput($event.target.value)\"\r\n                  v-model=\"shopUrl\"\r\n                >\r\n                <span class=\"domain\">.myshopify.com</span>\r\n              </div>\r\n\r\n              <el-button\r\n                :loading=\"loading\"\r\n                @click=\"login\"\r\n              >\r\n                {{loading ? 'Please Wait' : 'Connect'}}\r\n              </el-button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"page-footer\">\r\n      <div>&copy; 2021, Powered by {{$root.$children[0].pName.b}} APP</div>\r\n      <!-- <div>\r\n        <router-link :to=\"{name: 'terms'}\" target=\"_blank\">Terms of Service</router-link>\r\n        <router-link :to=\"{name: 'privacy'}\" target=\"_blank\">Privacy Policy</router-link>\r\n      </div> -->\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data(){\r\n    return {\r\n      pageLoading: true,\r\n      loading: false,\r\n      shopUrl: \"\",\r\n      customerName: \"\",\r\n      words:\"\",\r\n      vendorName: \"\",\r\n    }\r\n  },\r\n  created() {\r\n    $(\"body\").addClass(\"primary-bg\");\r\n    $(\"#viewport\").attr(\"content\", \"width=device-width,initial-scale=1.0\");\r\n  },\r\n  beforeDestroy() {\r\n    $(\"body\").removeClass(\"primary-bg\");\r\n    $(\"#viewport\").attr(\r\n      \"content\",\r\n      \"width=device-width, user-scalable=yes, initial-scale=0.3, maximum-scale=1.0, minimum-scale=0.3\"\r\n    );\r\n  },\r\n  mounted(){\r\n    this.getWords()\r\n  },\r\n  methods: {\r\n    getWords(){\r\n      this.pageLoading = true;\r\n      this.$apiCall(\"api.Relationship.getRelationshipByRid\", {\r\n        rid: decodeURIComponent(this.$route.query.rid)\r\n      }, r => {\r\n        this.pageLoading = false;\r\n        if (r.ErrorCode == \"9999\") {\r\n         this.customerName = r.Data.Results.customerName;\r\n         this.words = r.Data.Results.words;\r\n         this.vendorName = r.Data.Results.vendorName;\r\n        }else{\r\n          this.$elementMessage(r.Data.Results.errorMessage, \"error\");\r\n        }\r\n      });\r\n    },\r\n    getLoginStatus() {\r\n      this.$apiCall(\r\n        \"api.ShopifyAccount.getShopAuthStatus\",\r\n        {\r\n          shopUrl: this.shopUrl\r\n        },\r\n        r => {\r\n          if (r.ErrorCode == \"9999\") {\r\n            localStorage.setItem('c_inviteShopUrl', this.shopUrl)\r\n            if (r.Data.Results.status) {\r\n              clearInterval(this.time);\r\n              if (r.Data.Results.status == 1) {\r\n                localStorage.setItem(\"c_apiUserId\", r.Data.Results.userInfo.id);\r\n                localStorage.setItem(\"c_apiUserToken\",\r\n                  r.Data.Results.userInfo.apiUserToken\r\n                );\r\n                localStorage.setItem(\"c_ourMallUserInfo\",\r\n                  JSON.stringify(r.Data.Results.userInfo)\r\n                );\r\n                this.$store.commit(\"setUserInfo\", r.Data.Results.userInfo);\r\n                this.$router.push({ name: \"dashboard\" });\r\n                this.win.close();\r\n              } else {\r\n                this.loading = false;\r\n                this.$elementMessage(r.Data.Results.errorMessage, \"error\");\r\n                this.win.close();\r\n                setTimeout(()=>{\r\n                  window.location.reload();\r\n                },1000)\r\n              }\r\n            }\r\n          } else {\r\n            clearInterval(this.time);\r\n            this.$elementMessage(r.Message, \"error\");\r\n          }\r\n        }\r\n      );\r\n    },\r\n    login() {\r\n      if (!this.shopUrl) {\r\n        this.$elementMessage(this.$t(\"Please enter Shopify store name\"), \"error\");\r\n        return false;\r\n      }\r\n      this.win = window.open((process.env.VUE_APP_BASEURL == '/' ? '':  process.env.VUE_APP_BASEURL) + \"/blank.html\", \"Shopify\");\r\n      this.loading = true;\r\n      this.$apiCall(\r\n        \"api.ShopifyAccount.addShopifyAccount\",\r\n        {\r\n          shopUrl: this.shopUrl,\r\n          getAuth: 1,\r\n          rid: this.$route.query.rid,\r\n          ivc:localStorage.getItem('c_ivc') ? localStorage.getItem('c_ivc') : '',\r\n          utmSource:localStorage.getItem('c_utm'),\r\n        },\r\n        r => {\r\n          if (r.ErrorCode == \"9999\") {\r\n            this.win.location = r.Data.Results;\r\n            this.time = setInterval(() => {\r\n              this.getLoginStatus();\r\n            }, 2000);\r\n          } else {\r\n            this.$elementMessage(r.Message, \"error\");\r\n          }\r\n        }\r\n      );\r\n    },\r\n    storeInput(val) {\r\n      let codeReg = new RegExp(\"[A-Za-z0-9-_]+\"), //正则 英文+数字；\r\n        len = val.length,\r\n        str = \"\";\r\n      for (var i = 0; i < len; i++) {\r\n        if (codeReg.test(val[i])) {\r\n          str += val[i];\r\n        }\r\n      }\r\n      this.shopUrl = str;\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style lang=\"scss\">\r\n.primary-bg {\r\n  background-color: #5c6ac4;\r\n}\r\n</style>\r\n<style lang=\"scss\" scoped>\r\n.page-invite-reg {\r\n  position: relative;\r\n  height: 100%;\r\n  min-height: 500px;\r\n}\r\n.header {\r\n  margin-bottom: 40px;\r\n  background-color: #fff;\r\n  border-bottom: 1px #dcdfe6 solid;\r\n  .content {\r\n    margin: 0 auto;\r\n    max-width: 1300px;\r\n    width: 100%;\r\n    height: 70px;\r\n    display: flex;\r\n    align-items: center;\r\n    h1 {\r\n      width: 250px;\r\n      height: 30px;\r\n      background-image: url(\"./../../public/images/logo.png\");\r\n      background-size: contain;\r\n      background-repeat: no-repeat;\r\n    }\r\n  }\r\n}\r\n.body {\r\n  margin-bottom: 10px;\r\n  .content {\r\n    margin: 0 auto;\r\n    max-width: 600px;\r\n    width: 90%;\r\n    background-color: #fff;\r\n    padding: 20px;\r\n    border-radius: 6px;\r\n    .reg-box {\r\n      margin: 0 auto;\r\n      max-width: 500px;\r\n      width: 100%;\r\n      .row5 {\r\n        margin: 0 auto 5px;\r\n        font-weight: bold;\r\n        font-size: 18px;\r\n        .s-logo {\r\n          margin: 0 auto 10px;\r\n          width: 80px;\r\n          height: 28px;\r\n          background-image: url(\"./../../public/images/shopify-logo.png\");\r\n          background-repeat: no-repeat;\r\n          background-size: contain;\r\n        }\r\n      }\r\n      .row6 {\r\n        display: flex;\r\n        flex-direction: column;\r\n        justify-content: center;\r\n        align-items: center;\r\n        flex-wrap: wrap;\r\n        .http{\r\n          display: none;\r\n        }\r\n        input {\r\n          width: 190px;\r\n          height: 36px;\r\n          padding: 0 15px;\r\n          outline: none;\r\n          border: 1px #e4e7ed solid;\r\n          border-radius: 4px 0 0 4px;\r\n          font-size: 16px;\r\n        }\r\n        div {\r\n          display: flex;\r\n          margin-bottom: 5px;\r\n        }\r\n        span {\r\n          padding: 0 5px;\r\n          border: 1px #e4e7ed solid;\r\n          border-left: none;\r\n          border-radius: 0 4px 4px 0;\r\n          background: #f5f7fa;\r\n          line-height: 34px;\r\n          color: #909399;\r\n          font-size: 14px;\r\n        }\r\n        button {\r\n          background-color: #e94b26;\r\n          color: #fff;\r\n          font-weight: bold;\r\n          font-size: 16px;\r\n        }\r\n        button:hover {\r\n          opacity: 0.7;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n.row1 {\r\n  margin-bottom: 15px;\r\n  font-weight: bold;\r\n  font-size: 18px;\r\n}\r\n.row2 {\r\n  margin-bottom: 30px;\r\n  line-height: 26px;\r\n  font-size: 16px;\r\n}\r\n.row3 {\r\n  font-size: 14px;\r\n  font-weight: bold;\r\n}\r\n.row4 {\r\n  margin-bottom: 20px;\r\n  font-size: 14px;\r\n}\r\n\r\n.page-footer {\r\n  margin: 0 auto;\r\n  padding: 0 15px;\r\n  max-width: 600px;\r\n  width: 90%;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  padding: 0 15px;\r\n  color: #c0c4cc;\r\n  a {\r\n    margin-right: 15px;\r\n    color: #fff;\r\n  }\r\n}\r\n@media screen and (min-width: 640px) {\r\n  .body .content .reg-box .row6 input {\r\n    width: 300px;\r\n  }\r\n}\r\n@media screen and (min-width: 768px) {\r\n  .body .content{\r\n    max-width: 980px\r\n  }\r\n  .body .content .reg-box .row6 .http{\r\n    display: inline-block;\r\n    border-left: 1px #e4e7ed solid;\r\n    border-right: none;\r\n    border-radius: 4px 0 0 4px;\r\n  }\r\n  .body .content .reg-box .row6 input {\r\n    border-radius: 0;\r\n    margin: 0;\r\n  }\r\n  .body .content .reg-box .row6 span {\r\n    border: 1px #e4e7ed solid;\r\n    line-height: 34px;\r\n    border-left: none;\r\n  }\r\n  .body .content .reg-box .row6 div {\r\n    margin-bottom: 20px;\r\n  }\r\n  .body .content .reg-box .row6 button {\r\n    height: 38px;\r\n    border-radius: 4px;\r\n    position: relative;\r\n    line-height: 14px;\r\n  }\r\n  .page-footer{\r\n    max-width: 980px;\r\n  }\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Invite-reg.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Invite-reg.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Invite-reg.vue?vue&type=template&id=3ba6656d&scoped=true&\"\nimport script from \"./Invite-reg.vue?vue&type=script&lang=js&\"\nexport * from \"./Invite-reg.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Invite-reg.vue?vue&type=style&index=0&lang=scss&\"\nimport style1 from \"./Invite-reg.vue?vue&type=style&index=1&id=3ba6656d&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3ba6656d\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}