(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["MakeOffers2"],{"2d10":function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.item.shippingJson?s("el-popover",{attrs:{"popper-class":"customer-popover",placement:"bottom",width:"600",trigger:"hover"}},[2==t.type?s("span",{staticStyle:{cursor:"pointer"},attrs:{slot:"reference"},slot:"reference"},[s("span",[t._v(t._s(t.item.codeName||""))]),s("i",{staticClass:"el-icon-caret-bottom el-icon--right"})]):s("span",{staticClass:" d-flex",staticStyle:{cursor:"pointer"},attrs:{slot:"reference"},slot:"reference"},["mini"==t.size?s("span",[s("i",{staticClass:"el-icon-user-solid",staticStyle:{color:"#909399"}})]):s("span",{staticClass:" tx-ellipsis1",staticStyle:{display:"inline-block","max-width":"160px","font-size":"12px"}},[t._v(t._s(t.item.shippingJson.name||""))]),s("i",{staticClass:"el-icon-caret-bottom el-icon--right"})]),s("div",{staticClass:"title"},[s("div",{staticClass:"left"},[t._v("Shopify Order "+t._s(t.item.codeName))]),t.item.timeCreated?s("div",{staticClass:"right"},[s("span",[t._v("Order Date: ")]),t._v(" "+t._s(t.moment(t.item.timeCreated).format("ll [at] LTS"))+" ")]):t._e()]),s("div",{staticClass:"mg-y-15 mg-t-20 pd-x-20"},[s("div",{staticClass:"title2"},[t._v("Shipping address")]),s("div",{staticClass:"info"},[s("div",{staticClass:"info-row"},[s("div",[s("span",[t._v("Customer")]),t._v(" "+t._s(t.item.shippingJson.name||"---")+" "),t.item.shippingJson.name?s("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"copy",placement:"right"}},[s("el-button",{attrs:{size:"mini",type:"text"}},[s("i",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.item.shippingJson.name,expression:"item.shippingJson.name",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}],staticClass:"el-icon-document-copy"})])],1):t._e()],1)]),s("div",{staticClass:"info-row",style:{marginBottom:t.item.shippingJson.country?"0":"10px"}},[s("div",[s("span",[t._v("Address")]),t._v(" "+t._s(t.item.shippingJson.zip||"")+" "+t._s(t.item.shippingJson.address1||"")+" "+t._s(t.item.shippingJson.city||"")+" "+t._s(t.item.shippingJson.province||"")+" "),t.item.shippingJson.address1?s("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"copy",placement:"right"}},[s("el-button",{attrs:{size:"mini",type:"text"}},[s("i",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:(t.item.shippingJson.zip||"")+" "+(t.item.shippingJson.address1||"")+"  "+(t.item.shippingJson.city||"")+"  "+(t.item.shippingJson.province||"")+" "+(t.item.shippingJson.country||""),expression:"`${item.shippingJson.zip || ''} ${item.shippingJson.address1 || ''}  ${item.shippingJson.city ||  ''}  ${item.shippingJson.province || ''} ${item.shippingJson.country || ''}`",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}],staticClass:"el-icon-document-copy"})])],1):t._e()],1)]),t.item.shippingJson.country?s("div",{staticClass:"info-row"},[s("div",[s("span"),t._v(" "+t._s(t.item.shippingJson.country))])]):t._e(),s("div",{staticClass:"info-row"},[s("div",[s("span",[t._v("Apartment, sulte, etc.")]),t._v(" "+t._s(t.item.shippingJson.address2||"---")+" "),t.item.shippingJson.address2?s("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"copy",placement:"right"}},[s("el-button",{attrs:{size:"mini",type:"text"}},[s("i",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.item.shippingJson.address2,expression:"item.shippingJson.address2",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}],staticClass:"el-icon-document-copy"})])],1):t._e()],1)]),s("div",{staticClass:"info-row"},[s("div",[s("span",[t._v("City")]),t._v(" "+t._s(t.item.shippingJson.city||"---")+" "),t.item.shippingJson.city?s("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"copy",placement:"right"}},[s("el-button",{attrs:{size:"mini",type:"text"}},[s("i",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.item.shippingJson.city,expression:"item.shippingJson.city",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}],staticClass:"el-icon-document-copy"})])],1):t._e()],1),s("div",[s("span",[t._v("State")]),t._v(" "+t._s(t.item.shippingJson.province||"---")+" "),t.item.shippingJson.province?s("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"copy",placement:"right"}},[s("el-button",{attrs:{size:"mini",type:"text"}},[s("i",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.item.shippingJson.province,expression:"item.shippingJson.province",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}],staticClass:"el-icon-document-copy"})])],1):t._e()],1)]),s("div",{staticClass:"info-row"},[s("div",[s("span",[t._v("Country")]),t._v(" "+t._s(t.item.shippingJson.country||"---")+" "),t.item.shippingJson.country?s("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"copy",placement:"right"}},[s("el-button",{attrs:{size:"mini",type:"text"}},[s("i",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.item.shippingJson.country,expression:"item.shippingJson.country",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}],staticClass:"el-icon-document-copy"})])],1):t._e()],1),s("div",[s("span",[t._v("Zipcode")]),t._v(" "+t._s(t.item.shippingJson.zip||"---")+" "),t.item.shippingJson.zip?s("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"copy",placement:"right"}},[s("el-button",{attrs:{size:"mini",type:"text"}},[s("i",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.item.shippingJson.zip,expression:"item.shippingJson.zip",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}],staticClass:"el-icon-document-copy"})])],1):t._e()],1)])]),s("div",{staticClass:"title2"},[t._v("Contact Information")]),s("div",{staticClass:"info"},[s("div",{staticClass:"info-row"},[s("div",[s("span",[t._v("Phone number")]),t._v(" "+t._s(t.item.shippingJson.phone||"---")+" "),t.item.shippingJson.phone?s("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"copy",placement:"right"}},[s("el-button",{attrs:{size:"mini",type:"text"}},[s("i",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.item.shippingJson.phone,expression:"item.shippingJson.phone",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}],staticClass:"el-icon-document-copy"})])],1):t._e()],1)]),s("div",{staticClass:"info-row"},[s("div",[s("span",[t._v("Email")]),t._v(" "+t._s(t.item.email||"---")+" "),t.item.email?s("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"copy",placement:"right"}},[s("el-button",{attrs:{size:"mini",type:"text"}},[s("i",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.item.email,expression:"item.email",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}],staticClass:"el-icon-document-copy"})])],1):t._e()],1)])]),t.item.ioss?[s("div",{staticClass:"title2"},[t._v("IOSS Information")]),s("div",{staticClass:"info"},[s("div",{staticClass:"info-row"},[s("div",[s("span",[t._v("IOSS Id")]),t._v(" "+t._s(t.item.ioss)+" ")])])])]:t._e(),t.item.note?[s("div",{staticClass:"title2"},[t._v("Notes")]),s("div",{staticClass:"info"},[s("div",{staticClass:"info-row"},[s("div",{staticStyle:{"word-break":"break-all"}},[s("span",[t._v("Notes")]),t._v(" "+t._s(t.item.note)+" "),t.item.note?s("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"copy",placement:"right"}},[s("el-button",{attrs:{size:"mini",type:"text"}},[s("i",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.item.note,expression:"item.note",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}],staticClass:"el-icon-document-copy"})])],1):t._e()],1)])])]:t._e()],2)]):s("span",[t._v("---")]),t.item.note&&t.isicon?s("span",{staticClass:"mg-l-5"},[s("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.item.note,placement:"top"}},[s("i",{staticClass:"el-icon-info",staticStyle:{"font-size":"12px",width:"12px",color:"#5c6ac4"}})])],1):t._e()],1)},a=[],r={props:["item","type","size","isicon"],methods:{onCopy:function(t){this.$emit("onCopy",t)},onError:function(t){this.$emit("onError",t)}}},o=r,l=(s("6c89"),s("2877")),n=Object(l["a"])(o,i,a,!1,null,"1df2d8d3",null);e["a"]=n.exports},"340e":function(t,e,s){t.exports=s.p+"img/shopify_icon.862d4ffa.png"},4350:function(t,e,s){"use strict";s("b65d")},"4d6b":function(t,e,s){t.exports=s.p+"img/lazada_icon.895bb3eb.png"},5310:function(t,e,s){},"6b2f":function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.items&&t.items.length?s("el-popover",{attrs:{placement:"right-start",trigger:"hover",width:"400"}},[s("div",{staticClass:"pop-sku"},t._l(t.items,(function(e,i){return s("div",{key:e.id,style:{borderBottom:t.items.length-1!=i?"1px #EBEEF5 solid":"none"}},[s("div",{staticClass:"image-wrap"},[s("el-image",{staticStyle:{"min-width":"50px",width:"50px",height:"50px"},attrs:{src:e.imgUrl,fit:"contain"}},[s("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[s("i",{staticClass:"el-icon-picture-outline",staticStyle:{color:"#C0C4CC","font-size":"20px"}})])]),s("i",[t._v(t._s(e.quantity))])],1),s("div",{staticClass:"info"},[s("div",{staticClass:" mg-b-10"},[s("fulfillMentStatusTag",{attrs:{fulfillmentStatus:e.fulfillmentStatus}})],1),s("div",{staticClass:" tx-ellipsis2",staticStyle:{"word-break":"normal"}},[t._v(t._s(e.name))]),s("div",[t._v(t._s(e.propertyValue))]),e.customerProperties.length?t._l(e.customerProperties,(function(e){return s("div",[s("span",{staticStyle:{"margin-right":"5px",color:"#909399"}},[t._v(t._s(e.name))]),t._v(" "+t._s(e.value)+" ")])})):t._e(),s("div",[s("span",{staticStyle:{"margin-right":"5px",color:"#909399"}},[t._v("SKU")]),t._v(" "+t._s(e.sku)+" ")]),"WaitingForSourcing"==t.$route.name&&1==e.onlyOne?s("el-tooltip",{attrs:{placement:"top"}},[s("div",{attrs:{slot:"content"},slot:"content"},[s("el-image",{staticStyle:{width:"335px",height:"270px"},attrs:{src:"images/popitem-onlyone.png","preview-src-list":["images/popitem-onlyone.png"]}})],1),s("div",{staticStyle:{color:"#E6A23C","font-size":"12px"}},[t._v(" Need to be allocated to vendor after this purchase order "),s("i",{staticClass:"el-icon-question"})])]):t._e()],2)])})),0),s("span",{staticStyle:{display:"inline-block",cursor:"pointer"},attrs:{slot:"reference"},slot:"reference"},[s("span",[t._v(t._s(t.items.length)+" Items")]),t.items.length?s("i",{staticClass:"el-icon-caret-bottom"}):t._e()])]):t._e()],1)},a=[],r=s("e98b"),o={props:["items","fulfillmentStatus"],components:{fulfillMentStatusTag:r["a"]}},l=o,n=(s("8d16"),s("2877")),c=Object(n["a"])(l,i,a,!1,null,"0fc2cdfe",null);e["a"]=c.exports},"6c89":function(t,e,s){"use strict";s("5310")},"716a":function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"shop"},[1==t.items.platform?i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Shopify",placement:"left"}},[i("img",{staticClass:"shopImg",attrs:{src:s("340e")}})]):2==t.items.platform?i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Woocommerce",placement:"left"}},[i("img",{staticClass:"shopImg",attrs:{src:s("7e46")}})]):3==t.items.platform?i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Lazada",placement:"left"}},[i("img",{staticClass:"shopImg",attrs:{src:s("4d6b")}})]):4==t.items.platform?i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Shopee",placement:"left"}},[i("img",{staticClass:"shopImg",attrs:{src:s("e74a")}})]):t._e()],1)},a=[],r={props:["items"],data:function(){return{}},methods:{},components:{}},o=r,l=(s("8d80"),s("2877")),n=Object(l["a"])(o,i,a,!1,null,"7d79ad08",null);e["a"]=n.exports},"7e46":function(t,e,s){t.exports=s.p+"img/woo_icon.bbaca118.png"},"85bc":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen",value:t.loading,expression:"loading",modifiers:{fullscreen:!0}}],attrs:{"element-loading-background":"rgba(0, 0, 0, 0.3)"}},[s("div",{ref:"tablefilter",staticClass:"make-offer-filter"},[s("div",{staticStyle:{"margin-bottom":"5px","font-size":"12px"}},[s("div",{staticStyle:{"margin-bottom":"5px"}},[s("div",{staticClass:"left d-flex",staticStyle:{"flex-wrap":"wrap"}},[s("div",{staticClass:"mg-r-10"},[s("el-input",{staticStyle:{width:"180px"},attrs:{size:"mini",placeholder:"Offer ID"},on:{clear:function(e){return t.clearFilter("offer")}},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.filterItems("offer")}},model:{value:t.code,callback:function(e){t.code=e},expression:"code"}},[s("template",{slot:"prepend"},[t._v(" # ")])],2)],1),s("div",{staticClass:"mg-r-10"},[s("el-input",{staticStyle:{width:"180px"},attrs:{size:"mini",placeholder:"Order ID"},on:{clear:function(e){return t.clearFilter("name")}},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.filterItems("name")}},model:{value:t.codeName,callback:function(e){t.codeName=e},expression:"codeName"}},[s("template",{slot:"prepend"},[t._v(" # ")])],2)],1),s("el-cascader",{key:t.cascaderKey,attrs:{size:"mini",placeholder:"All my stores",options:t.options,props:{expandTrigger:"hover"}},on:{change:function(e){return t.filterItems("store")}},model:{value:t.filterParams.shopifyStore,callback:function(e){t.$set(t.filterParams,"shopifyStore",e)},expression:"filterParams.shopifyStore"}}),s("el-button-group",{staticClass:"mg-r-10",staticStyle:{height:"28px"}},[s("el-popover",{attrs:{placement:"bottom",title:"",trigger:"click","popper-class":"d-block"},model:{value:t.popTypeFilter,callback:function(e){t.popTypeFilter=e},expression:"popTypeFilter"}},[s("el-radio-group",{staticStyle:{"max-height":"200px"},on:{change:function(e){return t.filterItems("type")}},model:{value:t.filterParams.type,callback:function(e){t.$set(t.filterParams,"type",e)},expression:"filterParams.type"}},[s("el-radio",{attrs:{label:1}},[t._v(t._s(t.$t("Orders")))]),s("el-radio",{attrs:{label:2}},[t._v(t._s(t.$t("Products")))])],1),s("div",{staticClass:"d-flex justify-content-end"},[s("el-link",{attrs:{type:"danger",disabled:!t.filterParams.type},on:{click:function(e){return t.clearFilter("type")}}},[t._v(t._s(t.$t("Clear")))])],1),s("el-button",{attrs:{slot:"reference",size:"mini"},slot:"reference"},[t._v(t._s(t.$t("Type"))),s("i",{staticClass:"el-icon-caret-bottom el-icon--right"})])],1),s("el-popover",{attrs:{placement:"bottom",title:"",trigger:"click","popper-class":"d-block"},model:{value:t.popDateFilter,callback:function(e){t.popDateFilter=e},expression:"popDateFilter"}},[s("el-radio-group",{staticStyle:{"max-height":"200px"},on:{change:function(e){return t.filterItems("date")}},model:{value:t.filterParams.timeFilter,callback:function(e){t.$set(t.filterParams,"timeFilter",e)},expression:"filterParams.timeFilter"}},t._l(t.dateArr,(function(e,i){return s("el-radio",{key:i,attrs:{label:i}},[t._v(t._s(e))])})),1),6==t.filterParams.timeFilter?s("div",[s("el-date-picker",{attrs:{size:"mini","value-format":"yyyy-MM-dd",type:"daterange",align:"right","unlink-panels":"","range-separator":"-","start-placeholder":"Start","end-placeholder":"End"},on:{change:t.dateChange},model:{value:t.filterDate,callback:function(e){t.filterDate=e},expression:"filterDate"}})],1):t._e(),s("div",{staticClass:"d-flex justify-content-end"},[s("el-link",{attrs:{type:"danger",disabled:!t.filterParams.timeFilter},on:{click:function(e){return t.clearFilter("date")}}},[t._v(t._s(t.$t("Clear")))])],1),s("el-button",{attrs:{slot:"reference",size:"mini"},slot:"reference"},[t._v(t._s(t.$t("Date Ranges"))),s("i",{staticClass:"el-icon-caret-bottom el-icon--right"})])],1),"ArchivedOffers"==t.$route.name?s("el-popover",{attrs:{placement:"bottom",title:"",trigger:"click","popper-class":"d-block"},model:{value:t.popStatusFilter,callback:function(e){t.popStatusFilter=e},expression:"popStatusFilter"}},[s("el-radio-group",{staticStyle:{"max-height":"200px"},on:{change:function(e){return t.filterItems("status")}},model:{value:t.filterParams.status,callback:function(e){t.$set(t.filterParams,"status",e)},expression:"filterParams.status"}},t._l(t.statusRadio,(function(e,i){return s("el-radio",{key:i,attrs:{label:i}},[t._v(t._s(e.text))])})),1),s("div",{staticClass:"d-flex justify-content-end"},[s("el-link",{attrs:{type:"danger",disabled:!t.filterParams.status},on:{click:function(e){return t.clearFilter("status")}}},[t._v(t._s(t.$t("Clear")))])],1),s("el-button",{attrs:{slot:"reference",size:"mini"},slot:"reference"},[t._v(t._s(t.$t("Status"))),s("i",{staticClass:"el-icon-caret-bottom el-icon--right"})])],1):s("el-popover",{attrs:{placement:"bottom",title:"",trigger:"click","popper-class":"d-block"},model:{value:t.popSortFilter,callback:function(e){t.popSortFilter=e},expression:"popSortFilter"}},[s("el-radio-group",{on:{change:function(e){return t.filterItems("sort")}},model:{value:t.filterParams.sortBy,callback:function(e){t.$set(t.filterParams,"sortBy",e)},expression:"filterParams.sortBy"}},t._l(t.sortArr,(function(e,i){return s("el-radio",{key:i,attrs:{label:i}},[t._v(t._s(e))])})),1),s("div",{staticClass:"d-flex justify-content-end"},[s("el-link",{attrs:{type:"danger",disabled:!t.filterParams.sortBy},on:{click:function(e){return t.clearFilter("sort")}}},[t._v(t._s(t.$t("Clear")))])],1),s("el-button",{attrs:{slot:"reference",size:"mini"},slot:"reference"},[t._v(t._s(t.$t("SortBy"))),s("i",{staticClass:"el-icon-caret-bottom el-icon--right"})])],1)],1),s("div",{staticStyle:{"min-width":"130px"}},[s("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.filterItems()}}},[t._v(t._s(t.$t("Filter"))+" ")]),s("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(e){return t.clearFilter()}}},[t._v(t._s(t.$t("Clear")))])],1)],1)]),s("div",[t.filterParams.code?s("el-tag",{staticClass:"mg-r-5",attrs:{size:"small",type:"info",closable:""},on:{close:function(e){return t.clearFilter("code")}}},[t._v("#"+t._s(t.filterParams.code))]):t._e(),t.filterParams.codeName?s("el-tag",{staticClass:"mg-r-5",attrs:{size:"small",type:"info",closable:""},on:{close:function(e){return t.clearFilter("name")}}},[t._v("#"+t._s(t.filterParams.codeName))]):t._e(),t.filterParams.shopifyStore.length?s("el-tag",{staticClass:"mg-r-5",attrs:{size:"small",type:"info",closable:""},on:{close:function(e){return t.clearFilter("store")}}},[t._v(t._s(t.shopifyStoreName))]):t._e(),t.filterParams.timeFilter?s("el-tag",{staticClass:"mg-r-5",attrs:{size:"small",type:"info",closable:""},on:{close:function(e){return t.clearFilter("date")}}},[t._v(" "+t._s(t.dateArr[t.filterParams.timeFilter])+" "),6==t.filterParams.timeFilter&&t.filterDate.length?s("span",[t._v(" "+t._s(t.filterDate[0])+"--"+t._s(t.filterDate[1])+" ")]):t._e()]):t._e(),t.filterParams.fulfillStatus.length?s("el-tag",{staticClass:"mg-r-5",attrs:{size:"small",type:"info",closable:""},on:{close:function(e){return t.clearFilter("fulfill")}}},[t._v(" "+t._s("unfulfilled"==t.filterParams.fulfillStatus[0]?"Unfulfilled":"Partially fulfilled")),t.filterParams.fulfillStatus.length>1?s("span",[t._v(","+t._s("unfulfilled"==t.filterParams.fulfillStatus[1]?"Unfulfilled":"Partially fulfilled"))]):t._e()]):t._e(),t.filterParams.sortBy?s("el-tag",{staticClass:"mg-r-5",attrs:{size:"small",type:"info",closable:""},on:{close:function(e){return t.clearFilter("sort")}}},[t._v(t._s(t.sortArr[t.filterParams.sortBy]))]):t._e(),t.filterParams.status?s("el-tag",{staticClass:"mg-r-5",attrs:{size:"small",type:"info",closable:""},on:{close:function(e){return t.clearFilter("status")}}},[t._v(" "+t._s(t.statusRadio[t.filterParams.status].text)+" ")]):t._e()],1)]),s("div",{staticClass:"table-wrap"},[s("el-table",{ref:"gridTable",attrs:{data:t.tableData,stripe:""}},[s("el-table-column",{attrs:{label:"# Offer ID",prop:"code",width:"200",fixed:""},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",{staticStyle:{"margin-right":"10px"}},[t._v("# "+t._s(e.row.code))]),s("span",[s("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.moment(1e3*e.row.timeCreated).format("ll [at] LTS"),placement:"top"}},[s("i",{staticClass:"el-icon-date"})])],1)]}}])}),s("el-table-column",{attrs:{label:"Type"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.type?s("span",[t._v(t._s(t.$t("Orders")))]):s("span",[t._v(t._s(t.$t("Products")))])]}}])}),s("el-table-column",{attrs:{label:"QTY"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.accounts.length&&0==e.row.orderCnt?s("span",[t._v("---")]):s("div",[t._l(e.row.accounts,(function(e){return s("div",{key:e.shopName},[s("div",[s("shopCate",{attrs:{items:e}}),t._v(t._s(e.shopName))],1)])})),1==e.row.type?s("div",[t._v(t._s(t.$t("Total"))+" "+t._s(e.row.orderCnt)+" "+t._s(t.$t("orders")))]):s("div",[t._v(t._s(t.$t("Total"))+" "+t._s(e.row.orderCnt)+" "+t._s(t.$t("products")))]),3!=e.row.status&&Number(e.row.invalidOrderCnt)?s("div",{staticStyle:{color:"#909399"}},[t._v(" ("+t._s(e.row.invalidOrderCnt)+" "+t._s(t.$t("invalid"))+" "),s("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Some orders had been fulfilled or refunded",placement:"top"}},[s("i",{staticClass:"el-icon-question"})]),t._v(" ) ")],1):t._e()],2)]}}])}),s("el-table-column",{attrs:{label:"Income"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("div"),e.row.currency?t._e():s("span",[t._v("---")]),s("span",[t._v(t._s(t.ce[e.row.currency]?t.ce[e.row.currency].symbol:e.row.currency))]),t._v(" "+t._s(e.row.totalPrice)+" ")]}}])},[s("template",{slot:"header"},[t._v(" "+t._s(t.$t("Income"))+" "),s("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.$t("Income will only visible to you"),placement:"top"}},[s("i",{staticClass:"el-icon-question"})])],1)],2),"VendorsRespondingOffers"==t.$route.name||"WaitingForVendorsRespond"==t.$route.name?s("el-table-column",{attrs:{label:"Vendors respond",width:"190px"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("div"),"WaitingForVendorsRespond"==t.$route.name?s("span",[t._v("---")]):t._e(),"VendorsRespondingOffers"==t.$route.name?s("div",[s("div",[s("span",{staticStyle:{color:"#909399"}},[t._v(t._s(t.$t("Vendors"))+":")]),s("span",[t._v(t._s(e.row.vendorResponseCnt)+t._s(t.$t("responded"))+" ")])]),s("div",[s("span",{staticStyle:{color:"#909399"}},[t._v(t._s(t.$t("Offers"))+":")]),Number(e.row.offerPriceMin)||Number(e.row.offerPriceMax)?s("span",[t._v(" US$ "),s("span",{staticStyle:{color:"#f56c6c"}},[t._v(t._s(e.row.offerPriceMin))]),t._v(" - "),s("span",{staticStyle:{"margin-right":"5px",color:"#f56c6c"}},[t._v(t._s(e.row.offerPriceMax))]),s("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"The products offers that vendors had filled in.",placement:"top"}},[s("i",{staticClass:"el-icon-question"})])],1):s("span",[t._v(t._s(t.$t("waiting for responding")))])])]):t._e()]}}],null,!1,2278117733)}):t._e(),"ArchivedOffers"==t.$route.name?s("el-table-column",{attrs:{label:t.$t("Purchase Order")},scopedSlots:t._u([{key:"default",fn:function(e){return[s("div"),9==e.row.status?s("div",[t._v("-")]):s("div",[e.row.invoiceCode?s("div",{staticStyle:{color:"#5c6ac4"}},[t._v(" # "+t._s(e.row.invoiceCode)+" ")]):t._e(),e.row.invoiceStatus?s("div",{class:"tx-"+t.$dict.invoiceStatus[e.row.invoiceStatus].type},[t._v(" "+t._s(t.$dict.invoiceStatus[e.row.invoiceStatus].text)+" ")]):t._e()])]}}],null,!1,1653114663)}):t._e(),"ArchivedOffers"==t.$route.name?s("el-table-column",{attrs:{label:t.$t("Status")},scopedSlots:t._u([{key:"default",fn:function(e){return[s("div"),9==e.row.status?s("div",{staticStyle:{color:"#f56c6c"}},[t._v(" "+t._s(t.$t("Cancelled"))+" ")]):t._e(),3==e.row.status?s("div",{staticStyle:{color:"#67c23a"}},[t._v(" "+t._s(t.$t("Confirmed"))+" ")]):t._e()]}}],null,!1,2930016093)}):t._e(),s("el-table-column",{attrs:{label:"Action",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("div"),"WaitingForVendorsRespond"==t.$route.name?[s("div",[s("el-link",{attrs:{type:"primary"},on:{click:function(s){return t.openViewOrders(e.row)}}},[t._v(t._s(t.$t("View offers")))])],1),s("div",[s("el-link",{attrs:{type:"danger"},on:{click:function(s){return t.cancelOffer(e.row,e.$index)}}},[t._v(t._s(t.$t("Cancel offers")))])],1)]:t._e(),"VendorsRespondingOffers"==t.$route.name?[s("div",[s("el-link",{attrs:{type:"primary"},on:{click:function(s){return t.openViewOrders(e.row)}}},[t._v(t._s(t.$t("Check offers")))])],1),s("div",[s("el-link",{attrs:{type:"danger"},on:{click:function(s){return t.cancelOffer(e.row,e.$index)}}},[t._v(t._s(t.$t("Cancel offers")))])],1)]:t._e(),"ArchivedOffers"==t.$route.name?[s("div",[s("el-link",{attrs:{type:"primary"},on:{click:function(s){return t.openViewOrders(e.row,1)}}},[t._v(t._s(t.$t("View offer detail")))])],1)]:t._e()]}}])})],1)],1),s("div",{ref:"tableFooter"},[t.tableData.length?s("el-row",{attrs:{gutter:20}},[s("el-col",{staticClass:"d-flex justify-content-center",attrs:{span:24}},[s("div",{staticStyle:{position:"relative",top:"10px"}},[s("el-pagination",{attrs:{"current-page":Number(t.page),background:!0,layout:"sizes, total, prev, pager, next, jumper","page-sizes":t.pageSize,"page-size":t.rowsPerPage,total:Number(t.totalCount)},on:{"current-change":t.toPage,"size-change":t.changePageSize}})],1)])],1):t._e()],1)]),t.DialogViewOrders.item?s("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:!!t.DialogViewOrders.loading,expression:"!!DialogViewOrders.loading"}],attrs:{visible:t.DialogViewOrders.isShow,width:"90%"},on:{"update:visible":function(e){return t.$set(t.DialogViewOrders,"isShow",e)}}},[s("div",{attrs:{slot:"title"},slot:"title"},[s("span",{staticStyle:{"margin-right":"15px","font-size":"18px"}},[t._v("# "+t._s(t.DialogViewOrders.item.code))]),0==t.isProduct?s("span",{staticStyle:{color:"#909399","font-size":"14px"}},[t._v("("+t._s(t.$t("Total orders"))+": "+t._s(t.DialogViewOrders.item.orderCnt)+")")]):s("span",{staticStyle:{color:"#909399","font-size":"14px"}},[t._v("("+t._s(t.$t("Total Product"))+": "+t._s(t.productDuotationList.length)+")")])]),s("el-divider"),s("div",{staticStyle:{padding:"0 20px"}},[0==t.isProduct?s("div",{staticClass:"table-wrap"},[s("el-table",{ref:"gridTable",attrs:{data:t.DialogViewOrders.orders,stripe:"",height:"200"}},[s("el-table-column",{attrs:{label:t.$t("Order"),prop:"codeName",width:"100",fixed:""},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",[t._v(t._s(e.row.codeName))])]}}],null,!1,2865335244)}),s("el-table-column",{attrs:{label:t.$t("My Store"),prop:"codeName",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("div",{staticClass:"tx-ellipsis1",staticStyle:{display:"inline-block","max-width":"200px","font-size":"12px"}},[s("shopCate",{attrs:{items:e.row}}),t._v(" "+t._s(e.row.store)+" ")],1)]}}],null,!1,1792919829)}),s("el-table-column",{attrs:{label:t.$t("Date"),width:"190"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t.moment(e.row.timeCreated).format("ll [at] LTS"))+" ")]}}],null,!1,3284638925)}),s("el-table-column",{attrs:{label:t.$t("Customer"),width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("popShippingJson",{attrs:{item:e.row},on:{onCopy:t.onCopy,onError:t.onError}})]}}],null,!1,291841290)}),s("el-table-column",{attrs:{label:t.$t("Total"),align:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",[t._v(t._s(t.ce[e.row.currency]?t.ce[e.row.currency].symbol:e.row.currency))]),t._v(" "+t._s(e.row.totalPrice)+" ")]}}],null,!1,2790810410)}),s("el-table-column",{attrs:{label:t.$t("Payment"),width:"170"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.financialStatus&&"voided"!=e.row.financialStatus?s("el-tag",{attrs:{size:"small",type:t.paymentArr[e.row.financialStatus].type}},[s("span",{staticClass:"-EFlq",class:"bg"+t.paymentArr[e.row.financialStatus].r}),t._v(" "+t._s(t.paymentArr[e.row.financialStatus].text)+" ")]):t._e()]}}],null,!1,638173462)}),s("el-table-column",{attrs:{label:t.$t("Fulfillment"),width:"150"},scopedSlots:t._u([{key:"default",fn:function(t){return[s("fulfillMentStatusTag",{attrs:{fulfillmentStatus:t.row.fulfillmentStatus}})]}}],null,!1,4216136717)}),s("el-table-column",{attrs:{label:"Items"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.items?s("popItems",{attrs:{items:e.row.items,fulfillmentStatus:e.row.fulfillmentStatus}}):t._e()]}}],null,!1,232419951)})],1)],1):s("div",{staticClass:"table-wrap"},[s("el-table",{ref:"gridTable",attrs:{data:t.productDuotationList,stripe:"",height:"200"}},[s("el-table-column",{attrs:{label:t.$t("Product images"),prop:"img"},scopedSlots:t._u([{key:"default",fn:function(t){return[s("img",{staticClass:"imgItem",attrs:{src:t.row.imgUrl}})]}}],null,!1,2758026678)}),s("el-table-column",{attrs:{label:t.$t("Details"),prop:"Details"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",[t._v(t._s(e.row.detail))])]}}],null,!1,3881849303)}),s("el-table-column",{attrs:{label:t.$t("Expected price (US$)")},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.expectPrice?s("span",[t._v("US$ "+t._s(e.row.expectPrice))]):s("span",[t._v("---")])]}}],null,!1,1979654197)}),s("el-table-column",{attrs:{label:"Remark"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.remarks?s("span",[t._v(t._s(e.row.remarks))]):s("span",[t._v("---")])]}}],null,!1,5942332)})],1)],1),s("el-divider"),s("div",{staticClass:"table-wrap"},[s("div",{staticClass:"d-flex"},[s("h3",{staticStyle:{"margin-right":"15px",height:"36px","line-height":"36px","font-weight":"bold","font-size":"16px"}},[t._v(" "+t._s(t.$t("Vendors respond"))+" ")]),s("div",{staticStyle:{"font-size":"16px"}},[s("span",{staticStyle:{color:"#909399"}},[t._v(t._s(t.$t("total"))+":")]),t._v(" "+t._s(t.DialogViewOrders.respond.length)+" ")])]),s("el-table",{ref:"gridTable",attrs:{data:t.DialogViewOrders.respond,stripe:"",height:"200"}},[s("el-table-column",{attrs:{label:"Status"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-radio",{attrs:{disabled:"3"!=e.row.status||"ArchivedOffers"==t.$route.name,label:e.row.id,name:"1"},model:{value:t.DialogViewOrders.radio,callback:function(e){t.$set(t.DialogViewOrders,"radio",e)},expression:"DialogViewOrders.radio"}},[s("span",{class:t.respondStatus[e.row.status].style},[t._v(t._s(t.respondStatus[e.row.status].text))])])]}}],null,!1,3599246540)}),s("el-table-column",{attrs:{label:"Vendor name"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.vendor.vendorName?s("span",[t._v("Shop# "+t._s(e.row.vendor.id))]):s("span",[t._v("---")])]}}],null,!1,2568367358)}),s("el-table-column",{attrs:{label:"Date",sortable:"",prop:"timeCreated"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t.moment(1e3*e.row.timeCreated).format("ll [at] LTS"))+" ")]}}],null,!1,437414662)}),s("el-table-column",{attrs:{label:0==t.isProduct?"Offered Orders":"Offered Products"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.status?[t._v(" --- ")]:[s("span",{staticClass:"text-danger"},[t._v(t._s(e.row.priceCnt))]),t._v(" of "+t._s(e.row.totalItemCnt)+" ")]]}}],null,!1,2573206133)}),s("el-table-column",{attrs:{label:"Offer price"},scopedSlots:t._u([{key:"default",fn:function(e){return[3!=e.row.status?[t._v(" --- ")]:[1==t.isProduct?s("span",[t._v("US$ "+t._s(e.row.minPrice+" ~ "+e.row.maxPrice))]):s("span",[t._v("US$ "+t._s(e.row.totalPrice))])]]}}],null,!1,289921166)}),s("el-table-column",{attrs:{label:"Action"},scopedSlots:t._u([{key:"default",fn:function(e){return[3==e.row.status||4==e.row.status?s("div",[s("el-link",{attrs:{type:"primary"},on:{click:function(s){return t.openItemsDetail(e.row)}}},[t._v(t._s(t.$t("View offer detail")))])],1):t._e()]}}],null,!1,4208124836)})],1)],1)],1),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(e){t.DialogViewOrders.isShow=!1}}},[t._v(t._s(t.$t("Discard")))]),"ArchivedOffers"!=t.$route.name?s("el-button",{attrs:{type:"primary",disabled:!t.DialogViewOrders.radio},on:{click:t.confirmOffer}},[t._v(t._s(t.$t("Confirm this Offer")))]):t._e()],1)],1):t._e(),t.DialogItemsDetail.item?s("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:t.DialogItemsDetail.loading,expression:"DialogItemsDetail.loading"}],attrs:{visible:t.DialogItemsDetail.isShow,width:"90%"},on:{"update:visible":function(e){return t.$set(t.DialogItemsDetail,"isShow",e)}}},[s("div",{attrs:{slot:"title"},slot:"title"},[s("span",{staticStyle:{"margin-right":"15px","font-size":"18px"}},[t._v("# "+t._s(t.DialogViewOrders.item.code))]),s("span",{staticStyle:{color:"#909399","font-size":"14px"}},[t._v(" ("+t._s(t.$t("Vendor"))+": "),s("span",{staticStyle:{"margin-right":"25px",color:"#606266"}},[t._v(" "+t._s(t.DialogItemsDetail.item.vendor.vendorName)+" # "+t._s(t.DialogItemsDetail.item.vendor.id)+" ")]),0==t.isProduct?s("span",[t._v(t._s(t.$t("Offered Orders"))+":")]):s("span",[t._v(t._s(t.$t("Offered Products"))+":")]),s("span",{staticStyle:{color:"#606266"}},[t._v(t._s(t.DialogItemsDetail.item.priceCnt))]),t._v(" of "+t._s(t.DialogItemsDetail.item.totalItemCnt)+" ) ")])]),s("el-divider"),s("div",{staticStyle:{padding:"20px"}},[s("el-row",[s("el-col",{ref:"pageTabs",attrs:{span:24}},[s("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.DialogItemsDetail.activeName,callback:function(e){t.$set(t.DialogItemsDetail,"activeName",e)},expression:"DialogItemsDetail.activeName"}},[s("el-tab-pane",{attrs:{label:0==t.isProduct?t.$t("All Orders"):t.$t("All Products"),name:"AllOrders"}}),s("el-tab-pane",{attrs:{label:0==t.isProduct?t.$t("Offered Orders"):t.$t("Offered Products"),name:"OfferedOrders"}}),0==t.isProduct?s("el-tab-pane",{attrs:{label:"Invaild Orders",name:"InvaildOrders"}}):t._e()],1)],1)],1),s("div",{staticClass:"table-wrap",staticStyle:{position:"relative",top:"-15px",border:"1px #dcdfe6 solid",padding:"15px"}},[0==t.isProduct?s("el-table",{ref:"gridTable-items",attrs:{data:t.DialogItemsDetail.list,stripe:"",height:"250"}},[s("el-table-column",{attrs:{label:t.$t("Orders")},scopedSlots:t._u([{key:"default",fn:function(e){return[s("div",{staticClass:"table-shopify-wrapper",staticStyle:{"text-align":"center"}},[s("div",{staticClass:"code tx-600"},[s("popShippingJson",{attrs:{isicon:"1",item:e.row,type:2},on:{onCopy:t.onCopy,onError:t.onError}})],1),s("div",{staticClass:"date"},[t._v(" "+t._s(e.row.timeCreated?t.moment(e.row.timeCreated).format("ll"):"---")+" ")])])]}}],null,!1,834270537)}),s("el-table-column",{attrs:{label:t.$t("Items"),width:"250"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[s("div",{staticClass:"table-items-wrapper"},[s("div",{staticClass:"items-image"},[s("el-image",{staticClass:"image",attrs:{lazy:"",src:i.imgUrl,"preview-src-list":i.previewList}},[s("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[s("i",{staticClass:"el-icon-picture-outline"})])])],1),s("div",{staticClass:"items-content"},[s("div",{staticClass:"items-title tx-600"},[t._v(t._s(i.name))]),i.customerProperties&&i.customerProperties.length?s("div",{staticStyle:{"white-space":"initial"}},t._l(i.customerProperties,(function(e,i){return s("div",{key:i,staticClass:"mg-r-5",staticStyle:{display:"inline-block"}},[t._v(" "+t._s(e.name)+": "),s("span",{staticStyle:{color:"#909399"}},[t._v(t._s(e.value))])])})),0):t._e(),s("div",{staticClass:"item-info"},[i.shippingJson&&i.shippingJson.name?s("span",[t._v("To "+t._s(i.shippingJson.name)+" ")]):t._e(),i.shippingJson&&i.shippingJson.country?s("span",[t._v(" ("+t._s(i.shippingJson.country)+")")]):t._e()])])])]}}],null,!1,2938769249)}),s("el-table-column",{attrs:{label:t.$t("Quantity"),align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.quantity)+" ")]}}],null,!1,1917492518)}),s("el-table-column",{attrs:{label:"Income"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" US$ "+t._s(e.row.incomePrice)+" ")]}}],null,!1,2939278833)}),s("el-table-column",{attrs:{label:t.$t("Offer Price")+"(US$)"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.offerPrice?s("span",{staticClass:"tx-danger"},[t._v(" "+t._s(e.row.offerPrice)+" ")]):s("span",{staticStyle:{color:"#c0c4cc"}},[t._v("---")])]}}],null,!1,1356314841)}),s("el-table-column",{attrs:{label:"Profit (US$)"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",{staticClass:"tx-success"},[t._v(t._s(e.row.profit))])]}}],null,!1,2692906452)},[s("template",{slot:"header"},[t._v(" Profit (US$) "),s("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"About Profit = Income - Cost",placement:"top"}},[s("i",{staticClass:"el-icon-question"})])],1)],2)],1):s("el-table",{ref:"gridTable-items",attrs:{data:t.productsItems,stripe:"",height:"150"}},[s("el-table-column",{attrs:{label:t.$t("Product"),prop:"codeName",width:"200",fixed:""},scopedSlots:t._u([{key:"default",fn:function(t){return[s("img",{staticClass:"imgItem",attrs:{src:t.row.imgUrl}})]}}],null,!1,2758026678)}),s("el-table-column",{attrs:{label:"Items"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.offerPrices&&e.row.offerPrices.length?s("el-popover",{attrs:{placement:"right-start",trigger:"hover",width:"400"}},[s("div",{staticClass:"pop-sku"},t._l(e.row.offerPrices,(function(i,a){return s("div",{key:i.id,style:{borderBottom:e.row.offerPrices.length-1!=a?"1px #EBEEF5 solid":"none"}},[s("div",{staticClass:"image-wrap"},[s("el-image",{staticStyle:{"min-width":"50px",width:"50px",height:"50px"},attrs:{src:e.row.imgUrl,fit:"cover"}},[s("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[s("i",{staticClass:"el-icon-picture-outline",staticStyle:{color:"#C0C4CC","font-size":"20px"}})])])],1),s("div",{staticClass:"info"},[s("div",{staticClass:" mg-b-10"},[s("i",[t._v("US$ "+t._s(i.price))])]),s("div",{staticClass:" tx-ellipsis2",staticStyle:{"word-break":"normal"}},[t._v(t._s(i.variableId))]),s("div",[t._v(t._s(i.productName))])])])})),0),s("span",{staticStyle:{display:"inline-block",cursor:"pointer"},attrs:{slot:"reference"},slot:"reference"},[s("span",[t._v(t._s(e.row.offerPrices.length)+" Items")]),e.row.offerPrices.length?s("i",{staticClass:"el-icon-caret-bottom"}):t._e()])]):t._e()]}}],null,!1,2864911250)}),s("el-table-column",{attrs:{label:t.$t("Quantity"),align:"center"}},[t._v(" --- ")]),s("el-table-column",{attrs:{label:t.$t("Income")}},[t._v(" --- ")]),s("el-table-column",{attrs:{label:t.$t("Offer Price")+" (US$)"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" US$ "),e.row.minPrice?s("span",{staticClass:"tx-danger"},[t._v(" "+t._s(e.row.minPrice)+" ")]):s("span",{staticStyle:{color:"#c0c4cc"}},[t._v("---")])]}}],null,!1,2802974175)})],1)],1)],1),s("el-divider"),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("div",{staticClass:"d-flex",staticStyle:{"text-align":"left"}},[s("div",{staticStyle:{flex:"1"}},[s("span",{staticStyle:{color:"#909399"}},[t._v(t._s(t.$t("Vendor"))+":")]),0==t.isProduct?s("span",[t._v(t._s(t.DialogItemsDetail.item.vendor.vendorName))]):s("span",[t._v("Shop")]),t._v(" # "+t._s(t.DialogItemsDetail.item.vendor.id)+" ")]),s("div",{staticStyle:{flex:"1"}},[0==t.isProduct?s("span",{staticStyle:{"margin-right":"5px",color:"#909399"}},[t._v(t._s(t.$t("Offered Orders"))+":")]):s("span",{staticStyle:{"margin-right":"5px",color:"#909399"}},[t._v(t._s(t.$t("Offered Products"))+":")]),1==t.DialogItemsDetail.item.status?[t._v("---")]:[s("b",{staticStyle:{color:"#303133"}},[t._v(t._s(t.DialogItemsDetail.item.priceCnt))]),t._v(" of "+t._s(t.DialogItemsDetail.item.totalItemCnt)+" ")]],2),s("div",{staticStyle:{flex:"1"}},[s("span",{staticStyle:{"margin-right":"5px",color:"#909399"}},[t._v(t._s(t.$t("Offer Price"))+":")]),t._v(" US$ "),1==t.isProduct?s("span",{staticStyle:{color:"#f56c6c"}},[t._v(t._s(t.offerPrices))]):t._e(),0==t.isProduct?s("span",{staticStyle:{color:"#f56c6c"}},[t._v(t._s(t.DialogItemsDetail.item.totalPrice))]):t._e()]),s("div",{staticStyle:{flex:"1","text-align":"right"}},[s("el-button",{on:{click:function(e){t.DialogItemsDetail.isShow=!1}}},[t._v(t._s(t.$t("Discard")))])],1)])])],1):t._e()],1)},a=[],r=(s("99af"),s("a15b"),s("d81d"),s("a434"),s("b0c0"),s("a9e3"),s("b680"),s("ac1f"),s("5319"),s("159b"),s("5530")),o=s("2d10"),l=s("e98b"),n=s("6b2f"),c=s("716a"),p={props:["dateArr","sortArr","paymentArr","storeList","options"],data:function(){return{cascaderKey:1,offerPrices:"",isProduct:!1,loading:!1,tableData:[],productsItems:[],pageSize:[20,50,100],page:this.$route.query.page?Number(this.$route.query.page):1,rowsPerPage:localStorage.getItem("c_WaitingForVendorsRespondRowsPerPage")?Number(localStorage.getItem("c_WaitingForVendorsRespondRowsPerPage")):20,totalCount:0,totalPage:0,ce:this.$CE,isManage:1,codeName:"",code:"",filterParams:{type:"",code:"",codeName:"",shopifyStore:[],fulfillStatus:[],timeFilter:"",dateFrom:"",dateTo:"",sortBy:"",status:""},filterParamsDefault:"{}",shopifyStoreName:"",popTypeFilter:!1,popStoreFilter:!1,popFulfillFilter:!1,popDateFilter:!1,popSortFilter:!1,popStatusFilter:!1,filterDate:[],productDuotationList:[],DialogViewOrders:{isShow:!1,loading:0,type:1,item:null,orders:[],respond:[],radio:""},DialogViewOrdersDefault:"{}",respondStatus:{1:{text:"checking",style:"tx-warning"},2:{text:"offering",style:"tx-warning"},3:{text:"complete",style:"tx-success"},4:{text:"confirmed",style:"tx-success"},9:{text:"invalid",style:"tx-danger"}},DialogItemsDetail:{isShow:!1,loading:!1,item:null,activeName:"AllOrders",list:[]},DialogItemsDetailDefault:"{}",statusRadio:{3:{text:"Confirmed",style:"tx-success"},9:{text:"Cancelled",style:"tx-danger"}}}},components:{popShippingJson:o["a"],fulfillMentStatusTag:l["a"],popItems:n["a"],shopCate:c["a"]},computed:{itemTotal:function(){var t={offerPrice:0,profit:0};return this.DialogItemsDetail.list.forEach((function(e){Number(e.offerPrice)&&(t.offerPrice+=Number(e.offerPrice),t.profit+=Number(e.profit))})),t.offerPrice=t.offerPrice.toFixed(2),t.profit=t.profit.toFixed(2),t}},watch:{$route:"gotoPage","filterParams.shopifyStore":function(){var t=this;if(this.filterParams.shopifyStore.length){var e=[];this.filterParams.shopifyStore.forEach((function(s){t.storeList.forEach((function(t){s==t.shopifyAccountId&&e.push(t.store)}))})),this.shopifyStoreName=e.join(",")}}},mounted:function(){this.filterParamsDefault=JSON.stringify(this.filterParams),this.DialogViewOrdersDefault=JSON.stringify(this.DialogViewOrders),this.DialogItemsDetailDefault=JSON.stringify(this.DialogItemsDetail),this.getItems()},methods:{checkOffers:function(t){},getItemsDetail:function(){var t=this;this.DialogItemsDetail.loading=!0;var e={offerId:this.DialogItemsDetail.item.offerListId,vendorId:this.DialogItemsDetail.item.vendorId};"OfferedOrders"==this.DialogItemsDetail.activeName&&(e.offered=1),"InvaildOrders"==this.DialogItemsDetail.activeName&&(e.invaild=1),this.$apiCall("api.OfferList.getOfferItemsDetail",e,(function(e){t.DialogItemsDetail.loading=!1,"9999"==e.ErrorCode?0==t.isProduct?(t.DialogItemsDetail.list=e.Data.Results.map((function(t){return t.shippingJson=JSON.parse(t.shippingJson),t})),t.$refs["gridTable-items"].bodyWrapper.scrollTop=0):t.productsItems=e.Data.Results:t.$elementMessage(e.Message,"error")}))},handleClick:function(t){this.DialogItemsDetail.activeName=t.name,this.getItemsDetail()},openItemsDetail:function(t){this.offerPrices="".concat(t.minPrice," ~ ").concat(t.maxPrice),this.DialogItemsDetail=JSON.parse(this.DialogItemsDetailDefault),this.DialogItemsDetail.item=t,this.DialogItemsDetail.isShow=!0,this.getItemsDetail()},confirmOffer:function(){var t=this,e={};this.DialogViewOrders.respond.forEach((function(s){s.id==t.DialogViewOrders.radio&&(e.vendorId=s.vendorId),e.offerId=s.offerListId})),this.DialogViewOrders.loading=!0,this.$apiCall(0==this.isProduct?"api.OfferList.genOfferToInvoice":"api.OfferList.genOfferToImportProduct",e,(function(e){t.DialogViewOrders.loading=!1,"9999"==e.ErrorCode?(t.DialogViewOrders.isShow=!1,t.$elementMessage("success","success"),t.$router.push({name:"ArchivedOffers"})):t.$elementMessage(e.Message,"error")}))},openViewOrders:function(t,e){var s=this;2==t.type?this.isProduct=!0:this.isProduct=!1,this.$emit("getNum"),this.productDuotationList=[],this.DialogViewOrders=JSON.parse(this.DialogViewOrdersDefault),this.DialogViewOrders.item=Object(r["a"])({},t),this.DialogViewOrders.isShow=!0,this.DialogViewOrders.loading=2;var i={offerListId:t.id};e&&(i.offerFinished=e),2==t.type?this.$apiCall("api.OfferList.getProductOfferItems",{offerId:t.id},(function(t){s.DialogViewOrders.loading--,"9999"==t.ErrorCode?s.productDuotationList=t.Data.Results:(s.$elementMessage(t.Message,"error"),s.DialogViewOrders.isShow=!1)})):this.$apiCall("api.Invoice.shopifyOrders",i,(function(t){s.DialogViewOrders.loading--,"9999"==t.ErrorCode?s.DialogViewOrders.orders=t.Data.Results.map((function(t){return t.checked=!1,t.shippingJson=JSON.parse(t.shippingJson),t})):(s.$elementMessage(t.Message,"error"),s.DialogViewOrders=JSON.parse(s.DialogViewOrdersDefault))})),this.$apiCall("api.OfferList.getOfferVendorList",{offerId:t.id},(function(t){if(s.DialogViewOrders.loading--,"9999"==t.ErrorCode){if(s.DialogViewOrders.respond=[],!t.Data.Results.length)return;t.Data.Results.forEach((function(t){"9"!=t.status&&(t.checked=!1,s.DialogViewOrders.respond.push(t))})),t.Data.Results.forEach((function(t){"9"==t.status&&(t.checked=!1,s.DialogViewOrders.respond.push(t))})),s.DialogViewOrders.respond.length||(s.DialogViewOrders.respond=[{checked:!1}])}else s.$elementMessage(t.Message,"error"),s.DialogViewOrders.isShow=!1}))},cancelOffer:function(t,e){var s=this;this.$confirm(this.$t("Yes, I want to CANCEL this offer"),"",{confirmButtonText:"Cancel",cancelButtonText:"Discard",confirmButtonClass:" el-button--danger",type:"info"}).then((function(){s.loading=!0,s.$apiCall("api.OfferList.cancelOffer",{offerId:t.id},(function(t){s.loading=!1,"9999"==t.ErrorCode?(s.$elementMessage(s.$t("Cancel the success"),"success"),s.tableData.splice(e,1),s.$emit("getNum"),s.totalCount--):s.$elementMessage(t.Message,"error")}))})),setTimeout((function(){document.querySelectorAll(".el-message-box__btns .el-button").forEach((function(t){t.blur()}))}),200)},filterItems:function(t){switch(t){case"code":this.filterParams.code=this.code.replace(/#/g,"");break;case"name":this.filterParams.codeName=this.codeName.replace(/#/g,"");break;case"date":this.filterDate=[],this.filterParams.dateFrom="",this.filterParams.dateTo="";break;default:this.filterParams.code=this.code.replace(/#/g,""),this.filterParams.codeName=this.codeName.replace(/#/g,"");break}6!=this.timeFilter&&this.resetPage()},clearFilter:function(t){switch(t){case"code":this.filterParams.code=this.code="";break;case"name":this.filterParams.codeName=this.codeName="";break;case"type":this.filterParams.type="",this.popTypeFilter=!1;break;case"store":this.filterParams.shopifyStore=[],this.popStoreFilter=!1,++this.cascaderKey;break;case"date":this.filterParams.timeFilter="",this.filterDate=[],this.filterParams.dateFrom="",this.filterParams.dateTo="",this.popDateFilter=!1;break;case"fulfill":this.filterParams.fulfillStatus=[],this.popFulfillFilter=!1;break;case"sort":this.filterParams.sortBy="",this.popSortFilter=!1;break;case"status":this.filterParams.status="",this.popStatusFilter=!1;break;default:this.filterParams=JSON.parse(this.filterParamsDefault),this.code=this.codeName="",this.filterDate=[]}this.resetPage()},getItems:function(){var t=this,e=[];this.filterParams.shopifyStore[1]&&e.push(this.filterParams.shopifyStore[1]);var s={type:this.filterParams.type,page:this.page,rowsPerPage:this.rowsPerPage,code:this.filterParams.code,codeNameLike:this.filterParams.codeName,accountIds:e,timeFilter:this.filterParams.timeFilter>=6?"":this.filterParams.timeFilter,dateFrom:this.filterParams.dateFrom,dateTo:this.filterParams.dateTo,sort:this.filterParams.sortBy};"VendorsRespondingOffers"==this.$route.name&&(s.status=2),"WaitingForVendorsRespond"==this.$route.name&&(s.status=1),"ArchivedOffers"==this.$route.name&&(s.status=this.filterParams.status||"39"),this.loading=!0,this.$apiCall("api.OfferList.findByCustomer",s,(function(e){t.loading=!1,"9999"==e.ErrorCode?(t.totalPage=e.Data.Pagination.totalPage,t.totalCount=e.Data.Pagination.totalCount,t.tableData=e.Data.Results.length?e.Data.Results.map((function(t){return t})):[]):t.$elementMessage(e.Message,"error")}))},dateChange:function(){this.filterDate.length>1&&(this.filterParams.dateFrom=moment(this.filterDate[0]).unix(),this.filterParams.dateTo=moment(this.filterDate[1]).endOf("d").unix(),this.resetPage())},gotoPage:function(){this.page=this.$route.query.page?this.$route.query.page:1,this.getItems()},toPage:function(t){t!=this.$route.query.page&&this.$router.push({query:{page:t}})},resetPage:function(){1==this.$route.query.page?this.getItems():this.$router.push({query:{page:1}})},changePageSize:function(t){this.rowsPerPage=t,localStorage.setItem("c_WaitingForVendorsRespondRowsPerPage",t),this.getItems()},onCopy:function(t){this.$elementMessage(this.$t("Has been copied to the clipboard"),"success")},onError:function(t){this.$elementMessage(this.$t("Copy to clipboard failed, please copy manually"),"error")}}},d=p,u=(s("90cf"),s("9e78"),s("2877")),f=Object(u["a"])(d,i,a,!1,null,"0c2f6bf1",null);e["default"]=f.exports},"8d16":function(t,e,s){"use strict";s("eba5")},"8d80":function(t,e,s){"use strict";s("efe5")},"90cf":function(t,e,s){"use strict";s("9d33")},"9d33":function(t,e,s){},"9e78":function(t,e,s){"use strict";s("c450")},a15b:function(t,e,s){"use strict";var i=s("23e7"),a=s("44ad"),r=s("fc6a"),o=s("a640"),l=[].join,n=a!=Object,c=o("join",",");i({target:"Array",proto:!0,forced:n||!c},{join:function(t){return l.call(r(this),void 0===t?",":t)}})},b65d:function(t,e,s){},c450:function(t,e,s){},e74a:function(t,e,s){t.exports=s.p+"img/shopee_icon.c6765767.png"},e98b:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.fulfillmentStatus?s("el-tag",{staticClass:"shopfiy-status",attrs:{size:"small",type:t.fulfillArr[t.fulfillmentStatus].type}},[s("span",{staticClass:"-EFlq",class:"bg"+t.fulfillArr[t.fulfillmentStatus].r}),t._v(" "+t._s(t.fulfillArr[t.fulfillmentStatus].text)+" ")]):s("el-tag",{attrs:{size:"small",type:"warning"}},[s("span",{staticClass:"-EFlq bg1"}),t._v(" Unfulfilled ")])],1)},a=[],r={props:["fulfillmentStatus"],data:function(){return{fulfillArr:{fulfilled:{text:"Fulfilled",type:"info",r:3},unfulfilled:{text:"Unfulfilled",type:"warning",r:1},partial:{text:"Partially Fulfilled",type:"danger",r:2},refunded:{text:"Refunded",type:"info",r:3}}}}},o=r,l=(s("4350"),s("2877")),n=Object(l["a"])(o,i,a,!1,null,"d93044ba",null);e["a"]=n.exports},eba5:function(t,e,s){},efe5:function(t,e,s){}}]);
//# sourceMappingURL=MakeOffers2.9a5e9d2a.js.map