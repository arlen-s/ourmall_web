{"version":3,"sources":["webpack:///./src/views/more.vue","webpack:///src/views/more.vue","webpack:///./src/views/more.vue?f8ab","webpack:///./src/views/more.vue?f207","webpack:///./src/views/more.vue?94ea","webpack:///./src/components/productQuotation.vue?b3d6","webpack:///./src/components/productQuotation.vue","webpack:///src/components/productQuotation.vue","webpack:///./src/components/productQuotation.vue?a003","webpack:///./src/components/productQuotation.vue?ad34"],"names":["render","_vm","this","_c","_self","directives","name","rawName","value","allLoading","expression","staticClass","ref","staticStyle","_v","_s","$root","$children","pName","a","attrs","nativeOn","$event","type","indexOf","_k","keyCode","key","search","apply","arguments","model","input","callback","$$v","on","slot","categoryId","_l","commodityTypeMoreList","item","id","quotation","path","content","_e","items","length","loading","imgUrl","goToDetail","$store","state","country","symbol","$exchangeRate","cost","hasImport","import_pro","Number","page","pageSizes","rowsPerPage","total","toPage","changePageSize","style","top","ball","y","left","x","opacity","visible","staticRenderFns","props","data","totalPage","mounted","watch","$route","components","Quotation","methods","query","moreName","getCategory","getItems","r","localStorage","gotoPage","setTimeout","actualTop","actualLeft","current","document","computed","product","text","component","openCardDialog","closeDialog","imgView","imgList","openForm","isForm","form","uploadOpen","details","$set","price","remark","saveQuotation","submit","closeQuotation","Base64","default","outerVisible","innerVisible","dialogVisible","detailsList","priceList","remarkList","get","set","img","ext","reader","base64Image","file","uploadImgBase64","imgUrlBase64","products","detail","expectPrice","remarks"],"mappings":"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","file":"js/more.9bc11398.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.allLoading),expression:\"allLoading\"}],staticClass:\"contentpanel box\"},[_c('div',{ref:\"pageHeader\",staticClass:\"pagetitle\",staticStyle:{\"padding-right\":\"0\",\"flex-wrap\":\"wrap\"}},[_c('div',{staticClass:\"left\"},[_c('div',{staticClass:\"title\"},[_c('i',{staticClass:\"el-icon-s-goods\"}),_c('h2',[_vm._v(_vm._s(_vm.$root.$children[0].pName.a)+\" Products Market\")])])]),_c('el-row',{staticStyle:{\"margin-right\":\"20px\"},attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":21}},[_c('div',{staticStyle:{\"margin-top\":\"5px\"}},[_c('el-input',{staticClass:\"input-with-select\",staticStyle:{\"min-width\":\"550px\"},attrs:{\"placeholder\":\"Search products\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.search.apply(null, arguments)}},model:{value:(_vm.input),callback:function ($$v) {_vm.input=$$v},expression:\"input\"}},[_c('el-select',{attrs:{\"slot\":\"append\",\"placeholder\":\"IN ALL CATEGORIES\"},on:{\"change\":_vm.search},slot:\"append\",model:{value:(_vm.categoryId),callback:function ($$v) {_vm.categoryId=$$v},expression:\"categoryId\"}},[_c('el-option',{attrs:{\"label\":\"IN ALL CATEGORIES\",\"value\":\"\"}}),_vm._l((_vm.commodityTypeMoreList),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.name,\"value\":item.id}})})],2),_c('el-button',{attrs:{\"slot\":\"prepend\",\"icon\":\"el-icon-search\"},slot:\"prepend\"})],1)],1)]),_c('el-col',{attrs:{\"span\":3}},[_c('el-button',{staticStyle:{\"margin-top\":\"4px\"},attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.search()}}},[_vm._v(\"SEARCH\")])],1)],1),_c('div',{staticClass:\"right\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.quotation()}}},[_c('i',{staticClass:\"el-icon-plus\"}),_vm._v(\" Request Quotation \")])],1)],1),_c('div',{staticClass:\"pagetitle\",staticStyle:{\"height\":\"53px\"}},[_c('el-breadcrumb',{attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',{attrs:{\"to\":{ path: '/find-products' }}},[_vm._v(_vm._s(_vm.$root.$children[0].pName.a)+\" Products Market\")]),(this.content)?_c('el-breadcrumb-item',[_c('span',[_vm._v(\"Keywords \"),_c('b',[_vm._v(_vm._s(this.content))]),_vm._v(\" results\")]),(this.content && this.categoryId)?_c('span',[_vm._v(\" in \"+_vm._s(this.categoryId))]):_vm._e()]):(!this.categoryId && !this.content)?_c('el-breadcrumb-item',[_vm._v(\" IN ALL CATEGORIES \")]):_c('el-breadcrumb-item',[_vm._v(\" \"+_vm._s(this.categoryId)+\" \")])],1)],1),(_vm.items && _vm.items.length == 0)?_c('div',{staticStyle:{\"width\":\"100%\"}},[_c('el-card',[_c('b',[_vm._v(\"There are no products in this category\")])])],1):_c('el-card',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],attrs:{\"body-style\":\"padding:20px 0 20px 0;\"}},[_c('div',{staticClass:\"list\"},_vm._l((_vm.items),function(item){return _c('el-col',{key:item.id,staticStyle:{\"margin-bottom\":\"20px\"},attrs:{\"sm\":12,\"md\":8,\"lg\":6,\"xl\":4}},[_c('div',{staticClass:\"pro_box\"},[_c('div',{staticClass:\"pro_img\"},[_c('div',{staticClass:\"img-wrap\"},[_c('el-image',{staticStyle:{\"position\":\"absolute\",\"width\":\"100%\",\"height\":\"100%\"},attrs:{\"fit\":'cover',\"src\":item.imgUrl},on:{\"click\":function($event){return _vm.goToDetail(item)}}})],1)]),_c('div',{staticClass:\"pro_name\",on:{\"click\":function($event){return _vm.goToDetail(item)}}},[_c('a',{attrs:{\"href\":\"javescript:;\"}},[_vm._v(_vm._s(item.name))])]),_c('div',{staticClass:\"price\"},[_c('span',{staticClass:\"pro_cost\"},[_vm._v(_vm._s(_vm.$store.state.country.symbol)+\" \"+_vm._s(_vm.$exchangeRate(item.cost)))])]),_c('div',{staticClass:\"imports\"}),_c('div',{staticStyle:{\"display\":\"flex\",\"width\":\"100%\",\"justify-content\":\"center\",\"margin-top\":\"15px\"}},[_c('el-dropdown',[_c('el-button',{attrs:{\"type\":\"primary\"}},[_vm._v(\" Add to Import List\"),_c('i',{staticClass:\"el-icon-arrow-down el-icon--right\"})]),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('el-dropdown-item',{staticClass:\"importBut\",attrs:{\"disabled\":item.hasImport == 1},nativeOn:{\"click\":function($event){return _vm.import_pro(item, $event)}}},[_vm._v(\"Add to Import List\")]),_c('el-dropdown-item',{nativeOn:{\"click\":function($event){return _vm.goToDetail(item)}}},[_vm._v(\"Add to Cart\")])],1)],1)],1)])])}),1)])],1),(_vm.items.length)?_c('el-row',{staticStyle:{\"margin\":\"20px 0\"},attrs:{\"gutter\":20}},[_c('el-col',{staticClass:\"d-flex justify-content-center\",attrs:{\"span\":24}},[_c('div',[_c('el-pagination',{attrs:{\"current-page\":Number(_vm.page),\"background\":true,\"layout\":\"sizes, total, prev, pager, next, jumper\",\"page-sizes\":_vm.pageSizes,\"page-size\":_vm.rowsPerPage,\"total\":Number(_vm.total)},on:{\"current-change\":_vm.toPage,\"size-change\":_vm.changePageSize}})],1)])],1):_vm._e(),_c('div',{staticClass:\"ball\",style:({\n        top: `${_vm.ball.y}px`,\n        left: `${_vm.ball.x}px`,\n        opacity: _vm.ball.opacity,\n      })}),_c('Quotation',{attrs:{\"visible\":_vm.visible},on:{\"update:visible\":function($event){_vm.visible=$event}}}),_c('el-backtop',{staticClass:\"goto-top\",attrs:{\"target\":\".main-scroll  .el-scrollbar__wrap\",\"right\":20,\"bottom\":120}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <div class=\"contentpanel box\" v-loading=\"allLoading\">\r\n      <div class=\"pagetitle\" ref=\"pageHeader\" style=\"padding-right:0;flex-wrap:wrap\">\r\n        <div class=\"left\">\r\n          <div class=\"title\">\r\n            <i class=\"el-icon-s-goods\"></i>\r\n            <h2>{{$root.$children[0].pName.a}} Products Market</h2>\r\n          </div>\r\n        </div>\r\n        <el-row :gutter=\"20\" style=\"margin-right: 20px;\">\r\n          <el-col :span=\"21\">\r\n            <div style=\"margin-top: 5px\">\r\n              <el-input\r\n                placeholder=\"Search products\"\r\n                v-model=\"input\"\r\n                class=\"input-with-select\"\r\n                style=\"min-width: 550px\"\r\n                @keyup.enter.native=\"search\"\r\n              >\r\n                <el-select\r\n                  v-model=\"categoryId\"\r\n                  slot=\"append\"\r\n                  placeholder=\"IN ALL CATEGORIES\"\r\n                  @change=\"search\"\r\n                >\r\n                  <el-option label=\"IN ALL CATEGORIES\" value=\"\"></el-option>\r\n                  <el-option\r\n                    v-for=\"item in commodityTypeMoreList\"\r\n                    :key=\"item.id\"\r\n                    :label=\"item.name\"\r\n                    :value=\"item.id\"\r\n                  ></el-option>\r\n                </el-select>\r\n                <el-button slot=\"prepend\" icon=\"el-icon-search\"></el-button>\r\n              </el-input>\r\n            </div>\r\n          </el-col>\r\n          <el-col :span=\"3\">\r\n            <el-button type=\"primary\" @click=\"search()\" style=\"margin-top: 4px\"\r\n              >SEARCH</el-button\r\n            >\r\n          </el-col>\r\n        </el-row>\r\n        <div class=\"right\">\r\n          <el-button type=\"primary\" @click=\"quotation()\" size=\"small\">\r\n          <i class=\"el-icon-plus\"></i> Request Quotation\r\n      </el-button>\r\n        </div>\r\n      </div>\r\n      <!-- 面包屑 -->\r\n      <div class=\"pagetitle\" style=\"height:53px\">\r\n        <el-breadcrumb separator-class=\"el-icon-arrow-right\">\r\n          <el-breadcrumb-item :to=\"{ path: '/find-products' }\"\r\n            >{{$root.$children[0].pName.a}} Products Market</el-breadcrumb-item\r\n          >\r\n          <el-breadcrumb-item v-if=\"this.content\">\r\n            <span>Keywords <b>{{ this.content }}</b> results</span>\r\n            <span v-if=\"this.content && this.categoryId\"> in {{ this.categoryId }}</span>\r\n          </el-breadcrumb-item>\r\n          <el-breadcrumb-item v-else-if=\"!this.categoryId && !this.content\">\r\n            IN ALL CATEGORIES\r\n          </el-breadcrumb-item>\r\n          <el-breadcrumb-item v-else>\r\n            {{ this.categoryId }}\r\n          </el-breadcrumb-item>\r\n        </el-breadcrumb>\r\n      </div>\r\n      <!-- 列表 -->\r\n      <div v-if=\"items && items.length == 0\" style=\"width: 100%\">\r\n        <el-card>\r\n          <b>There are no products in this category</b>\r\n        </el-card>\r\n      </div>\r\n      <el-card body-style=\"padding:20px 0 20px 0;\" v-loading=\"loading\" v-else>\r\n        <div class=\"list\">\r\n          <el-col\r\n            v-for=\"item in items\"\r\n            :key=\"item.id\"\r\n            :sm=\"12\"\r\n            :md=\"8\"\r\n            :lg=\"6\"\r\n            :xl=\"4\"\r\n            style=\"margin-bottom: 20px\"\r\n          >\r\n            <div class=\"pro_box\">\r\n              <div class=\"pro_img\">\r\n                <div class=\"img-wrap\">\r\n                  \r\n                <el-image\r\n                  style=\"position: absolute; width: 100%;\r\n                  height: 100%;\"\r\n                  :fit=\"'cover'\"\r\n                  :src=\"item.imgUrl\"\r\n                  @click=\"goToDetail(item)\"\r\n                >\r\n                </el-image>\r\n                  \r\n                </div>\r\n                </div>\r\n              <div class=\"pro_name\" @click=\"goToDetail(item)\">\r\n                <a href=\"javescript:;\">{{ item.name }}</a>\r\n              </div>\r\n              <div class=\"price\">\r\n                <span class=\"pro_cost\">{{$store.state.country.symbol}} {{$exchangeRate(item.cost)}}</span>\r\n              </div>\r\n              \r\n              <div class=\"imports\">\r\n                <!-- <span>Imports: {{ item.imports }}</span> -->\r\n                <!-- <span\r\n                  >Orders:{{ item.sold30days }}\r\n                  <el-tooltip\r\n                    class=\"item\"\r\n                    effect=\"dark\"\r\n                    content=\"Last 30 days\"\r\n                    placement=\"top\"\r\n                  >\r\n                    <i\r\n                      style=\"font-size: 12px; width: 12px\"\r\n                      class=\"el-icon-info\"\r\n                    ></i> </el-tooltip\r\n                ></span> -->\r\n              </div>\r\n\r\n              <div\r\n                style=\"\r\n                  display: flex;\r\n                  width: 100%;\r\n                  justify-content: center;\r\n                  margin-top: 15px;\r\n                \"\r\n              >\r\n                <!-- <el-button\r\n                  type=\"primary\"\r\n                  size=\"mini\"\r\n                  @click=\"import_pro(item, $event)\"\r\n                  :disabled=\"item.hasImport == 1\"\r\n                  >Add to Import List</el-button\r\n                > -->\r\n                <!-- 这里 -->\r\n                <el-dropdown>\r\n                  <el-button type=\"primary\">\r\n                    Add to Import List<i class=\"el-icon-arrow-down el-icon--right\"></i>\r\n                  </el-button>\r\n                  <el-dropdown-menu slot=\"dropdown\">\r\n                    <el-dropdown-item  class=\"importBut\" :disabled=\"item.hasImport == 1\" @click.native=\"import_pro(item, $event)\">Add to Import List</el-dropdown-item>\r\n                    <el-dropdown-item @click.native=\"goToDetail(item)\">Add to Cart</el-dropdown-item>\r\n                  </el-dropdown-menu>\r\n                </el-dropdown>\r\n              </div>\r\n            </div>\r\n          </el-col>\r\n        </div>\r\n      </el-card>\r\n    </div>\r\n    <el-row v-if=\"items.length\" :gutter=\"20\" style=\"margin: 20px 0\">\r\n      <el-col :span=\"24\" class=\"d-flex justify-content-center\">\r\n        <div>\r\n          <el-pagination\r\n            :current-page=\"Number(page)\"\r\n            :background=\"true\"\r\n            layout=\"sizes, total, prev, pager, next, jumper\"\r\n            :page-sizes=\"pageSizes\"\r\n            :page-size=\"rowsPerPage\"\r\n            :total=\"Number(total)\"\r\n            @current-change=\"toPage\"\r\n            @size-change=\"changePageSize\"\r\n          >\r\n          </el-pagination>\r\n        </div>\r\n      </el-col>\r\n    </el-row>\r\n    <div\r\n      class=\"ball\"\r\n      :style=\"{\r\n        top: `${ball.y}px`,\r\n        left: `${ball.x}px`,\r\n        opacity: ball.opacity,\r\n      }\"\r\n    ></div>\r\n    <Quotation :visible.sync=\"visible\"></Quotation>\r\n    <el-backtop class=\"goto-top\" target=\".main-scroll  .el-scrollbar__wrap\" :right=\"20\" :bottom=\"120\">\r\n\t\t</el-backtop>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Quotation from '../components/productQuotation'\r\nexport default {\r\n  props: {},\r\n  data() {\r\n    return {\r\n      categoryId: null,\r\n      name: \"\",\r\n      items: [],\r\n      commodityTypeMoreList: [],\r\n      page: this.$route.query.page ? Number(this.$route.query.page) : \"1\",\r\n      rowsPerPage: localStorage.getItem(\"c_importPerPage\")\r\n        ? Number(localStorage.getItem(\"c_importPerPage\"))\r\n        : 12,\r\n      pageSizes: [12, 24, 48],\r\n      total: 0,\r\n      totalPage: 0,\r\n      input: \"\",\r\n      content: \"\",\r\n      visible:false,\r\n      loading: true,\r\n      allLoading: true,\r\n      ball: {\r\n        x: window.innerWidth / 2,\r\n        y: window.innerHeight / 2,\r\n        opacity: 0,\r\n      },\r\n    };\r\n  },\r\n  mounted() {\r\n    this.categoryId = this.$route.query.id;\r\n    this.input = this.$route.query.input;\r\n    this.content = this.input;\r\n    this.getCategory();\r\n  },\r\n  watch: {\r\n    $route: \"gotoPage\",\r\n  },\r\n  components: { Quotation },\r\n  methods: {\r\n    quotation(){\r\n    this.visible = true;\r\n    },\r\n    // 跳转商品详情\r\n    goToDetail(item){\r\n      const moreName = $(\".el-breadcrumb__inner\").eq(1).text();\r\n      this.$router.push({\r\n        name: \"productDetail\",\r\n        query: {\r\n          id: item.id,\r\n          name:item.name,\r\n          moreName:moreName\r\n        },\r\n      });\r\n    },\r\n    getCategory() {\r\n      this.$apiCall(\"api.VendorShop.getAllCategorys\", {}, (r) => {\r\n        if (r.ErrorCode == 9999) {\r\n          this.commodityTypeMoreList = r.Data.Results;\r\n          this.getItems();\r\n        }\r\n      });\r\n    },\r\n    getItems() {\r\n      this.loading = true;\r\n      this.allLoading = true;\r\n      this.commodityTypeMoreList.forEach((item) => {\r\n        if (item.name == this.categoryId) {\r\n          this.categoryId = item.id;\r\n        }\r\n      });\r\n      this.$apiCall(\r\n        \"api.VendorShop.findProducts\",\r\n        {\r\n          name: this.input,\r\n          categoryId: this.categoryId,\r\n          page: this.page,\r\n          rowsPerPage: this.rowsPerPage,\r\n        },\r\n        (r) => {\r\n          this.allLoading = false;\r\n          this.loading = false;\r\n          this.commodityTypeMoreList.forEach((item) => {\r\n            if (item.id == this.categoryId) {\r\n              this.name = item.name;\r\n              this.categoryId = item.name;\r\n            }\r\n          });\r\n          this.items = r.Data.Results;\r\n          this.total = r.Data.Pagination.totalCount;\r\n          this.totalPage = r.Data.Pagination.totalPage;\r\n          this.$root.$children[0].$refs.mainScroll.wrap.scrollTop = 0;\r\n        }\r\n      );\r\n    },\r\n    search() {\r\n      this.content = this.input;\r\n      this.$router.push({\r\n        query: {\r\n          page: 1,\r\n          input: this.content,\r\n          id: this.categoryId,\r\n        },\r\n      });\r\n    },\r\n    changePageSize(val) {\r\n      this.rowsPerPage = val;\r\n      localStorage.setItem(\"c_importPerPage\", val);\r\n      this.getItems();\r\n    },\r\n    gotoPage() {\r\n      this.page = this.$route.query.page ? this.$route.query.page : 1;\r\n      this.categoryId = this.$route.query.id;\r\n      this.input = this.$route.query.input;\r\n      this.getItems();\r\n    },\r\n    toPage(val) {\r\n      if (val != this.$route.query.page) {\r\n        let query = {};\r\n        query.page = val;\r\n        if (this.$route.query.id) query.id = this.$route.query.id;\r\n        if (this.$route.query.input) query.input = this.$route.query.input;\r\n        this.$router.push({\r\n          name: \"more\",\r\n          query,\r\n        });\r\n      }\r\n    },\r\n    import_pro(item, e) {\r\n      this.$apiCall(\r\n        \"api.Product.addFromVendorShopProduct\",\r\n        {\r\n          id: item.id,\r\n        },\r\n        (r) => {\r\n          if (r.ErrorCode == 9999) {\r\n            item.hasImport = 1;\r\n            item.imports++;\r\n            this.$message.success(\"Import Success !\");\r\n            this.ball.x = e.clientX;\r\n            this.ball.y = e.clientY;\r\n            setTimeout(() => {\r\n              this.ball.opacity = 1;\r\n            }, 500);\r\n\r\n            const getOffset = (element) => {\r\n              let actualTop = element.offsetTop;\r\n              let actualLeft = element.offsetLeft;\r\n              let current = element.offsetParent;\r\n              while (current !== null) {\r\n                actualTop += current.offsetTop;\r\n                actualLeft += current.offsetLeft;\r\n                current = current.offsetParent;\r\n              }\r\n              return { left: actualLeft, top: actualTop };\r\n            };\r\n            let elOffset = getOffset(\r\n              document.querySelector(\"[data-name='Import List']\")\r\n            );\r\n            setTimeout(() => {\r\n              this.ball.x = elOffset.left + 65;\r\n              this.ball.y = elOffset.top + 15;\r\n            }, 1000);\r\n            setTimeout(() => {\r\n              this.ball.opacity = 0;\r\n            }, 1500);\r\n          } else {\r\n            this.$message.error(r.Message);\r\n          }\r\n        }\r\n      );\r\n    },\r\n  },\r\n  computed: {\r\n    product() {\r\n      let text = \"\";\r\n      this.commodityTypeMoreList.forEach((item) => {\r\n        if (item.id == this.categoryId) {\r\n          text = item.name;\r\n        }\r\n      });\r\n      return text;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.ball {\r\n  position: fixed;\r\n  z-index: 1;\r\n  width: 16px;\r\n  height: 16px;\r\n  border-radius: 50%;\r\n  transform: translate(-50%, -50%);\r\n  background-color: #f56c6c;\r\n  transition: ease-in-out 0.5s;\r\n}\r\n.list {\r\n  width: 100%;\r\n}\r\n.box {\r\n  display: flex;\r\n  justify-content: space-evenly;\r\n  flex-wrap: wrap;\r\n}\r\n.el-card {\r\n  width: 100%;\r\n}\r\n\r\n.pro_img {\r\n  width: 100%;\r\n  position: relative;\r\n  .img-wrap {\r\n    margin-bottom: 15px;\r\n    position: relative;\r\n    padding-bottom: 100%;\r\n    cursor: pointer;\r\n  }\r\n  \r\n}\r\n.pro_box {\r\n  margin: 0 10px;\r\n  position: relative;\r\n  padding: 15px;\r\n  border: 1px #dcdfe6 solid;\r\n}\r\n.pro_name {\r\n  height: 38px;\r\n  cursor: pointer;\r\n  font-size: 12px;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  display: -webkit-box;\r\n  -webkit-line-clamp: 2;\r\n  /*! autoprefixer: off */\r\n  -webkit-box-orient: vertical;\r\n}\r\n\r\n.price {\r\n        color: #909399;\r\n        span {\r\n          color: #5c6ac4;\r\n          font-weight: bold;\r\n        }\r\n      }\r\n.imports {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  font-size: 12px;\r\n  color: rgb(144, 147, 153);\r\n}\r\n.el-select {\r\n  width: 180px;\r\n}\r\n.el-select .el-input {\r\n  width: 180px;\r\n}\r\n.input-with-select .el-input-group__prepend {\r\n  background-color: #ccc;\r\n}\r\n.pagetitle {\r\n  width: 100%;\r\n}\r\n.commodity-type-wrapper {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  .type-item {\r\n    flex: 0 0 20%;\r\n    height: 60px;\r\n    display: flex;\r\n    align-items: center;\r\n    border: 1px solid #e8e8e8;\r\n    // box-sizing: border-box;\r\n    cursor: pointer;\r\n    position: relative;\r\n    z-index: 0;\r\n    padding: 10px 30px;\r\n    &.selected {\r\n      border: 2px solid #5c6ac4;\r\n      z-index: 1;\r\n      .iconfont {\r\n        color: #5c6ac4;\r\n      }\r\n      .type-text {\r\n        color: #5c6ac4;\r\n      }\r\n    }\r\n    &:hover {\r\n      .type-text {\r\n        color: #5c6ac4;\r\n      }\r\n      .iconfont {\r\n        color: #5c6ac4;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--13-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.3.0@babel-loader/lib/index.js!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../node_modules/_vue-loader@15.10.1@vue-loader/lib/index.js??vue-loader-options!./more.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--13-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.3.0@babel-loader/lib/index.js!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../node_modules/_vue-loader@15.10.1@vue-loader/lib/index.js??vue-loader-options!./more.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./more.vue?vue&type=template&id=ba061b0c&scoped=true&\"\nimport script from \"./more.vue?vue&type=script&lang=js&\"\nexport * from \"./more.vue?vue&type=script&lang=js&\"\nimport style0 from \"./more.vue?vue&type=style&index=0&id=ba061b0c&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.10.1@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ba061b0c\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/_vue-loader@15.10.1@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../node_modules/_vue-loader@15.10.1@vue-loader/lib/index.js??vue-loader-options!./more.vue?vue&type=style&index=0&id=ba061b0c&prod&scoped=true&lang=scss&\"","export * from \"-!../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/_vue-loader@15.10.1@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../node_modules/_vue-loader@15.10.1@vue-loader/lib/index.js??vue-loader-options!./productQuotation.vue?vue&type=style&index=0&id=6167711f&prod&scoped=true&lang=scss&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('el-dialog',{attrs:{\"title\":\"Request a quotation for products\",\"visible\":_vm.openCardDialog},on:{\"update:visible\":function($event){_vm.openCardDialog=$event},\"close\":_vm.closeDialog}},[_c('el-divider'),(_vm.imgView)?_c('div',{staticClass:\"proQuotation\"},[_c('div',{staticClass:\"quotationTit\"},[_vm._v(\"products for quotation\")]),_c('div',{staticStyle:{\"display\":\"flex\"}},[_c('div',{staticClass:\"imgList\"},_vm._l((_vm.imgList),function(item){return _c('img',{key:item,staticClass:\"upload imgItem\",attrs:{\"src\":item}})}),0),_c('div',{staticClass:\"upload\",on:{\"click\":_vm.openForm}},[_c('i',{staticClass:\"el-icon-plus\"})])])]):_vm._e(),(_vm.isForm)?_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"formRole\"},[_c('div',{staticClass:\"quotationTit\"},[_vm._v(\"Product information\")]),_c('el-form',{attrs:{\"model\":_vm.form,\"label-position\":\"left\",\"label-width\":\"150px\"}},[_c('el-form-item',{attrs:{\"label\":\"Product images:\",\"required\":\"\"}},[_c('div',{staticClass:\"upload\",on:{\"click\":_vm.uploadOpen}},[(!_vm.form.imgUrl)?_c('i',{staticClass:\"el-icon-plus\"}):_c('el-image',{staticStyle:{\"width\":\"100%\",\"height\":\"100%\"},attrs:{\"src\":_vm.form.imgUrl,\"fit\":'cover'}})],1)]),_c('el-form-item',{attrs:{\"label\":\"Details:\",\"required\":\"\"}},[_c('el-input',{attrs:{\"placeholder\":\"Product name / URL / description or anything you can tell us\"},model:{value:(_vm.form.details),callback:function ($$v) {_vm.$set(_vm.form, \"details\", $$v)},expression:\"form.details\"}})],1),_c('el-form-item',{attrs:{\"label\":\"Expected price (US$):\"}},[_c('el-input-number',{attrs:{\"controls\":false},model:{value:(_vm.form.price),callback:function ($$v) {_vm.$set(_vm.form, \"price\", $$v)},expression:\"form.price\"}})],1),_c('el-form-item',{attrs:{\"label\":\"Remarks:\"}},[_c('el-input',{attrs:{\"placeholder\":`Leave your message that you want to tell ${_vm.$root.$children[0].pName.a} Vendors`},model:{value:(_vm.form.remark),callback:function ($$v) {_vm.$set(_vm.form, \"remark\", $$v)},expression:\"form.remark\"}})],1)],1),_c('el-button',{staticClass:\"save\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.saveQuotation}},[_vm._v(\"Save\")])],1):_vm._e(),_c('el-divider'),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.submit}},[_vm._v(\"Submit Request\")]),_c('el-button',{on:{\"click\":_vm.closeQuotation}},[_vm._v(\"Discard\")])],1)],1),_c('input',{staticStyle:{\"display\":\"none\"},attrs:{\"type\":\"file\",\"id\":\"imgFile\",\"accept\":\".jpg,.png,.gif\"},on:{\"change\":function($event){return _vm.Base64($event)}}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <el-dialog\r\n      title=\"Request a quotation for products\"\r\n      :visible.sync=\"openCardDialog\"\r\n      @close='closeDialog'\r\n    >\r\n      <el-divider></el-divider>\r\n      <div class=\"proQuotation\" v-if=\"imgView\">\r\n        <div class=\"quotationTit\">products for quotation</div>\r\n        <div style=\"display: flex\">\r\n          <div class=\"imgList\">\r\n            <img\r\n              :src=\"item\"\r\n              v-for=\"item in imgList\"\r\n              :key=\"item\"\r\n              class=\"upload imgItem\"\r\n            />\r\n          </div>\r\n          <div class=\"upload\" @click=\"openForm\">\r\n            <i class=\"el-icon-plus\"></i>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <!-- from -->\r\n      <div class=\"formRole\" v-if=\"isForm\" v-loading=\"loading\">\r\n        <div class=\"quotationTit\">Product information</div>\r\n        <el-form :model=\"form\" label-position=\"left\" label-width=\"150px\">\r\n          <el-form-item label=\"Product images:\" required>\r\n            <div class=\"upload\" @click=\"uploadOpen\">\r\n              <i class=\"el-icon-plus\" v-if=\"!form.imgUrl\"></i>\r\n              <el-image\r\n                style=\"width: 100%; height: 100%\"\r\n                :src=\"form.imgUrl\"\r\n                :fit=\"'cover'\"\r\n                v-else\r\n              ></el-image>\r\n            </div>\r\n          </el-form-item>\r\n          <el-form-item label=\"Details:\" required>\r\n            <el-input\r\n              v-model=\"form.details\"\r\n              placeholder=\"Product name / URL / description or anything you can tell us\"\r\n            >\r\n            </el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"Expected price (US$):\">\r\n            <el-input-number v-model=\"form.price\" :controls=\"false\"></el-input-number>\r\n          </el-form-item>\r\n          <el-form-item label=\"Remarks:\">\r\n            <el-input\r\n              v-model=\"form.remark\"\r\n              :placeholder=\"`Leave your message that you want to tell ${$root.$children[0].pName.a} Vendors`\"\r\n            >\r\n            </el-input>\r\n          </el-form-item>\r\n        </el-form>\r\n        <el-button type=\"primary\" class=\"save\" @click=\"saveQuotation\"\r\n          >Save</el-button\r\n        >\r\n      </div>\r\n      <el-divider></el-divider>\r\n      <!-- <footer> -->\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button type=\"primary\" @click=\"submit\">Submit Request</el-button>\r\n        <el-button @click=\"closeQuotation\">Discard</el-button>\r\n      </div>\r\n    </el-dialog>\r\n    <input\r\n      @change=\"Base64($event)\"\r\n      type=\"file\"\r\n      id=\"imgFile\"\r\n      accept=\".jpg,.png,.gif\"\r\n      style=\"display: none\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    visible: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      form: {\r\n        imgUrl: \"\",\r\n        details: \"\",\r\n        price: undefined,\r\n        remark: \"\",\r\n      },\r\n      imgView:false,\r\n      outerVisible: false,\r\n      innerVisible: false,\r\n      isForm: true,\r\n      loading: false,\r\n      dialogVisible: false,\r\n      imgList: [],\r\n      detailsList: [],\r\n      priceList: [],\r\n      remarkList: [],\r\n    };\r\n  },\r\n  computed: {\r\n    openCardDialog: {\r\n      get() {\r\n        return this.visible;\r\n      },\r\n      set(val) {\r\n        this.$emit(\"update:visible\", val); // openCardDialog改变的时候通知父组件\r\n      },\r\n    },\r\n  },\r\n  mounted(){\r\n    \r\n\r\n  },\r\n  methods: {\r\n    openForm() {\r\n      this.isForm = true;\r\n      this.loading = true;\r\n      setTimeout(() => {\r\n        this.loading = false;\r\n      }, 800);\r\n    },\r\n    uploadOpen() {\r\n      document.getElementById(\"imgFile\").click();\r\n    },\r\n    Base64(el) {\r\n      if (el.target.value) {\r\n        let reader = new FileReader(),\r\n          img = new Image(),\r\n          ext = \"\";\r\n        reader.onload = (e) => {\r\n          img.src = e.target.result;\r\n          let extArr = e.target.result.match(/data:image\\/(.*);base64,.*/);\r\n          ext = extArr[1];\r\n        };\r\n        img.onload = (e) => {\r\n          base64Image({\r\n            file: el.target,\r\n            callback: (rst) => {\r\n              let base64 = rst.split(\"base64,\").pop();\r\n              this.uploadImgBase64(base64, ext);\r\n            },\r\n          })\r\n        };\r\n        reader.readAsDataURL(el.target.files[0]);\r\n      }\r\n    },\r\n    uploadImgBase64(base64, ext) {\r\n      this.loading = true;\r\n      this.$apiCall(\r\n        \"api.User.uploadImgBase64\",\r\n        { imgUrlBase64: base64, ext },\r\n        (r) => {\r\n          this.loading = false;\r\n          if (r.ErrorCode == 9999) {\r\n            this.form.imgUrl = r.Data.Results.imgUrl;\r\n          } else {\r\n            this.$message.error(r.Message);\r\n          }\r\n        }\r\n      );\r\n    },\r\n    saveQuotation() {\r\n      if (this.form.imgUrl == \"\") {\r\n        this.$message.error(\"Please select a picture !\");\r\n        return false;\r\n      }\r\n      if (this.form.details == \"\") {\r\n        this.$message.error(\"Please fill in the details !\");\r\n        return false;\r\n      }\r\n      this.imgView = true;\r\n      this.isForm = false;\r\n      this.imgList.push(this.form.imgUrl);\r\n      this.detailsList.push(this.form.details);\r\n      this.priceList.push(this.form.price);\r\n      this.remarkList.push(this.form.remark);\r\n      this.form = {\r\n        imgUrl: \"\",\r\n        details: \"\",\r\n        price: undefined,\r\n        remark: \"\",\r\n      };\r\n    },\r\n    closeQuotation() {\r\n      this.openCardDialog = false;\r\n      this.form = {\r\n        imgUrl: \"\",\r\n        details: \"\",\r\n        price: undefined,\r\n        remark: \"\",\r\n      };\r\n      this.imgList= [];\r\n      this.detailsList= [];\r\n      this.priceList= [];\r\n      this.remarkList= [];\r\n      this.isForm = true;\r\n      this.imgView = false;\r\n    },\r\n    closeDialog(){\r\n    this.closeQuotation()\r\n    },\r\n    submit() {\r\n      let products = [];\r\n      for(let i = 0;i<this.imgList.length;i++){\r\n        products.push({\r\n          detail: this.detailsList[i],\r\n          imgUrl: this.imgList[i],\r\n          expectPrice: this.priceList[i],\r\n          remarks: this.remarkList[i],\r\n        })\r\n      }\r\n      this.$apiCall(\r\n        \"api.OfferList.genOfferProduct\",\r\n        {\r\n          products\r\n        },\r\n        (r) => {\r\n          if(r.ErrorCode == 9999){\r\n            this.$message.success(\"Submit Success !\");\r\n            this.closeQuotation();\r\n            this.$router.push('/Waiting-for-vendors-respond')\r\n          }else{\r\n            this.$message.error(r.Message)\r\n          }\r\n        }\r\n      );\r\n    },\r\n  },\r\n  components: {},\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.formRole {\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin: 20px;\r\n  padding: 20px;\r\n  background: rgb(242, 243, 242);\r\n}\r\n.proQuotation {\r\n  margin: 20px;\r\n}\r\n.save {\r\n  margin: 0 auto;\r\n  width: 100px;\r\n  text-align: center;\r\n}\r\n.upload {\r\n  background-color: #fbfdff;\r\n  border: 1px dashed #c0ccda;\r\n  border-radius: 6px;\r\n  box-sizing: border-box;\r\n  width: 110px;\r\n  height: 110px;\r\n  cursor: pointer;\r\n  line-height: 110px;\r\n  vertical-align: top;\r\n  text-align: center;\r\n  margin-right: 15px;\r\n  i {\r\n    font-size: 16px;\r\n  }\r\n}\r\n\r\n.quotationTit {\r\n  margin-bottom: 15px;\r\n  color: #222;\r\n  font-size: 17px;\r\n}\r\n.imgItem {\r\n  object-fit: cover;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--13-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.3.0@babel-loader/lib/index.js!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../node_modules/_vue-loader@15.10.1@vue-loader/lib/index.js??vue-loader-options!./productQuotation.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--13-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.3.0@babel-loader/lib/index.js!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../node_modules/_vue-loader@15.10.1@vue-loader/lib/index.js??vue-loader-options!./productQuotation.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./productQuotation.vue?vue&type=template&id=6167711f&scoped=true&\"\nimport script from \"./productQuotation.vue?vue&type=script&lang=js&\"\nexport * from \"./productQuotation.vue?vue&type=script&lang=js&\"\nimport style0 from \"./productQuotation.vue?vue&type=style&index=0&id=6167711f&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.10.1@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6167711f\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}