(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["ordersDelivered"],{"2de4":function(e,t,a){"use strict";a("369b")},"369b":function(e,t,a){},ef08a:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"contentpanel orders-page"},[a("div",{ref:"pageHeader",staticClass:"pagetitle"},[a("div",{staticClass:"left"},[a("div",{staticClass:"title"},[a("i",{staticClass:"el-icon-s-custom"}),a("h2",[e._v(e._s(e.$t("Vendors")))])])]),a("div",{staticClass:"right"},[/MyVendors/.test(e.$route.name)?["MyVendors"===e.$route.name?a("el-button",{attrs:{type:"primary",size:"medium",icon:"el-icon-plus"},on:{click:e.openAddVendorsDialog}},[e._v(" "+e._s(e.$t("Add a new vendor"))+" ")]):e._e()]:e._e()],2)]),a("div",{staticClass:"pagebody"},[a("el-card",[a("el-row",[a("el-col",{ref:"pageTabs",attrs:{span:24}},[a("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"My Vendors",name:"MyVendors"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v(" "+e._s(e.$t("My Vendors"))+" "),e.vendorsCnt?a("span",{staticClass:"tx-success"},[e._v("("+e._s(e.vendorsCnt)+")")]):e._e()])])],1)],1),a("el-col",{attrs:{span:24}},[a("router-view",{key:e.pageKey,ref:"subPage",on:{getTableHeight:e.getTableHeight,getNum:e.getNum}})],1)],1)],1)],1)])},i=[],n=(a("b0c0"),a("a9e3"),{data:function(){return{pageKey:(new Date).valueOf(),activeName:"",reSizeTime:0,vendorsCnt:0,updateOrderLoading:!1,cnow:0,now:Date.parse(new Date)/1e3-this.$store.state.userInfo.timeDiff,updateTime:localStorage.getItem("c_orders-updateTime")?Number(localStorage.getItem("c_orders-updateTime")):0}},mounted:function(){var e=this;this.activeName=this.$route.name,this.cnow=setInterval((function(){e.now=Date.parse(new Date)/1e3-e.$store.state.userInfo.timeDiff}),1e3),this.getNum()},watch:{$route:function(){this.activeName=this.$route.name,this.getNum()}},methods:{openAddVendorsDialog:function(){"MyVendors"===this.activeName&&this.$refs.subPage.openAddVendor()},getNum:function(e){var t=this;this.$apiCall("api.Relationship.findByCustomer",{},(function(a){if("9999"==a.ErrorCode)var s=a.Data.Results,i=setInterval((function(){(!e||(new Date).valueOf()>e+1500)&&(clearInterval(i),t.vendorsCnt=s.length)}),100);else t.$elementMessage(a.Message,"error")}))},getTableHeight:function(e){var t=this;clearTimeout(this.reSizeTime),this.reSizeTime=setTimeout((function(){var a=t.$root.$children[0].$refs.mainScroll.wrap.offsetHeight-(t.$refs.pageHeader.offsetHeight+t.$refs.pageTabs.$el.offsetHeight+e.$refs.tablefilter.offsetHeight+e.$refs.tableFooter.offsetHeight)-120;e.tableHeight=a>200?a:200}),500)},handleClick:function(e){e.name==this.$route.name?this.pageKey=(new Date).valueOf():this.$router.push({name:e.name})}}}),r=n,o=(a("2de4"),a("2877")),l=Object(o["a"])(r,s,i,!1,null,null,null);t["default"]=l.exports}}]);
//# sourceMappingURL=ordersDelivered.cd5ffb9e.js.map