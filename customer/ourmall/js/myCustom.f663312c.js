(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["myCustom"],{5218:function(t,e,a){"use strict";a.r(e);var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"contentpanel my-custom-page"},[a("div",{ref:"pageHeader",staticClass:"pagetitle"},[a("div",{staticClass:"left"},[a("div",{staticClass:"title"},[a("i",{staticClass:"el-icon-s-el-icon-s-goods"}),a("h2",[t._v(t._s(t.$t("售后工单")))])])]),a("div",{staticClass:"right"})]),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"pagebody"},[a("el-row",{staticClass:"mg-b-20",attrs:{gutter:15}},[a("el-col",{attrs:{span:24}},[a("el-card",[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("div",{ref:"pageFilter",staticClass:"page-filter"},[a("el-form",{attrs:{inline:!0,size:"mini"}},[a("el-form-item",{attrs:{label:t.$t("工单类型")}},[a("el-select",{staticStyle:{width:"90px"},attrs:{placeholder:t.$t("all")},on:{change:t.filterGetItem},model:{value:t.filterParams.type,callback:function(e){t.$set(t.filterParams,"type",e)},expression:"filterParams.type"}},[a("el-option",{attrs:{label:t.$t("all"),value:""}}),a("el-option",{attrs:{label:t.$t("退款"),value:"1"}}),a("el-option",{attrs:{label:t.$t("更换"),value:"2"}})],1)],1),a("el-form-item",{attrs:{label:t.$t("status")}},[a("el-select",{staticStyle:{width:"90px"},attrs:{placeholder:t.$t("all")},on:{change:t.filterGetItem},model:{value:t.filterParams.status,callback:function(e){t.$set(t.filterParams,"status",e)},expression:"filterParams.status"}},[a("el-option",{attrs:{label:t.$t("all"),value:""}}),a("el-option",{attrs:{label:t.$t("待审核"),value:"1"}}),a("el-option",{attrs:{label:t.$t("同意"),value:"2"}}),a("el-option",{attrs:{label:t.$t("拒绝"),value:"3"}})],1)],1),a("el-form-item",{attrs:{label:t.$t("工单号")}},[a("el-input",{attrs:{placeholder:t.$t("请输入"),clearable:""},model:{value:t.filterParams.orderNumber,callback:function(e){t.$set(t.filterParams,"orderNumber",e)},expression:"filterParams.orderNumber"}})],1),a("el-form-item",{attrs:{label:t.$t("订单编号")}},[a("el-input",{attrs:{placeholder:t.$t("请输入"),clearable:""},model:{value:t.filterParams.orderId,callback:function(e){t.$set(t.filterParams,"orderId",e)},expression:"filterParams.orderId"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.filterItem}},[t._v("Filter")]),a("el-button",{attrs:{type:"danger"},on:{click:t.clearFilter}},[t._v("Clear")])],1)],1)],1)])],1),a("el-table",{ref:"gridTable",staticStyle:{width:"100%"},attrs:{data:t.items,stripe:"","row-key":"id",height:"650"}},[a("el-table-column",{attrs:{label:t.$t("工单号")},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[a("b",[t._v(t._s(e.row.orderNumber))])])]}}])}),a("el-table-column",{attrs:{label:t.$t("订单编号")},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[a("b",[t._v(t._s(e.row.orderId))])])]}}])}),a("el-table-column",{attrs:{label:t.$t("客户名称")},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.customerName||"--"))]}}])}),a("el-table-column",{attrs:{label:t.$t("交易类型")},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(1==e.row.type?t.$t("退款"):t.$t("更换")))]}}])}),a("el-table-column",{attrs:{label:t.$t("问题类型")},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.getType(e.row)))]}}])}),a("el-table-column",{attrs:{label:t.$t("问题描述")},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.description||"--"))]}}])}),a("el-table-column",{attrs:{label:t.$t("创建时间")},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.timeCreated||"--"))]}}])}),a("el-table-column",{attrs:{label:t.$t("Remark")},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.remark||"--"))]}}])}),a("el-table-column",{attrs:{label:t.$t("状态")},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.status?a("span",[t._v(t._s(t.$t("待审核")))]):2==e.row.status?a("span",[t._v(t._s(t.$t("同意")))]):a("span",[t._v(t._s(t.$t("拒绝")))])]}}])})],1)],1)],1)],1),t.items.length?a("el-row",{attrs:{gutter:20}},[a("el-col",{staticClass:"d-flex justify-content-center",attrs:{span:24}},[a("div",[a("el-pagination",{attrs:{"current-page":t.page,background:!0,layout:"sizes, total, prev, pager, next, jumper","page-sizes":t.pageSizes,"page-size":t.rowsPerPage,total:Number(t.total)},on:{"current-change":t.toPage,"size-change":t.changePageSize}})],1)])],1):t._e()],1)])},r=[],s=(a("4de4"),a("b0c0"),a("a9e3"),{data:function(){return{loading:!1,pageSizes:[10,20,50,100],page:this.$route.query.page?Number(this.$route.query.page):1,rowsPerPage:localStorage.getItem("myCustomRowsPerPage")?Number(localStorage.getItem("myInvoiceRowsPerPage")):10,items:[],total:0,totalPage:0,filterParams:{orderNumber:"",status:"",type:"",orderId:""},questionList:[{label:this.$t("修改客户相关信息"),id:1},{label:this.$t("取消订单"),id:2},{label:this.$t("无跟踪信息"),id:3},{label:this.$t("跟踪信息长时间未更新"),id:4},{label:this.$t("物品损坏"),id:5},{label:this.$t("物品丢失"),id:6},{label:this.$t("发送错误产品"),id:7},{label:this.$t("发送错误地址"),id:8},{label:this.$t("订单暂停"),id:9}]}},components:{},watch:{$route:"gotoPage"},mounted:function(){this.getItem()},methods:{getItem:function(){var t=this;this.loading=!0,this.$apiCall("api.OrderRefund.getList",{page:this.page,rowsPerPage:this.rowsPerPage,type:this.filterParams.name,orderNumber:this.filterParams.orderNumber,status:this.filterParams.status,orderId:this.filterParams.orderId},(function(e){t.loading=!1,9999==e.ErrorCode?(t.items=e.Data.Results,t.total=Number(e.Data.Pagination.totalCount),t.totalPage=Number(e.Data.Pagination.totalPage)):t.$message({message:e.Message,type:"error"})}))},toPage:function(t){t!=this.$route.query.page&&this.$router.push({query:{page:t}})},getType:function(t){var e=this.questionList.filter((function(e){return e.id==t.reasonType}));return e[0].label},changePageSize:function(t){this.rowsPerPage=t,localStorage.setItem("myCustomRowsPerPage",t),this.getItem()},gotoPage:function(){this.page=this.$route.query.page?Number(this.$route.query.page):1,this.getItem()},filterItem:function(){this.page=1,this.getItem()},clearFilter:function(){this.filterParams={orderNumber:"",status:"",type:""},this.page=1,this.getItem()}}}),i=s,o=(a("669a"),a("2877")),n=Object(o["a"])(i,l,r,!1,null,"4232f1c5",null);e["default"]=n.exports},"669a":function(t,e,a){"use strict";a("bc12")},bc12:function(t,e,a){}}]);
//# sourceMappingURL=myCustom.f663312c.js.map