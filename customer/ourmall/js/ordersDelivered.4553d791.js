(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["ordersDelivered"],{"2d39":function(e,t,a){"use strict";a("c192")},c192:function(e,t,a){},ef08:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"contentpanel orders-page"},[t("div",{ref:"pageHeader",staticClass:"pagetitle"},[e._m(0),t("div",{staticClass:"right"},[/MyVendors/.test(e.$route.name)?["MyVendors"===e.$route.name?t("el-button",{attrs:{type:"primary",size:"medium",icon:"el-icon-plus"},on:{click:e.openAddVendorsDialog}},[e._v(" Add a new vendor ")]):e._e()]:e._e()],2)]),t("div",{staticClass:"pagebody"},[t("el-card",[t("el-row",[t("el-col",{ref:"pageTabs",attrs:{span:24}},[t("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[t("el-tab-pane",{attrs:{label:"My Vendors",name:"MyVendors"}},[t("span",{attrs:{slot:"label"},slot:"label"},[e._v(" My Vendors "),e.vendorsCnt?t("span",{staticClass:"tx-success"},[e._v("("+e._s(e.vendorsCnt)+")")]):e._e()])])],1)],1),t("el-col",{attrs:{span:24}},[t("router-view",{key:e.pageKey,ref:"subPage",on:{getTableHeight:e.getTableHeight,getNum:e.getNum}})],1)],1)],1)],1)])},i=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"left"},[t("div",{staticClass:"title"},[t("i",{staticClass:"el-icon-s-custom"}),t("h2",[e._v("Vendors")])])])}],r=(a("149f"),{data(){return{pageKey:(new Date).valueOf(),activeName:"",reSizeTime:0,vendorsCnt:0,updateOrderLoading:!1,cnow:0,now:Date.parse(new Date)/1e3-this.$store.state.userInfo.timeDiff,updateTime:localStorage.getItem("c_orders-updateTime")?Number(localStorage.getItem("c_orders-updateTime")):0}},mounted(){this.activeName=this.$route.name,this.cnow=setInterval(()=>{this.now=Date.parse(new Date)/1e3-this.$store.state.userInfo.timeDiff},1e3),this.getNum()},watch:{$route(){this.activeName=this.$route.name,this.getNum()}},methods:{openAddVendorsDialog(){"MyVendors"===this.activeName&&this.$refs.subPage.openAddVendor()},getNum(e){this.$apiCall("api.Relationship.findByCustomer",{},t=>{if("9999"==t.ErrorCode){let a=t.Data.Results,s=setInterval(()=>{(!e||(new Date).valueOf()>e+1500)&&(clearInterval(s),this.vendorsCnt=a.length)},100)}else this.$elementMessage(t.Message,"error")})},getTableHeight(e){clearTimeout(this.reSizeTime),this.reSizeTime=setTimeout(()=>{let t=this.$root.$children[0].$refs.mainScroll.wrap.offsetHeight-(this.$refs.pageHeader.offsetHeight+this.$refs.pageTabs.$el.offsetHeight+e.$refs.tablefilter.offsetHeight+e.$refs.tableFooter.offsetHeight)-120;e.tableHeight=t>200?t:200},500)},handleClick(e){e.name==this.$route.name?this.pageKey=(new Date).valueOf():this.$router.push({name:e.name})}}}),n=r,o=(a("2d39"),a("e607")),l=Object(o["a"])(n,s,i,!1,null,null,null);t["default"]=l.exports}}]);
//# sourceMappingURL=ordersDelivered.4553d791.js.map