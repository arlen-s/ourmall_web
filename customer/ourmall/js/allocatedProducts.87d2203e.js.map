{"version":3,"sources":["webpack:///./src/views/AllocatedProducts.vue?d1f9","webpack:///./src/views/AllocatedProducts.vue?f600","webpack:///src/views/AllocatedProducts.vue","webpack:///./src/views/AllocatedProducts.vue?18f9","webpack:///./src/views/AllocatedProducts.vue","webpack:///./src/views/AllocatedProducts.vue?1824"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","ref","_m","staticStyle","attrs","path","_v","checkdeStatus","checkedArr","length","on","$event","openAllocateToVendor","confirmUnAllocate","directives","name","rawName","value","expression","key","cascaderKey","options","expandTrigger","filterGetItem","model","callback","$$v","cascaderValue","nativeOn","type","indexOf","_k","keyCode","productName","filterParams","$set","_l","vendor","id","vendorName","clearFilter","_s","storeName","accountId","_e","venderName","relationshipId","padding","changeAllChecked","allChecked","style","height","tableHeight","overflowX","items","item","display","alignItems","img","slot","sku","ce","saleCurrency","symbol","salePrice","purchasePrice","page","pageSizes","rowsPerPage","Number","total","toPage","changePageSize","staticRenderFns","data","label","children","loading","reSizeTime","$route","query","localStorage","getItem","totalPage","filterParamsDefault","$CE","storeList","vendors","resizeH","components","DistributionVendorDialog","computed","forEach","push","variableIdArr","variableId","watch","mounted","JSON","stringify","params","vendorId","getStore","getVendors","getItems","$nextTick","window","addEventListener","beforeDestroy","removeEventListener","methods","$refs","openDistributionDialog","slice","$confirm","confirmButtonText","cancelButtonText","unAllocate","variableIds","$apiCall","r","ErrorCode","some","text","e","store","checked","parse","$router","s","val","setItem","gotoPage","Data","Results","shopifyAccountId","shopName","filter","a","component"],"mappings":"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","file":"js/allocatedProducts.87d2203e.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AllocatedProducts.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"contentpanel allocate-products-page\"},[_c('div',{ref:\"pageHeader\",staticClass:\"pagetitle\"},[_c('div',{staticClass:\"left\"},[_vm._m(0),_c('el-breadcrumb',{staticStyle:{\"font-size\":\"12px\"},attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',{staticStyle:{\"color\":\"#5c6ac4\"},attrs:{\"to\":{ path: '/vendors' }}},[_vm._v(\"Vendors\")]),_c('el-breadcrumb-item',{staticStyle:{\"color\":\"#C0C4CC\"}},[_vm._v(\"My Allocated Products\")])],1)],1),_c('div',{staticClass:\"right\"},[_c('el-button',{staticStyle:{\"margin-right\":\"10px\"},attrs:{\"type\":\"primary\",\"size\":\"medium\",\"disabled\":!_vm.checkdeStatus.checkedArr.length},on:{\"click\":function($event){return _vm.openAllocateToVendor()}}},[_vm._v(\"Batch Re-allocate\")]),_c('el-button',{attrs:{\"type\":\"danger\",\"size\":\"medium\",\"disabled\":!_vm.checkdeStatus.checkedArr.length},on:{\"click\":function($event){return _vm.confirmUnAllocate('multi')}}},[_vm._v(\"Batch Un-allocate\")])],1)]),_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"pagebody mg-b-20\"},[_c('el-card',[_c('el-row',{attrs:{\"gutter\":20}},[_c('div',{ref:\"pageFilter\",staticClass:\"page-filter\"},[_c('el-form',{attrs:{\"inline\":true,\"size\":\"mini\"}},[_c('el-form-item',[_c('el-cascader',{key:_vm.cascaderKey,attrs:{\"placeholder\":\"All my stores\",\"options\":_vm.options,\"props\":{ expandTrigger: 'hover' }},on:{\"change\":_vm.filterGetItem},model:{value:(_vm.cascaderValue),callback:function ($$v) {_vm.cascaderValue=$$v},expression:\"cascaderValue\"}})],1),_c('el-form-item',[_c('el-input',{attrs:{\"placeholder\":\"Product name\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.filterGetItem($event)}},model:{value:(_vm.productName),callback:function ($$v) {_vm.productName=$$v},expression:\"productName\"}})],1),_c('el-form-item',[_c('el-select',{attrs:{\"filterable\":\"\",\"placeholder\":\"All my vendors\"},on:{\"change\":_vm.filterGetItem},model:{value:(_vm.filterParams.relationshipId),callback:function ($$v) {_vm.$set(_vm.filterParams, \"relationshipId\", $$v)},expression:\"filterParams.relationshipId\"}},[_c('el-option',{attrs:{\"label\":\"All my vendors\",\"value\":\"\"}}),_vm._l((_vm.vendors),function(vendor){return _c('el-option',{key:vendor.id,attrs:{\"label\":vendor.vendorName,\"value\":vendor.id}})})],2)],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.filterGetItem}},[_vm._v(\"Filter\")]),_c('el-button',{attrs:{\"type\":\"danger\"},on:{\"click\":function($event){return _vm.clearFilter('all')}}},[_vm._v(\"Clear\")])],1)],1),_c('div',{staticStyle:{\"margin-bottom\":\"5px\"}},[(_vm.filterParams.accountId)?_c('el-tag',{staticClass:\"mg-r-5\",attrs:{\"size\":\"small\",\"type\":\"info\",\"closable\":\"\"},on:{\"close\":function($event){return _vm.clearFilter('store')}}},[_vm._v(\" \"+_vm._s(_vm.storeName(_vm.filterParams.accountId))+\" \")]):_vm._e(),(_vm.filterParams.productName)?_c('el-tag',{staticClass:\"mg-r-5\",attrs:{\"size\":\"small\",\"type\":\"info\",\"closable\":\"\"},on:{\"close\":function($event){return _vm.clearFilter('name')}}},[_vm._v(\" \"+_vm._s(_vm.filterParams.productName)+\" \")]):_vm._e(),(_vm.filterParams.relationshipId)?_c('el-tag',{staticClass:\"mg-r-5\",attrs:{\"size\":\"small\",\"type\":\"info\",\"closable\":\"\"},on:{\"close\":function($event){return _vm.clearFilter('vendor')}}},[_vm._v(\" \"+_vm._s(_vm.venderName(_vm.filterParams.relationshipId))+\" \")]):_vm._e()],1),_c('el-row',{staticStyle:{\"margin-bottom\":\"5px\"},attrs:{\"gutter\":10}},[_c('el-col',{staticStyle:{\"padding-right\":\"25px\"},attrs:{\"span\":24}},[_c('el-card',{staticClass:\"table-header\",attrs:{\"shadow\":'never',\"body-style\":{ padding: '0 20px' }}},[_c('el-col',{attrs:{\"span\":10}},[_c('div',{staticClass:\" d-flex\"},[_c('el-checkbox',{staticStyle:{\"margin-right\":\"10px\",\"margin-bottom\":\"0\"},on:{\"change\":_vm.changeAllChecked},model:{value:(_vm.allChecked),callback:function ($$v) {_vm.allChecked=$$v},expression:\"allChecked\"}}),_c('div',{staticClass:\"title\"},[_vm._v(\"My Product\")])],1)]),_c('el-col',{attrs:{\"span\":6}},[_c('div',{staticClass:\" title\"},[_vm._v(\"My store\")])]),_c('el-col',{attrs:{\"span\":6}},[_c('div',{staticClass:\" title\"},[_vm._v(\"Vendor\")])]),_c('el-col',{attrs:{\"span\":2}})],1)],1)],1)],1)]),_c('el-row',{ref:\"gridTable\",staticStyle:{\"padding-top\":\"15px\",\"overflow-y\":\"auto\"},style:([{height: (_vm.tableHeight + \"px\")}, {overflowX: 'hidden'}]),attrs:{\"gutter\":10}},[(!_vm.items.length)?_c('el-col',[_c('p',{staticStyle:{\"margin-top\":\"25px\",\"font-size\":\"16px\",\"color\":\"#909399\",\"text-align\":\"center\"}},[_vm._v(\"No product\")])]):_vm._e(),_vm._l((_vm.items),function(item){return _c('el-row',{key:item.id,attrs:{\"gutter\":10}},[_c('el-col',{staticStyle:{\"padding-right\":\"25px\"},attrs:{\"span\":24}},[_c('el-card',{staticClass:\"table-body-card\",attrs:{\"body-style\":[{display: 'flex'},{padding: '10px 20px'},{alignItems: 'center'}]}},[_c('el-col',{attrs:{\"span\":10}},[_c('div',{staticClass:\"product-box\"},[_c('el-checkbox',{model:{value:(item.checked),callback:function ($$v) {_vm.$set(item, \"checked\", $$v)},expression:\"item.checked\"}}),_c('el-image',{staticStyle:{\"min-width\":\"120px\",\"width\":\"120px\",\"height\":\"120px\"},attrs:{\"fit\":'contain',\"src\":item.img,\"preview-src-list\":[item.img]}},[_c('div',{staticClass:\"image-slot\",attrs:{\"slot\":\"error\"},slot:\"error\"},[_c('i',{staticClass:\"el-icon-picture-outline\"})])]),_c('div',{staticClass:\"info\"},[_c('div',{staticClass:\"name tx-ellipsis3\"},[_vm._v(_vm._s(item.productName))]),_c('div',{staticClass:\"row1\"},[_c('span',{staticStyle:{\"color\":\"#909399\"}},[_vm._v(\"SKU:\")]),_vm._v(\" \"+_vm._s(item.sku)+\" \")])])],1)]),_c('el-col',{attrs:{\"span\":6}},[_c('div',{staticClass:\"info-wrap\"},[_c('div',{staticClass:\"row1\"},[_vm._v(_vm._s(item.storeName))]),_c('div',{staticClass:\"row1\"},[_c('span',{staticStyle:{\"color\":\"#909399\"}},[_vm._v(\"Sale price: \")]),(item.saleCurrency)?_c('span',[_vm._v(_vm._s(_vm.ce[item.saleCurrency] ? _vm.ce[item.saleCurrency].symbol : item.saleCurrency)+\" \")]):_vm._e(),_vm._v(\" \"+_vm._s(item.salePrice)+\" \")])])]),_c('el-col',{attrs:{\"span\":6}},[_c('div',{staticClass:\"info-wrap\"},[_c('div',{staticClass:\"row1\"},[_vm._v(_vm._s(item.vendorName))]),_c('div',{staticClass:\"row1\"},[_c('span',{staticStyle:{\"color\":\"#909399\"}},[_vm._v(\"Puchase price: \")]),_c('span',[_vm._v(\"$ \")]),_vm._v(\" \"+_vm._s(item.purchasePrice)+\" \")])])]),_c('el-col',{attrs:{\"span\":2}},[_c('div',{staticClass:\"info-wrap\"},[_c('div',{staticClass:\"row1 mg-b-10\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.openAllocateToVendor(item)}}},[_vm._v(\"Re-allocate\")])],1),_c('div',{staticClass:\"row1\"},[_c('el-button',{attrs:{\"type\":\"danger\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.confirmUnAllocate('single', item)}}},[_vm._v(\"Un-allocate\")])],1)])])],1)],1)],1)})],2)],1)],1),(_vm.items.length)?_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{staticClass:\" d-flex justify-content-center\",attrs:{\"span\":24}},[_c('div',[_c('el-pagination',{attrs:{\"current-page\":_vm.page,\"background\":true,\"layout\":\"sizes, total, prev, pager, next, jumper\",\"page-sizes\":_vm.pageSizes,\"page-size\":_vm.rowsPerPage,\"total\":Number(_vm.total)},on:{\"current-change\":_vm.toPage,\"size-change\":_vm.changePageSize}})],1)])],1):_vm._e(),_c('DistributionVendorDialog',{ref:\"DistributionVendorDialog\",attrs:{\"type\":'products'},on:{\"resetPage\":_vm.filterGetItem}})],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"title\",staticStyle:{\"margin-bottom\":\"10px\"}},[_c('i',{staticClass:\"el-icon-shopping-bag-1\"}),_c('h2',[_vm._v(\"My Allocated Products\")])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"contentpanel allocate-products-page\">\r\n    <div\r\n      class=\"pagetitle\"\r\n      ref=\"pageHeader\"\r\n    >\r\n      <div class=\"left\">\r\n        <div class=\"title\" style=\"margin-bottom: 10px;\">\r\n          <i class=\"el-icon-shopping-bag-1\"></i>\r\n          <h2>My Allocated Products</h2>\r\n        </div>\r\n        <el-breadcrumb separator-class=\"el-icon-arrow-right\" style=\" font-size: 12px\">\r\n          <el-breadcrumb-item :to=\"{ path: '/vendors' }\" style=\"color: #5c6ac4;\">Vendors</el-breadcrumb-item>\r\n          <el-breadcrumb-item style=\"color: #C0C4CC;\">My Allocated Products</el-breadcrumb-item>\r\n        </el-breadcrumb>\r\n      </div>\r\n      <div class=\"right\">\r\n        <el-button type=\"primary\" size=\"medium\" :disabled=\"!checkdeStatus.checkedArr.length\"\r\n          style=\" margin-right: 10px;\" @click=\"openAllocateToVendor()\"\r\n        >Batch Re-allocate</el-button>\r\n        <el-button type=\"danger\" size=\"medium\" \r\n          :disabled=\"!checkdeStatus.checkedArr.length\"\r\n          @click=\"confirmUnAllocate('multi')\"\r\n        >Batch Un-allocate</el-button>\r\n        \r\n      </div>\r\n    </div>\r\n    <div\r\n      v-loading=\"loading\"\r\n      class=\"pagebody mg-b-20\"\r\n    >\r\n      <el-card>\r\n        <el-row :gutter=\"20\">\r\n          <div\r\n            ref=\"pageFilter\"\r\n            class=\"page-filter\"\r\n          >\r\n            <el-form\r\n              :inline=\"true\"\r\n              size=\"mini\"\r\n            >\r\n              <el-form-item>\r\n                <!-- <el-select v-model=\"filterParams.accountId\"  filterable placeholder=\"All my stores\"\r\n                  @change=\"filterGetItem\"\r\n                >\r\n                  <el-option  label=\"All my stores\" value=\"\"></el-option>\r\n                  <el-option\r\n                    v-for=\"store in storeList\"\r\n                    :key=\"store.shopifyAccountId\"\r\n                    :label=\"store.store\"\r\n                    :value=\"store.shopifyAccountId\"\r\n                  ></el-option>\r\n                </el-select>   -->\r\n                 <el-cascader\r\n                 :key=\"cascaderKey\"\r\n                  v-model=\"cascaderValue\"\r\n                  placeholder=\"All my stores\"\r\n                  :options=\"options\"\r\n                  :props=\"{ expandTrigger: 'hover' }\"\r\n                  @change=\"filterGetItem\"\r\n                  >\r\n                  </el-cascader>\r\n              </el-form-item>\r\n              <el-form-item>\r\n                <el-input v-model=\"productName\" placeholder=\"Product name\"\r\n                  @keyup.native.enter=\"filterGetItem\"\r\n                ></el-input>\r\n              </el-form-item>\r\n              <el-form-item>\r\n                <el-select v-model=\"filterParams.relationshipId\"  filterable placeholder=\"All my vendors\"\r\n                  @change=\"filterGetItem\"\r\n                >\r\n                  <el-option label=\"All my vendors\" value=\"\"></el-option>\r\n                  <el-option\r\n                    v-for=\"vendor in vendors\"\r\n                    :key=\"vendor.id\"\r\n                    :label=\"vendor.vendorName\"\r\n                    :value=\"vendor.id\"\r\n                  ></el-option>\r\n                </el-select>  \r\n              </el-form-item>\r\n              <el-form-item>\r\n                <el-button\r\n                  type=\"primary\"\r\n                  @click=\"filterGetItem\"\r\n                >Filter</el-button>\r\n                <el-button\r\n                  type=\"danger\"\r\n                  @click=\"clearFilter('all')\"\r\n                >Clear</el-button>\r\n              </el-form-item>\r\n            </el-form>\r\n            <div style=\" margin-bottom: 5px;\">\r\n              <el-tag v-if=\"filterParams.accountId\" size=\"small\" type=\"info\" closable @close=\"clearFilter('store')\" class=\"mg-r-5\">\r\n                {{storeName(filterParams.accountId)}}\r\n              </el-tag>\r\n              <el-tag v-if=\"filterParams.productName\" size=\"small\" type=\"info\" closable @close=\"clearFilter('name')\" class=\"mg-r-5\">\r\n                {{filterParams.productName}}\r\n              </el-tag>\r\n              <el-tag v-if=\"filterParams.relationshipId\" size=\"small\" type=\"info\" closable @close=\"clearFilter('vendor')\" class=\"mg-r-5\">\r\n                {{venderName(filterParams.relationshipId)}}\r\n              </el-tag>\r\n            </div>\r\n            <el-row :gutter=\"10\" style=\"margin-bottom: 5px\">\r\n              <el-col :span=\"24\" style=\"padding-right: 25px;\">\r\n                <el-card :shadow=\"'never'\" :body-style=\"{ padding: '0 20px' }\" class=\"table-header\">\r\n                  <el-col :span=\"10\">\r\n                    <div class=\" d-flex\">\r\n                      <el-checkbox style=\"margin-right: 10px; margin-bottom: 0\"\r\n                        v-model=\"allChecked\"\r\n                        @change=\"changeAllChecked\"\r\n                      ></el-checkbox>\r\n                      <div class=\"title\">My Product</div>\r\n                    </div>\r\n                  </el-col>\r\n                  <el-col :span=\"6\">\r\n                    <div class=\" title\">My store</div>\r\n                  </el-col>\r\n                  <el-col :span=\"6\">\r\n                    <div class=\" title\">Vendor</div>\r\n                  </el-col>\r\n                  <el-col :span=\"2\">\r\n                  </el-col>\r\n                </el-card>\r\n              </el-col>\r\n            </el-row>\r\n          </div>\r\n        </el-row>       \r\n        <el-row\r\n          ref=\"gridTable\"\r\n          :gutter=\"10\"\r\n          style=\" padding-top: 15px; overflow-y: auto;\"\r\n          :style=\"[{height: `${tableHeight}px`}, {overflowX: 'hidden'}]\"\r\n        >\r\n          <el-col v-if=\"!items.length\">\r\n            <p style=\"margin-top: 25px; font-size: 16px; color: #909399; text-align: center;\">No product</p>\r\n          </el-col>\r\n          <!-- 横列表 -->       \r\n          <el-row :gutter=\"10\" v-for=\"item in items\" :key=\"item.id\">\r\n            <el-col :span=\"24\" style=\"padding-right: 25px;\">\r\n              <el-card :body-style=\"[{display: 'flex'},{padding: '10px 20px'},{alignItems: 'center'}]\"  class=\"table-body-card\">\r\n                <el-col :span=\"10\">\r\n                  <div class=\"product-box\">\r\n                    <el-checkbox v-model=\"item.checked\"></el-checkbox>\r\n                    <el-image\r\n                      style=\"min-width: 120px; width: 120px; height: 120px;\"\r\n                      :fit=\"'contain'\"\r\n                      :src=\"item.img\"\r\n                      :preview-src-list=\"[item.img]\"\r\n                    >\r\n                      <div slot=\"error\" class=\"image-slot\">\r\n                        <i class=\"el-icon-picture-outline\"></i>\r\n                      </div>\r\n                    </el-image>\r\n                    <div class=\"info\">\r\n                      <div class=\"name tx-ellipsis3\">{{item.productName}}</div>\r\n                      <div class=\"row1\">\r\n                        <span style=\"color: #909399\">SKU:</span>\r\n                        {{item.sku}}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </el-col>\r\n                <el-col :span=\"6\">\r\n                  <div class=\"info-wrap\">\r\n                    <div class=\"row1\">{{item.storeName}}</div>\r\n                    <div class=\"row1\">\r\n                      <span style=\"color: #909399\">Sale price: </span>\r\n                      <span v-if=\"item.saleCurrency\">{{ ce[item.saleCurrency] ? ce[item.saleCurrency].symbol : item.saleCurrency}} </span>\r\n                      {{item.salePrice}}\r\n                    </div>\r\n                  </div>\r\n                </el-col>\r\n                <el-col :span=\"6\">\r\n                  <div class=\"info-wrap\">\r\n                    <div class=\"row1\">{{item.vendorName}}</div>\r\n                    <div class=\"row1\">\r\n                      <span style=\"color: #909399\">Puchase price: </span>\r\n                      <span>$ </span>\r\n                      {{item.purchasePrice}}\r\n                    </div>\r\n                  </div>\r\n                </el-col>\r\n                <el-col :span=\"2\">\r\n                  <div class=\"info-wrap\">\r\n                    <div class=\"row1 mg-b-10\">\r\n                      <el-button type=\"primary\" size=\"small\" @click=\"openAllocateToVendor(item)\">Re-allocate</el-button>\r\n                    </div>\r\n                    <div class=\"row1\">\r\n                      <el-button type=\"danger\" size=\"small\" @click=\"confirmUnAllocate('single', item)\">Un-allocate</el-button>                   \r\n                    </div>\r\n                  </div>\r\n                </el-col>\r\n              </el-card>\r\n            </el-col>\r\n          </el-row>\r\n        <!-- \r\n          <el-col\r\n            v-for=\"item in items\"\r\n            :key=\"item.id\"\r\n            :sm=\"12\"\r\n            :md=\"8\"\r\n            :lg=\"6\"\r\n            :xl=\"4\"\r\n            style=\" margin-bottom: 20px;\"\r\n          >\r\n            <div class=\"product-box\">\r\n              <div style=\"position: relative; padding-bottom: 100%; margin-bottom: 15px;\">\r\n                <el-image\r\n                  lazy\r\n                  style=\"position: absolute; width: 100%; height: 100%;\"\r\n                  :fit=\"'contain'\"\r\n                  :src=\"item.propertyImage\"\r\n                  :preview-src-list=\"[item.propertyImage]\"\r\n                >\r\n                </el-image>\r\n              </div>\r\n              <div class=\"info\">\r\n                <div class=\"p-name tx-ellipsis2\">{{item.name}}</div>\r\n                <div></div>\r\n\r\n              </div>\r\n            </div>\r\n          </el-col> -->\r\n        </el-row>\r\n      </el-card>  \r\n    </div>\r\n    <el-row\r\n      v-if=\"items.length\"\r\n      :gutter=\"20\"\r\n    >\r\n      <el-col\r\n        :span=\"24\"\r\n        class=\" d-flex justify-content-center\"\r\n      >\r\n        <div>\r\n          <el-pagination\r\n            :current-page=\"page\"\r\n            :background=\"true\"\r\n            layout=\"sizes, total, prev, pager, next, jumper\"\r\n            :page-sizes=\"pageSizes\"\r\n            :page-size=\"rowsPerPage\"\r\n            :total=\"Number(total)\"\r\n            @current-change=\"toPage\"\r\n            @size-change=\"changePageSize\"\r\n          >\r\n          </el-pagination>\r\n        </div>\r\n      </el-col>\r\n    </el-row>\r\n    <DistributionVendorDialog\r\n      ref=\"DistributionVendorDialog\"\r\n      :type=\"'products'\"\r\n      @resetPage=\"filterGetItem\"\r\n    />\r\n  </div>  \r\n</template>\r\n\r\n<script>\r\nimport DistributionVendorDialog from \"@/components/DistributionVendorDialog\";\r\nimport { set } from 'xe-utils/methods';\r\nexport default {\r\n  data(){\r\n    return {\r\n// 1 shopify\r\n// 2 woocommerce\r\n// 3 lazada\r\n// 4 shopee\r\n      cascaderKey:1,\r\n      cascaderValue:'',\r\n      options:[{\r\n        id:1,\r\n        label:'Shopify',\r\n        children:[]\r\n      },\r\n      {\r\n        id:2,\r\n        label:'Woocommerce',\r\n        children:[]\r\n      },\r\n      {\r\n        id:3,\r\n        label:'Lazada',\r\n        children:[]\r\n      },\r\n      {\r\n        id:4,\r\n        label:'Shopee',\r\n        children:[]\r\n      }],\r\n      loading: false,\r\n      tableHeight: 400,\r\n      reSizeTime: 0,\r\n      page: this.$route.query.page ? Number(this.$route.query.page) : 1,\r\n      rowsPerPage: localStorage.getItem(\"c_allocateProductsPerPage\")\r\n        ? Number(localStorage.getItem(\"c_allocateProductsPerPage\"))\r\n        : 10,\r\n      total: 0,\r\n      totalPage: 0,\r\n      pageSizes: [10, 20, 50],\r\n      items: [],\r\n      productName: \"\",\r\n      filterParams: {\r\n        accountId: \"\",\r\n        productName: \"\",\r\n        relationshipId: \"\"\r\n      },\r\n      filterParamsDefault: \"{}\",\r\n      ce: this.$CE, //货币符号\r\n      allChecked: false,\r\n      storeList: [],\r\n      vendors: [],\r\n      resizeH: ()=>{this.$getTableHeight(this)},\r\n    }\r\n  },\r\n  components: {\r\n    DistributionVendorDialog,\r\n  },\r\n  computed:{\r\n    checkdeStatus(){\r\n      let [checkedArr,variableIdArr] = [[], []] \r\n      this.items.forEach(item => {\r\n        if(item.checked){\r\n          checkedArr.push(item)\r\n          variableIdArr.push(item.variableId)\r\n        }\r\n      })\r\n      return {\r\n        checkedArr,\r\n        allChecked: this.items.length && this.items.length == checkedArr.length,\r\n        variableIdArr,\r\n      }\r\n    },\r\n  },\r\n  watch:{\r\n    $route: \"gotoPage\",\r\n    'checkdeStatus.allChecked'(){\r\n      this.allChecked = this.checkdeStatus.allChecked\r\n    }\r\n  },\r\n  mounted(){\r\n    this.filterParamsDefault = JSON.stringify(this.filterParams);\r\n    this.filterParams.relationshipId = this.$route.params.vendorId;\r\n    this.getStore();\r\n    this.getVendors();\r\n    this.getItems();\r\n    this.$nextTick(()=>{\r\n      this.resizeH();\r\n      window.addEventListener(\"resize\", this.resizeH, false);\r\n    })\r\n  },\r\n  beforeDestroy(){\r\n    window.removeEventListener(\"resize\", this.resizeH)\r\n  },\r\n  methods: {\r\n    openAllocateToVendor(item){\r\n      if(item){\r\n        this.$refs.DistributionVendorDialog.openDistributionDialog([item])\r\n      }else{\r\n        this.$refs.DistributionVendorDialog.openDistributionDialog(this.checkdeStatus.checkedArr.slice())\r\n      }\r\n    },\r\n    confirmUnAllocate(type, item){\r\n      this.$confirm(type == 'single' ?  'Un-allocate selected products?': `Un-allocate selected (${this.checkdeStatus.variableIdArr.length}) products? `, '', {\r\n        confirmButtonText: 'Confirm',\r\n        cancelButtonText: 'Cancel',\r\n        type: 'warning'\r\n      }).then(()=>{\r\n        this.unAllocate(type, item)\r\n      });\r\n    },\r\n    unAllocate(type, item){//取消分配\r\n      this.loading = true;\r\n      let params = {};\r\n      if(type == 'single'){\r\n        params.variableIds = [item.variableId]\r\n      }else{\r\n        params.variableIds = this.checkdeStatus.variableIdArr\r\n      }\r\n      this.$apiCall(\"api.DispatchOrderRule.unAllocate\", params, r => {\r\n        if (r.ErrorCode == \"9999\") {\r\n          this.getItems(true);\r\n          this.$elementMessage('UN-allocate Success', \"success\");\r\n        }else{\r\n          this.$elementMessage(r.Message, \"error\");\r\n        }\r\n      })\r\n    },\r\n    storeName(val){\r\n      let text = '';\r\n      this.storeList.some(e => {\r\n        if(e.shopifyAccountId == val){\r\n          text = e.store\r\n          return true \r\n        }\r\n          \r\n      })\r\n      return text;\r\n    },\r\n    venderName(val){\r\n      let text = '';\r\n      this.vendors.some(e => {\r\n        if(e.id == val){\r\n          text = e.vendorName;\r\n          return true \r\n        }\r\n      })\r\n      return text; \r\n    },\r\n    changeAllChecked(){\r\n      this.items.forEach(item => {\r\n        item.checked = this.allChecked;\r\n      })\r\n    },\r\n    clearFilter(type){\r\n      switch(type){\r\n        case 'store':\r\n          this.filterParams.accountId = \"\";\r\n          this.cascaderValue = \"\";\r\n          ++this.cascaderKey;\r\n        break;\r\n        case 'name':\r\n          this.productName = this.filterParams.productName = \"\";\r\n        break;\r\n        case 'vendor':\r\n          this.filterParams.relationshipId = \"\";\r\n        break;\r\n        case 'all':\r\n          this.filterParams = JSON.parse(this.filterParamsDefault)\r\n        break;\r\n      }\r\n      if (this.$route.query.page == 1) {\r\n        this.getItems();\r\n      } else {\r\n        this.$router.push({\r\n          query: {\r\n            page: 1,\r\n          },\r\n        });\r\n      }\r\n    },\r\n    filterGetItem(){\r\n      //筛选\r\n      if(this.cascaderValue != \"\"){\r\n        this.filterParams.accountId = this.cascaderValue[1];\r\n      }\r\n      this.filterParams.productName = this.productName;\r\n      if (this.$route.query.page == 1) {\r\n        this.getItems();\r\n      } else {\r\n        this.$router.push({\r\n          query: {\r\n            page: 1,\r\n          },\r\n        });\r\n      }\r\n    },\r\n    getItems(s){\r\n      this.loading = true;\r\n      let params = {\r\n        page: this.page,\r\n        rowsPerPage: this.rowsPerPage,\r\n        accountId: this.filterParams.accountId,\r\n        productName: this.filterParams.productName,\r\n        relationshipId: this.filterParams.relationshipId,\r\n      }\r\n      this.$apiCall(\"api.DispatchOrderRule.findAllocatedProducts\", params, r => {\r\n        this.loading = false;\r\n        if (r.ErrorCode == \"9999\") {\r\n          this.items = r.Data.Results.map(item => {\r\n            item.checked = false;\r\n            return item\r\n          });\r\n          this.total = Number(r.Data.Pagination.totalCount);\r\n          this.totalPage = Number(r.Data.Pagination.totalPage);\r\n          this.resizeH();\r\n          if (!s && this.$refs.gridTable) this.$refs.gridTable.$el.scrollTop = 0;\r\n        }else{\r\n          this.$elementMessage(r.Message, \"error\");\r\n        }\r\n      });\r\n    },\r\n    toPage(val) {\r\n      if (val != this.$route.query.page)\r\n        this.$router.push({\r\n          query: {\r\n            page: val,\r\n          },\r\n        });\r\n    },\r\n    changePageSize(val) {\r\n      this.rowsPerPage = val;\r\n      localStorage.setItem(\"c_allocateProductsPerPage\", val);\r\n      this.getItems();\r\n    },\r\n    gotoPage() {\r\n      this.page = this.$route.query.page ? this.$route.query.page : 1;\r\n      this.getItems();\r\n    },\r\n    getStore() {\r\n      this.$apiCall(\"api.Invoice.findStores\", { authStatus: 1 }, (r) => {\r\n        if (r.ErrorCode == 9999) {\r\n          this.storeList = [];\r\n          r.Data.Results.forEach((e) => {\r\n            this.storeList.push({\r\n              shopifyAccountId: e.id,\r\n              store: e.shopName,\r\n            });\r\n          });\r\n          this.options.map((item) => {\r\n            r.Data.Results.filter((a) => {\r\n              if(a.platform == item.id){\r\n                item.children.push({\r\n                  label: a.shopName,\r\n                  value: a.id,\r\n                })\r\n              };\r\n            });\r\n          });\r\n        } else {\r\n          this.$message({ message: r.Message, type: \"error\" });\r\n        }\r\n      });\r\n    },\r\n    getVendors(){\r\n      this.$apiCall('api.Relationship.findByCustomer', {}, r => {\r\n        if (r.ErrorCode == \"9999\") {\r\n          this.vendors = r.Data.Results;\r\n        }else{\r\n          this.$elementMessage(r.Message, \"error\");\r\n        }\r\n      });\r\n    },\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\">\r\n.allocate-products-page{\r\n  .el-breadcrumb__inner.is-link{\r\n    color: #5c6ac4;\r\n  }\r\n  .image-slot{\r\n    border: 1px #EBEEF5 solid;\r\n    i{\r\n      color: #C0C4CC;\r\n      font-size: 32px;\r\n      margin-left: 0;\r\n      margin-top: 0;\r\n      transform: translate(-50%, -50%);\r\n    }\r\n  }\r\n}\r\n</style>\r\n<style lang=\"scss\" scoped>\r\n.el-card.table-header{\r\n  border-color: transparent;\r\n  background-color: transparent;\r\n}\r\n.table-body-card{\r\n  margin-bottom: 15px;\r\n  font-size: 13px;\r\n}\r\n.product-box{\r\n  display: flex;\r\n  align-items: center;\r\n  .el-checkbox{\r\n    margin: 0 10px 0 0;\r\n  }\r\n  .el-image{\r\n    margin-right: 20px;\r\n    border: 1px #E4E7ED solid;\r\n  }\r\n  .info{\r\n    height: 120px;\r\n    .name{\r\n      margin-bottom: 15px;\r\n      max-height: 72px;\r\n      line-height: 24px;\r\n    }\r\n  }\r\n}\r\n.info-wrap{\r\n  display: flex;\r\n  flex-direction: column;\r\n  .row1{\r\n    margin-bottom: 15px;\r\n  }\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AllocatedProducts.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AllocatedProducts.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AllocatedProducts.vue?vue&type=template&id=03f9947c&scoped=true&\"\nimport script from \"./AllocatedProducts.vue?vue&type=script&lang=js&\"\nexport * from \"./AllocatedProducts.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AllocatedProducts.vue?vue&type=style&index=0&lang=scss&\"\nimport style1 from \"./AllocatedProducts.vue?vue&type=style&index=1&id=03f9947c&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"03f9947c\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AllocatedProducts.vue?vue&type=style&index=1&id=03f9947c&lang=scss&scoped=true&\""],"sourceRoot":""}