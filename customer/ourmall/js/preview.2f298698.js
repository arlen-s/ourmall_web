(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["preview"],{"002f":function(e,t,i){"use strict";i("d380")},"035c":function(e,t,i){e.exports=i.p+"img/fail.bcda79cb.png"},"0b54":function(e,t,i){e.exports=i.p+"img/3.09f17bce.png"},"166f":function(e,t,i){e.exports=i.p+"img/12.51639578.png"},"25db":function(e,t,i){e.exports=i.p+"img/success.03f6a42c.png"},"2d10":function(e,t,i){"use strict";var a=function(){var e=this,t=e._self._c;return t("div",[e.item.shippingJson?t("el-popover",{attrs:{"popper-class":"customer-popover",placement:"bottom",width:"600",trigger:"hover"}},[2==e.type?t("span",{staticStyle:{cursor:"pointer"},attrs:{slot:"reference"},slot:"reference"},[t("span",[e._v(e._s(e.item.codeName||""))]),t("i",{staticClass:"el-icon-caret-bottom el-icon--right"})]):t("span",{staticClass:"d-flex",staticStyle:{cursor:"pointer"},attrs:{slot:"reference"},slot:"reference"},["mini"==e.size?t("span",[t("i",{staticClass:"el-icon-user-solid",staticStyle:{color:"#909399"}})]):t("span",{staticClass:"tx-ellipsis1",staticStyle:{display:"inline-block","max-width":"160px","font-size":"12px"}},[e._v(e._s(e.item.shippingJson.name||""))]),t("i",{staticClass:"el-icon-caret-bottom el-icon--right"})]),t("div",{staticClass:"title"},[t("div",{staticClass:"left"},[e._v("Shopify Order "+e._s(e.item.codeName))]),e.item.timeCreated?t("div",{staticClass:"right"},[t("span",[e._v("Order Date: ")]),e._v(" "+e._s(e.moment(e.item.timeCreated).format("ll [at] LTS"))+" ")]):e._e()]),t("div",{staticClass:"mg-y-15 mg-t-20 pd-x-20"},[t("div",{staticClass:"title2"},[e._v("Shipping address")]),t("div",{staticClass:"info"},[t("div",{staticClass:"info-row"},[t("div",[t("span",[e._v("Customer")]),e._v(" "+e._s(e.item.shippingJson.name||"---")+" "),e.item.shippingJson.name?t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"copy",placement:"right"}},[t("el-button",{attrs:{size:"mini",type:"text"}},[t("i",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.item.shippingJson.name,expression:"item.shippingJson.name",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:e.onError,expression:"onError",arg:"error"}],staticClass:"el-icon-document-copy"})])],1):e._e()],1)]),t("div",{staticClass:"info-row",style:{marginBottom:e.item.shippingJson.country?"0":"10px"}},[t("div",[t("span",[e._v("Address")]),e._v(" "+e._s(e.item.shippingJson.zip||"")+" "+e._s(e.item.shippingJson.address1||"")+" "+e._s(e.item.shippingJson.city||"")+" "+e._s(e.item.shippingJson.province||"")+" "),e.item.shippingJson.address1?t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"copy",placement:"right"}},[t("el-button",{attrs:{size:"mini",type:"text"}},[t("i",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:`${e.item.shippingJson.zip||""} ${e.item.shippingJson.address1||""}  ${e.item.shippingJson.city||""}  ${e.item.shippingJson.province||""} ${e.item.shippingJson.country||""}`,expression:"`${item.shippingJson.zip || ''} ${item.shippingJson.address1 || ''}  ${item.shippingJson.city ||  ''}  ${item.shippingJson.province || ''} ${item.shippingJson.country || ''}`",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:e.onError,expression:"onError",arg:"error"}],staticClass:"el-icon-document-copy"})])],1):e._e()],1)]),e.item.shippingJson.country?t("div",{staticClass:"info-row"},[t("div",[t("span"),e._v(" "+e._s(e.item.shippingJson.country))])]):e._e(),t("div",{staticClass:"info-row"},[t("div",[t("span",[e._v("Apartment, sulte, etc.")]),e._v(" "+e._s(e.item.shippingJson.address2||"---")+" "),e.item.shippingJson.address2?t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"copy",placement:"right"}},[t("el-button",{attrs:{size:"mini",type:"text"}},[t("i",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.item.shippingJson.address2,expression:"item.shippingJson.address2",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:e.onError,expression:"onError",arg:"error"}],staticClass:"el-icon-document-copy"})])],1):e._e()],1)]),t("div",{staticClass:"info-row"},[t("div",[t("span",[e._v("City")]),e._v(" "+e._s(e.item.shippingJson.city||"---")+" "),e.item.shippingJson.city?t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"copy",placement:"right"}},[t("el-button",{attrs:{size:"mini",type:"text"}},[t("i",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.item.shippingJson.city,expression:"item.shippingJson.city",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:e.onError,expression:"onError",arg:"error"}],staticClass:"el-icon-document-copy"})])],1):e._e()],1),t("div",[t("span",[e._v("State")]),e._v(" "+e._s(e.item.shippingJson.province||"---")+" "),e.item.shippingJson.province?t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"copy",placement:"right"}},[t("el-button",{attrs:{size:"mini",type:"text"}},[t("i",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.item.shippingJson.province,expression:"item.shippingJson.province",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:e.onError,expression:"onError",arg:"error"}],staticClass:"el-icon-document-copy"})])],1):e._e()],1)]),t("div",{staticClass:"info-row"},[t("div",[t("span",[e._v("Country")]),e._v(" "+e._s(e.item.shippingJson.country||"---")+" "),e.item.shippingJson.country?t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"copy",placement:"right"}},[t("el-button",{attrs:{size:"mini",type:"text"}},[t("i",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.item.shippingJson.country,expression:"item.shippingJson.country",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:e.onError,expression:"onError",arg:"error"}],staticClass:"el-icon-document-copy"})])],1):e._e()],1),t("div",[t("span",[e._v("Zipcode")]),e._v(" "+e._s(e.item.shippingJson.zip||"---")+" "),e.item.shippingJson.zip?t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"copy",placement:"right"}},[t("el-button",{attrs:{size:"mini",type:"text"}},[t("i",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.item.shippingJson.zip,expression:"item.shippingJson.zip",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:e.onError,expression:"onError",arg:"error"}],staticClass:"el-icon-document-copy"})])],1):e._e()],1)])]),t("div",{staticClass:"title2"},[e._v("Contact Information")]),t("div",{staticClass:"info"},[t("div",{staticClass:"info-row"},[t("div",[t("span",[e._v("Phone number")]),e._v(" "+e._s(e.item.shippingJson.phone||"---")+" "),e.item.shippingJson.phone?t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"copy",placement:"right"}},[t("el-button",{attrs:{size:"mini",type:"text"}},[t("i",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.item.shippingJson.phone,expression:"item.shippingJson.phone",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:e.onError,expression:"onError",arg:"error"}],staticClass:"el-icon-document-copy"})])],1):e._e()],1)]),t("div",{staticClass:"info-row"},[t("div",[t("span",[e._v("Email")]),e._v(" "+e._s(e.item.email||"---")+" "),e.item.email?t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"copy",placement:"right"}},[t("el-button",{attrs:{size:"mini",type:"text"}},[t("i",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.item.email,expression:"item.email",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:e.onError,expression:"onError",arg:"error"}],staticClass:"el-icon-document-copy"})])],1):e._e()],1)])]),e.item.ioss?[t("div",{staticClass:"title2"},[e._v("IOSS Information")]),t("div",{staticClass:"info"},[t("div",{staticClass:"info-row"},[t("div",[t("span",[e._v("IOSS Id")]),e._v(" "+e._s(e.item.ioss)+" ")])])])]:e._e(),e.item.note?[t("div",{staticClass:"title2"},[e._v("Notes")]),t("div",{staticClass:"info"},[t("div",{staticClass:"info-row"},[t("div",{staticStyle:{"word-break":"break-all"}},[t("span",[e._v("Notes")]),e._v(" "+e._s(e.item.note)+" "),e.item.note?t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"copy",placement:"right"}},[t("el-button",{attrs:{size:"mini",type:"text"}},[t("i",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.item.note,expression:"item.note",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:e.onError,expression:"onError",arg:"error"}],staticClass:"el-icon-document-copy"})])],1):e._e()],1)])])]:e._e()],2)]):t("span",[e._v("---")]),e.item.note&&e.isicon?t("span",{staticClass:"mg-l-5"},[t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.item.note,placement:"top"}},[t("i",{staticClass:"el-icon-info",staticStyle:{"font-size":"12px",width:"12px",color:"#5c6ac4"}})])],1):e._e()],1)},s=[],o={props:["item","type","size","isicon"],methods:{onCopy(e){this.$emit("onCopy",e)},onError(e){this.$emit("onError",e)}}},n=o,r=(i("76ff"),i("e607")),l=Object(r["a"])(n,a,s,!1,null,"1df2d8d3",null);t["a"]=l.exports},"5fe2":function(e,t,i){e.exports=i.p+"img/2.aee43cf8.png"},"6a60":function(e,t){e.exports="data:image/png;base64,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"},"6c44":function(e,t){e.exports="data:image/png;base64,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"},7359:function(e,t,i){e.exports=i.p+"img/1.aa7d0b0d.png"},"750e":function(e,t,i){e.exports=i.p+"img/13.0b55043a.png"},"76ff":function(e,t,i){"use strict";i("f8db")},"88a5":function(e,t,i){e.exports=i.p+"img/10.c4ce9fc9.png"},a64c:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e._self._c;return t("el-scrollbar",{ref:"myScrollbar",staticClass:"page-content"},[t("div",{staticClass:"invoice"},[(e.loginType,e._e()),1==e.loginType||e.$route.query.fromPage?e._e():[e.invoiceInfo&&1!=e.invoiceInfo.hasAuth&&e.totalCount>0?[t("div",{staticStyle:{height:"70px"}}),t("header",{staticStyle:{position:"fixed","z-index":"9",top:"0",left:"0",width:"100%",height:"70px",padding:"0 15px"}},[t("div",{staticStyle:{width:"1100px",margin:"0 auto",padding:"0px 30px 0 0"}},[t("div",{staticClass:"tx-left",staticStyle:{"background-color":"rgb(253, 246, 236)","border-radius":"4px","border-left":"5px solid rgb(230, 162, 60)",margin:"0 0 0 0px",height:"70px",padding:"7px 20px","box-shadow":"rgba(33, 33, 33, 0.4) 0px 1px 4px 0px"}},[t("p",{staticStyle:{color:"#606266","font-weight":"600"}},[e._v(" If it is necessary to process your shopify order or to achieve an automatically update for the shipping information to shopify, you could ")]),t("p",{staticClass:"d-flex justify-content-start",staticStyle:{color:"#606266","font-weight":"600"}},[t("el-button",{staticStyle:{"margin-right":"5px",color:"#e6a23c","text-decoration":"underline","font-size":"14px"},attrs:{size:"mini",type:"text"},on:{click:e.openConnectStore}},[e._v("connect your Shopify store")]),e._v(" and let us help you. ")],1)])])])]:e._e(),e.invoiceInfo&&1==e.invoiceInfo.hasAuth&&e.totalCount>0&&!e.$route.query.fromPage?[t("div",{staticStyle:{height:"70px"}}),t("header",{staticStyle:{position:"fixed","z-index":"9",top:"0",left:"0",width:"100%",height:"70px",padding:"0 15px"}},[t("div",{staticStyle:{width:"1100px",margin:"0 auto",padding:"0px 30px 0 0"}},[t("div",{staticClass:"tx-left",staticStyle:{"background-color":"#f0f9eb","border-radius":"4px","border-left":"5px solid #67c23a",margin:"0 0 0 0px",height:"70px",padding:"2px 20px","box-shadow":"rgba(33, 33, 33, 0.4) 0px 1px 4px 0px"}},[t("p",{staticStyle:{color:"#606266","font-weight":"600",margin:"0"}},[e._v(" If you have authorized a Shopify store, after the vendor delivers the items, the shipping information will been synchronized to your Shopify store which you had authorized. (If there are some Shopify stores in the order list below that have not been authorized, you can "),t("a",{staticStyle:{"margin-right":"5px",color:"#67c23a","text-decoration":"underline","font-size":"14px"},attrs:{href:"javascript:;"},on:{click:e.openConnectStore}},[e._v("authorize a new one")]),e._v("). If you need to view your recent orders, please click "),t("router-link",{staticStyle:{"margin-right":"5px",color:"#67c23a","text-decoration":"underline","font-size":"14px"},attrs:{to:{path:"/dashboard"},target:"_blank"}},[e._v("My "+e._s(e.$root.$children[0].pName.a))]),e._v(" to view details. ")],1)])])])]:e._e()],t("el-container",{class:e.noMore||5==e.tabActive?"":"pd-b-100",attrs:{id:"invoiceContainer"}},[t("el-main",[t("el-card",{staticClass:"m-card",attrs:{shadow:"always"}},["9"==e.invoiceInfo.status?t("div",{staticClass:"cancel-label"},[e._v(" Cancelled ")]):e._e(),t("el-row",{staticStyle:{"margin-top":"25px","align-items":"flex-start"},attrs:{type:"flex"}},[t("el-col",[t("div",{staticClass:"invoice-header-wrapper"},[t("div",{staticClass:"header-purchase"},[e._v("Purchase Order")]),t("div",{staticClass:"header-po"},[t("div",{staticClass:"po"},[e._v("PO # "+e._s(e.invoiceInfo.code||"---"))]),t("div",{staticClass:"date"},[e._v(" Date: "+e._s(e.invoiceInfo.timeCreated?e.moment(e.invoiceInfo.timeCreated).format("ll"):"---")+" ")])])])])],1),t("el-divider"),t("el-row",{attrs:{type:"flex",align:"middle"}},[t("el-col",{staticStyle:{display:"flex","align-items":"center"},attrs:{span:12}},[t("div",{staticClass:"grid-content invoice-metadata-custome tx-left pos-relative"},[t("div",[t("span",{staticClass:"wv-text-strong"},[e._v("TO")]),t("br"),t("span",[e._v(" Vendor Name: "+e._s(e.invoiceInfo.vendorName||"---")+" ")])])]),t("div",{staticClass:"mg-l-5"},[e.imageUrl?t("el-image",{staticClass:"avatar",attrs:{src:e.imageUrl,fit:"contain","preview-src-list":[e.imageUrl]}}):e._e()],1)]),t("el-col",{attrs:{span:12}},[t("div",{staticClass:"invoice-metadata-info"},[t("div",{staticClass:"text-right"},[t("p",{staticClass:"text-bg"},[e._v("Amount Due (US$) :")])]),t("div",{staticClass:"text-left"},[e.realAmount>0?t("p",{staticClass:"wv-text-strong text-bg",staticStyle:{"padding-left":"0"}},[e._v(" $ "+e._s(e.realAmount?e.$numberToCurrency(e.realAmount):"0.00")+" ")]):t("p",{staticClass:"wv-text-strong text-bg",staticStyle:{"padding-left":"0"}},[e._v(" Not set up ")])])])])],1),5!=e.tabActive?[t("div",{staticClass:"table-wrap",staticStyle:{"margin-top":"20px","margin-bottom":"30px"}},[t("transition",{attrs:{name:"el-zoom-in-top"}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.suspensionTableHeader,expression:"suspensionTableHeader"}],staticClass:"suspension-table-header"},[t("el-table",{attrs:{"header-cell-class-name":e.headerCellClassName}},[t("el-table-column",{attrs:{width:"150"},scopedSlots:e._u([{key:"header",fn:function(){return[t("div",{staticClass:"table-header-title",staticStyle:{"text-align":"center"}},[e.searchOrder?t("div",{staticClass:"d-flex table-header-title"},[t("el-input",{ref:"searchOrderRef1",attrs:{size:"mini",type:"text",placeholder:"Searching Shopify Order",clearable:""},on:{clear:function(t){return e.Filter(2,"order")},blur:function(t){return e.Filter(3,"order")}},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.Filter(1,"order")}},model:{value:e.searchOrderInput,callback:function(t){e.searchOrderInput=t},expression:"searchOrderInput"}},[t("el-button",{attrs:{slot:"append",type:"primary",size:"mini",icon:"el-icon-search"},on:{click:function(t){return e.Filter(1,"order")}},slot:"append"})],1)],1):t("div",[e._v(" Shopify Order "),t("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){return e.openSearchInput("order","searchOrderRef1")}}},[t("i",{staticClass:"el-icon-search mg-l-5"})])],1)])]},proxy:!0}],null,!1,4265900381)}),t("el-table-column",{scopedSlots:e._u([{key:"header",fn:function(){return[e.searchName||e.searchTrack?e._e():t("div",{staticClass:"table-header-title"},[t("div",{staticClass:"d-flex align-items-center justify-content-between"},[t("div",[e._v(" Items "),t("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){return e.openSearchInput("name","searchNameRef1")}}},[t("i",{staticClass:"el-icon-search mg-l-5"})])],1),t("div",[e._v(" Track Number "),t("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){return e.openSearchInput("track","searchNameRef1")}}},[t("i",{staticClass:"el-icon-search mg-l-5"})])],1)])]),e.searchName||e.searchTrack?t("div",{staticClass:"d-flex table-header-title"},[t("el-input",{ref:"searchNameRef1",attrs:{size:"mini",type:"text",placeholder:e.searchName?"Searching product names or SKU":"Searching product track number",clearable:""},on:{clear:function(t){return e.Filter(2,"name")},blur:function(t){return e.Filter(3,"name")}},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.Filter(1,"name")}},model:{value:e.searchNameInput,callback:function(t){e.searchNameInput=t},expression:"searchNameInput"}},[t("el-button",{attrs:{slot:"append",type:"primary",size:"mini",icon:"el-icon-search"},on:{click:function(t){return e.Filter(1,"name")}},slot:"append"})],1)],1):e._e()]},proxy:!0}],null,!1,523066387)}),t("el-table-column",{attrs:{width:"110"},scopedSlots:e._u([{key:"header",fn:function(){return[t("div",{staticClass:"table-header-title",staticStyle:{"text-align":"center"}},[e._v(" Quantity ")])]},proxy:!0}],null,!1,3054779169)}),1==e.invoiceInfo.showItemPrice?t("el-table-column",{attrs:{width:"110"},scopedSlots:e._u([{key:"header",fn:function(){return[t("div",{staticClass:"table-header-title",staticStyle:{"text-align":"center"}},[e._v(" Unit Price(US$) ")])]},proxy:!0}],null,!1,1262896274)}):e._e(),1==e.invoiceInfo.showItemPrice?t("el-table-column",{attrs:{width:"100"},scopedSlots:e._u([{key:"header",fn:function(){return[t("div",{staticClass:"table-header-title",staticStyle:{"text-align":"center"}},[e._v(" Subtotal(US$) ")])]},proxy:!0}],null,!1,2417552159)}):e._e(),t("el-table-column",{attrs:{label:"Logistics fee",width:"100",align:"center"}}),t("el-table-column",{attrs:{width:"150"},scopedSlots:e._u([{key:"header",fn:function(){return[t("div",{staticClass:"table-header-title",staticStyle:{"text-align":"center"}},[e._v(" Action ")])]},proxy:!0}],null,!1,1152491012)})],1)],1)]),t("div",{ref:"tableRef",staticStyle:{margin:"0 0 -36px !important",width:"1228px"}},[t("el-table",{attrs:{data:e.invoiceData,stripe:"",border:"","header-cell-style":e.handleerCellStyle,"header-cell-class-name":e.headerCellClassName,"row-class-name":e.rowClassName}},[t("el-table-column",{attrs:{width:"150"},scopedSlots:e._u([{key:"header",fn:function(){return[t("div",{staticClass:"table-header-title",staticStyle:{"text-align":"center"}},[e.searchOrder?t("div",{staticClass:"d-flex table-header-title"},[t("el-input",{ref:"searchOrderRef2",attrs:{size:"mini",type:"text",placeholder:"Searching Shopify Order",clearable:""},on:{clear:function(t){return e.Filter(2,"order")},blur:function(t){return e.Filter(3,"order")}},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.Filter(1,"order")}},model:{value:e.searchOrderInput,callback:function(t){e.searchOrderInput=t},expression:"searchOrderInput"}},[t("el-button",{attrs:{slot:"append",type:"primary",size:"mini",icon:"el-icon-search"},on:{click:function(t){return e.Filter(1,"order")}},slot:"append"})],1)],1):t("div",[e._v(" Shopify Order "),t("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){return e.openSearchInput("order","searchOrderRef2")}}},[t("i",{staticClass:"el-icon-search mg-l-5"})])],1)])]},proxy:!0},{key:"default",fn:function({row:i}){return[t("div",{staticClass:"table-shopify-wrapper",staticStyle:{"text-align":"center"}},[t("div",{staticClass:"code tx-600"},[t("popShippingJson",{attrs:{isicon:"1",item:i,type:2},on:{onCopy:e.onCopy,onError:e.onError}})],1),t("div",{staticClass:"date"},[e._v(" "+e._s(i.timeCreated?e.moment(i.timeCreated).format("ll"):"---")+" ")])])]}}],null,!1,1975568127)}),t("el-table-column",{scopedSlots:e._u([{key:"header",fn:function(){return[e.searchName||e.searchTrack?e._e():t("div",{staticClass:"table-header-title"},[t("div",{staticClass:"d-flex align-items-center justify-content-between"},[t("div",[e._v(" Items "),t("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){return e.openSearchInput("name","searchNameRef2")}}},[t("i",{staticClass:"el-icon-search mg-l-5"})])],1),t("div",[e._v(" Track Number "),t("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){return e.openSearchInput("track","searchNameRef2")}}},[t("i",{staticClass:"el-icon-search mg-l-5"})])],1)])]),e.searchName||e.searchTrack?t("div",{staticClass:"d-flex table-header-title"},[t("el-input",{ref:"searchNameRef2",attrs:{id:"searchNameInput",size:"mini",type:"text",placeholder:e.searchName?"Searching product names or SKU":"Searching product track number",clearable:""},on:{clear:function(t){return e.Filter(2,"name")},blur:function(t){return e.Filter(3,"name")}},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.Filter(1,"name")}},model:{value:e.searchNameInput,callback:function(t){e.searchNameInput=t},expression:"searchNameInput"}},[t("el-button",{attrs:{slot:"append",type:"primary",size:"mini",icon:"el-icon-search"},on:{click:function(t){return e.Filter(1,"name")}},slot:"append"})],1)],1):e._e()]},proxy:!0},{key:"default",fn:function({row:i}){return[t("div",{staticClass:"table-items-wrapper"},[t("div",{staticClass:"items-image"},[t("el-image",{staticClass:"image",attrs:{lazy:"",src:i.imgUrl,"preview-src-list":i.previewList}},[t("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[t("i",{staticClass:"el-icon-picture-outline"})])])],1),t("div",{staticClass:"items-content"},[t("div",{staticClass:"items-title tx-600"},[e._v(e._s(i.name))]),i.customerProperties&&i.customerProperties.length?t("div",{staticStyle:{"white-space":"initial"}},e._l(i.customerProperties,(function(i){return t("div",{staticClass:"mg-r-5",staticStyle:{display:"inline-block"}},[e._v(" "+e._s(i.name)+": "),t("span",{staticStyle:{color:"#909399"}},[e._v(e._s(i.value))])])})),0):e._e(),t("div",{staticClass:"item-info"},[i.shippingJson&&i.shippingJson.name?t("span",[e._v("To "+e._s(i.shippingJson.name)+" ")]):e._e(),i.shippingJson&&i.shippingJson.country?t("span",[e._v(" ("+e._s(i.shippingJson.country)+")")]):e._e()])]),t("div",{staticClass:"items-tips"},[i.trackNumber?t("div"):e._e(),i.trackNumber?t("div",{staticClass:"d-flex"},[t("span",{staticStyle:{"font-size":"12px"}},[e._v(e._s(i.trackCompany+" "+i.trackNumber))]),2==i.syncStatus?t("el-tooltip",{attrs:{effect:"dark",placement:"right"}},[t("div",{attrs:{slot:"content"},slot:"content"},[e._v(" The vendor has shipped the product(s), but the shipping information has not been sync to your Shopify store. "),t("br"),e._v("Reason: "+e._s(1!=e.invoiceInfo.hasAuth?"You have not connect to your Shopify account to this order.":i.syncContent)+" ")]),t("i",{staticClass:"invoice-icon-tongbu1"})]):t("el-tooltip",{attrs:{effect:"dark",content:"The vendor has shipped the product(s), and the shipping information has been synchronized to the Shopify store.",placement:"right"}},[t("i",{staticClass:"invoice-icon-tongbu2"})])],1):2==i.fulfillStatus?t("div",[t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Reason:"+i.stopReason,placement:"right"}},[t("el-tag",{attrs:{type:"danger"}},[e._v("Will not ship")])],1)],1):e._e(),"9"==e.invoiceInfo.status||i.trackNumber||2==i.fulfillStatus?e._e():t("div"),t("el-tooltip",{attrs:{effect:"dark",content:"The supplier has not delivered yet.",placement:"right"}},["9"==e.invoiceInfo.status||i.trackNumber||2==i.fulfillStatus?e._e():t("el-tag",{attrs:{type:"warning"}},[e._v("Not shipped")])],1)],1)])]}}],null,!1,70075750)}),t("el-table-column",{attrs:{width:"110",label:"Quantity"},scopedSlots:e._u([{key:"header",fn:function(){return[t("div",{staticClass:"table-header-title",staticStyle:{"text-align":"center"}},[e._v(" Quantity ")])]},proxy:!0},{key:"default",fn:function({row:i}){return[t("div",{staticClass:"table-quantity-wrapper"},[1==e.invoiceInfo.customerRead||1==e.invoiceInfo.payStatus||2==i.fulfillStatus||i.trackNumber?t("div",[e._v(" "+e._s(i.quantity)+" ")]):t("el-input-number",{attrs:{size:"mini",min:1},on:{change:function(t){return e.handleChange(i,t)}},model:{value:i.quantity,callback:function(t){e.$set(i,"quantity",t)},expression:"row.quantity"}})],1)]}}],null,!1,949630263)}),1==e.invoiceInfo.showItemPrice?t("el-table-column",{attrs:{width:"110"},scopedSlots:e._u([{key:"header",fn:function(){return[t("div",{staticClass:"table-header-title",staticStyle:{"text-align":"center"}},[e._v(" Unit Price(US$) ")])]},proxy:!0},{key:"default",fn:function({row:i}){return[t("div",{staticClass:"table-Price-wrapper"},[e._v(" "+e._s(i.price||"---")+" ")])]}}],null,!1,2974503470)}):e._e(),1==e.invoiceInfo.showItemPrice?t("el-table-column",{attrs:{width:"100"},scopedSlots:e._u([{key:"header",fn:function(){return[t("div",{staticClass:"table-header-title",staticStyle:{"text-align":"center"}},[e._v(" Subtotal(US$) ")])]},proxy:!0},{key:"default",fn:function({row:i}){return[t("div",{staticClass:"table-subtotal-wrapper"},[e._v(" "+e._s(""===i.amount?"---":e.$numberToCurrency(i.amount))+" ")])]}}],null,!1,1346282819)}):e._e(),1==e.invoiceInfo.showItemPrice?t("el-table-column",{attrs:{label:"Logistics fee",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.shippingFee||"0.00")+" ")]}}],null,!1,2390658071)}):e._e(),t("el-table-column",{attrs:{width:"150"},scopedSlots:e._u([{key:"header",fn:function(){return[t("div",{staticClass:"table-header-title",staticStyle:{"text-align":"center"}},[e._v(" Action ")])]},proxy:!0},{key:"default",fn:function({row:i}){return[t("div",{staticClass:"table-action-wrapper"},["0"!=e.invoiceInfo.vendorId||"9"==e.invoiceInfo.status||i.trackNumber||2==i.fulfillStatus?t("div",[e._v("---")]):t("el-link",{attrs:{type:"primary"},on:{click:function(t){return e.markShippedOpen(i)}}},[e._v("Mark as shipped")]),1==e.invoiceInfo.customerRead||1==e.invoiceInfo.payStatus||i.trackNumber?t("div",[e._v(" --- ")]):t("el-link",{attrs:{type:"danger"},on:{click:function(t){return e.openDeleteDialog(i.id)}}},[e._v(" Remove")])],1)]}}],null,!1,1570979085)})],1)],1)],1),t("div",{staticClass:"page-wrapper"},[t("el-pagination",{attrs:{"current-change":"",small:"","hide-on-single-page":"",layout:"prev, pager, next",total:Number(this.totalCount),"page-size":e.rowsPerPage},on:{"current-change":e.pagination}})],1),t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"page-footer mg-t-30 mg-b-10",staticStyle:{"min-height":"50px","z-index":"0"}},[t("el-row",{directives:[{name:"show",rawName:"v-show",value:e.noMore,expression:"noMore"}]},[t("el-col",{attrs:{span:8}},[t("div",{staticClass:"text item"},[t("div",{staticStyle:{"background-color":"#fff",padding:"20px 0"}},[t("div",{directives:[{name:"show",rawName:"v-show",value:1==e.invoiceInfo.customerRead,expression:"invoiceInfo.customerRead == 1"}],staticClass:"d-flex",staticStyle:{color:"#67c23a","margin-bottom":"20px"}},[t("i",{staticClass:"el-icon-success",staticStyle:{"font-size":"16px"}}),t("div",{staticStyle:{"margin-left":"5px"}},[e._v(" "+e._s(e.invoiceInfo.timeRead?e.moment(e.invoiceInfo.timeRead).format("ll [at] LTS"):"---")+" "),t("span",{staticStyle:{display:"block"}},[e._v("The webmaster has confirmed the payment ")])])]),t("div",{directives:[{name:"show",rawName:"v-show",value:1==e.invoiceInfo.payStatus,expression:"invoiceInfo.payStatus == 1"}],staticClass:"d-flex",staticStyle:{color:"#67c23a","margin-bottom":"20px"}},[t("i",{staticClass:"el-icon-success",staticStyle:{"font-size":"16px"}}),t("div",{staticStyle:{"margin-left":"5px"}},[e._v(" "+e._s(e.invoiceInfo.timePaid?e.moment(e.invoiceInfo.timePaid).format("ll [at] LTS"):"---")+" "),t("span",{staticStyle:{display:"block"}},[e._v("The vendor has confirmed the payment ")])])]),e.invoiceInfo.firstDeliverTime?t("div",{staticClass:"d-flex",staticStyle:{color:"#67c23a","margin-bottom":"20px"}},[t("i",{staticClass:"el-icon-success",staticStyle:{"font-size":"16px"}}),t("div",{staticStyle:{"margin-left":"5px"}},[e._v(" "+e._s(e.invoiceInfo.firstDeliverTime?e.moment(e.invoiceInfo.firstDeliverTime).format("ll [at] LTS"):"---")+" "),t("span",{staticStyle:{display:"block"}},[e._v("The vendor start delivery the orders ")])])]):e._e()])])]),t("el-col",{attrs:{span:16}},[t("div",{staticClass:"grid-content invoice-bottom"},[t("div",{staticClass:"d-flex justify-content-end mg-b-10"},[t("div",{},[e._v("Items total (US$) :")]),t("div",{staticClass:"mg-l-5 pd-r-15"},[e._v(" "+e._s(e.realAmount>0?e.$numberToCurrency(e.itemAmount):"Not set up")+" ")])]),t("div",{staticClass:"d-flex justify-content-end"},[t("div",{},[e._v("Shipping costs (US$) :")]),t("div",{staticClass:"mg-l-5 pd-r-15"},[e._v(" "+e._s(e.realAmount>0?e.$numberToCurrency(e.shippingAmount):"Not set up")+" ")])]),t("el-divider"),e.discount&&e.discount>0&&e.realAmount>0?t("div",{staticClass:"d-flex justify-content-end"},[t("div",{},[e._v("Subtotal (US$) :")]),t("div",{staticClass:"mg-l-5 pd-r-15"},[e._v(" "+e._s(e.realAmount>0?e.$numberToCurrency(e.totalAmount):"Not set up")+" ")])]):e._e(),e.discount&&e.discount>0&&e.realAmount>0?t("div",{staticClass:"d-flex justify-content-end mg-t-10"},[t("div",{},[e._v("Discount (US$) :")]),t("div",{staticClass:"mg-l-5 pd-r-15",staticStyle:{color:"rgb(103, 194, 58)"}},[e._v(" - "+e._s(e.$numberToCurrency(e.discount))+" ")])]):e._e(),t("div",{staticClass:"d-flex justify-content-end mg-t-10 bold-input"},[t("div",{staticClass:"tx-bold"},[e._v("Amount Due (US$) :")]),t("div",{staticClass:"mg-l-5 pd-r-15",staticStyle:{"font-size":"16px","font-weight":"bold"}},[e._v(" "+e._s(e.realAmount>0?e.$numberToCurrency(e.realAmount):"Not set up")+" ")])]),e.realAmount>0&&e.paymentType?t("div",{staticClass:"d-flex justify-content-end mg-t-10",staticStyle:{"align-items":"flex-start"}},[t("div",{},[e._v("Payment method :")]),1==e.paymentType?t("div",{staticClass:"mg-l-5 pd-r-15"},[e._v(" Via paypal ")]):e._e(),2==e.paymentType?t("div",{staticClass:"mg-l-5 pd-r-15"},[e._v(" Through AliExpress proxy payment link ")]):e._e(),3==e.paymentType?t("div",{staticClass:"mg-l-5 pd-r-15"},[e._v(" Through a bank transfer ")]):e._e()]):e._e(),t("div",{directives:[{name:"show",rawName:"v-show",value:2==e.paymentType&&e.realAmount>0,expression:"paymentType == 2 && realAmount > 0"}],staticClass:"mg-t-10 normal-input pd-r-0",staticStyle:{"text-align":"right"}},[t("p",{staticStyle:{"margin-bottom":"5px","vertical-align":"middle"}},[t("span",{staticStyle:{"vertical-align":"middle"}},[e._v("According to the vendor’s setting you can go to ")]),t("el-link",{staticStyle:{"text-decoration":"underline",margin:"0 3px","vertical-align":"middle"},attrs:{underline:!1},on:{click:function(t){return e.openPayUrl(e.payUrl)}}},[e._v(" Aliexpress to buy the item in the vendor’s store ")]),t("span",{staticStyle:{"vertical-align":"middle"}},[e._v(" to finish the payment.")]),t("el-link",{staticStyle:{"margin-left":"15px","white-space":"nowrap","vertical-align":"middle"},attrs:{underline:!1,type:"primary"},on:{click:function(t){return e.openPayUrl(e.payUrl)}}},[e._v("Go to AliExpress NOW")])],1)]),"9"!=e.invoiceInfo.status?t("div",{staticClass:"mg-t-20 normal-input pd-r-15",staticStyle:{"text-align":"right"}},[1!=e.invoiceInfo.status&&2==e.invoiceInfo.customerRead&&2==e.invoiceInfo.payStatus&&e.realAmount>0?t("el-button",{attrs:{disabled:"9"==e.invoiceInfo.status,size:"medium",type:"primary"},on:{click:e.confirmMoneyOnly}},[e._v("I have finished the payment ")]):e._e(),"6"!=e.invoiceInfo.status?t("el-button",{staticStyle:{"margin-left":"10px"},attrs:{disabled:"9"==e.invoiceInfo.status,size:"medium",type:"success",icon:"fa fa-send"},on:{click:e.sendtoVendor}},[e._v(" Invite vendor to process purchase order")]):e._e(),e.isPay&&2==e.invoiceInfo.status?t("el-button",{attrs:{type:"primary",size:"medium"},on:{click:e.openPay}},[e._v("Pay")]):e._e()],1):e._e()],1),1==e.invoiceInfo.paymentType||2==e.invoiceInfo.paymentType?[1==e.invoiceInfo.payStatus?t("div",{staticClass:"tx-right mg-t-15"},[t("span",[t("el-alert",{staticStyle:{display:"inline"},attrs:{title:"The vender has confirmed the payment.",type:"success",closable:!1}})],1)]):e._e()]:e._e()],2)],1)],1),t("div",{directives:[{name:"show",rawName:"v-show",value:!e.noMore,expression:"!noMore"}],staticClass:"page-footer-fixed"},[t("div",{staticStyle:{width:"1030px",margin:"0 auto"}},[t("div",{staticClass:"without-hover"},[t("el-row",{staticStyle:{margin:"20px 15px 10px -15px"}},[t("el-col",{attrs:{span:24}},[t("div",{staticClass:"d-flex justify-content-between"},[t("div",{staticClass:"d-flex"},[t("div",{directives:[{name:"show",rawName:"v-show",value:1==e.invoiceInfo.customerRead,expression:"invoiceInfo.customerRead == 1"}],staticClass:"d-flex",staticStyle:{color:"#67c23a","margin-right":"20px"}},[t("i",{staticClass:"el-icon-success",staticStyle:{"font-size":"16px"}}),t("div",{staticStyle:{"margin-left":"5px"}},[e._v(" "+e._s(e.invoiceInfo.timeRead?e.moment(e.invoiceInfo.timeRead).format("ll [at] LTS"):"---")+" "),t("span",{staticStyle:{display:"block","white-space":"normal"}},[e._v("The webmaster has confirmed the payment ")])])]),t("div",{directives:[{name:"show",rawName:"v-show",value:1==e.invoiceInfo.payStatus,expression:"invoiceInfo.payStatus == 1"}],staticClass:"d-flex",staticStyle:{color:"#67c23a","margin-right":"20px"}},[t("i",{staticClass:"el-icon-success",staticStyle:{"font-size":"16px"}}),t("div",{staticStyle:{"margin-left":"5px"}},[e._v(" "+e._s(e.invoiceInfo.timePaid?e.moment(e.invoiceInfo.timePaid).format("ll [at] LTS"):"---")+" "),t("span",{staticStyle:{display:"block","white-space":"normal"}},[e._v("The vendor has confirmed the payment ")])])]),e.invoiceInfo.firstDeliverTime?t("div",{staticClass:"d-flex",staticStyle:{color:"#67c23a","margin-bottom":"20px"}},[t("i",{staticClass:"el-icon-success",staticStyle:{"font-size":"16px"}}),t("div",{staticStyle:{"margin-left":"5px"}},[e._v(" "+e._s(e.invoiceInfo.firstDeliverTime?e.moment(e.invoiceInfo.firstDeliverTime).format("ll [at] LTS"):"---")+" "),t("span",{staticStyle:{display:"block","white-space":"normal"}},[e._v("The vendor start delivery the orders ")])])]):e._e()]),t("div",{staticClass:"d-flex justify-content-end",staticStyle:{"white-space":"nowrap"}},[t("div",{staticClass:"tx-bold"},[e._v("Amount Due (US$) :")]),t("div",{staticClass:"mg-l-5",staticStyle:{"font-weight":"bold","font-size":"16px !important"}},[e._v(" "+e._s(e.realAmount>0?e.$numberToCurrency(e.realAmount):"Not set up")+" ")])])])])],1)],1),t("div",{staticClass:"with-hover"},[t("el-row",{staticStyle:{margin:"10px 15px 10px -15px"}},[t("el-col",{attrs:{span:8}},[t("div",{staticClass:"text item",staticStyle:{"margin-top":"20px"}},[t("div",{staticStyle:{"background-color":"#fff",padding:"20px 20px 20px 0"}},[t("div",{directives:[{name:"show",rawName:"v-show",value:1==e.invoiceInfo.customerRead,expression:"invoiceInfo.customerRead == 1"}],staticClass:"d-flex",staticStyle:{color:"#67c23a","margin-bottom":"20px"}},[t("i",{staticClass:"el-icon-success",staticStyle:{"font-size":"16px"}}),t("div",{staticStyle:{"margin-left":"5px"}},[e._v(" "+e._s(e.invoiceInfo.timeRead?e.moment(e.invoiceInfo.timeRead).format("ll [at] LTS"):"---")+" "),t("span",{staticStyle:{display:"block"}},[e._v("The webmaster has confirmed the payment ")])])]),t("div",{directives:[{name:"show",rawName:"v-show",value:1==e.invoiceInfo.payStatus,expression:"invoiceInfo.payStatus == 1"}],staticClass:"d-flex",staticStyle:{color:"#67c23a","margin-bottom":"20px"}},[t("i",{staticClass:"el-icon-success",staticStyle:{"font-size":"16px"}}),t("div",{staticStyle:{"margin-left":"5px"}},[e._v(" "+e._s(e.invoiceInfo.timePaid?e.moment(e.invoiceInfo.timePaid).format("ll [at] LTS"):"---")+" "),t("span",{staticStyle:{display:"block"}},[e._v("The vendor has confirmed the payment ")])])]),e.invoiceInfo.firstDeliverTime?t("div",{staticClass:"d-flex",staticStyle:{color:"#67c23a","margin-bottom":"20px"}},[t("i",{staticClass:"el-icon-success",staticStyle:{"font-size":"16px"}}),t("div",{staticStyle:{"margin-left":"5px"}},[e._v(" "+e._s(e.invoiceInfo.firstDeliverTime?e.moment(e.invoiceInfo.firstDeliverTime).format("ll [at] LTS"):"---")+" "),t("span",{staticStyle:{display:"block"}},[e._v("The vendor start delivery the orders ")])])]):e._e()])])]),t("el-col",{attrs:{span:16}},[t("div",{staticClass:"grid-content invoice-bottom"},[t("div",{staticClass:"d-flex justify-content-end mg-b-10"},[t("div",{},[e._v("Items total (US$) :")]),t("div",{staticClass:"mg-l-5 pd-r-15"},[e._v(" "+e._s(e.realAmount>0?e.$numberToCurrency(e.itemAmount):"Not set up")+" ")])]),t("div",{staticClass:"d-flex justify-content-end"},[t("div",{},[e._v("Shipping costs (US$) :")]),t("div",{staticClass:"mg-l-5 pd-r-15"},[e._v(" "+e._s(e.realAmount>0?e.$numberToCurrency(e.shippingAmount):"Not set up")+" ")])]),t("el-divider"),e.discount&&e.discount>0?t("div",{staticClass:"d-flex justify-content-end"},[t("div",{},[e._v("Subtotal (US$) :")]),t("div",{staticClass:"mg-l-5 pd-r-15"},[e._v(" "+e._s(e.realAmount>0?e.$numberToCurrency(e.totalAmount):"Not set up")+" ")])]):e._e(),e.discount&&e.discount>0&&e.realAmount>0?t("div",{staticClass:"d-flex justify-content-end mg-t-10"},[t("div",{},[e._v("Discount (US$) :")]),t("div",{staticClass:"mg-l-5 pd-r-15",staticStyle:{color:"rgb(103, 194, 58)"}},[e._v(" - "+e._s(e.$numberToCurrency(e.discount))+" ")])]):e._e(),t("div",{staticClass:"d-flex justify-content-end mg-t-10 bold-input"},[t("div",{staticClass:"tx-bold"},[e._v("Amount Due (US$) :")]),t("div",{staticClass:"mg-l-5 pd-r-15",staticStyle:{"font-size":"16px","font-weight":"bold"}},[e._v(" "+e._s(e.realAmount>0?e.$numberToCurrency(e.realAmount):"Not set up")+" ")])]),e.realAmount>0?t("div",{staticClass:"d-flex justify-content-end mg-t-10",staticStyle:{"align-items":"flex-start"}},[t("div",{},[e._v("Payment method :")]),t("div",{staticClass:"mg-l-5 pd-r-15"},[e._v(" "+e._s(1==e.paymentType?"Through a bank transfer or via paypal":"Through AliExpress proxy payment link")+" ")])]):e._e(),t("div",{directives:[{name:"show",rawName:"v-show",value:2==e.paymentType&&e.realAmount>0,expression:"paymentType == 2 && realAmount > 0"}],staticClass:"mg-t-10 normal-input pd-r-0",staticStyle:{"text-align":"right"}},[t("p",{staticStyle:{"margin-bottom":"5px","vertical-align":"middle"}},[t("span",{staticStyle:{"vertical-align":"middle"}},[e._v("According to the vendor’s setting you can go to ")]),t("el-link",{staticStyle:{"text-decoration":"underline",margin:"0 3px","vertical-align":"middle"},attrs:{underline:!1},on:{click:function(t){return e.openPayUrl(e.payUrl)}}},[e._v(" Aliexpress to buy the item in the vendor’s store ")]),t("span",{staticStyle:{"vertical-align":"middle"}},[e._v(" to finish the payment.")]),t("el-link",{staticStyle:{"margin-left":"15px","white-space":"nowrap","vertical-align":"middle"},attrs:{underline:!1,type:"primary"},on:{click:function(t){return e.openPayUrl(e.payUrl)}}},[e._v("Go to AliExpress NOW")])],1)]),t("div",{staticClass:"mg-t-20 normal-input pd-r-15",staticStyle:{"text-align":"right"}},[1!=e.invoiceInfo.status&&2==e.invoiceInfo.customerRead&&2==e.invoiceInfo.payStatus&&e.realAmount>0?t("el-button",{attrs:{disabled:"9"==e.invoiceInfo.status,size:"medium",type:"primary"},on:{click:e.confirmMoneyOnly}},[e._v("I have finished the payment ")]):e._e(),"6"!=e.invoiceInfo.status?t("el-button",{staticStyle:{"margin-left":"10px"},attrs:{disabled:"9"==e.invoiceInfo.status,size:"medium",type:"success",icon:"fa fa-send"},on:{click:e.sendtoVendor}},[e._v("Invite vendor to process purchase order")]):e._e()],1)],1),t("div",{staticClass:"tx-right mg-t-20 mg-b-20"},[1==e.invoiceInfo.paymentType||2==e.invoiceInfo.paymentType?[1==e.invoiceInfo.payStatus?t("span",[t("el-alert",{staticStyle:{display:"inline"},attrs:{title:"The vender has confirmed the payment.",type:"success",closable:!1}})],1):e._e()]:e._e()],2)])],1)],1)])])]:e._e()],2)],1),t("el-aside",{staticStyle:{position:"relative",left:"50px"},attrs:{width:"50px"}},[e.invoiceInfo&&1!=e.invoiceInfo.hasAuth&&e.totalCount>0&&e.isShowSideMsg?[t("div",{staticClass:"el-popover el-popper side-popper"},[t("a",{attrs:{href:"javascript:;"}},[t("i",{staticClass:"el-icon-close",on:{click:function(t){e.isShowSideMsg=!1}}})]),t("p",[e._v(" Hi "+e._s(e.invoiceInfo.customerName?e.invoiceInfo.customerName:"---")+", ")]),t("p",[e._v(" You can download order's shipping information here when I arranges the delivery. ")]),t("div",{staticClass:"popper__arrow",attrs:{"x-arrow":""}})])]:e._e(),t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Download Orders",placement:"right"}},[t("el-button",{staticStyle:{position:"fixed",bottom:"140px",width:"40px",height:"40px","line-height":"40px","text-align":"center",padding:"0","z-index":"1"},attrs:{size:"medium",circle:"",type:"primary"},on:{click:function(t){return e.opendrawer("3")}}},[t("i",{staticClass:"iconfont icon-xiazai",staticStyle:{"margin-right":"0","font-size":"22px"}})])],1),t("el-backtop",{staticStyle:{right:"auto",bottom:"80px","z-index":"1"},attrs:{target:".el-scrollbar__wrap"}})],2)],1),t("el-container",{directives:[{name:"show",rawName:"v-show",value:5!=e.tabActive&&e.noMore||5==e.tabActive,expression:"(tabActive != 5 && noMore) || tabActive == 5"}],attrs:{id:"messageContainer"}},[t("el-main",[t("div",{staticClass:"d-flex justify-content-between mg-b-20 pd-x-20"},[t("span",{staticClass:"tx-16 tx-600"},[e._v("Timeline")])]),t("el-divider"),t("el-row",{attrs:{gutter:30}},[t("el-col",{attrs:{span:12}},[e.currentPageDataLog.length?t("el-timeline",[e._l(e.currentPageDataLog,(function(i){return[t("el-timeline-item",[e._v(" "+e._s(i.date)+" ")]),e._l(i.listInfo,(function(i,a){return t("el-timeline-item",{attrs:{color:"#5c6ac4"}},[t("div",{staticClass:"d-flex justify-content-between",staticStyle:{"align-items":"flex-start"}},[t("span",[e._v(e._s(i.content))]),t("span",{staticStyle:{"white-space":"nowrap","margin-left":"10px",color:"#999"}},[e._v(e._s(i.datetime))])])])}))]}))],2):t("p",{staticClass:"tx-center"},[e._v("No more data")])],1),t("el-col",{staticStyle:{display:"none"},attrs:{span:12}},["9"!=e.invoiceInfo.status?t("div",{staticClass:"mg-b-15",class:1==e.preview?"with-preview":"",staticStyle:{"margin-left":"40px",position:"relative",background:"#fff",border:"1px solid #ddd",padding:"10px"}},[t("ul",{staticClass:"figure-list"},e._l(e.fileList,(function(i,a){return t("li",[t("figure",{style:{backgroundImage:"url("+i.url+")",backgroundSize:"cover"}},[t("a",{attrs:{href:"#"}}),t("a",{staticClass:"btn",attrs:{href:"#"},on:{click:function(t){return e.removeMsgImg(a)}}},[t("i",{staticClass:"el-icon-close"})])])])})),0),t("textarea",{staticClass:"form-control textarea-control",attrs:{placeholder:"Please leave a message",autosize:"",resize:"none","data-emojiable":"true"}}),t("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"flex-end",position:"absolute",bottom:"10px",right:"10px"}},[t("el-upload",{staticClass:"upload-demo",attrs:{action:"",accept:"image/jpeg,image/jpg,image/png","show-file-list":!1,"http-request":e.uploadSectionFile2}},[t("i",{staticClass:"fa fa-paperclip",staticStyle:{"font-size":"20px",margin:"0 10px"}})]),t("el-button",{attrs:{slot:"append",size:"small"},on:{click:e.addMessage},slot:"append"},[e._v("Sent")])],1)]):e._e(),t("div",{directives:[{name:"show",rawName:"v-show",value:e.checked,expression:"checked"}]},[e.currentmessages.length?t("el-timeline",[e._l(e.currentmessages,(function(i){return[t("el-timeline-item",[e._v(" "+e._s(i.date)+" ")]),e._l(i.listInfo,(function(i,a){return[1==i.type?t("el-timeline-item",{attrs:{color:"#5c6ac4",timestamp:i.datetime,placement:"top"}},[t("el-card",[t("div",{staticClass:"d-flex timeline-customer"},[t("el-avatar",{attrs:{size:40}},[e._v(" "+e._s(i.cname)+" ")]),t("div",{staticClass:"mg-l-10"},[t("h4",[e._v(e._s(i.customerName))]),t("p",{staticClass:"mg-t-5",staticStyle:{"word-break":"break-all"},domProps:{innerHTML:e._s(i.content)}}),i.imgJson?t("p",{staticClass:"mg-t-10"},e._l(i.imgJson,(function(e){return t("img",{staticClass:"mg-l-10",attrs:{src:e,width:"60"}})})),0):e._e()])],1)])],1):e._e(),2==i.type?t("el-timeline-item",{attrs:{color:"#5c6ac4",timestamp:i.datetime,placement:"top"}},[t("el-card",{attrs:{"body-style":{background:"#9eea6a"}}},[t("div",{staticClass:"d-flex justify-content-end tx-right timeline-self"},[t("div",{staticClass:"mg-r-10"},[t("h4",[e._v(e._s(i.vendorName))]),t("p",{staticClass:"mg-t-5",staticStyle:{"word-break":"break-all"},domProps:{innerHTML:e._s(i.content)}}),i.imgJson?t("p",{staticClass:"mg-t-10"},e._l(i.imgJson,(function(e){return t("img",{staticClass:"mg-l-10",attrs:{src:e,width:"60"}})})),0):e._e()]),t("el-avatar",{attrs:{size:40}},[e._v(" "+e._s(i.vname)+" ")])],1)])],1):e._e()]}))]}))],2):t("p",{staticClass:"tx-center"},[e._v("No more comment")])],1)])],1)],1),t("el-aside",{attrs:{width:"50px"}})],1),t("el-dialog",{attrs:{title:"You are checking an invoice",visible:e.loginTypeIsOne,width:"500px","close-on-click-modal":!1,"show-close":!1},on:{"update:visible":function(t){e.loginTypeIsOne=t}}},[t("el-divider"),t("div",{staticStyle:{padding:"20px","line-height":"30px",color:"rgb(51, 51, 51)","margin-bottom":"15px"}},[t("p",[e._v(" You have connected a Shopify store before, for your data security, please "),t("a",{staticStyle:{"margin-right":"5px",color:"#67c23a","text-decoration":"underline","font-size":"14px"},attrs:{href:"javascript:;"},on:{click:e.openConnectStore}},[e._v("log in the Shopify account")]),e._v(" you connected and view this invoice's details. ")])])],1),t("el-dialog",{attrs:{title:"发票预览","custom-class":"previewTip",visible:e.previewTipOpen,width:"50%"},on:{"update:visible":function(t){e.previewTipOpen=t}}},[t("el-divider"),t("div",[t("h2",{staticStyle:{"font-size":"16px","font-weight":"bold",margin:"30px 20px","text-align":"center"}},[e._v(" 当前发票页面仅供预览，如果发送给客户请使用发票编辑页面的“发送发票”功能！ ")])]),t("div",{staticClass:"d-flex",staticStyle:{"justify-content":"space-around",margin:"20px"}},[t("div",[t("p",{staticClass:"mg-y-10"},[e._v("如图一所示:页面顶部“发送发票”按钮")]),t("img",{staticStyle:{"box-shadow":"0 2px 12px 0 rgba(0, 0, 0, 0.1)"},attrs:{src:"/images/url2-2.png"}})]),t("div",[t("p",{staticClass:"mg-y-10"},[e._v("如图二所示:页面底部“发送发票”按钮")]),t("img",{staticStyle:{"box-shadow":"0 2px 12px 0 rgba(0, 0, 0, 0.1)"},attrs:{src:"/images/url2-1.png"}})])]),t("el-divider"),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){e.previewTipOpen=!1}}},[e._v("I knew it")])],1)],1),t("el-dialog",{attrs:{"custom-class":"connectStore",visible:e.connectStoreOpen,width:"40%","close-on-click-modal":!1},on:{"update:visible":function(t){e.connectStoreOpen=t}}},[t("el-divider"),t("div",{staticClass:"d-flex align-item-center",attrs:{slot:"title"},slot:"title"},[t("img",{attrs:{src:"/images/shopify.jpg",width:"100"}}),t("span",{staticStyle:{"margin-left":"10px","line-height":"24px","font-size":"18px",color:"#303133"}},[e._v("Connect your Shopify store")])]),t("div",{staticStyle:{padding:"0 20px 30px"}},[t("div",[t("p",{staticStyle:{"margin-top":"20px",color:"#333","font-size":"14px","line-height":"24px"}},[e._v(" you can dispatch the Shopify orders to your vendors after the authorization and the shipping information will be automatically synchronized to your Shopify Store. ")])]),t("div",{staticStyle:{"margin-top":"20px"}},[t("p",{staticStyle:{margin:"0 0 15px",color:"#333","font-size":"14px","line-height":"24px"}},[t("strong",[e._v("Enter your existing Shopify URL bellow and click “connect”")]),e._v(", you will be redirect to Shopify to connect your account to "+e._s(e.$root.$children[0].pName.a)+" (the authorization will be also completed). ")]),t("div",{staticStyle:{width:"90%"}},[t("el-input",{attrs:{disabled:""!=e.errorMessage,size:"medium",placeholder:"Your Shopify store name"},model:{value:e.shopifyUrl,callback:function(t){e.shopifyUrl=t},expression:"shopifyUrl"}},[t("template",{slot:"prepend"},[e._v("https://")]),t("template",{slot:"append"},[e._v(".myshopify.com")])],2)],1)]),""!=e.errorMessage?t("p",{staticStyle:{"margin-top":"30px",color:"#f56c6c","text-align":"center"}},[e._v(" "+e._s(e.errorMessage)+" ")]):e._e()]),t("el-divider"),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{size:"small"},on:{click:function(t){e.connectStoreOpen=!1}}},[e._v("Close")]),""==e.errorMessage?t("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.connectStoreFn}},[e._v("Connect ")]):e._e()],1)],1),t("el-dialog",{attrs:{"custom-class":"connectStoreConfirm",visible:e.connectStoreConfirmOpen,width:"40%","close-on-click-modal":!1},on:{"update:visible":function(t){e.connectStoreConfirmOpen=t}}},[t("el-divider"),t("div",{staticClass:"d-flex align-item-center",attrs:{slot:"title"},slot:"title"},[t("img",{attrs:{src:"/images/shopify.jpg",width:"100"}}),t("span",{staticStyle:{"margin-left":"10px","line-height":"24px","font-size":"18px",color:"#303133"}},[e._v("Connect your Shopify store")])]),t("div",{staticStyle:{padding:"0 20px 30px"}},[t("div",{staticStyle:{"margin-bottom":"20px"}},[t("p",{staticStyle:{"margin-top":"20px",color:"#333","font-size":"14px"}},[e._v(" Connect a store and fulfill your Shopify orders, sync logistics information to your Shopify store automatically. ")]),t("p",{staticStyle:{margin:"10px 0",color:"#333","font-size":"14px"}},[e._v(" Enter your existing Shopify store URL bellow and you'll be redirect to Shopify to connect your account to "+e._s(e.$root.$children[0].pName.a)+". ")]),""!=e.errorMessage?t("p",{staticClass:"tx-error",staticStyle:{color:"#f56c6c"}},[e._v(" "+e._s(e.errorMessage)+" ")]):e._e()])]),t("el-divider"),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{size:"small"},on:{click:e.connectStoreConfirmFn}},[e._v("Close")])],1)],1),t("el-drawer",{attrs:{size:"40%","destroy-on-close":!0,visible:e.drawer,"custom-class":"drawer-outline",wrapperClosable:!1},on:{"update:visible":function(t){e.drawer=t}}},[t("div",{staticClass:"clearfix",attrs:{slot:"title"},slot:"title"},[t("h2",{staticStyle:{padding:"0","font-size":"24px"}},[e._v(e._s(e.drawerTitle))])]),t("el-divider",{staticStyle:{"margin-top":"0","margin-bottom":"0"}}),t("el-scrollbar",[t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.uploadLoading,expression:"uploadLoading"}]},[1==e.drawertype?[t("el-card",{staticClass:"box-card",attrs:{shadow:"never"}},[t("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t("span",[e._v("采购订单基础信息")])]),t("div",{staticStyle:{"margin-top":"-30px"}},[t("el-form",{attrs:{"label-position":"right","label-width":"120px"}},[t("el-form-item",{attrs:{label:"订单总数:"}},[e._v(" "+e._s(e.drawerinfo.orderCnt)+" 个 ")]),t("el-form-item",{attrs:{label:"订单商品项:"}},[e._v(" "+e._s(e.drawerinfo.skuCnt)+" 种 ")]),t("el-form-item",{attrs:{label:"合计商品总数:"}},[e._v(" "+e._s(e.drawerinfo.totalCnt)+" 件 ")]),t("el-form-item",{attrs:{label:"合计采购金额:"}},[e._v(" US$ "+e._s(e.$numberToCurrency(e.drawerinfo.totalAmount))+" ")])],1)],1)]),t("el-card",{staticClass:"box-card",attrs:{shadow:"never"}},[t("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t("span",[e._v("发货情况统计")])]),t("div",{staticStyle:{"margin-top":"-30px"}},[t("el-form",{attrs:{"label-position":"right","label-width":"120px"}},[t("el-form-item",{attrs:{label:"已发货商品数:"}},[t("span",{staticClass:"tx-success"},[e._v(e._s(e.drawerinfo.deliveredCnt))]),e._v(" 件 ")]),t("el-form-item",{attrs:{label:"已发货商品额:"}},[e._v(" US$ "),t("span",{staticClass:"tx-warning"},[e._v(e._s(e.$numberToCurrency(e.drawerinfo.deliveredAmount)))])]),t("el-form-item",{attrs:{label:"未发货商品数:"}},[t("span",{staticClass:"tx-warning"},[e._v(e._s(e.drawerinfo.undeliveredCnt))]),e._v(" 件 ")]),t("el-form-item",{attrs:{label:"未发货商品额:"}},[e._v(" US$ "),t("span",{staticClass:"tx-warning"},[e._v(e._s(e.$numberToCurrency(e.drawerinfo.undeliveredAmount)))])]),t("el-form-item",{attrs:{label:"发货率:"}},[t("span",{staticClass:"tx-warning"},[e._v(e._s(e.drawerinfo.deliverRate)+"%")])]),t("el-form-item",{attrs:{label:"不发货商品数:"}},[t("span",{staticClass:"tx-error"},[e._v(e._s(e.drawerinfo.notDeliveredCnt))]),e._v(" 件 ")]),t("el-form-item",{attrs:{label:"不发货商品额:"}},[e._v(" US$ "),t("span",{staticClass:"tx-error"},[e._v(e._s(e.$numberToCurrency(e.drawerinfo.notDeliveredSku)))])])],1)],1)])]:e._e(),2==e.drawertype?[t("el-card",{staticClass:"box-card",attrs:{shadow:"never"}},[t("el-steps",{attrs:{direction:"vertical",active:1}},[t("el-step",{attrs:{title:"STEP 1"}},[t("template",{slot:"description"},[t("p",{staticClass:"mg-b-10"},[e._v("Set the vendor’s SKU")]),t("img",{staticClass:"mg-b-20",staticStyle:{"box-shadow":"0 2px 12px 0 rgba(0, 0, 0, 0.1)"},attrs:{src:"/images/step1.png"}})])],2),t("el-step",{attrs:{title:"STEP 2"}},[t("template",{slot:"description"},[t("p",{staticClass:"mg-b-10"},[e._v("Set the supply price")]),t("img",{staticClass:"mg-b-20",staticStyle:{"box-shadow":"0 2px 12px 0 rgba(0, 0, 0, 0.1)"},attrs:{src:"/images/step2.png"}})])],2),t("el-step",{attrs:{title:"STEP 3"}},[t("template",{slot:"description"},[t("p",{staticClass:"mg-b-10"},[e._v("Set up payment methods")]),t("img",{staticClass:"mg-b-20",staticStyle:{"box-shadow":"0 2px 12px 0 rgba(0, 0, 0, 0.1)"},attrs:{src:"/images/step3.png"}})])],2),t("el-step",{attrs:{title:"STEP 4"}},[t("template",{slot:"description"},[t("p",{staticClass:"mg-b-10"},[e._v("Send the invoice to the customer")]),t("img",{staticClass:"mg-b-20",staticStyle:{"box-shadow":"0 2px 12px 0 rgba(0, 0, 0, 0.1)"},attrs:{src:"/images/step4.png"}})])],2)],1)],1)]:e._e(),3==e.drawertype?[t("el-card",{staticClass:"box-card",staticStyle:{"margin-bottom":"30px"},attrs:{shadow:"always"}},[t("div",[t("div",{staticClass:"border-bottom-1 mg-b-15 pd-b-15"},[t("h6",{staticClass:"mg-b-15",staticStyle:{"border-left":"4px solid #3f4eae","padding-left":"10px"}},[e._v(" The fields to be exported "),t("span",{staticClass:"mg-l-5"},[e._v("(the sequence is adjustable by dragging forward and backward)")])]),t("div",{staticClass:"draggable-wrap"},[t("draggable",{attrs:{list:e.modalCustomExport.selectedTitles,draggable:".dargDiv",options:{animation:300},group:"tags"},on:{update:e.saveCustomExportSetting}},e._l(e.modalCustomExport.selectedTitles,(function(i,a){return t("el-tag",{key:i.name,staticClass:"dargDiv",attrs:{closable:"","disable-transitions":!1},on:{close:function(t){return e.removeTitle(a)}}},[e._v(" "+e._s(i.name)+" ")])})),1),e.modalCustomExport.selectedTitles.length?e._e():t("div",{staticClass:"w-100 justify-content-center"},[t("span",{staticStyle:{color:"#f56c6c"}},[e._v("您还没有选择可导出的字段。请在下方选择。")])])],1)]),t("el-divider"),t("div",{staticClass:"border-bottom-1 mg-b-15 pd-b-15"},[t("h6",{staticClass:"mg-b-15",staticStyle:{"border-left":"4px solid #3f4eae","padding-left":"10px"}},[e._v(" optional fields "),t("span",{staticClass:"tx-danger tx-12",staticStyle:{color:"#f56c6c"}},[e._v("(unexported fields)")])]),t("div",{staticClass:"tag-wrap"},[t("draggable",{attrs:{list:e.modalCustomExport.unselectedTitles,draggable:".uns-tag",options:{animation:300},group:"tags"},on:{update:e.saveCustomExportSetting}},e._l(e.modalCustomExport.unselectedTitles,(function(i,a){return t("el-tag",{key:i.orName,attrs:{effect:"dark"},on:{click:function(t){return e.selectTitle(a)}}},[e._v(" "+e._s(i.orName)+" ")])})),1)],1)]),t("el-divider"),t("div",{staticClass:"border-bottom-1 mg-b-15 pd-b-15"},[t("h6",{staticClass:"mg-b-15",staticStyle:{"border-left":"4px solid #3f4eae","padding-left":"10px"}},[e._v(" custom field name "),t("a",{staticClass:"mg-l-20",staticStyle:{color:"#5c6ac4"},attrs:{href:"javascript:;"},on:{click:function(t){return e.customWrapState()}}},[e._v(e._s(e.showCustom?"hide modified fields":"expand modified fields"))])]),t("div",{staticClass:"row custom-wrap",class:{hide:!e.showCustom}},[t("el-row",{staticStyle:{margin:"0"},attrs:{gutter:20}},e._l(e.modalCustomExport.selectedTitles,(function(i){return t("el-col",{key:i.orName,staticStyle:{"margin-top":"10px"},attrs:{span:20}},[t("div",{staticClass:"grid-content",staticStyle:{display:"flex","align-items":"center"}},[t("label",{staticStyle:{width:"50%","white-space":"nowrap","text-align":"right","margin-right":"10px",color:"#999"}},[e._v("["+e._s(i.orName)+"]is displayed as:")]),t("div",{staticClass:"col-6"},[t("el-input",{attrs:{placeholder:i.orName,size:"small"},on:{blur:e.saveCustomExportSetting},model:{value:i.name,callback:function(t){e.$set(i,"name",t)},expression:"title.name"}})],1)])])})),1)],1)]),t("el-divider"),t("div",{staticClass:"text-left"},[t("el-button",{attrs:{type:"success",icon:"el-icon-download"},on:{click:function(t){return e.saveCustomExport("1")}}},[e._v("Export order's information to CSV")])],1)],1)])]:e._e(),t("div",{staticClass:"d-flex justify-content-center mg-t-20",staticStyle:{padding:"30px","margin-bottom":"100px"}},[t("el-divider"),t("el-button",{on:{click:function(t){e.drawer=!1}}},[e._v(e._s(3==e.drawertype?"Close":"I knew it"))])],1)],2)])],1),t("div",{directives:[{name:"show",rawName:"v-show",value:e.showShare,expression:"showShare"}],staticClass:"share-mask",on:{click:function(t){e.showShare=!1}}},[t("img",{staticStyle:{width:"100%"},attrs:{src:"/images/download.png"}})])],2),t("div",{directives:[{name:"show",rawName:"v-show",value:e.showDownloadInvoice,expression:"showDownloadInvoice"}],staticClass:"invoice1"},[t("el-container",{attrs:{id:"invoiceContainer1"}},[t("el-main",[t("el-card",{attrs:{shadow:"always"}},[t("el-row",{staticStyle:{"margin-top":"25px","align-items":"flex-start"},attrs:{type:"flex"}},[t("el-col",{attrs:{span:12}},[t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.pageLoading,expression:"pageLoading"}],staticClass:"grid-content invoice-header-logo"})]),t("el-col",{attrs:{span:12}},[t("div",{staticClass:"grid-content invoice-header-info"},[t("div",{staticClass:"wv-heading-title"},[e._v("INVOICE")]),[t("div",{staticClass:"wv-text-strong"},[e._v(" "+e._s(e.invoiceInfo.vendorName?e.invoiceInfo.vendorName:"---")+" ")])]],2)])],1),t("el-divider"),t("el-row",{attrs:{type:"flex",align:"middle"}},[t("el-col",{attrs:{span:12}},[t("div",{staticClass:"grid-content invoice-metadata-custome tx-left pos-relative"},[t("div",[e._v(" BILL To "),t("br"),[t("span",{staticClass:"wv-text-strong",staticStyle:{cursor:"pointer"}},[e._v(e._s(e.invoiceInfo.customerName?e.invoiceInfo.customerName:"---"))])]],2),t("div",{staticClass:"change-customer"})])]),t("el-col",{attrs:{span:12}},[t("div",{staticClass:"invoice-metadata-info mg-b-20"},[t("div",{staticClass:"text-right"},[t("p",[e._v("Invoice Number :")]),t("p",{staticClass:"mg-y-10"},[e._v("Invoice Date :")]),t("p",{staticClass:"text-bg"},[e._v("Amount Due (US$) :")])]),t("div",{staticClass:"text-left"},[t("p",[e._v("# "+e._s(e.invoiceInfo.code?e.invoiceInfo.code:"---"))]),t("p",{staticClass:"mg-y-10"},[e._v(" "+e._s(e.invoiceInfo.timeCreated?e.invoiceInfo.timeCreated:"---")+" ")]),t("p",{staticClass:"wv-text-strong text-bg",staticStyle:{"padding-left":"0"}},[e._v(" $ "+e._s(e.realAmount?e.$numberToCurrency(e.realAmount):"0.00")+" ")])])])])],1),5!=e.tabActive?[t("div",{staticClass:"table-wrap"},[t("el-table",{staticClass:"table-with-body",attrs:{"row-class-name":e.tableRowClassName,"header-cell-style":e.getRowClass2,"cell-style":e.cellStyle,data:e.invoiceData3,stripe:"",border:""}},[t("el-table-column",{attrs:{label:"Items"},scopedSlots:e._u([{key:"header",fn:function(i){return[e.searchName||e.searchTrack?e._e():t("div",[t("div",{staticClass:"d-flex align-items-center justify-content-between"},[t("div",[e._v(" Items "),t("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){e.searchName=!0}}},[t("i",{staticClass:"el-icon-search mg-l-5"})])],1),t("div",[e._v(" Track Number "),t("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){e.searchTrack=!0}}},[t("i",{staticClass:"el-icon-search mg-l-5"})])],1)])]),e.searchName||e.searchTrack?t("div",{staticClass:"d-flex"},[t("el-input",{ref:"searchNameInput",attrs:{id:"searchNameInput",size:"mini",type:"text",placeholder:e.searchName?"Searching product names or SKU":"Searching product track number",clearable:""},on:{clear:function(t){return e.Filter(2,"name")},blur:function(t){return e.Filter(3,"name")}},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.Filter(1,"name")}},model:{value:e.searchNameInput,callback:function(t){e.searchNameInput=t},expression:"searchNameInput"}},[t("el-button",{attrs:{slot:"append",type:"primary",size:"mini",icon:"el-icon-search"},on:{click:function(t){return e.Filter(1,"name")}},slot:"append"})],1)],1):e._e()]}},{key:"default",fn:function(i){return[t("div",{},[t("div",{staticStyle:{"max-width":"100%","text-align":"left"}},[t("div",{staticClass:"tx-600 d-flex justify-content-between"},[t("span",[e._v(e._s(i.row.name))]),"9"==e.invoiceInfo.status||i.row.trackNumber?e._e():[1==i.row.fulfillStatus?t("div",[t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"This item hasn't been shipped yet.",placement:"right"}},[t("el-alert",{attrs:{title:"Not shipped",type:"warning",closable:!1}})],1)],1):e._e()]],2),2!=e.tabActive?t("div",{staticClass:"d-flex no-wrap justify-content-between"},[t("el-popover",{attrs:{"popper-class":"customer-popover",placement:"bottom",title:"Shopify Order "+i.row.codeName,width:"500",trigger:"hover"}},[t("div",{staticStyle:{cursor:"pointer"},attrs:{slot:"reference"},slot:"reference"},[t("span",{staticStyle:{"margin-right":"10px"}},[e._v(e._s(i.row.codeName)),t("i",{staticClass:"el-icon-caret-bottom el-icon--right"})]),i.row.shippingJson&&i.row.shippingJson.name?t("span",[e._v(" To "+e._s(i.row.shippingJson.name)+" ")]):e._e(),i.row.shippingJson&&i.row.shippingJson.country?t("span",[e._v(" ("+e._s(i.row.shippingJson.country)+") ")]):e._e()]),t("div",{staticClass:"mg-y-15 mg-t-20"},[t("div",{staticClass:"d-flex"},[t("div",{staticClass:"d-flex",staticStyle:{width:"90%"}},[t("div",{staticStyle:{width:"100px","text-align":"right",color:"#999"}},[e._v(" Order Date : ")]),t("div",{staticClass:"mg-l-5 pd-r-15"},[e._v(" "+e._s(i.row.timeCreated?i.row.timeCreated:"---")+" ")])])]),t("div",{staticClass:"d-flex"},[t("div",{staticClass:"d-flex",staticStyle:{width:"90%"}},[t("div",{staticStyle:{width:"100px","text-align":"right",color:"#999"}},[e._v(" Customer : ")]),t("div",{staticClass:"mg-l-5 pd-r-15"},[e._v(" "+e._s(i.row.shippingJson&&i.row.shippingJson.name?i.row.shippingJson.name:"---")+" ")])]),t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"copy",placement:"left"}},[t("el-button",{attrs:{size:"mini",type:"text"}},[t("i",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:i.row.shippingJson.name,expression:"\n                                          scope.row.shippingJson.name\n                                        ",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:e.onError,expression:"onError",arg:"error"}],staticClass:"el-icon-document-copy"})])],1)],1),t("div",{staticClass:"d-flex"},[t("div",{staticClass:"d-flex",staticStyle:{width:"90%"}},[t("div",{staticStyle:{width:"100px","text-align":"right",color:"#999"}},[e._v(" Address : ")]),t("div",{staticClass:"mg-l-5 pd-r-15",staticStyle:{"max-width":"75%"}},[e._v(" "+e._s(i.row.shippingJson&&i.row.shippingJson.zip?i.row.shippingJson.zip:"---")+" "+e._s(i.row.shippingJson&&i.row.shippingJson.address1?i.row.shippingJson.address1:"---")+" "+e._s(i.row.shippingJson&&i.row.shippingJson.city?i.row.shippingJson.city:"---")+" "+e._s(i.row.shippingJson&&i.row.shippingJson.province?i.row.shippingJson.province:"---")+" ")])])]),t("div",{staticClass:"d-flex"},[t("div",{staticClass:"d-flex",staticStyle:{width:"90%"}},[t("div",{staticStyle:{width:"100px","text-align":"right",color:"#999"}}),t("div",{staticClass:"mg-l-5 pd-r-15"},[e._v(" "+e._s(i.row.shippingJson&&i.row.shippingJson.country?i.row.shippingJson.country:"---")+" ")])]),t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"copy",placement:"left"}},[t("el-button",{attrs:{size:"mini",type:"text"}},[t("i",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:i.row.shippingJson.zip+i.row.shippingJson.address1+i.row.shippingJson.city+i.row.shippingJson.province+i.row.shippingJson.country,expression:"\n                                          scope.row.shippingJson.zip +\n                                          scope.row.shippingJson.address1 +\n                                          scope.row.shippingJson.city +\n                                          scope.row.shippingJson.province +\n                                          scope.row.shippingJson.country\n                                        ",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:e.onError,expression:"onError",arg:"error"}],staticClass:"el-icon-document-copy"})])],1)],1),t("div",{staticClass:"d-flex"},[t("div",{staticClass:"d-flex",staticStyle:{width:"90%"}},[t("div",{staticStyle:{width:"100px","text-align":"right",color:"#999"}},[e._v(" Email: ")]),t("div",{staticClass:"mg-l-5 pd-r-15"},[e._v(" "+e._s(i.row.email)+" ")])]),i.row.email?[t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"copy",placement:"left"}},[t("el-button",{attrs:{size:"mini",type:"text"}},[t("i",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:i.row.email,expression:"scope.row.email",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:e.onError,expression:"onError",arg:"error"}],staticClass:"el-icon-document-copy"})])],1)]:e._e()],2)])]),t("div",{staticClass:"no-wrap"},[i.row.trackNumber?t("div",{staticClass:"d-flex"},[t("div",[e._v(" "+e._s(i.row.trackCompany)+" "+e._s(i.row.trackNumber)+" ")]),2==i.row.syncStatus?t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",placement:"right"}},[t("div",{attrs:{slot:"content"},slot:"content"},[e._v(" 供应商已发货，但物流信息未同步到Shopify店铺。"),t("br"),e._v("Reason: "+e._s(1!=e.invoiceInfo.hasAuth?"You have not connect to your Shopify account to this order.":i.row.syncContent)+" ")]),t("i",{staticClass:"invoice-icon-tongbu1"})]):t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"供应商已发货，物流信息已同步到Shopify店铺。",placement:"right"}},[t("i",{staticClass:"invoice-icon-tongbu2"})])],1):2==i.row.fulfillStatus?t("div",[t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Reason:"+i.row.stopReason,placement:"right"}},[t("el-alert",{attrs:{title:"Will not ship",type:"error",closable:!1}})],1)],1):e._e(),"9"==e.invoiceInfo.status||i.row.trackNumber||2==i.row.fulfillStatus?e._e():t("a",{staticClass:"tx-600",attrs:{href:"javascript:;"},on:{click:e.markShippedOpen}},[e._v("Mark as shipped")])])],1):e._e()])])]}}],null,!1,2462766302)}),t("el-table-column",{attrs:{prop:"qty",label:"Quantity",width:"160"},scopedSlots:e._u([{key:"default",fn:function(i){return[t("el-input-number",{attrs:{disabled:1==e.invoiceInfo.payStatus||2==i.row.fulfillStatus||1==e.invoiceInfo.customerRead,size:"small",min:1},on:{change:function(t){return e.handleChange(i.row,t)}},model:{value:i.row.quantity,callback:function(t){e.$set(i.row,"quantity",t)},expression:"scope.row.quantity"}})]}}],null,!1,2820309270)})],1)],1),t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"page-footer mg-t-30 mg-b-10",staticStyle:{"min-height":"50px","z-index":"0"}},[t("el-row",[t("el-col",{attrs:{span:8}},[t("div",{staticClass:"text item"},[t("div",{staticStyle:{"background-color":"#fff",padding:"20px"}},[t("p",{directives:[{name:"show",rawName:"v-show",value:1==e.invoiceInfo.customerRead,expression:"invoiceInfo.customerRead == 1"}],staticStyle:{color:"#67c23a","margin-bottom":"20px"}},[t("i",{staticClass:"el-icon-success",staticStyle:{"font-size":"16px"}}),t("span",{staticStyle:{display:"inline-block",width:"120px",margin:"0 5px"}},[e._v("The webmaster has confirmed the payment ")]),e._v(e._s(e.invoiceInfo.timeRead?e.invoiceInfo.timeRead:"---")+" ")]),t("p",{directives:[{name:"show",rawName:"v-show",value:1==e.invoiceInfo.payStatus,expression:"invoiceInfo.payStatus == 1"}],staticStyle:{color:"#67c23a","margin-bottom":"20px"}},[t("i",{staticClass:"el-icon-success",staticStyle:{"font-size":"16px"}}),t("span",{staticStyle:{display:"inline-block",width:"120px",margin:"0 5px"}},[e._v("The vendor has confirmed the payment ")]),e._v(e._s(e.invoiceInfo.timePaid?e.invoiceInfo.timePaid:"---")+" ")])])])]),t("el-col",{attrs:{span:16}},[t("div",{staticClass:"grid-content invoice-bottom"},[t("div",{staticClass:"d-flex justify-content-end mg-b-10"},[t("div",{},[e._v("Items total (US$) :")]),t("div",{staticClass:"mg-l-5 pd-r-15"},[e._v(" "+e._s(e.$numberToCurrency(e.itemAmount))+" ")])]),t("div",{staticClass:"d-flex justify-content-end"},[t("div",{},[e._v("Shipping costs (US$) :")]),t("div",{staticClass:"mg-l-5 pd-r-15"},[e._v(" "+e._s(e.$numberToCurrency(e.shippingAmount))+" ")])]),t("el-divider"),e.discount&&e.discount>0?t("div",{staticClass:"d-flex justify-content-end"},[t("div",{},[e._v("Subtotal (US$) :")]),t("div",{staticClass:"mg-l-5 pd-r-15"},[e._v(" "+e._s(e.$numberToCurrency(e.totalAmount))+" ")])]):e._e(),e.discount&&e.discount>0?t("div",{staticClass:"d-flex justify-content-end mg-t-10"},[t("div",{},[e._v("Discount (US$) :")]),t("div",{staticClass:"mg-l-5 pd-r-15",staticStyle:{color:"rgb(103, 194, 58)"}},[e._v(" - "+e._s(e.$numberToCurrency(e.discount))+" ")])]):e._e(),t("div",{staticClass:"d-flex justify-content-end mg-t-10 bold-input"},[t("div",{staticClass:"tx-bold"},[e._v("Amount Due (US$) :")]),t("div",{staticClass:"mg-l-5 pd-r-15",staticStyle:{"font-size":"16px","font-weight":"bold"}},[e._v(" "+e._s(e.$numberToCurrency(e.realAmount))+" ")])]),e.realAmount>0?t("div",{staticClass:"d-flex justify-content-end mg-t-10",staticStyle:{"align-items":"flex-start"}},[t("div",{},[e._v("Payment method :")]),t("div",{staticClass:"mg-l-5 pd-r-15"},[e._v(" "+e._s(1==e.paymentType?"Through a bank transfer or via paypal":"Through AliExpress proxy payment link")+" ")])]):e._e(),t("div",{directives:[{name:"show",rawName:"v-show",value:2==e.paymentType&&e.realAmount>0,expression:"paymentType == 2 && realAmount > 0"}],staticClass:"mg-t-10 normal-input pd-r-0",staticStyle:{"text-align":"right"}},[t("p",{staticStyle:{"margin-bottom":"5px","vertical-align":"middle"}},[t("span",{staticStyle:{"vertical-align":"middle"}},[e._v("According to the vendor’s setting you can go to ")]),t("el-link",{staticStyle:{"text-decoration":"underline",margin:"0 3px","vertical-align":"middle"},attrs:{underline:!1},on:{click:function(t){return e.openPayUrl(e.payUrl)}}},[e._v(" Aliexpress to buy the item in the vendor’s store ")]),t("span",{staticStyle:{"vertical-align":"middle"}},[e._v(" to finish the payment.")]),t("el-link",{staticStyle:{"margin-left":"15px","white-space":"nowrap","vertical-align":"middle"},attrs:{underline:!1,type:"primary"},on:{click:function(t){return e.openPayUrl(e.payUrl)}}},[e._v("Go to AliExpress NOW")])],1)]),1!=e.invoiceInfo.status&&2==e.invoiceInfo.customerRead&&2==e.invoiceInfo.payStatus&&e.realAmount>0?t("div",{staticClass:"mg-t-10 normal-input pd-r-15",staticStyle:{"text-align":"right"}},[t("el-button",{attrs:{disabled:"9"==e.invoiceInfo.status,size:"medium",type:"primary"},on:{click:e.confirmMoneyOnly}},[e._v("I have finished the payment ")])],1):e._e()],1),1==e.invoiceInfo.paymentType||2==e.invoiceInfo.paymentType?[1==e.invoiceInfo.payStatus?t("div",{staticClass:"tx-right mg-t-15"},[t("span",[t("el-alert",{staticStyle:{display:"inline"},attrs:{title:"The vender has confirmed the payment.",type:"success",closable:!1}})],1)]):e._e()]:e._e()],2)],1)],1)]:e._e()],2)],1)],1)],1),t("el-dialog",{attrs:{"custom-class":"sendInvoice",title:"Send to vendor",visible:e.sendInvoiceOpen,width:"50%"},on:{open:e.openSend,"update:visible":function(t){e.sendInvoiceOpen=t}}},[[t("el-tabs",{staticStyle:{"margin-left":"20px","margin-top":"10px"},attrs:{type:"card"},model:{value:e.activeShareName,callback:function(t){e.activeShareName=t},expression:"activeShareName"}},[t("el-tab-pane",{attrs:{name:"shareLink"}},[t("span",{attrs:{slot:"label"},slot:"label"},[t("i",{staticClass:"iconfont icon-link"}),e._v(" Share by link")]),t("div",{staticClass:"d-flex mg-y-20"},[t("div",{staticStyle:{color:"#999",width:"150px","text-align":"right","margin-right":"10px","white-space":"nowrap"}},[e._v(" Share link: ")]),t("div",[t("span",[e._v(e._s(e.invoiceInfo2.url))])])]),t("div",{staticClass:"d-flex mg-y-20"},[t("div",{staticStyle:{color:"#999",width:"150px","text-align":"right","margin-right":"10px","white-space":"nowrap"}}),t("div",[t("div",[t("el-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.invoiceInfo2.url,expression:"invoiceInfo2.url",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:e.onError,expression:"onError",arg:"error"}],attrs:{size:"mini",type:"success"}},[e._v("Copy Link")])],1)])])]),t("el-tab-pane",{attrs:{name:"shareWeixin"}},[t("span",{attrs:{slot:"label"},slot:"label"},[t("i",{staticClass:"iconfont icon-shejiao"}),e._v(" Share by APP")]),t("div",[t("div",{staticClass:"d-flex mg-y-20"},[t("div",{staticStyle:{color:"#999",width:"150px","text-align":"right","margin-right":"10px","white-space":"nowrap"}},[e._v(" Title: ")]),t("div",{staticStyle:{width:"70%"}},[t("el-input",{attrs:{type:"text",size:"small"},on:{change:function(t){return e.saveRemark("2")}},model:{value:e.shareTitle,callback:function(t){e.shareTitle=t},expression:"shareTitle"}})],1)]),t("div",{staticClass:"d-flex mg-y-20 align-items-center"},[t("div",{staticStyle:{color:"#999",width:"150px","text-align":"right","margin-right":"10px","white-space":"nowrap"}},[e._v(" Desc: ")]),t("div",{staticStyle:{width:"70%"}},[t("el-input",{attrs:{type:"textarea",resize:"none",autosize:{minRows:3,maxRows:6},size:"small"},on:{change:function(t){return e.saveRemark("2")}},model:{value:e.shareDesc,callback:function(t){e.shareDesc=t},expression:"shareDesc"}})],1)]),t("div",{staticClass:"d-flex mg-y-20"},[t("div",{staticStyle:{color:"#999",width:"150px","text-align":"right","margin-right":"10px","white-space":"nowrap"}},[e._v(" Share: ")]),t("div",{staticClass:"d-flex",staticStyle:{width:"70%"}},[t("div",{staticClass:"skype-share",staticStyle:{"margin-right":"30px"},attrs:{"data-href":e.shareTitle+e.shareDesc,"data-lang":"en-US","data-text":e.invoiceInfo2.url,"data-style":"large"}}),t("div",[t("el-tooltip",{attrs:{placement:"bottom"}},[t("div",{attrs:{slot:"content"},slot:"content"},[t("p",{staticClass:"tx-center mg-b-10"},[e._v("Scan share to WeChat")]),t("img",{attrs:{src:e.invoiceInfo2.qrcode,width:"130"}}),t("img",{staticStyle:{position:"absolute",left:"50%",top:"50%","margin-left":"-15px","margin-top":"-4px"},attrs:{src:"/images/weixin.png",width:"30px"}})]),t("a",{staticClass:"share-weixin",attrs:{href:"javascript:;"}},[t("i",{staticClass:"fa fa-weixin"}),e._v(" Share ")])])],1)])])])])],1)],t("el-divider"),t("div",{staticClass:"dialog-footer d-flex justify-content-between",attrs:{slot:"footer"},slot:"footer"},[t("div",[t("el-button",{directives:[{name:"show",rawName:"v-show",value:"shareWeixin"==e.activeShareName,expression:"activeShareName == 'shareWeixin'"}],attrs:{size:"small",type:"primary",plain:""},on:{click:function(t){return e.saveRemark("1")}}},[e._v("Clear")])],1),t("div",[t("el-button",{attrs:{size:"small"},on:{click:function(t){e.sendInvoiceOpen=!1}}},[e._v("Close")])],1)])],2),t("el-dialog",{attrs:{title:"Mark as shipped",visible:e.dialogMarkShipped.isShow,width:"700px"},on:{"update:visible":function(t){return e.$set(e.dialogMarkShipped,"isShow",t)}}},[e.dialogMarkShipped.item?t("el-row",{staticClass:"pd-x-20",attrs:{gutter:20}},[t("el-col",{staticStyle:{color:"#303133"},attrs:{span:24}},[e._v(" "+e._s(e.dialogMarkShipped.item.name)+" ")]),t("el-col",{attrs:{span:24}},[t("el-form",{attrs:{"label-width":"160px"}},[t("el-form-item",{attrs:{label:"Vendor"}},[t("span",{staticStyle:{color:"#303133"}},[e._v(e._s(e.invoiceInfo.vendorName?e.invoiceInfo.vendorName:"---"))])]),t("el-form-item",{attrs:{label:"Tracking number",required:""}},[t("el-input",{attrs:{placeholder:"Enter Track number"},model:{value:e.dialogMarkShipped.trackNumber,callback:function(t){e.$set(e.dialogMarkShipped,"trackNumber",t)},expression:"dialogMarkShipped.trackNumber"}})],1),t("el-form-item",{attrs:{label:"Track company",required:""}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"Track company"},model:{value:e.dialogMarkShipped.trackKey,callback:function(t){e.$set(e.dialogMarkShipped,"trackKey",t)},expression:"dialogMarkShipped.trackKey"}},e._l(e.dialogMarkShipped.shopifyCompany,(function(e){return t("el-option",{key:e.key,attrs:{label:e.name,value:e.key}})})),1),99==e.dialogMarkShipped.trackKey?t("el-input",{staticStyle:{margin:"10px 0"},attrs:{placeholder:"Enter Track company"},model:{value:e.dialogMarkShipped.trackCompany,callback:function(t){e.$set(e.dialogMarkShipped,"trackCompany",t)},expression:"dialogMarkShipped.trackCompany"}}):e._e()],1),99==e.dialogMarkShipped.trackKey?t("el-form-item",{attrs:{label:"Track Url",required:""}},[t("el-input",{attrs:{placeholder:"Enter Track Url"},model:{value:e.dialogMarkShipped.trackUrl,callback:function(t){e.$set(e.dialogMarkShipped,"trackUrl",t)},expression:"dialogMarkShipped.trackUrl"}})],1):e._e()],1)],1)],1):e._e(),t("div",{staticClass:"dialog-footer d-flex justify-content-between",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.dialogMarkShipped.isShow=!1}}},[e._v("Cancel")]),t("el-button",{attrs:{type:"primary",loading:e.dialogMarkShipped.loading},on:{click:e.saveMarkShipped}},[e._v("Mark as Shipped ")])],1)],1),t("el-dialog",{attrs:{title:"Remove from order",visible:e.deleteDialog.visible,width:"300px","before-close":e.handleDeleteClose}},[t("div",{staticStyle:{padding:"0 20px"}},[e._v(' You are deleting this product from purchase order. You can still find it in your "Waiting for sourcing" menu. ')]),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:e.handleDeleteClose}},[e._v("Cancel")]),t("el-button",{attrs:{loading:e.deleteDialog.loading,type:"primary"},on:{click:e.postDeleteOrderId}},[e._v("Remove")])],1)]),t("el-dialog",{staticClass:"pay-dialog",attrs:{visible:e.dialogPay.isShow,loading:e.dialogPay.loading,width:"30%","before-close":e.handlePayClose,"close-on-press-escape":!1,"close-on-click-modal":!1,"show-close":1==e.dialogPay.step,title:"Select Payment Method"}},[t("el-divider"),t("div",{staticClass:"pay-info"},[e.dialogPay.orderNum?t("div",{staticClass:"mg-b-10"},[e._v(" Order Number: "),t("b",[e._v(e._s(e.dialogPay.orderNum))])]):e._e(),e.dialogPay.amount?t("div",[e._v(" Total Amount: "),t("b",{staticClass:"tx-danger"},[e._v(e._s(e.dialogPay.amount.toFixed(2))+" USD")])]):e._e()]),1==e.dialogPay.step?[t("div",{staticClass:"pay-platform"},[t("div",{staticClass:"d-flex title"},[t("el-alert",{attrs:{title:"All transactions are secure and encrypted.",type:"info",closable:!1}})],1),t("div",{staticClass:"platform-select"},[e._l(e.dialogPay.payTypes,(function(a,s){return t("div",{key:a.accountType},[t("a",{class:{active:e.dialogPay.platformType==a.accountType},attrs:{href:"javascript:;"},on:{click:function(t){return e.changePlatform(a.accountType)}}},[t("div",{staticClass:"d-flex"},[t("div",{staticClass:"icon-wrap",staticStyle:{width:"150px"}},[t("img",{attrs:{src:a.icon,alt:"",height:"30"}})]),t("span",[e._v("Pay with "+e._s(a.name))])]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.dialogPay.platformType!=a.accountType,expression:"dialogPay.platformType != type.accountType"}],staticClass:"active"},[t("img",{attrs:{src:i("3143"),alt:"",height:"20"}})]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.dialogPay.platformType==a.accountType,expression:"dialogPay.platformType == type.accountType"}],staticClass:"active-icon"},[t("img",{attrs:{src:i("f7532"),alt:"",height:"20"}})])])])})),t("div",{class:{dis:e.invoiceInfo&&e.invoiceInfo.relationship&&0==e.invoiceInfo.relationship.bonus}},[t("a",{class:{active:6==e.dialogPay.platformType},attrs:{href:"javascript:;"},on:{click:function(t){return e.changePlatform(6)}}},[t("div",{staticClass:"d-flex"},[t("div",{staticClass:"icon-wrap",staticStyle:{width:"150px"}},[t("img",{attrs:{src:i("2f78"),alt:"",height:"30"}})]),t("span",[e._v("Bonus($"+e._s(Number((e.invoiceInfo.relationship||{}).bonus))+")")])]),t("div",{directives:[{name:"show",rawName:"v-show",value:6!=e.dialogPay.platformType,expression:"dialogPay.platformType != 6"}],staticClass:"active"},[t("img",{attrs:{src:i("3143"),alt:"",height:"20"}})]),t("div",{directives:[{name:"show",rawName:"v-show",value:6==e.dialogPay.platformType&&0!=e.invoiceInfo.relationship.bonus,expression:"dialogPay.platformType == 6 && invoiceInfo.relationship.bonus != 0"}],staticClass:"active-icon"},[t("img",{attrs:{src:i("f7532"),alt:"",height:"20"}})])])])],2),t("div",{staticClass:"action"},[t("el-button",{staticStyle:{width:"120px","font-size":"18px"},attrs:{loading:e.dialogPay.payLoading,type:"primary",round:""},on:{click:e.orderPay}},[e._v(" Pay ")])],1)])]:e._e(),2==e.dialogPay.step?[t("div",{staticClass:"paying"},[t("i",{staticClass:"mg-r-10 el-icon-loading"}),t("p",[e._v("Please do not close the page during payment")])]),t("div",{staticClass:"close-pay",on:{click:e.closePay}},[t("el-button",{attrs:{type:"info",round:"",plain:""}},[e._v("Close Pay")])],1)]:e._e(),3==e.dialogPay.step?[e.dialogPay.msg?t("div",{staticClass:"pay-success error"},[t("i",{staticClass:"el-icon-circle-close"}),t("p",[e._v(" "+e._s(e.dialogPay.msg)+" ")])]):t("div",{staticClass:"pay-success"},[t("i",{staticClass:"el-icon-success"}),t("p",[e._v(" Your order has been successfully paid and the order amount is "),t("span",{staticClass:"tx-danger"},[e._v(" $"+e._s(e.dialogPay.amount.toFixed(2)))]),e._v(". ")])]),t("div",{staticClass:"close-pay",on:{click:e.closePay}},[t("el-button",{attrs:{type:"info",round:"",plain:""}},[e._v("Close Pay")])],1)]:e._e()],2),t("checkout",{attrs:{data:e.dialogCheckOut},on:{payCheckOut:e.payCheckOut}}),t("underline",{attrs:{data:e.dialogUnderline},on:{submitUnderline:e.submitUnderline}}),t("dlocal",{attrs:{data:e.dialogDlocal},on:{submitDlocal:e.submitDlocal}})],1)},s=[],o=(i("149f"),i("fef2"),i("9538")),n=i("86f8"),r=i("1ce8"),l=i("2d10"),c=i("3335"),p=i.n(c),d={name:"invoice",data(){return{deleteDialog:{visible:!1,loading:!1,itemId:""},stepActive:2,previewTipOpen:!1,editCompanyName:"",editCompanyAddress:"",confirmMoneyOpen:!1,payUrl:"",paymentType:"",msgContent:"",drawer:!1,drawerTitle:"",drawertype:"",drawerinfo:"",modalCustomExport:{tags:[],selectedTitles:[],unselectedTitles:[]},modalCustomExportDefault:"",alreadySet:!1,isCollapse:!0,customerName:"",checked:!0,count:20,loading:!1,pageLoading:!1,tabActive:1,imageUrl:"",page:1,totalPage:1,rowsPerPage:100,totalCount:0,type:"all",invoiceInfo:"",invoiceData:[],firstLoading:!0,invoiceCnt:"",getListFlag:!0,relationship:[],uploadAction:this.$baseURLglobal(),showLogo:!1,logoUrl:"",shippingAmount:"",itemAmount:"",totalAmount:"",realAmount:"",discount:"",operateLog:[],totalPageLog:1,currentPageLog:1,pageSizeLog:20,currentPageDataLog:[],getLogFlag:!0,messages:[],currentmessages:[],msgpage:1,msgtotalPage:1,msgrowsPerPage:20,msgtotalCount:0,getMsgFlag:!0,pack:"",fileList:[],uniCode:this.$route.params.uniCode?this.$route.params.uniCode:"",preview:this.$route.query.preview?this.$route.query.preview:"",preWeixin:this.$route.params.preWeixin?this.$route.params.preWeixin:"",shareTitle:"",shareDesc:"",showCustom:!0,uploadLoading:!1,showShare:!1,connectStoreOpen:!1,connectStoreConfirmOpen:!1,shopifyUrl:"",shopifyName:"",errorMessage:"",shopifyWindow:"",showDownloadInvoice:!1,invoiceData3:[],loginType:0,loginTypeIsOne:!1,supplierHasLogin:!1,sendInvoiceOpen:!1,activeShareName:"shareLink",invoiceInfo2:"",dialogMarkShipped:{isShow:!1,loading:!1,trackNumber:"",trackCompany:"",realCompany:"",item:null,shopifyCompany:[],trackKey:"",trackUrl:""},dialogMarkShippedDefault:"{}",op3Loading:!1,isShowSideMsg:!0,searchName:!1,searchTrack:!1,searchNameInput:"",searchOrder:!1,searchOrderInput:"",suspensionTableHeader:!1,dialogPay:{isShow:!1,loading:!1,orderNum:"",amount:"",platformType:"",payLoading:!1,step:1,msg:"",payTypes:[]},dialogPayDefault:"{}",dialogCheckOut:{isShow:!1,loading:!1,packages:null,orderPay:null,token:""},dialogUnderline:{isShow:!1,loading:!1},dialogDlocal:{isShow:!1,invoiceId:"",loading:!1},payTime:0,newWin:null}},computed:{noMore(){return!0},disabled(){return this.loading||this.noMore},fullPath(){return this.$route.fullPath},isPay(){return"/my"==this.$root.$children[0].baseUrl?!!this.invoiceInfo.walletOpen:!!this.invoiceInfo.walletOpen||!(1!=(this.invoiceInfo.relationship||{}).bonusStatus&&!this.invoiceInfo.hasPayBind)}},watch:{fullPath(){window.location.reload()},noMore(){this.noMore&&this.getOperateLog(this.invoiceInfo.id)},drawer(){this.drawer&&setTimeout(()=>{$(".el-drawer__wrapper .el-scrollbar__wrap").scrollTop(0)},100)},realAmount(){Number(this.realAmount)<Number(this.totalAmount)&&Number(this.realAmount)>0?this.discount=this.toFixed(Number(this.totalAmount)-Number(this.realAmount)):this.discount=0},connectStoreOpen(){this.connectStoreOpen||clearInterval(this.connectStoreWait)},searchName(){this.searchName&&setTimeout(()=>{$("#searchNameInput").focus()},500)},searchTrack(){this.searchTrack&&setTimeout(()=>{$("#searchNameInput").focus()},500)},invoiceData(){this.invoiceData.length&&this.invoiceData.forEach((e,t)=>{this.$set(e,"previewList",[]),e.imgUrl&&e.previewList.push(e.imgUrl)})}},created(){this.supplierHasLogin=!1,localStorage.getItem("c_haslogin")&&(this.supplierHasLogin=!0)},mounted(){this.dialogPayDefault=JSON.stringify(this.dialogPay),this.dialogMarkShippedDefault=JSON.stringify(this.dialogMarkShipped),this.modalCustomExportDefault=JSON.stringify(this.modalCustomExport),this.isWeiXin()&&""!=this.preWeixin&&setTimeout(()=>{this.showShare=!0},1e3),this.preview,this.previewTipOpen=!1,this.isCollapse=!0,this.$nextTick(()=>{setTimeout(()=>{this.getDataAll(),this.handleScroll()},1e3),window.emojiPicker=new EmojiPicker({emojiable_selector:"[data-emojiable=true]",assetsPath:"/images/v-emoji",popupButtonClasses:"fa fa-smile-o"}),window.emojiPicker.discover()}),$("body").on("click",e=>{const t=$(e.target);t.hasClass("el-popover")||0!==t.parent(".el-popover").length||$(".el-popover").remove()})},destroyed(){},components:{draggable:p.a,popShippingJson:l["a"],checkout:o["a"],underline:n["a"],dlocal:r["a"]},methods:{getPayStatus(e){this.$apiCall("api.User.getPayStatus",{},t=>{if("9999"==t.ErrorCode){let i=t.Data.Results.status;1!=i&&clearInterval(this.payTime),2==i?(this.dialogPay.step=3,this.$Burying({object:"9004",objectId:e}),this.closePayPage()):3==i&&(this.dialogPay.step=3,this.$Burying({object:"9005",objectId:e}),this.dialogPay.msg=t.Data.Results.message,this.$elementMessage(t.Data.Results.message,"error"),this.closePayPage())}else this.dialogPayAlert.msg=t.Message,this.$elementMessage(t.Message,"error"),clearInterval(this.payTime)})},payCheckOut(e){this.dialogCheckOut.loading=!0,this.newWin=window.open(("/my"==this.$root.$children[0].baseUrl?"/my":"")+"/blank.html","pay"),this.$Burying({object:"9003",objectId:4}),this.$apiCall("api.AccountPayment.createPay",{invoiceId:this.invoiceInfo.id,platformType:4,domain:window.location.origin+"/",token:e},e=>{this.dialogCheckOut.loading=!1,this.dialogCheckOut.isShow=!1,"9999"==e.ErrorCode&&e.Data.Results.url?(this.newWin.location=e.Data.Results.url,this.dialogPay.step=2,this.payTime=setInterval(()=>{this.getPayStatus(4)},2e3)):(this.$elementMessage("9999"==e.ErrorCode?"fail":e.Message,"error"),this.newWin.close())})},submitUnderline(e,t){this.dialogUnderline.loading=!0,this.$apiCall("api.Invoice.customerToPaidByInvoice",{invoiceId:this.invoiceInfo.id,accountPayment:e,voucherUrl:t},e=>{this.dialogUnderline.loading=!1,this.dialogUnderline.isShow=!1,"9999"==e.ErrorCode?this.dialogPay.step=3:this.$elementMessage(e.Message,"error")})},submitDlocal(e){this.dialogDlocal.loading=!0,this.newWin=window.open(("/my"==this.$root.$children[0].baseUrl?"/my":"")+"/blank.html","pay"),this.$apiCall("api.AccountPayment.createPay",{invoiceId:this.invoiceInfo.id,platformType:10,domain:window.location.origin+"/",flow:"REDIRECT",country:e.country,methodId:e.id,name:e.name,city:e.city,street:e.street,number:e.number,document:e.document,phone:e.phone,email:e.email},e=>{this.dialogDlocal.loading=!1,this.dialogDlocal.isShow=!1,"9999"==e.ErrorCode&&e.Data.Results.url?(this.newWin.location=e.Data.Results.url,this.dialogPay.step=2,this.payTime=setInterval(()=>{this.getPayStatus(4)},2e3)):(this.$elementMessage("9999"==e.ErrorCode?"fail":e.Message,"error"),this.newWin.close())})},orderPay(){this.$Burying({object:"9003",objectId:this.dialogPay.platformType});let e={invoiceId:this.invoiceInfo.id,platformType:this.dialogPay.platformType},t=Number(this.dialogPay.platformType);switch(t){case 12:this.dialogUnderline.isShow=!0;break;case 10:this.dialogDlocal.isShow=!0,this.dialogDlocal.invoiceId=this.invoiceInfo.id;break;case 4:this.dialogCheckOut.isShow=!0,this.dialogCheckOut.orderPay={orderNum:this.invoiceInfo.code,amount:Number(this.realAmount)};break;case 3:this.newWin=window.open(("/my"==this.$root.$children[0].baseUrl?"/my":"")+"/blank.html","pay"),e.domain=window.location.origin+"/";break;case 2:this.newWin=window.open(("/my"==this.$root.$children[0].baseUrl?"/my":"")+"/blank.html","pay"),e.domain=window.location.origin+"/";break;case 1:break;default:break}4!=this.dialogPay.platformType&&10!=this.dialogPay.platformType&&12!=this.dialogPay.platformType&&(this.dialogPay.payLoading=!0,this.$apiCall("api.AccountPayment.createPay",e,e=>{if(this.dialogPay.payLoading=!1,"9999"==e.ErrorCode)if(6==this.dialogPay.platformType)this.dialogPay.step=3;else{if(1==this.dialogPay.platformType){const t=e.Data.Results;let i=Stripe(t.pk);i.redirectToCheckout({sessionId:t.sessionId})}else this.newWin.location=e.Data.Results.url;this.dialogPay.step=2,this.payTime=setInterval(()=>{this.getPayStatus(this.dialogPay.platformType)},2e3)}else this.$elementMessage(e.Message,"error"),3==this.dialogPay.platformType&&this.newWin.close()}))},changePlatform(e){6==e&&0==(this.invoiceInfo.relationship||{}).bonus||(this.dialogPay.platformType=e,this.$Burying({object:"9002",objectId:e}))},openPay(){this.dialogPay.isShow||(this.$showLoading(),this.$apiCall("api.AccountPayment.getPaymentAccounts",{invoiceId:this.invoiceInfo.id},e=>{if("9999"==e.ErrorCode){if(this.dialogPay=JSON.parse(this.dialogPayDefault),this.dialogPay.isShow=!0,this.dialogPay.amount=Number(this.realAmount),this.dialogPay.orderNum=this.invoiceInfo.code,!e.Data.Results||!e.Data.Results.length)return;e.Data.Results.forEach(e=>{e.icon=i("a81d")("./"+Number(e.accountType)+".png")}),this.dialogPay.payTypes=e.Data.Results}else this.$elementMessage(e.Message,"error");this.$hideLoading()}))},closePay(){this.newWin&&this.newWin.close(),window.location.reload()},closePayPage(){this.newWin.close(),clearInterval(this.payTime)},handlePayClose(){this.dialogPay.isShow=!1},getInfo(){this.$apiCall("api.Invoice.getOneByC",{uniCode:this.uniCode,preview:1==this.preview},e=>{"9999"==e.ErrorCode&&(this.invoiceInfo=e.Data.Results,this.imageUrl=e.Data.Results.vendor.logo,this.payUrl=this.invoiceInfo.payUrl?this.invoiceInfo.payUrl:"",this.paymentType=this.invoiceInfo.paymentType?this.invoiceInfo.paymentType:"",this.shippingAmount=this.invoiceInfo.shippingAmount?this.toFixed(this.invoiceInfo.shippingAmount):"0",this.itemAmount=this.invoiceInfo.itemAmount?this.toFixed(this.invoiceInfo.itemAmount):"0",this.totalAmount=this.invoiceInfo.totalAmount?this.toFixed(this.invoiceInfo.totalAmount):"0",this.realAmount=this.invoiceInfo.realAmount?this.toFixed(this.invoiceInfo.realAmount):"0")})},postDeleteOrderId(){this.deleteDialog.loading=!0,this.$apiCall("api.Invoice.setFullByCustomer",{itemId:this.deleteDialog.itemId},e=>{"9999"==e.ErrorCode?(console.log(e),this.deleteDialog.visible=!1,this.$elementMessage("Remove success","success"),this.getData,this.invoiceData=this.invoiceData.filter(e=>e.id!==this.deleteDialog.itemId),this.deleteDialog.itemId="",this.getInfo()):(this.loading=!1,this.$elementMessage(e.Message,"error")),this.deleteDialog.loading=!1})},openDeleteDialog(e){this.deleteDialog.visible=!0,this.deleteDialog.itemId=e,this.deleteDialog.loading=!1},handleDeleteClose(e){this.deleteDialog.visible=!1,this.deleteDialog.loading=!1,this.deleteDialog.itemId=""},pagination(e){if(!this.invoiceInfo)return;if(!this.getListFlag)return;if(this.page>this.totalPage)return;this.loading=!0,this.getListFlag=!1;const t={uniCode:this.uniCode,invoiceId:this.invoiceInfo.id,type:this.type,page:e,rowsPerPage:this.rowsPerPage,preview:1==this.preview};this.searchTrack&&(t.trackNumber=this.searchNameInput),this.searchName&&(t.keySearch=this.searchNameInput),this.searchOrder&&(t.codeName=this.searchOrderInput);const i=this.$refs.myScrollbar.wrap;$(i).stop().animate({scrollTop:0}),this.$showLoading(),this.$apiCall("api.Invoice.getItemsByC",t,e=>{this.getListFlag=!0,"9999"==e.ErrorCode?(this.totalPage=e.Data.Pagination.totalPage,this.totalCount=e.Data.Pagination.totalCount,e.Data.Results.forEach((e,t)=>{e.price?2!=e.fulfillStatus?this.$set(e,"amount",(Number(e.quantity)*Number(e.price)).toFixed(2)):this.$set(e,"amount","0.00"):this.$set(e,"amount","")}),this.invoiceData=e.Data.Results,setTimeout(()=>{this.loading=!1},300)):(this.loading=!1,this.$elementMessage(e.Message,"error")),this.$hideLoading()})},rowClassName({row:e,rowIndex:t}){return this.invoiceData[t]&&2==this.invoiceData[t].fulfillStatus?"warning-row":""},headerCellClassName({column:e,columnIndex:t}){return"hander-cell"},handleerCellStyle(){return"max-height: 41px;"},openSearchInput(e,t){"name"===e&&(this.searchName=!0),"track"===e&&(this.searchTrack=!0),"order"===e&&(this.searchOrder=!0),this.$nextTick(()=>{this.$refs[t].focus()})},Filter(e,t){if("name"===t){if(3==e){if((this.searchName||this.searchTrack)&&""===this.searchNameInput)return this.searchName=!1,void(this.searchTrack=!1)}else if(2==e)this.searchName=!1,this.searchTrack=!1,this.searchNameInput="";else if(1==e&&!this.searchNameInput&&!this.searchTrack)return;this.page=1,this.getInvoiceData(this.invoiceInfo.id,this.searchNameInput)}else if("order"===t){if(3==e){if(this.searchOrder&&""===this.searchOrderInput)return void(this.searchOrder=!1)}else if(2==e)this.searchOrder=!1,this.searchOrderInput="";else if(1==e&&!this.searchOrder)return;this.page=1,this.getInvoiceData(this.invoiceInfo.id,this.searchOrderInput)}},saveMarkShipped(){if(!this.dialogMarkShipped.trackNumber)return void this.$elementMessage("Track number must be entered","error");if(!this.dialogMarkShipped.trackKey)return void this.$elementMessage("Track company must be entered","error");if(99==this.dialogMarkShipped.trackKey&&!this.dialogMarkShipped.trackCompany)return void this.$elementMessage("Track company  must be entered","error");if(99==this.dialogMarkShipped.trackKey&&!this.dialogMarkShipped.trackUrl)return void this.$elementMessage("Track Url must be entered","error");let e="";this.dialogMarkShipped.shopifyCompany.forEach(t=>{this.dialogMarkShipped.trackKey==t.key&&(e=99!=this.dialogMarkShipped.trackKey?t.name:this.dialogMarkShipped.trackCompany)}),this.dialogMarkShipped.loading=!0,this.$apiCall("api.Invoice.changeDeliver",{itemId:this.dialogMarkShipped.item.id,trackNumber:this.dialogMarkShipped.trackNumber,trackCompany:this.dialogMarkShipped.trackCompany,trackKey:this.dialogMarkShipped.trackKey,trackUrl:this.dialogMarkShipped.trackUrl},e=>{this.dialogMarkShipped.loading=!1,"9999"==e.ErrorCode?(this.$elementMessage("save successfully","success"),this.dialogMarkShipped.isShow=!1,this.$apiCall("api.Invoice.getItemsByC",{uniCode:this.invoiceInfo.uniCode,invoiceId:this.invoiceInfo.id,id:this.dialogMarkShipped.item.id},e=>{"9999"==e.ErrorCode?this.invoiceData.forEach((t,i)=>{t.id==e.Data.Results[0].id&&this.invoiceData.splice(i,1,e.Data.Results[0])}):this.$elementMessage(e.Message,"error")})):this.$elementMessage(e.Message,"error")})},markShippedOpen(e){this.dialogMarkShipped=JSON.parse(this.dialogMarkShippedDefault),this.$showLoading(),this.$apiCall("api.Invoice.getShopifyCompany",{},t=>{this.$hideLoading(),"9999"==t.ErrorCode?(this.dialogMarkShipped.shopifyCompany=t.Data.Results,this.dialogMarkShipped.isShow=!0,this.dialogMarkShipped.item=e):this.$elementMessage(t.Message,"error")})},openSend(){let e=0,t=setInterval(()=>{(function(e,t,i){e.loadSkypeWebSdkAsync=e.loadSkypeWebSdkAsync||function(e){var a,s=t.getElementsByTagName(i)[0];t.getElementById(e.id)||(a=t.createElement(i),a.id=e.id,a.src=e.scriptToLoad,a.onload=e.callback,s.parentNode.insertBefore(a,s))};var a={scriptToLoad:"https://swx.cdn.skype.com/shared/v/latest/skypewebsdk.js",id:"skype_web_sdk"};e.loadSkypeWebSdkAsync(a)})(window,document,"script"),e++,e>10&&clearInterval(t)},300)},saveRemark(e){this.$showLoading(),this.$apiCall("api.Invoice.saveRemark",{uniCode:this.invoiceInfo.uniCode,title:1==e?"":this.shareTitle,desc:1==e?"":this.shareDesc},e=>{this.$hideLoading(),"9999"==e.ErrorCode?(this.shareTitle=e.Data.Results.title,this.shareDesc=e.Data.Results.desc):(this.$elementMessage(e.Message,"error"),"1002"!=e.ErrorCode&&"1003"!=e.ErrorCode||this.$userFailure(),"1002"!=e.ErrorCode&&"1003"!=e.ErrorCode||this.$userFailure())})},sendtoVendor(){this.$showLoading(),this.$apiCall("api.Invoice.getShareUrl",{invoiceId:this.invoiceInfo.id},e=>{this.$hideLoading(),"9999"==e.ErrorCode?(this.invoiceInfo2=e.Data.Results,this.shareTitle=e.Data.Results.remark?e.Data.Results.remark.title:"",this.shareDesc=e.Data.Results.remark?e.Data.Results.remark.desc:"",this.sendInvoiceOpen=!0,this.activeShareName="shareLink"):(this.$elementMessage(e.Message,"error"),"1002"!=e.ErrorCode&&"1003"!=e.ErrorCode||this.$userFailure())})},downloadInvoice(){this.showDownloadInvoice=!0;let e=1,t=1;this.showLogo=!1,this.logoUrl="",this.$showLoading(),this.$apiCall("api.Invoice.getOneByC",{uniCode:this.uniCode,preview:1==this.preview},i=>{"9999"==i.ErrorCode?(this.invoiceInfo=i.Data.Results,this.imageUrl=i.Data.Results.vendor.logo,this.invoiceData3=[],this.getDownload(e,t),1==this.page&&this.getInvoiceData(this.invoiceInfo.id),document.title=`Invoice # ${this.invoiceInfo.code} - ${this.$root.$children[0].pName.b} - Easy Dropshipping`,this.invoiceInfo&&this.invoiceInfo.logo&&(this.showLogo=!0,this.logoUrl=this.invoiceInfo.logo),this.payUrl=this.invoiceInfo.payUrl?this.invoiceInfo.payUrl:"",this.paymentType=this.invoiceInfo.paymentType?this.invoiceInfo.paymentType:"",this.shippingAmount=this.invoiceInfo.shippingAmount?this.toFixed(this.invoiceInfo.shippingAmount):"0",this.itemAmount=this.invoiceInfo.itemAmount?this.toFixed(this.invoiceInfo.itemAmount):"0",this.totalAmount=this.invoiceInfo.totalAmount?this.toFixed(this.invoiceInfo.totalAmount):"0",this.realAmount=this.invoiceInfo.realAmount?this.toFixed(this.invoiceInfo.realAmount):"0"):this.$elementMessage(i.Message,"error")})},getDownload(e,t){if(e>t)return this.$hideLoading(),void setTimeout(()=>{window.print(),this.showDownloadInvoice=!1},1e3);this.$apiCall("api.Invoice.getItemsByC",{uniCode:this.uniCode,invoiceId:this.invoiceInfo.id,type:"all",page:e,rowsPerPage:50,preview:1==this.preview},t=>{if("9999"==t.ErrorCode){let i=t.Data.Pagination.totalPage;t.Data.Results.forEach((e,t)=>{e.price?2!=e.fulfillStatus?this.$set(e,"amount",(Number(e.quantity)*Number(e.price)).toFixed(2)):this.$set(e,"amount","0.00"):this.$set(e,"amount",""),this.invoiceData3.push(e)}),e++,this.getDownload(e,i)}else this.$elementMessage(t.Message,"error"),"1002"!=t.ErrorCode&&"1003"!=t.ErrorCode||this.$userFailure(this)})},connectStoreConfirmFn(){location.reload()},connectConfirmStart(){this.connectStoreWait=setInterval(()=>{this.$apiCall("api.ShopifyAccount.getShopAuthStatus",{shopUrl:this.shopifyUrl},e=>{if("9999"==e.ErrorCode)if(1==e.Data.Results.status){this.shopifyWindow.close();let t=e.Data.Results.userInfo;localStorage.setItem("c_apiUserToken",t.apiUserToken),localStorage.setItem("c_apiUserId",t.id),location.reload(),clearInterval(this.connectStoreWait)}else 2==e.Data.Results.status&&(this.shopifyWindow.close(),this.errorMessage=e.Data.Results.errorMessage,clearInterval(this.connectStoreWait));else this.$elementMessage(e.Message,"error"),"1002"!=e.ErrorCode&&"1003"!=e.ErrorCode||this.$userFailure(),"1002"!=e.ErrorCode&&"1003"!=e.ErrorCode||this.$userFailure()})},1e3)},connectStoreFn(){this.shopifyUrl?(this.shopifyWindow=window.open("/blank.html","shopifyAccount-window",void 0,!0),this.$showLoading(),this.$apiCall("api.ShopifyAccount.addShopifyAccount",{shopUrl:this.shopifyUrl,shopName:this.shopifyName,getAuth:1,uniCode:this.uniCode,ivc:localStorage.getItem("c_ivc")?localStorage.getItem("c_ivc"):"",utmSource:localStorage.getItem("c_utm")},e=>{this.$hideLoading(),"9999"==e.ErrorCode?(this.shopifyWindow.location=e.Data.Results,this.errorMessage="Under authorization, please wait…",this.connectConfirmStart()):(this.$elementMessage(e.Message,"error"),"1002"!=e.ErrorCode&&"1003"!=e.ErrorCode||this.$userFailure(),"1002"!=e.ErrorCode&&"1003"!=e.ErrorCode||this.$userFailure())})):this.$elementMessage("Please enter Shopify store URL","error")},openConnectStore(){this.connectStoreOpen=!0,this.shopifyName="",this.shopifyUrl="",this.errorMessage=""},isWeiXin(){var e=window.navigator.userAgent.toLowerCase();return"micromessenger"==e.match(/MicroMessenger/i)||"_sq_"==e.match(/_SQ_/i)},openPayUrl(e){if(!e)return;let t=window.open("/blank.html","openPayUrl");e=e.indexOf("http")>=0?e:"http://"+e,t.location.href=e},confirmMoneyOnly(){this.$confirm("After your confirmation for the payment, we will notify the vendor by email. You can also proactively notify the vendor to speed the delivery up.","Have you finished the payment?",{confirmButtonText:"Confirm the payment",cancelButtonText:"Discard",type:"info"}).then(()=>{this.$apiCall("api.Invoice.setRead",{uniCode:this.uniCode},e=>{"9999"==e.ErrorCode?(this.$message({type:"success",message:"Payment success"}),this.getData()):(this.$elementMessage(e.Message,"error"),"1002"!=e.ErrorCode&&"1003"!=e.ErrorCode||this.$userFailure(),"1002"!=e.ErrorCode&&"1003"!=e.ErrorCode||this.$userFailure())})})},saveCustomExportSetting(){if(!this.modalCustomExport.selectedTitles.length)return!1;if(this.modalCustomExport.selectedTitles.some(e=>!e.name))return!1;let e={};this.modalCustomExport.selectedTitles.forEach(t=>{e[t.key]=t.name}),this.$apiCall("api.Invoice.saveDeliverTitle",{invoiceId:this.invoiceInfo.id,titles:e},e=>{"9999"==e.ErrorCode||("1002"!=e.ErrorCode&&"1003"!=e.ErrorCode||this.$userFailure(),"1002"!=e.ErrorCode&&"1003"!=e.ErrorCode||this.$userFailure())})},saveCustomExport(e){if(!this.modalCustomExport.selectedTitles.length)return this.$elementMessage("At least one field must be selected","error"),!1;if(this.modalCustomExport.selectedTitles.some(e=>!e.name))return this.$elementMessage("The name of the customized header cannot be empty","error"),!1;this.uploadLoading=!0;let t={};this.modalCustomExport.selectedTitles.forEach(e=>{t[e.key]=e.name}),0==$("#ifilePro").length&&$("body").append('<iframe id="ifilePro" style="display:none"></iframe>');let i=e=>{document.getElementById("ifilePro").src=e};this.$apiCall("api.Invoice.exportDeliver",{titles:t,invoiceId:this.invoiceInfo.id},e=>{this.uploadLoading=!1,"9999"==e.ErrorCode?(this.$elementMessage("Your request is been submitted, please wait one moment.","success"),i(e.Data.Results.file)):(this.$elementMessage(e.Message,"error"),"1002"!=e.ErrorCode&&"1003"!=e.ErrorCode||this.$userFailure(),"1002"!=e.ErrorCode&&"1003"!=e.ErrorCode||this.$userFailure())})},customWrapState(){this.showCustom=!this.showCustom},selectTitle(e){this.modalCustomExport.selectedTitles.push(this.modalCustomExport.unselectedTitles[e]),this.modalCustomExport.unselectedTitles.splice(e,1),this.saveCustomExportSetting()},removeTitle(e){this.modalCustomExport.unselectedTitles.unshift(this.modalCustomExport.selectedTitles[e]),this.modalCustomExport.selectedTitles.splice(e,1),this.saveCustomExportSetting()},opendrawer(e){if(this.$showLoading(),this.drawertype=e,3==e){if(this.op3Loading)return;this.op3Loading=!0,this.drawerTitle="Export the order information",this.showCustom=!0,this.uploadfileList=[],this.modalCustomExport=JSON.parse(this.modalCustomExportDefault),this.$apiCall("api.Invoice.exportDeliverTitle",{invoiceId:this.invoiceInfo.id},e=>{if(this.op3Loading=!1,"9999"==e.ErrorCode){for(var t in this.drawer=!0,this.$hideLoading(),e.Data.Results.default){let i={};i.key=t,i.orName=e.Data.Results.default[t],i.name=e.Data.Results.default[t],this.modalCustomExport.tags.push(i)}for(var t in e.Data.Results.titles){let i={};i.key=t,i.orName=e.Data.Results.titles[t],i.name=e.Data.Results.titles[t],this.modalCustomExport.selectedTitles.push(i)}this.modalCustomExport.tags.forEach(e=>{this.modalCustomExport.selectedTitles.some(t=>e.key==t.key)||this.modalCustomExport.unselectedTitles.unshift(e),this.modalCustomExport.selectedTitles.some(t=>{e.key==t.key&&this.$set(t,"orName",e.name)})})}else this.$hideLoading(),this.$elementMessage(e.Message,"error"),"1002"!=e.ErrorCode&&"1003"!=e.ErrorCode||this.$userFailure(),"1002"!=e.ErrorCode&&"1003"!=e.ErrorCode||this.$userFailure()})}else 2==e?(this.drawerTitle="Help center",this.drawer=!0,this.$hideLoading()):(this.drawerTitle="Order data statistics",this.$apiCall("api.Invoice.getSummary",{invoiceId:this.invoiceInfo.id},e=>{"9999"==e.ErrorCode?(this.drawer=!0,this.$hideLoading(),this.drawerinfo=e.Data.Results):(this.$hideLoading(),this.$elementMessage(e.Message,"error"),"1002"!=e.ErrorCode&&"1003"!=e.ErrorCode||this.$userFailure(),"1002"!=e.ErrorCode&&"1003"!=e.ErrorCode||this.$userFailure())}))},handleScroll(){let e=this.$refs.myScrollbar.wrap;$("#invoiceContainer").offset().top,$("#invoiceContainer").outerHeight();const t=$(this.$refs.tableRef).offset().top;e.onscroll=()=>{const e=$(this.$refs.tableRef).height(),i=$(".el-scrollbar__wrap").scrollTop(),a=$(".el-scrollbar__wrap").height();this.suspensionTableHeader=!(t+e<i)&&i>t,i+a>=$("#invoiceContainer").height()-10?this.noMore&&setTimeout(()=>{$(".page-footer-fixed").css("display","none")},100):setTimeout(()=>{$(".page-footer-fixed").css("display","block")},100),a+a>=$(".el-scrollbar__view").height()-100&&this.noMore&&setTimeout(()=>{this.operateLog.length?this.nextPage():this.getOperateLog(this.invoiceInfo.id)},300)}},uploadSectionFile2(e){let t=e.file;const i=t.size/1024/1024<.5;i?this.$apiCall("api.User.uploadImg",{"@file":t},e=>{"9999"==e.ErrorCode?this.fileList.push({name:"test",url:e.Data.Results.imgUrl}):(this.pageLoading=!1,this.$elementMessage(e.Message,"error"))}):this.$message.error("上传图片大小不能超过 500kb!")},toFixed(e){if(e)return Number(e).toFixed(2)},onCopy(e){this.$elementMessage("Has been copied to the clipboard","success")},onError(e){this.$elementMessage("Copy to clipboard failed, please copy manually","error")},load(){let e=$(".el-scrollbar__wrap").scrollTop();if(!this.invoiceInfo)return;this.tabActive;this.getListFlag&&(this.page>this.totalPage||(this.loading=!0,this.getListFlag=!1,this.$apiCall("api.Invoice.getItemsByC",{uniCode:this.uniCode,invoiceId:this.invoiceInfo.id,type:this.type,page:this.page,rowsPerPage:this.rowsPerPage,preview:1==this.preview},t=>{$(".el-scrollbar__wrap").animate({scrollTop:e},10),this.getListFlag=!0,"9999"==t.ErrorCode?(this.totalPage=t.Data.Pagination.totalPage,this.totalCount=t.Data.Pagination.totalCount,t.Data.Results.forEach((e,t)=>{e.price?2!=e.fulfillStatus?this.$set(e,"amount",(Number(e.quantity)*Number(e.price)).toFixed(2)):this.$set(e,"amount","0.00"):this.$set(e,"amount",""),this.invoiceData.push(e)}),setTimeout(()=>{this.loading=!1,this.page++},300)):(this.loading=!1,this.$elementMessage(t.Message,"error"))})))},getInvoiceData(e,t){let i={uniCode:this.uniCode,invoiceId:e,type:this.type,page:this.page,rowsPerPage:this.rowsPerPage,preview:1==this.preview};this.searchTrack&&(i.trackNumber=t),this.searchName&&(i.keySearch=t),this.searchOrder&&(i.codeName=t);this.tabActive;this.$showLoading(),this.loading=!0,this.$apiCall("api.Invoice.getItemsByC",i,e=>{this.$hideLoading(),"9999"==e.ErrorCode?(this.invoiceData=[],this.totalPage=e.Data.Pagination.totalPage,this.totalCount=e.Data.Pagination.totalCount,1==this.totalPage&&this.getOperateLog(this.invoiceInfo.id),e.Data.Results.forEach((e,t)=>{this.$set(e,"previewList",[]),e.imgUrl&&e.previewList.push(e.imgUrl),e.price?2!=e.fulfillStatus?this.$set(e,"amount",(Number(e.quantity)*Number(e.price)).toFixed(2)):this.$set(e,"amount","0.00"):this.$set(e,"amount",""),this.invoiceData.push(e)}),this.page++,this.loading=!1):(this.loading=!1,this.$elementMessage(e.Message,"error"))})},getCnt(e){this.$apiCall("api.Invoice.getItemsCntByC",{uniCode:this.uniCode,invoiceId:e,preview:1==this.preview},e=>{"9999"==e.ErrorCode?(this.invoiceCnt=e.Data.Results,1==this.invoiceInfo.payStatus&&(this.stepActive=3),0==this.invoiceCnt.notDeliverCnt&&(this.stepActive=4)):this.$elementMessage(e.Message,"error")})},groupBy(e){for(var t={},i=[],a=0;a<e.length;a++){var s=e[a];if(t[s.date])for(var o=0;o<i.length;o++){var n=i[o];if(n.date==s.date){n.listInfo.push(s);break}}else i.push({date:s.date,listInfo:[s]}),t[s.date]=s}return i},getOperateLog(e){this.$apiCall("api.Invoice.getOperateLog",{invoiceId:e,lang:"EN"},e=>{"9999"==e.ErrorCode?(this.operateLog=e.Data.Results,moment().locale("en"),this.operateLog.forEach(e=>{this.$set(e,"date",moment(1e3*e.time).format("MMMM Do")),this.$set(e,"datetime",moment(1e3*e.time).format("h:mm a"))}),this.totalPageLog=Math.ceil(this.operateLog.length/this.pageSizeLog),this.totalPageLog=0==this.totalPageLog?1:this.totalPageLog,this.setCurrentPageData()):this.$elementMessage(e.Message,"error")})},setCurrentPageData(){this.currentPageLog,this.pageSizeLog;let e=this.currentPageLog*this.pageSizeLog;this.currentPageDataLog=this.groupBy(this.operateLog.slice(0,e))},nextPage(){this.getLogFlag&&this.currentPageLog!=this.totalPageLog&&(this.getLogFlag=!1,this.currentPageLog++,this.setCurrentPageData(),this.getLogFlag=!0)},getMessages(e){this.getMsgFlag&&(this.msgpage>this.msgtotalPage||(this.getMsgFlag=!1,this.$apiCall("api.Invoice.getMessages",{invoiceId:e,page:this.msgpage,rowsPerPage:this.msgrowsPerPage},e=>{this.getMsgFlag=!0,"9999"==e.ErrorCode?(this.msgtotalPage=e.Data.Pagination.totalPage,this.msgtotalCount=e.Data.Pagination.totalCount,e.Data.Results.forEach((e,t)=>{this.messages.push(e)}),moment().locale("en"),this.messages.forEach(e=>{this.$set(e,"date",moment(e.timeCreated).format("MMMM Do")),this.$set(e,"datetime",moment(e.timeCreated).format("h:mm a")),this.$set(e,"vname",e.vendorName?e.vendorName.substr(0,1):"n"),this.$set(e,"cname",e.customerName?e.customerName.substr(0,1):"n")}),this.currentmessages=this.groupBy(this.messages),this.currentmessages.forEach(e=>{e.listInfo.forEach(e=>{this.$set(e,"content",this.forMatMsg(e.content))})}),this.msgpage++):this.$elementMessage(e.Message,"error")})))},forMatMsg(e){let t=e.split("emoji"),i="";return t.length>0?t.forEach(e=>{""!=e&&(0===e.indexOf(":")&&e.lastIndexOf(":")===e.length-1&&(e=$.emojiarea.createIcon($.emojiarea.icons[e])),i+=`<span>${e}</span>`)}):i=`<span>${e}</span>`,i},addMessage(){let e=[];this.fileList.length&&this.fileList.forEach(t=>{e.push(t.url)});let t=$(".emoji-wysiwyg-editor").html();if(t||this.fileList.length){if(t){let e=/<img.*?(?:>|\/>)/gi,i=/alt=[\'\"]?([^\'\"]*)[\'\"]?/i,a=t.match(e);if(a)for(let s=0;s<a.length;s++){let e=a[s].match(i);e&&e[1]&&(t=t.replace(a[s],"emoji"+e[1]+"emoji"))}else;}this.$showLoading(),this.$apiCall("api.Invoice.addMessageByC",{uniCode:this.uniCode,invoiceId:this.invoiceInfo.id,content:t,images:e},e=>{this.$hideLoading(),"9999"==e.ErrorCode?(this.$elementMessage("Message has been successfully sent","success"),this.msgContent="",$(".emoji-wysiwyg-editor").empty(),this.fileList=[],this.msgpage=1,this.messages=[],this.$apiCall("api.Invoice.getMessages",{invoiceId:this.invoiceInfo.id,page:this.msgpage,rowsPerPage:this.msgrowsPerPage},e=>{"9999"==e.ErrorCode?(this.msgtotalPage=e.Data.Pagination.totalPage,this.msgtotalCount=e.Data.Pagination.totalCount,e.Data.Results.forEach((e,t)=>{this.messages.push(e)}),moment().locale("en"),this.messages.forEach(e=>{this.$set(e,"date",moment(e.timeCreated).format("MMMM Do")),this.$set(e,"datetime",moment(e.timeCreated).format("h:mm a")),this.$set(e,"vname",e.vendorName?e.vendorName.substr(0,1):"n"),this.$set(e,"cname",e.customerName?e.customerName.substr(0,1):"n")}),this.currentmessages=this.groupBy(this.messages),this.currentmessages.forEach(e=>{e.listInfo.forEach(e=>{this.$set(e,"content",this.forMatMsg(e.content))})}),this.msgpage++):this.$elementMessage(e.Message,"error")})):this.$elementMessage(e.Message,"error")})}else this.$elementMessage("Please leave a message","error")},removeMsgImg(e){this.fileList.splice(e,1)},getDataAll(){this.$showLoading(),this.showLogo=!1,this.logoUrl="",this.$apiCall("api.Invoice.getOneByC",{uniCode:this.uniCode,preview:1==this.preview},e=>{if("9999"==e.ErrorCode){this.invoiceInfo=e.Data.Results,this.imageUrl=e.Data.Results.vendor.logo;let t=localStorage.getItem("c_apiUserId")?localStorage.getItem("c_apiUserId"):"",i=localStorage.getItem("c_apiUserToken")?localStorage.getItem("c_apiUserToken"):"";if(Number(this.invoiceInfo.customerId)>0){let e=localStorage.getItem("c_hasloginId")?localStorage.getItem("c_hasloginId"):"";this.supplierHasLogin&&e&&e==this.invoiceInfo.vendorId?1==this.page&&this.getInvoiceData(this.invoiceInfo.id):t&&i?t!=this.invoiceInfo.customerId?(this.loginType=1,this.loginTypeIsOne=!0,this.$hideLoading()):1==this.page&&this.getInvoiceData(this.invoiceInfo.id):(this.loginType=1,this.loginTypeIsOne=!0,this.$hideLoading())}else 1==this.page&&this.getInvoiceData(this.invoiceInfo.id);document.title=`Invoice # ${this.invoiceInfo.code} - ${this.$root.$children[0].pName.b} App`,this.invoiceInfo&&this.invoiceInfo.logo&&(this.showLogo=!0,this.logoUrl=this.invoiceInfo.logo),this.payUrl=this.invoiceInfo.payUrl?this.invoiceInfo.payUrl:"",this.paymentType=this.invoiceInfo.paymentType?this.invoiceInfo.paymentType:"",this.shippingAmount=this.invoiceInfo.shippingAmount?this.toFixed(this.invoiceInfo.shippingAmount):"0",this.itemAmount=this.invoiceInfo.itemAmount?this.toFixed(this.invoiceInfo.itemAmount):"0",this.totalAmount=this.invoiceInfo.totalAmount?this.toFixed(this.invoiceInfo.totalAmount):"0",this.realAmount=this.invoiceInfo.realAmount?this.toFixed(this.invoiceInfo.realAmount):"0","pay"==this.$route.query.type&&this.openPay()}else this.$elementMessage(e.Message,"error")})},getData(){this.showLogo=!1,this.logoUrl="",this.$apiCall("api.Invoice.getOneByC",{uniCode:this.uniCode,preview:1==this.preview},e=>{"9999"==e.ErrorCode?(this.invoiceInfo=e.Data.Results,this.imageUrl=e.Data.Results.vendor.logo,this.invoiceInfo.logo?(this.showLogo=!0,this.logoUrl=this.invoiceInfo.logo):(this.showLogo=!1,this.logoUrl=""),this.payUrl=this.invoiceInfo.payUrl?this.invoiceInfo.payUrl:"",this.paymentType=this.invoiceInfo.paymentType?this.invoiceInfo.paymentType:"",this.shippingAmount=this.invoiceInfo.shippingAmount?this.toFixed(this.invoiceInfo.shippingAmount):"0",this.itemAmount=this.invoiceInfo.itemAmount?this.toFixed(this.invoiceInfo.itemAmount):"0",this.totalAmount=this.invoiceInfo.totalAmount?this.toFixed(this.invoiceInfo.totalAmount):"0",this.realAmount=this.invoiceInfo.realAmount?this.toFixed(this.invoiceInfo.realAmount):"0"):this.$elementMessage(e.Message,"error")})},handleChange(e,t){this.$nextTick(()=>{this.$apiCall("api.Invoice.changeQuantityByC",{uniCode:this.uniCode,invoiceId:this.invoiceInfo.id,itemId:e.id,quantity:t,preview:1==this.preview},i=>{"9999"==i.ErrorCode?(this.itemAmount=i.Data.Results.itemAmount?this.toFixed(i.Data.Results.itemAmount):"0",this.totalAmount=i.Data.Results.totalAmount?this.toFixed(i.Data.Results.totalAmount):"0",this.realAmount=i.Data.Results.realAmount?this.toFixed(i.Data.Results.realAmount):"0",this.invoiceData.map(i=>{e.id==i.id&&(this.$set(i,"quantity",Number(t)),i.price?this.$set(i,"amount",(Number(i.quantity)*Number(i.price)).toFixed(2)):this.$set(i,"amount",""))})):this.$elementMessage(i.Message,"error")})})},tableRowClassName({row:e,rowIndex:t}){return this.invoiceData[t]&&2==this.invoiceData[t].fulfillStatus?"warning-row":""},getRowClass({row:e,column:t,rowIndex:i,columnIndex:a}){if(0===i)return 0==a?"padding-left:10px;text-align:left;background:#43467F;color:#fff;font-weight:600;white-space:nowrap;border-right: 0;":3==a?"padding-right:10px;text-align:right;background:#43467F;color:#fff;font-weight:600;white-space:nowrap;border-right: 0;":"text-align:center;background:#43467F;color:#fff;font-weight:600;white-space:nowrap;border-right: 0;"},getRowClass2({row:e,column:t,rowIndex:i,columnIndex:a}){if(0===i)return 0==a?"padding-left:10px;text-align:left;background:#43467F;color:#fff;font-weight:600;white-space:nowrap;border: 1px solid #ddd;border-left:0;":3==a?"padding-right:10px;text-align:right;background:#43467F;color:#fff;font-weight:600;white-space:nowrap;border: 1px solid #ddd;border-right: 0;border-left:0;":"text-align:center;background:#43467F;color:#fff;font-weight:600;white-space:nowrap;border: 1px solid #ddd;border-left:0;"},cellStyle({row:e,column:t,rowIndex:i,columnIndex:a}){return 0===a?"padding-left:10px;text-align:left;":2==a||3==a?"padding-right:10px;text-align:right;":"text-align:center;"}}},h=d,m=(i("b69c"),i("002f"),i("e607")),u=Object(m["a"])(h,a,s,!1,null,"52020bfb",null);t["default"]=u.exports},a81d:function(e,t,i){var a={"./1.png":"7359","./10.png":"88a5","./12.png":"166f","./13.png":"750e","./2.png":"5fe2","./3.png":"0b54","./4.png":"c339","./6.png":"2f78","./Active.png":"f7532","./Active2.png":"c593","./Basic.png":"3143","./fail.png":"035c","./n1.png":"79db","./n10.png":"c171","./n12.png":"6b31","./n2.png":"bbde","./n3.png":"955b","./n4.png":"dbe3","./payStatus1.png":"6a60","./payStatus2.png":"6c44","./payStatus3.png":"ca9c","./success.png":"25db"};function s(e){var t=o(e);return i(t)}function o(e){if(!i.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}s.keys=function(){return Object.keys(a)},s.resolve=o,e.exports=s,s.id="a81d"},b69c:function(e,t,i){"use strict";i("d044")},c339:function(e,t,i){e.exports=i.p+"img/4.d68bb014.png"},c593:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAwCAYAAABT9ym6AAAEXUlEQVRoQ92aXWgcVRTH/+cmm3bXbtuYRCwt9MGIBYn4UFGTXa2Ioj4k7UtfuisWsaLZaFZQiqQQUEH7YKrZpbTWz92+FMSmL4o+WN1NVRrEj36EJhYqSEETg6QmNt29R2Z2J85+zUd2JjUzj7vnnHt+c+6595x7h+DQE4+f8v9xTT5EhAdY8haA2kFoZiCoDEHALBgzAE+SoHFmfNnmE18MDXXOO+EC1WPkmb2Z5it/ix5m2QOmhxkcsGOPQHMg/pxIjKy5QY4cfD08Y0dfL7skkD2DY4H56fkXWNJLDFbfeL0PgWZJ8H5/i//Nw4Nb5+zaswVy7Bg3nPgq+yQIg8zYYHcwK/JEuAzGYPf9oXd37qS8FZ3i1LUm+nj81EZ5TR5n5q3WNOqTIqIx4RPbPxrq/M2KJUsRiT7/zd2cz33iVhRqOapEhxoad6Teuvc7MxhTkF2x0QixfIeB1WbG3PifgH+YxFNHE11pI/uGIAoEWKbccNC2TRJRI5iaIOp0yuVOXq9IlIMqkaHGxm21pllVkEJi508vd06YRUnJGeFruKvaAlABoi6xX49+u1yrk5nzFZEhGuu+r+ue8qW5AiTSm9nDwCG7AyynPAFPp5PhwzV3dmXHnpuan/y/TanKqOByoNXfrq8ASiIS7csMSIlXlvPtLnUsIbAvNRx+VdNfBFEKwNlZuuRU7WTXwfVrfdjWeTN+OjeDi79eMVVXarNgkDdrheYiSLRv9Akp5fumFlwQaGlehYH+DrS1rEYuJ3HgyHn8cMa8EBZC7E4Nd31QUmtFYhmlBNnugp+GJvUQmqAC80byLM5P/GWoS4Tj6UR4xyKI2hQtyCm7/US90NUgNJujp3/HwQ8vGIOA5tqaRKvSnKlTKxLLdjPzSL2O2dE3gsjlJfYnz+LcBeOIqJEg6kknQidUkGhfdkhK7rfjSD2yZhBvHxnH9z//aWkIIehAajgUL0SkN/MpA49Y0tQJCQH4GgWuLkjLqk5CFHPjs3Qy/GgRJDvB4HbL3gDYtCGAF5+9HQF/Aw6lJjD247SputMQBRCaTCdDt2o5MsXMLaaeFAUUiJef68DaoE/9JZ9nDL83bgjjBkQxR6bTiVCrCrIrlr0K5iarIK/tvRObN60pETeCcQtCdYBo4WgitGpJIPviHbjtlnUV3NVgXIUoB4nEsram1o3rmzDQfwduaq3sfvUwrkMUlt//plak136ym8GkP76Ixx7cqJYd5Y+yT9hZYo2mfGmyL3H5NYKpNbiTEBXLbz0boh0YpyEUkNINsc4SxQqMGxAVJYoTRaMRjGsQ5UWjWqY4UMZXg3ELohCNsjJe+dGpxkoP4yZEIT+qNFZOtrrrgoW29cz4DH65ZN62Wq0o9HI1W91CVDxw+KCAeOY4SE16LxzQKSCeOTJVYDxxiK2tDJ64VtBgPHHRo4dZ8VdvJdNspV+GajCeuJ7WYDzxwYC+zlnxn3CUF3cr/qOaatXq9f7M6V+GPchPqFpE7QAAAABJRU5ErkJggg=="},ca9c:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAE8UlEQVRoQ+WbXWgcVRTH/2dms90YQ8mu1ppJUbFQRNhtyEMUYtu8WCtVQRBMHmp96ouCkiqkqA9VWtAGBX3pk9qHRBAEtVh9sdoGah9CmkCRQEWL2VhqNktJYrKbnTlyJ9l1s18zc2dmd80MLITcc889vzl37rn3zBmCTxf39Ny1cDvXxwb3ELAH4se0E8TtAMRPXItgWgTxLQAzDMyQQhPRHaFxmpj4xw/TyEuliw/Hd2RXlUGw8TwIvcwIy+gnQhaMqyDlq3DEGG3/bfq2jJ5KfTwBTu/q3qcbxhvEeIrBIa+ME3oIlGPC96qifNDx5+Qlt7pdAae1RL/BOMngPreG2OlPoHFFobc7Zq/9ZEfeMw8vP9Bz/+ra2ggDA7IDu+lHwFikpWWo7ebEX071OPbwQlf3IWZjjJm3Ox3MS3kiukOkDERnJy840esIOKUlhsD8PgOKk0H8kiXAANGbseTUiN0xbAHz7kPbFlaSZ5nxkl3F9ZQjwufRVu0Y3biQsRrXEnhxd/e92RX9a2Y8bqWske1EuBJuVZ9rvzH5dy07agJvePZis8PmAQV0tFXrr+XpmsApLf5Zs07jal4U0zuWnD5atb1ag1igmPlMI6ep7NhEdLzaQlbRw2boMfTzzbIaOwUXqzcp6uFKIasM2NxU5HK/NjrOOoUslRdxOhIKPVK6OSkDTnXGRxu1g3ILWQYNjMXmpgeL/78JON2194BuGBe9HriR+lRF6S/ee28CTnUmLtfrIFCvmyAOHLG5qScKoSv/R7qre79u6NKnEPXRPWjp68Xa+FXo12dc83ipT1XUAx2zkz8LowoentcS34L5sIylwrjt342CQiFwLoelV08g+80PMqrMPuFnD+Luj08V9N15etDdTSQ6f09y6pkCsJmpWKGk7OE9cuwI2t4ZKgCyrmPplWEpaBP2k9MgVS3oWz45gtWz56RvoEgihFtZE5kT08Mpbe9rzMaHshqLPZzXIQNdCVbMGNceFlOZlNdjyWsfrQN3xi8xUHiwZcArGuvA0277W9lMwOXY3PQ+MrOLt9bSsgm34oFkjZbtZwW5Kf4SstGdLR2U2pV4knWWX2FKRnVqvFN5J5BlGxGVDtK8Fh8G45QbRaV97ULYlfPMNsIJ8usIaAVj1e4ZZJEicXQUwFeY8ZgfA1SDypz7EtuOvLAp9Mis6k5tJsIvlOpM/M7gB512titfCbq0bz1g1zcd9Ifw8DwzYnYBZORqQdcL1gQmpARwxouQZHUj2t4bRuTlF8vEVj/9Astvnbbq7km7eGdVF+Am8rAJ7OuUbqpn2JzSPi5aTbdKbyxavoQlqzhr1e7JQ1uiZD0s+ZB7tgtjV84reHPj4fXW0imEU3lX8ObW0sPDg6zxsv2cwpM4PHh1PHRrtNv+VvAiBpvHQyHoNgHwv8h45BMAJrDLFE+z57TWt5VFKR63Sbxmz1qWJfHEHXCTphX9vcwje66vNE0rBjBrrXTdTFZvtUtV1f35Gq/gvmoxvawl+nXmH7eSh2u+TNsIUcF5XSqAA/dCXEAHquQh//wGqqjlP+gAlS0J6MAVpgnoQJUe5qd2oIpLizchgSkfLoYOVIF4HjxQnwAUe1sUshkGv1uv2q6GfeRRergwa7zYOO7rZzyknMnXWrk53FhWxDtRvvRQ732ZbGZgy3+oVemmNOuneP8C9e2SFOe7JGoAAAAASUVORK5CYII="},d044:function(e,t,i){},d380:function(e,t,i){},f8db:function(e,t,i){}}]);
//# sourceMappingURL=preview.2f298698.js.map