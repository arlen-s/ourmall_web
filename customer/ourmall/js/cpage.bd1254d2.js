(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["cpage"],{"4ad0":function(t,e,s){},af6b:function(t,e,s){"use strict";s("4ad0")},b66c:function(t,e,s){"use strict";s.r(e);var o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"home-page"},[e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"home-body"},[e("div",{staticClass:"designHome test"},[e("div",{staticStyle:{position:"relative"}},[e("DHeader",{attrs:{data:t.setting&&t.setting.header||"",headerMenu:t.headerMenu}}),e("div",{staticClass:"page-body-wrap ql-snow"},[e("div",{staticClass:"body ql-editor",style:{paddingTop:t.setting.header.logoWidth&&t.setting.header.logoWidth>120?t.setting.header.logoWidth+"px":"120px"},domProps:{innerHTML:t._s(t.page.content)}})]),e("Footer",{attrs:{setting:t.$store.state.configJson&&t.$store.state.configJson.footer||""}})],1)])])])},a=[],i=(s("121a"),s("7e41"),s("96be"),s("8214")),n=s("d8f7"),r={data(){return{headerMenu:[],setting:{header:{}},loading:!1,id:this.$route.params.id,page:{content:null,id:null,title:null,updateTime:null},code:{header:[],footer:[]}}},components:{DHeader:i["a"],Footer:n["a"]},watch:{"$route.params.id":{handler:function(){this.getInfo()},deep:!0}},created(){this.getInfo()},mounted(){},methods:{getInfo(){if("www"==location.host.split(".")[0].toLowerCase()||"sandboxwww"==location.host.split(".")[0].toLowerCase()||"supplier"==location.host.split(".")[0].toLowerCase()||"sandboxsupplier"==location.host.split(".")[0].toLowerCase()&&location.host.indexOf("localhost")<0)return;this.loading=!0;let t=location.host;location.host.indexOf("localhost")>-1&&(t="shop242.myourmall.com"),this.$apiCall("api.User.getInfoFromUrl",{url:t},t=>{9999==t.ErrorCode?(localStorage.setItem("c_apiShopId",t.Data.Results.shopId),this.getItem()):(this.loading=!1,this.$elementMessage(t.Message,"error"))})},getItem(){this.$apiCall("api.VendorShop.getShopConfig",{},t=>{this.loading=!1,9999==t.ErrorCode?0!==t.Data.Results.length?(t.Data.Results.header.activeMenu&&t.Data.Results.menu.forEach(e=>{e.id==t.Data.Results.header.activeMenu&&(this.headerMenu=e)}),this.$store.commit("getStoreComponent",t.Data.Results),this.setting=t.Data.Results,this.$route.params.id&&(this.id=this.$route.params.id),this.setting.customPage&&this.setting.customPage.forEach(t=>{this.id==t.id&&(this.page=t)}),localStorage.setItem("c_shopConfigJson",JSON.stringify(t.Data.Results))):this.setting=JSON.parse(JSON.stringify(this.$store.state.configJson)):this.$message({message:t.Message,type:"error"})})}}},l=r,d=(s("af6b"),s("e607")),h=Object(d["a"])(l,o,a,!1,null,"0eac4d62",null);e["default"]=h.exports}}]);
//# sourceMappingURL=cpage.bd1254d2.js.map