(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["invite"],{"25d1":function(e,t,s){},8401:function(e,t,s){},"86f5":function(e,t,s){"use strict";s("8401")},"92fd":function(e,t,s){"use strict";s("25d1")},da63:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"page-invite-reg"},[e._m(0),s("div",{staticClass:"body"},[s("div",{directives:[{name:"loading",rawName:"v-loading",value:e.pageLoading,expression:"pageLoading"}],staticClass:"content"},[s("p",{staticClass:"row1"},[e._v("Hello "+e._s(e.customerName)+",")]),s("p",{staticClass:" row2"},[e._v(" "+e._s(e.words)+" ")]),s("p",{staticClass:"row3"},[e._v("Yours,")]),s("p",{staticClass:" row4"},[e._v(e._s(e.vendorName))]),s("div",{staticClass:"reg"},[s("div",{staticClass:"reg-box"},[e._m(1),s("div",{staticClass:"row6"},[s("div",[s("span",{staticClass:"http"},[e._v("http://")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.shopUrl,expression:"shopUrl"}],attrs:{type:"text",placeholder:"Your Shopify store name"},domProps:{value:e.shopUrl},on:{input:[function(t){t.target.composing||(e.shopUrl=t.target.value)},function(t){return e.storeInput(t.target.value)}]}}),s("span",{staticClass:"domain"},[e._v(".myshopify.com")])]),s("el-button",{attrs:{loading:e.loading},on:{click:e.login}},[e._v(" "+e._s(e.loading?"Please Wait":"Connect")+" ")])],1)])])])]),s("div",{staticClass:"page-footer"},[s("div",[e._v("© 2021, Powered by "+e._s(e.$root.$children[0].pName.b)+" APP")])])])},o=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"header"},[s("div",{staticClass:"content"},[s("h1")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"row5"},[s("div",{staticClass:"s-logo"})])}],i=(s("ba49"),s("6583"),s("8741"),s("5ede"),s("5e85"),s("20f0"),s("ccbd"),{data:function(){return{pageLoading:!0,loading:!1,shopUrl:"",customerName:"",words:"",vendorName:""}},created:function(){$("body").addClass("primary-bg"),$("#viewport").attr("content","width=device-width,initial-scale=1.0")},beforeDestroy:function(){$("body").removeClass("primary-bg"),$("#viewport").attr("content","width=device-width, user-scalable=yes, initial-scale=0.3, maximum-scale=1.0, minimum-scale=0.3")},mounted:function(){this.getWords()},methods:{getWords:function(){var e=this;this.pageLoading=!0,this.$apiCall("api.Relationship.getRelationshipByRid",{rid:decodeURIComponent(this.$route.query.rid)},(function(t){e.pageLoading=!1,"9999"==t.ErrorCode?(e.customerName=t.Data.Results.customerName,e.words=t.Data.Results.words,e.vendorName=t.Data.Results.vendorName):e.$elementMessage(t.Data.Results.errorMessage,"error")}))},getLoginStatus:function(){var e=this;this.$apiCall("api.ShopifyAccount.getShopAuthStatus",{shopUrl:this.shopUrl},(function(t){"9999"==t.ErrorCode?(localStorage.setItem("c_inviteShopUrl",e.shopUrl),t.Data.Results.status&&(clearInterval(e.time),1==t.Data.Results.status?(localStorage.setItem("c_apiUserId",t.Data.Results.userInfo.id),localStorage.setItem("c_apiUserToken",t.Data.Results.userInfo.apiUserToken),localStorage.setItem("c_ourMallUserInfo",JSON.stringify(t.Data.Results.userInfo)),e.$store.commit("setUserInfo",t.Data.Results.userInfo),e.$router.push({name:"dashboard"}),e.win.close()):(e.loading=!1,e.$elementMessage(t.Data.Results.errorMessage,"error"),e.win.close(),setTimeout((function(){window.location.reload()}),1e3)))):(clearInterval(e.time),e.$elementMessage(t.Message,"error"))}))},login:function(){var e=this;if(!this.shopUrl)return this.$elementMessage("Please enter Shopify store name","error"),!1;this.win=window.open("/blank.html","Shopify"),this.loading=!0,this.$apiCall("api.ShopifyAccount.addShopifyAccount",{shopUrl:this.shopUrl,getAuth:1,rid:this.$route.query.rid,ivc:localStorage.getItem("c_ivc")?localStorage.getItem("c_ivc"):"",utmSource:localStorage.getItem("c_utm")},(function(t){"9999"==t.ErrorCode?(e.win.location=t.Data.Results,e.time=setInterval((function(){e.getLoginStatus()}),2e3)):e.$elementMessage(t.Message,"error")}))},storeInput:function(e){for(var t=new RegExp("[A-Za-z0-9-_]+"),s=e.length,a="",o=0;o<s;o++)t.test(e[o])&&(a+=e[o]);this.shopUrl=a}}}),r=i,n=(s("86f5"),s("92fd"),s("cba8")),l=Object(n["a"])(r,a,o,!1,null,"5c79c84f",null);t["default"]=l.exports}}]);