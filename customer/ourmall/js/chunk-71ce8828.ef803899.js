(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-71ce8828"],{1010:function(t,e,i){},"3acf":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{"v-loading":t.loading}},[i("div",{attrs:{id:"pdfDom"}},[i("el-row",{staticClass:"row-box",attrs:{type:"flex"}},[i("el-col",[i("p",{staticClass:"bill_p1 left"},[t._v("Invoice")]),i("p",{staticClass:"bill_p2 left"},[t._v("PO # "+t._s(t.invoiceInfo.code||"---"))]),i("p",{staticClass:"bill_p3 left"},[t._v(" "+t._s(t.form.companyName||"COMEXBCN TRADING CO.,LIMITED"))]),i("p",{staticClass:"bill_p4 left"},[t._v(" "+t._s(t.form.address||"Unit 1102,11/F,29 Austin Road, Tsim Sha Tsui, Kowloon, Hong Kong")+" ")])]),i("el-col",{staticClass:"right-box"},[i("p",{staticStyle:{"text-align":"right"}},[i("img",{staticClass:"bill_img",attrs:{src:""+(t.form.imgUrl||"../assets/images/store-design/bcn_logo.png"),alt:""}})]),i("p",{staticClass:"bill_p5 right"},[t._v("ceate time: "+t._s(t.invoiceInfo.timeCreated))]),i("p",{staticClass:"bill_p6 right"},[t._v("pay time: "+t._s(t.invoiceInfo.timePaid))]),i("p",{staticClass:"bill_p7 right"},[t._v(" Amount Due(US$)： "),i("span",[t._v(t._s(t.realAmount||"0.00"))])])])],1),i("el-row",[i("el-col",[i("span",{staticClass:"cus-txt"},[t._v("Customer Name")]),i("p",{staticClass:"cus-txt2"},[t._v(t._s(t.customerName))])])],1),i("el-row",[i("el-col",{staticStyle:{padding:"5px"}},[i("table",[i("thead",[i("tr",[i("th",[t._v("Thumbnails")]),i("th",{staticStyle:{"line-height":"40px"}},[t._v("Order items")]),i("th",{staticStyle:{"line-height":"40px"}},[t._v("Logistics number")]),i("th",{staticStyle:{"line-height":"40px"}},[t._v("My SKU")]),i("th",{staticStyle:{"line-height":"40px"}},[t._v("Purchase Qty")]),i("th",{staticStyle:{"line-height":"40px"}},[t._v("Supply unit price(US$)")]),i("th",{staticStyle:{"line-height":"40px"}},[t._v("Logistics fee")]),i("th",{staticStyle:{"line-height":"40px"}},[t._v("Subtotal (US$)")])])]),i("tbody",t._l(t.tableData,(function(e,s){return i("tr",{key:s},[i("td",[i("el-image",{staticStyle:{"min-width":"70px",width:"70px",height:"70px",margin:"5px 5px 0 0",border:"1px solid #ddd"},attrs:{lazy:"",src:e.imgUrl}},[i("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[i("i",{staticClass:"el-icon-picture-outline",staticStyle:{"font-size":"20px"}})])])],1),i("td",[i("div",{staticClass:"flex-box-start"},[i("div",{staticClass:"td-mel"},[i("p",[t._v(" "+t._s(e.name))]),i("p",[t._v("SKU:"+t._s(e.customerRealSku||"--"))]),i("div",{staticClass:"d-flex",staticStyle:{cursor:"pointer"},attrs:{slot:"reference"},slot:"reference"},[i("span",{staticStyle:{"margin-right":"10px"}},[t._v(t._s(e.codeName))]),t._v(" To "),i("span",{staticStyle:{"margin-left":"10px"}},[t._v(" "+t._s(e.shippingJson&&e.shippingJson.country?e.shippingJson.country:"---"))])])])])]),i("td",[i("p",{staticStyle:{"margin-bottom":"5px"}},[t._v(" "+t._s(e.trackCompany)+"("+t._s(e.realCompany)+") ")]),t._v(" "+t._s(e.trackNumber)+" ")]),i("td",[t._v(t._s(e.sku))]),i("td",[t._v(t._s(e.quantity||0))]),i("td",[t._v(t._s(e.price))]),i("td",[t._v(t._s(e.shippingFee))]),i("td",[i("div",{staticClass:"tx-center"},[t._v(t._s(t.itemTotalAmount(e)))])])])})),0)])])],1),i("el-row",{staticStyle:{"margin-top":"20px"}},[i("el-col",{staticStyle:{"padding-right":"10px"}},[i("p",{staticClass:"bill_p7 right"},[t._v(" Product + Shippingtotal (US$)： "),i("span",[t._v(" "+t._s(t.mergeSum||"0.00"))])]),i("p",{staticClass:"bill_p7 right"},[t._v(" DiscountTotal (US$)： "),i("span",[t._v(t._s(t.$numberToCurrency(t.discount)||"0.00"))])]),i("p",{staticClass:"bill_p7 right"},[t._v(" Totalamount ： "),i("span",[t._v(t._s(t.realAmount||"0.00"))])])])],1)],1),i("div",{staticClass:"suspended"},[i("el-button",{attrs:{type:"primary",disabled:t.isDownload},on:{click:function(e){return t.savePdf()}}},[t._v("Download PDF")])],1)])},o=[],n=(i("b0c0"),i("a9e3"),i("b680"),i("159b"),{components:{},data:function(){return{tableData:[],uniCode:this.$route.query.uniCode?this.$route.query.uniCode:"",invoiceInfo:{},isDownload:!1,loading:!1,itemAmount:"",totalAmount:"",realAmount:"",shippingAmount:"",customerName:"",mergeSum:"",htmlTitle:"Orders",form:{companyName:"",address:"",imgUrl:sessionStorage.getItem("companyLogo"),id:""}}},computed:{discount:function(){return this.toFixed(Number(this.totalAmount)-Number(this.realAmount))}},watch:{},methods:{getBill:function(){var t=this;this.$apiCall("api.BillInfo.getList",{},(function(e){"9999"==e.ErrorCode?e.Data.Results.length>0&&(t.form={companyName:e.Data.Results[0].companyName,address:e.Data.Results[0].companyAddress,id:e.Data.Results[0].id}):t.$elementMessage(e.Message,"error")}))},getInfo:function(){var t=this;this.loading=!0,this.$apiCall("api.Invoice.getOneByC",{uniCode:this.uniCode},(function(e){if("9999"==e.ErrorCode){t.loading=!1,t.invoiceInfo=e.Data.Results,t.htmlTitle="Orders-".concat(e.Data.Results.code),t.customerName=e.Data.Results.customer.name,t.shippingAmount=t.invoiceInfo.shippingAmount?t.toFixed(t.invoiceInfo.shippingAmount):"",t.itemAmount=t.invoiceInfo.itemAmount?t.toFixed(t.invoiceInfo.itemAmount):"",t.totalAmount=t.invoiceInfo.totalAmount?t.toFixed(t.invoiceInfo.totalAmount):"",t.realAmount=t.invoiceInfo.realAmount?t.toFixed(t.invoiceInfo.realAmount):"";var i=t.realAmount>0?t.itemAmount:"0.00",s=Number(t.shippingAmount)?t.shippingAmount:"0.00",o=Number(i)+Number(s);t.mergeSum=o.toFixed(2),t.getTableData()}else t.loading=!1,t.$elementMessage(e.Message,"error")}))},getTableData:function(){var t=this;this.$apiCall("api.Invoice.getItemsByc",{invoiceId:this.invoiceInfo.id,uniCode:this.uniCode,type:"all"},(function(e){"9999"==e.ErrorCode?e.Data.Results.forEach((function(e,i){e.price?2!=e.fulfillStatus?t.$set(e,"amount",(Number(e.quantity)*Number(e.price)).toFixed(2)):t.$set(e,"amount","0.00"):t.$set(e,"amount",""),t.tableData.push(e)})):(t.$elementMessage(e.Message,"error"),"1002"!=e.ErrorCode&&"1003"!=e.ErrorCode||t.$userFailure(t))}))},itemTotalAmount:function(t){return(Number(t.quantity)*Number(t.price)+(isNaN(t.shippingFee)?0:Number(t.shippingFee))).toFixed(2)},toFixed:function(t){return t&&""!=t?Number(t).toFixed(2):"0.00"},savePdf:function(){window.print()}},created:function(){this.getInfo(),this.getBill()},mounted:function(){var t=this;window.addEventListener("afterprint",(function(){t.$apiCall("api.Invoice.recordOperateLog",{invoiceId:t.invoiceInfo.id,action:25},(function(t){}))}))},beforeCreate:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){}}),a=n,l=(i("ae39"),i("2877")),r=Object(l["a"])(a,s,o,!1,null,"5475cbcc",null);e["default"]=r.exports},ae39:function(t,e,i){"use strict";i("1010")}}]);
//# sourceMappingURL=chunk-71ce8828.ef803899.js.map