(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["importListMain","importSub"],{"0dee":function(t,e,i){"use strict";i("ee64")},"0e6a":function(t,e,i){},"2c46":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"contentpanel import-page2"},["home"!=t.fromPage?e("div",{ref:"pageHeader",staticClass:"pagetitle"},[t._m(0)]):t._e(),e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"pagebody"},["home"!=t.fromPage?e("el-card",{staticStyle:{"margin-bottom":"20px"}},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:24}},[e("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},t._l(t.tabsArr,(function(i){return e("el-tab-pane",{key:i.id,ref:"mainTab",refInFor:!0,attrs:{label:i.name,name:i.id}},[e("router-view",{key:t.pageKey,ref:"main",refInFor:!0,attrs:{tab:i,loadingImport:t.loadingImport,pushLoading:t.pushLoading,exportLoading:t.exportLoading,delLoading:t.delLoading,AllChecked:t.AllChecked,items:t.items,tags:t.tags,allCnt:t.allCnt,doneCnt:t.doneCnt,filtersParams:t.filtersParams,shopOptArr:t.shopOptArr,filterAccountProps:t.filterAccountProps},on:{changeAllItems:t.changeAllItems,batItems:t.batItems,openTagMgt:t.openTagMgt,removeCheckedTags:t.removeCheckedTags,singPush:t.singPush,editProduct:t.editProduct,delItem:t.delItem,importPorduct:t.importPorduct,openPushSetting:t.openPushSetting,setFilter:t.setFilter,clearFilter:t.clearFilter,delItem2:t.delItem2,gotoImportList:t.gotoImportList}})],1)})),1)],1)],1)],1):e("div",{staticStyle:{margin:"0 0 30px"}},[e("subPage",{key:t.pageKey,ref:"main",attrs:{tab:t.tab,loadingImport:t.loadingImport,pushLoading:t.pushLoading,exportLoading:t.exportLoading,delLoading:t.delLoading,AllChecked:t.AllChecked,items:t.items,tags:t.tags,allCnt:t.allCnt,doneCnt:t.doneCnt,filtersParams:t.filtersParams,shopOptArr:t.shopOptArr,filterAccountProps:t.filterAccountProps},on:{changeAllItems:t.changeAllItems,batItems:t.batItems,openTagMgt:t.openTagMgt,removeCheckedTags:t.removeCheckedTags,singPush:t.singPush,editProduct:t.editProduct,delItem:t.delItem,importPorduct:t.importPorduct,openPushSetting:t.openPushSetting,setFilter:t.setFilter,clearFilter:t.clearFilter,delItem2:t.delItem2,gotoImportList:t.gotoImportList}})],1),t.items.length?e("el-row",{attrs:{gutter:20}},[e("el-col",{staticClass:"d-flex justify-content-center",attrs:{span:24}},[e("div",{staticStyle:{"margin-bottom":"30px"}},[e("el-pagination",{attrs:{"current-page":Number(t.page),background:!0,layout:"sizes, total, prev, pager, next, jumper","page-sizes":t.pageSizes,"page-size":t.rowsPerPage,total:Number(t.total)},on:{"current-change":t.toPage,"size-change":t.changePageSize}})],1)])],1):t._e()],1),e("DialogPush",{attrs:{dialogPush:t.dialogPush,SelectedPushStoresNum:t.SelectedPushStoresNum}}),e("DialogManagement",{ref:"dialogTagMgr",attrs:{dialogTagManagement:t.dialogTagManagement}}),e("DialogEditProduct",{attrs:{dialogEditProduct:t.dialogEditProduct,currency:t.currency,tab2Loading:t.tab2Loading},on:{openDialogSelectImg:t.openDialogSelectImg,saveEditProduct:t.saveEditProduct}}),e("DialogSelectImg",{attrs:{dialogSelectImg:t.dialogSelectImg,dialogEditProduct:t.dialogEditProduct}}),e("DialogPushSetting",{attrs:{dialogPushSetting:t.dialogPushSetting},on:{savePushSetting:t.savePushSetting}})],1)},s=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"left"},[e("div",{staticClass:"title"},[e("i",{staticClass:"el-icon-upload2"}),e("h2",[t._v("Import List")])])])}],o=(i("149f"),function(){var t=this,e=t._self._c;return e("div",[e("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:t.dialogPush.loading,expression:"dialogPush.loading"}],style:{overflow:t.dialogPush.loading?"hidden":"auto"},attrs:{title:"Select stores to publish products","close-on-click-modal":!1,visible:t.dialogPush.isShow,width:"800px"},on:{"update:visible":function(e){return t.$set(t.dialogPush,"isShow",e)},close:t.closeDialog}},[e("el-divider"),e("div",{staticClass:"dialog-push-body"},[e("el-row",{attrs:{gutter:30}},[e("el-col",{attrs:{span:14}},[e("h3",[t._v("Selected products ("+t._s(t.dialogPush.items.length)+")")]),e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.dialogPush.items,height:"400"}},[e("el-table-column",{attrs:{prop:"mainImg",width:"110"},scopedSlots:t._u([{key:"default",fn:function(t){return[e("el-image",{staticStyle:{width:"100px",height:"100px"},attrs:{src:t.row.mainImg,fit:"cover"}})]}}])}),e("el-table-column",{attrs:{prop:"name",className:"cell-top"},scopedSlots:t._u([{key:"default",fn:function(i){return[e("div",{staticClass:"tx-ellipsis2"},[t._v(" "+t._s(i.row.name)+" ")]),i.row.pushRe.length?e("div",t._l(i.row.pushRe,(function(i){return e("el-tag",{key:i.shopName,attrs:{type:"success"==i.status?"success":"danger"}},["fail"==i.status?e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:i.msg,placement:"top"}},[e("span",[t._v(" "+t._s(i.shopName)+": "+t._s(i.status)+" "),e("i",{staticClass:"el-icon-question",staticStyle:{color:"#303133","font-size":"14px"}})])]):e("span",[t._v(t._s(i.shopName)+": "+t._s(i.status))])],1)})),1):t._e()]}}])}),t.dialogPush.isAction?e("el-table-column",{attrs:{width:"50"},scopedSlots:t._u([{key:"default",fn:function(i){return[e("el-link",{attrs:{type:"danger"},on:{click:function(e){return t.delPushProduct(i.$index)}}},[e("i",{staticClass:"el-icon-delete"})])]}}],null,!1,237557512)}):t._e()],1)],1),e("el-col",{attrs:{span:10}},[e("h3",{staticStyle:{"margin-bottom":"15px"}},[t.SelectedPushStoresNum?[t._v(" Selected stores ("+t._s(t.SelectedPushStoresNum)+") ")]:[t._v(" Please select the Shopify stores ")]],2),t._l(t.dialogPush.shopList,(function(i){return e("ul",{key:i.platform,staticClass:"push-select-stores"},[1==i.platform?e("div",{staticClass:"block"},[e("shopCate",{attrs:{items:i}}),t._v("Shopify")],1):t._e(),2==i.platform?e("div",{staticClass:"block"},[e("shopCate",{attrs:{items:i}}),t._v("Woocommerce")],1):t._e(),3==i.platform?e("div",{staticClass:"block"},[e("shopCate",{attrs:{items:i}}),t._v("Lazada")],1):t._e(),4==i.platform?e("div",{staticClass:"block"},[e("shopCate",{attrs:{items:i}}),t._v("Shopee")],1):t._e(),5==i.platform?e("div",{staticClass:"block"},[e("shopCate",{attrs:{items:i}}),t._v("Wayfair")],1):t._e(),t._l(i.data,(function(i){return e("li",{key:i.id},[e("el-checkbox",{staticStyle:{"margin-right":"5px"},attrs:{disabled:!t.dialogPush.isAction},on:{change:function(e){return t.selectShopGetCollections(i)}},model:{value:i.checked,callback:function(e){t.$set(i,"checked",e)},expression:"shop.checked"}},[t._v(" "+t._s(i.shopName)+" ")]),i.loading?e("i",{staticClass:"el-icon-loading"}):t._e(),i.collections.length&&1==i.platform?e("el-select",{attrs:{size:"mini",disabled:!t.dialogPush.isAction},model:{value:i.selectCollection,callback:function(e){t.$set(i,"selectCollection",e)},expression:"shop.selectCollection"}},t._l(i.collections,(function(t){return e("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1):t._e()],1)}))],2)}))],2)],1)],1),e("el-divider"),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.dialogPush.isShow=!1}}},[t._v("Close")]),t.dialogPush.isAction?e("el-button",{attrs:{type:"primary",loading:t.dialogPush.loading,disabled:!t.dialogPush.items.length},on:{click:t.pushToShopify}},[t._v(" Push to Store ")]):t._e()],1)],1),e("DialogLoading",{attrs:{LoadingVisible:t.LoadingVisible,loadingNum:t.loadingNum},on:{closePush:t.closePush}})],1)}),l=[],r=i("716a"),n=function(){var t=this,e=t._self._c;return e("el-dialog",{attrs:{top:"32vh","show-close":!1,visible:t.LoadingVisible,"close-on-click-modal":!1,width:"30%"},on:{"update:visible":function(e){t.LoadingVisible=e}}},[e("div",{staticClass:"LoadingModal"},[e("el-progress",{attrs:{type:"circle",percentage:t.loadingNum,color:t.colors}}),e("div",{staticClass:"text"},[t._v("Loading time to long, check detailed progress")])],1),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:t.closePush}},[t._v("Close")])],1)])},c=[],d={props:["LoadingVisible","loadingNum"],data(){return{colors:[{color:"#f56c6c",percentage:20},{color:"#e6a23c",percentage:40},{color:"#5cb87a",percentage:60},{color:"#1989fa",percentage:80},{color:"#6f7ad3",percentage:100}]}},methods:{closePush(){this.$emit("closePush")}}},u=d,g=(i("83ac"),i("e607")),p=Object(g["a"])(u,n,c,!1,null,"d4980248",null),h=p.exports,m={props:["dialogPush","SelectedPushStoresNum"],data(){return{LoadingVisible:!1,loadingNum:0,timeOut:0}},components:{shopCate:r["a"],DialogLoading:h},methods:{pushToShopify(){if(!this.SelectedPushStoresNum)return void this.$elementMessage("Please select the stores","error");this.LoadingVisible=!0;let t=[];this.dialogPush.shopList.forEach(e=>{e.data.forEach(e=>{this.dialogPush.items.forEach(i=>{i.pushRe=[],e.checked&&1==e.platform?t.push({id:i.id,accountId:e.id,collectionId:e.selectCollection,published:this.dialogPush.published}):e.checked&&1!=e.platform&&t.push({id:i.id,accountId:e.id,published:this.dialogPush.published})})})}),this.timeOut=setInterval(()=>{this.loadingNum>94&&(this.loadingNum=94),this.loadingNum+=5},100),this.$apiCall("api.Product.addImportTask",{products:t},t=>{9999==t.ErrorCode?(this.loadingNum=100,clearInterval(this.timeOut),this.dialogPush.isAction=!1,this.LoadingVisible=!1,this.dialogPush.isShow=!1,this.loadingNum=0,this.$elementMessage("Push completed","success"),this.$parent.pushSuccess()):this.$elementMessage(t.Message,"error")})},delPushProduct(t){this.dialogPush.items.splice(t,1),this.dialogPush.items.length||(this.dialogPush.isShow=!1)},selectShopGetCollections(t){t.collections.length||1==t.platform&&(t.loading=!0,this.$apiCall("api.Product.getCollections",{id:t.id},e=>{t.loading=!1,9999==e.ErrorCode?(t.collections=[],Object.keys(e.Data.Results).forEach(i=>{t.collections.push({id:i,name:e.Data.Results[i]})}),1==t.collections.length&&(t.selectCollection=t.collections[0].id)):this.$elementMessage(e.Message,"error")}))},closePush(){this.LoadingVisible=!1,this.dialogPush.isShow=!1},closeDialog(){}}},f=m,P=(i("ebca"),Object(g["a"])(f,o,l,!1,null,"f94c399e",null)),y=P.exports,b=function(){var t=this,e=t._self._c;return e("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:t.dialogTagManagement.loading,expression:"dialogTagManagement.loading"}],style:{overflow:t.dialogTagManagement.loading?"hidden":"auto"},attrs:{title:"Tag management","close-on-click-modal":!1,visible:t.dialogTagManagement.isShow,width:"500px"},on:{"update:visible":function(e){return t.$set(t.dialogTagManagement,"isShow",e)}}},[e("div",{staticStyle:{width:"420px"}},[t.dialogTagManagement.addMode?e("div",[e("el-form",{ref:"addTagForm",staticStyle:{margin:"0"},attrs:{"label-width":"120px"},nativeOn:{submit:function(t){t.preventDefault()}}},[e("el-form-item",{staticStyle:{"margin-right":"5px","margin-bottom":"0"},attrs:{label:"New Tag",size:"mini"}},[e("el-input",{ref:"tagIpt",staticStyle:{"margin-right":"10px",width:"150px",height:"29px"},attrs:{size:"mini"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.saveEntTag.apply(null,arguments)}},model:{value:t.dialogTagManagement.tagIpt,callback:function(e){t.$set(t.dialogTagManagement,"tagIpt",e)},expression:"dialogTagManagement.tagIpt"}}),e("el-button-group",{staticStyle:{position:"relative",top:"-2px"}},[e("el-button",{attrs:{type:"primary",icon:"el-icon-check",size:"mini",loading:t.dialogTagManagement.addNewLoading},on:{click:t.saveEntTag}}),e("el-button",{attrs:{type:"danger",icon:"el-icon-close",size:"mini"},on:{click:function(e){return t.changeEntTag(!1)}}})],1)],1)],1)],1):e("div",{staticStyle:{"padding-left":"30px"}},[e("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){return t.changeEntTag(!0)}}},[t._v("+Add New Tags")])],1)]),e("div",{staticStyle:{padding:"0 15px"}},[e("el-table",{ref:"tagListTable",staticStyle:{width:"100%"},attrs:{data:t.dialogTagManagement.tags,stripe:"",height:"300"}},[e("el-table-column",{attrs:{prop:"name",label:"Tag name"},scopedSlots:t._u([{key:"default",fn:function(i){return[i.row.edit?e("div",{staticClass:"d-flex"},[e("el-input",{ref:"tagsListIpt",staticStyle:{"margin-right":"5px",width:"180px"},attrs:{size:"mini"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.saveTagIpt(i.row)}},model:{value:i.row.ipt,callback:function(e){t.$set(i.row,"ipt",e)},expression:"scope.row.ipt"}}),e("el-button-group",[e("el-button",{attrs:{type:"primary",icon:"el-icon-check",size:"mini"},on:{click:function(e){return t.saveTagIpt(i.row)}}}),e("el-button",{attrs:{type:"danger",icon:"el-icon-close",size:"mini"},on:{click:function(e){return t.cancelTagIpt(i.row)}}})],1)],1):e("div",[t._v(" "+t._s(i.row.name)+" ")])]}}])}),e("el-table-column",{attrs:{label:"Action",width:"150"},scopedSlots:t._u([{key:"default",fn:function(i){return[i.row.edit?t._e():e("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini"},on:{click:function(e){return t.editTag(i.row)}}}),e("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(e){return t.delTag(i.row)}}})]}}])})],1)],1)])},v=[],C={props:["dialogTagManagement"],methods:{editTag(t){t.edit=!0,this.$nextTick(()=>{this.$refs.tagsListIpt.$refs.input.focus()})},delTag(t){this.$confirm("Are you sure to delete it?？").then(()=>{this.dialogTagManagement.loading=!0,this.$apiCall("api.Product.deleteTag",{id:t.id},t=>{this.dialogTagManagement.loading=!1,9999==t.ErrorCode?this.$parent.getTagList():this.$elementMessage(t.Message,"error")})}).catch(()=>{})},cancelTagIpt(t){t.edit=!1},saveTagIpt(t){t.ipt?(this.dialogTagManagement.loading=!0,this.$apiCall("api.Product.changeTag",{id:t.id,name:t.ipt},t=>{this.dialogTagManagement.loading=!1,9999==t.ErrorCode?this.$parent.getTagList():this.$elementMessage(t.Message,"error")})):this.$elementMessage("Please enter the tag","error")},saveEntTag(){this.dialogTagManagement.tagIpt?(this.dialogTagManagement.addNewLoading=!0,this.$apiCall("api.Product.createTag",{name:this.dialogTagManagement.tagIpt},t=>{this.dialogTagManagement.addNewLoading=!1,9999==t.ErrorCode?(this.changeEntTag(!1),this.$parent.getTagList()):this.$elementMessage(t.Message,"error")})):this.$elementMessage("Please enter the New tag","error")},changeEntTag(t){this.dialogTagManagement.tagIpt="",this.dialogTagManagement.addMode=t,t&&this.$nextTick(()=>{this.$refs.tagIpt.$refs.input.focus()})}}},S=C,k=Object(g["a"])(S,b,v,!1,null,null,null),w=k.exports,I=function(){var t=this,e=t._self._c;return e("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:t.dialogEditProduct.loading,expression:"dialogEditProduct.loading"}],staticClass:"dialog-edit",style:{overflow:t.dialogEditProduct.loading?"hidden":"auto"},attrs:{title:"Edit Product",visible:t.dialogEditProduct.isShow},on:{"update:visible":function(e){return t.$set(t.dialogEditProduct,"isShow",e)},opened:function(e){t.$parent.loading=!1}}},[e("div",{staticClass:"tab-wrap"},[e("el-tabs",{staticStyle:{overflow:"hidden"},attrs:{type:"border-card"},on:{"tab-click":t.tabClick},model:{value:t.dialogEditProduct.activeTab,callback:function(e){t.$set(t.dialogEditProduct,"activeTab",e)},expression:"dialogEditProduct.activeTab"}},[e("el-tab-pane",{attrs:{label:"Product"}},[e("div",{staticClass:"tab-product"},[e("div",{staticClass:"left"},[e("div",{staticClass:"img-wrap"},[e("el-image",{staticStyle:{width:"120px",height:"120px"},attrs:{fit:"cover",src:t.dialogEditProduct.mainImg}})],1),e("div",{staticClass:"tx-center"},[e("a",{attrs:{href:"javascript:;"},on:{click:function(e){return t.openDialogSelectImg()}}},[t._v("Change image")])])]),e("div",{staticClass:"right"},[e("el-form",{ref:"productForm",staticStyle:{"margin-top":"0"},attrs:{"label-width":"120px"},nativeOn:{submit:function(t){t.preventDefault()}}},[e("el-form-item",{attrs:{label:"name",required:""}},[e("el-input",{attrs:{type:"textarea"},model:{value:t.dialogEditProduct.name,callback:function(e){t.$set(t.dialogEditProduct,"name",e)},expression:"dialogEditProduct.name"}})],1),e("el-form-item",{staticStyle:{"margin-bottom":"10px"},attrs:{label:"Shopify vendor"}},[e("el-input",{model:{value:t.dialogEditProduct.shopifyVendor,callback:function(e){t.$set(t.dialogEditProduct,"shopifyVendor",e)},expression:"dialogEditProduct.shopifyVendor"}})],1),e("div",{staticClass:"edit-tags"},[e("div",{staticClass:"label-title"},[t._v("Shopify tags")]),e("div",{staticClass:"tag-wrap"},[t._l(t.dialogEditProduct.shopifyTag,(function(i){return e("el-tag",{key:i,attrs:{closable:""},on:{close:function(e){return t.handleClose(i,"tag")}}},[t._v(" "+t._s(i)+" ")])})),t.shopifyTagInputVisible?e("el-input",{ref:"saveTagInput",staticClass:"input-new-tag",attrs:{size:"small"},on:{blur:function(e){return t.handleInputConfirm("tag")}},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleInputConfirm("tag")}},model:{value:t.shopifyTagInputValue,callback:function(e){t.shopifyTagInputValue=e},expression:"shopifyTagInputValue"}}):e("el-button",{staticClass:"button-new-tag",attrs:{size:"small"},on:{click:function(e){return t.showInput("tag")}}},[t._v(" + New Tag ")])],2)]),e("div",{staticClass:"edit-tags"},[e("div",{staticClass:"label-title"},[t._v("Shopify type")]),e("div",{staticClass:"tag-wrap"},[t._l(t.dialogEditProduct.shopifyType,(function(i){return e("el-tag",{key:i,attrs:{closable:""},on:{close:function(e){return t.handleClose(i,"type")}}},[t._v(" "+t._s(i)+" ")])})),t.shopifyTypeInputVisible?e("el-input",{ref:"saveTypeInput",staticClass:"input-new-tag",attrs:{size:"small"},on:{blur:function(e){return t.handleInputConfirm("type")}},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleInputConfirm("type")}},model:{value:t.shopifyTypeInputValue,callback:function(e){t.shopifyTypeInputValue=e},expression:"shopifyTypeInputValue"}}):e("el-button",{staticClass:"button-new-tag",attrs:{size:"small"},on:{click:function(e){return t.showInput("type")}}},[t._v(" + New Type ")])],2)])],1)],1)])]),e("el-tab-pane",{attrs:{label:"Description"}},[e("quill-editor",{ref:"text",staticClass:"myQuillEditor",attrs:{options:t.editorOption},model:{value:t.dialogEditProduct.description,callback:function(e){t.$set(t.dialogEditProduct,"description",e)},expression:"dialogEditProduct.description"}})],1),e("el-tab-pane",[e("span",{attrs:{slot:"label"},slot:"label"},[t._v("Variants("+t._s(t.dialogEditProduct.stocks2.length)+")")]),t.dialogEditProduct.stocks.length?t._e():e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.tab2Loading,expression:"tab2Loading"}],staticStyle:{"text-align":"center"}},[t._v(" Loading... ")]),e("el-form",{directives:[{name:"show",rawName:"v-show",value:t.dialogEditProduct.stocks.length,expression:"dialogEditProduct.stocks.length"}],ref:"tableForm",staticStyle:{"margin-top":"0"},nativeOn:{submit:function(t){t.preventDefault()}}},[e("el-table",{ref:"stocksTable",staticStyle:{width:"100%"},attrs:{data:t.dialogEditProduct.stocks,stripe:"",height:"400"}},[e("el-table-column",{attrs:{fixed:"",type:"selection",width:"55"}}),e("el-table-column",{attrs:{fixed:"",label:"Product",width:"120"},scopedSlots:t._u([{key:"default",fn:function(i){return[e("div",{staticClass:"table-img-wrap"},[e("el-image",{staticStyle:{width:"100px",height:"100px"},attrs:{src:i.row.propertyImage,fit:"cover"}}),e("a",{staticClass:"modi-img",attrs:{href:"javascript:;"},on:{click:function(e){return t.openDialogSelectImg(i.row)}}},[e("i",{staticClass:"el-icon-edit-outline"})])],1)]}}])}),t._l(t.dialogEditProduct.propertyName,(function(i,a){return e("el-table-column",{key:i,attrs:{label:i,width:"180"},scopedSlots:t._u([{key:"default",fn:function(i){return[e("el-input",{model:{value:i.row.propertyValue[a],callback:function(e){t.$set(i.row.propertyValue,a,e)},expression:"scope.row.propertyValue[pIndex]"}})]}}],null,!0)})})),e("el-table-column",{attrs:{label:"price",width:"190"},scopedSlots:t._u([{key:"header",fn:function(i){return[e("div",[e("span",[t._v("Price ("+t._s(t.currency)+")")]),e("br"),e("el-select",{directives:[{name:"show",rawName:"v-show",value:!t.dialogEditProduct.AllActionPriceType,expression:"!dialogEditProduct.AllActionPriceType"}],staticStyle:{width:"130px"},attrs:{size:"mini",placeholder:"Action"},on:{change:function(e){return t.changeAllPriceType("price")}},model:{value:t.dialogEditProduct.AllActionPriceType,callback:function(e){t.$set(t.dialogEditProduct,"AllActionPriceType",e)},expression:"dialogEditProduct.AllActionPriceType"}},[e("el-option",{attrs:{label:"Action",value:""}}),e("el-option",{attrs:{label:"Change All",value:1}}),e("el-option",{attrs:{label:"Multiply Price",value:2}}),e("el-option",{attrs:{label:"Add Price",value:3}})],1),e("div",{directives:[{name:"show",rawName:"v-show",value:t.dialogEditProduct.AllActionPriceType,expression:"dialogEditProduct.AllActionPriceType"}]},[e("div",{staticClass:"d-flex"},[3==t.dialogEditProduct.AllActionPriceType?e("span",{staticStyle:{"margin-right":"2px"}},[t._v("+")]):t._e(),e("el-input-number",{ref:"priceIpt",staticStyle:{"margin-right":"2px"},style:{width:(2==t.dialogEditProduct.AllActionPriceType?80:100)+"px"},attrs:{size:"mini",min:3==t.dialogEditProduct.AllActionPriceType?-99999:0,precision:2==t.dialogEditProduct.AllActionPriceType?0:2,controls:!1},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.allHandleChange("price")}},model:{value:t.dialogEditProduct.allChangePriceNum,callback:function(e){t.$set(t.dialogEditProduct,"allChangePriceNum",e)},expression:"dialogEditProduct.allChangePriceNum"}}),2==t.dialogEditProduct.AllActionPriceType?e("span",{staticStyle:{"margin-right":"3px"}},[t._v("%")]):t._e(),e("el-button-group",[e("el-button",{staticStyle:{padding:"6px"},attrs:{type:"primary",icon:"el-icon-check",size:"mini"},on:{click:function(e){return t.allHandleChange("price")}}}),e("el-button",{staticStyle:{padding:"6px"},attrs:{type:"danger",icon:"el-icon-close",size:"mini"},on:{click:function(e){return t.cancelAllChangeIpt("price")}}})],1)],1)])],1)]}},{key:"default",fn:function(i){return[e("el-input-number",{attrs:{min:0,step:1,size:"mini",precision:2,controls:!1},model:{value:i.row.price,callback:function(e){t.$set(i.row,"price",e)},expression:"scope.row.price"}}),t._v(" "+t._s(t.currency)+" ")]}}])}),e("el-table-column",{attrs:{label:"Compare Price",width:"190"},scopedSlots:t._u([{key:"header",fn:function(i){return[e("div",[e("span",[t._v("Compare Price ("+t._s(t.currency)+")")]),e("br"),e("el-select",{directives:[{name:"show",rawName:"v-show",value:!t.dialogEditProduct.AllActionCPriceType,expression:"!dialogEditProduct.AllActionCPriceType"}],staticStyle:{width:"130px"},attrs:{size:"mini",placeholder:"Action"},on:{change:function(e){return t.changeAllPriceType("Cprice")}},model:{value:t.dialogEditProduct.AllActionCPriceType,callback:function(e){t.$set(t.dialogEditProduct,"AllActionCPriceType",e)},expression:"dialogEditProduct.AllActionCPriceType"}},[e("el-option",{attrs:{label:"Action",value:""}}),e("el-option",{attrs:{label:"Change All",value:1}}),e("el-option",{attrs:{label:"Multiply Price",value:2}}),e("el-option",{attrs:{label:"Add Price",value:3}})],1),e("div",{directives:[{name:"show",rawName:"v-show",value:t.dialogEditProduct.AllActionCPriceType,expression:"dialogEditProduct.AllActionCPriceType"}]},[e("div",{staticClass:"d-flex"},[3==t.dialogEditProduct.AllActionCPriceType?e("span",{staticStyle:{"margin-right":"2px"}},[t._v("+")]):t._e(),e("el-input-number",{ref:"CpriceIpt",staticStyle:{"margin-right":"2px"},style:{width:(2==t.dialogEditProduct.AllActionCPriceType?80:100)+"px"},attrs:{size:"mini",min:3==t.dialogEditProduct.AllActionCPriceType?-99999:0,precision:2==t.dialogEditProduct.AllActionCPriceType?0:2,controls:!1},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.allHandleChange("Cprice")}},model:{value:t.dialogEditProduct.allChangeCPriceNum,callback:function(e){t.$set(t.dialogEditProduct,"allChangeCPriceNum",e)},expression:"dialogEditProduct.allChangeCPriceNum"}}),2==t.dialogEditProduct.AllActionCPriceType?e("span",{staticStyle:{"margin-right":"3px"}},[t._v("%")]):t._e(),e("el-button-group",[e("el-button",{staticStyle:{padding:"6px"},attrs:{type:"primary",icon:"el-icon-check",size:"mini"},on:{click:function(e){return t.allHandleChange("Cprice")}}}),e("el-button",{staticStyle:{padding:"6px"},attrs:{type:"danger",icon:"el-icon-close",size:"mini"},on:{click:function(e){return t.cancelAllChangeIpt("Cprice")}}})],1)],1)])],1)]}},{key:"default",fn:function(i){return[e("el-input-number",{attrs:{min:0,step:1,size:"mini",precision:2,controls:!1},model:{value:i.row.comparePrice,callback:function(e){t.$set(i.row,"comparePrice",e)},expression:"scope.row.comparePrice"}}),t._v(" "+t._s(t.currency)+" ")]}}])}),e("el-table-column",{attrs:{label:"Cost Price",prop:"costPrice",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.costPrice)+" ("+t._s(e.row.currency)+") ")]}}])}),e("el-table-column",{attrs:{label:"Action",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(i){return t.dialogEditProduct.stocks.length>1?[e("a",{staticClass:"tx-danger",attrs:{href:"javascript:;"},on:{click:function(e){return t.delEditStock(i.$index)}}},[e("i",{staticClass:"el-icon-delete"})])]:void 0}}],null,!0)})],2)],1)],1),e("el-tab-pane",{attrs:{label:"Images"}},[e("div",{staticClass:"img-list-wrap"},[e("div",{staticClass:"main"},[e("el-image",{staticStyle:{width:"220px",height:"220px"},attrs:{src:t.dialogEditProduct.mainImg,fit:"cover"}})],1),e("div",{staticClass:"img-list"},[e("draggable",{attrs:{list:t.dialogEditProduct.imgsJson}},t._l(t.dialogEditProduct.imgsJson,(function(t){return e("div",{key:t,staticClass:"img-b"},[e("el-image",{staticStyle:{width:"150px",height:"150px"},attrs:{src:t,fit:"cover"}})],1)})),0)],1)])])],1)],1),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.dialogEditProduct.isShow=!1}}},[t._v("Cancel")]),e("el-button",{attrs:{type:"primary",loading:t.dialogEditProduct.loading},on:{click:t.saveEditProduct}},[t._v(" Save ")])],1)])},T=[],x=(i("121a"),i("7e41"),i("96be"),i("b881")),E=i("3335"),_=i.n(E),$={props:["dialogEditProduct","currency","tab2Loading"],data(){return{shopifyTagInputVisible:!1,shopifyTagInputValue:"",shopifyTypeInputVisible:!1,shopifyTypeInputValue:"",editorOption:{modules:{toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"]]}}}},components:{quillEditor:x["quillEditor"],draggable:_.a},mounted(){},methods:{saveEditProduct(){this.$emit("saveEditProduct")},dialogAllChecked(t){this.$nextTick(()=>{this.dialogEditProduct.stocks.forEach(e=>{this.$refs.stocksTable.toggleRowSelection(e,t)})})},cancelAllChangeIpt(t){switch(t){case"price":this.dialogEditProduct.allChangePriceNum="",this.dialogEditProduct.AllActionPriceType="";break;case"Cprice":this.dialogEditProduct.allChangeCPriceNum="",this.dialogEditProduct.AllActionCPriceType="";break;case"stock":this.dialogEditProduct.allChangeStockNum="",this.dialogEditProduct.AllActionStockType="";break}this.dialogAllChecked(!1)},allHandleChange(t){switch(t){case"price":this.$refs.stocksTable.selection.forEach(t=>{1==this.dialogEditProduct.AllActionPriceType&&this.$set(t,"price",this.dialogEditProduct.allChangePriceNum),2==this.dialogEditProduct.AllActionPriceType&&this.$set(t,"price",Number((this.dialogEditProduct.allChangePriceNum/100*t.price).toFixed(2))),3==this.dialogEditProduct.AllActionPriceType&&this.$set(t,"price",Number((this.dialogEditProduct.allChangePriceNum+t.price).toFixed(2))),t.comparePrice<t.price&&(t.comparePrice=t.price)}),this.dialogEditProduct.allChangePriceNum="",this.dialogEditProduct.AllActionPriceType="";break;case"Cprice":this.$refs.stocksTable.selection.forEach(t=>{1==this.dialogEditProduct.AllActionCPriceType&&this.$set(t,"comparePrice",this.dialogEditProduct.allChangeCPriceNum),2==this.dialogEditProduct.AllActionCPriceType&&this.$set(t,"comparePrice",Number((this.dialogEditProduct.allChangeCPriceNum/100*t.comparePrice).toFixed(2))),3==this.dialogEditProduct.AllActionCPriceType&&this.$set(t,"comparePrice",Number((this.dialogEditProduct.allChangeCPriceNum+t.comparePrice).toFixed(2))),t.comparePrice<t.price&&(t.comparePrice=t.price)}),this.dialogEditProduct.allChangeCPriceNum="",this.dialogEditProduct.AllActionCPriceType="";break;case"stock":this.$refs.stocksTable.selection.forEach(t=>{1==this.dialogEditProduct.AllActionStockType&&this.$set(t,"shopifyStock",this.dialogEditProduct.allChangeStockNum),3==this.dialogEditProduct.AllActionStockType&&this.$set(t,"shopifyStock",Number(this.dialogEditProduct.allChangeStockNum+t.shopifyStock))}),this.dialogEditProduct.allChangeStockNum="",this.dialogEditProduct.AllActionStockType="";break}this.dialogAllChecked(!1)},showInput(t){switch(t){case"tag":this.shopifyTagInputVisible=!0,this.$nextTick(()=>{this.$refs.saveTagInput.$refs.input.focus()});break;case"type":this.shopifyTypeInputVisible=!0,this.$nextTick(()=>{this.$refs.saveTypeInput.$refs.input.focus()});break}},handleInputConfirm(t){let e="";switch(t){case"tag":e=this.shopifyTagInputValue,e&&this.dialogEditProduct.shopifyTag.push(e),this.shopifyTagInputVisible=!1,this.shopifyTagInputValue="";break;case"type":e=this.shopifyTypeInputValue,e&&this.dialogEditProduct.shopifyType.push(e),this.shopifyTypeInputVisible=!1,this.shopifyTypeInputValue="";break}},handleClose(t,e){switch(e){case"tag":this.dialogEditProduct.shopifyTag.splice(this.dialogEditProduct.shopifyTag.indexOf(t),1);break;case"type":this.dialogEditProduct.shopifyType.splice(this.dialogEditProduct.shopifyType.indexOf(t),1);break}},openDialogSelectImg(t){this.$emit("openDialogSelectImg",t)},tabClick(t){setTimeout(()=>{2==t.index?this.dialogEditProduct.stocks=this.dialogEditProduct.stocks2:this.dialogEditProduct.stocks=[]},0)}}},A=$,N=(i("c11f"),Object(g["a"])(A,I,T,!1,null,null,null)),M=N.exports,L=function(){var t=this,e=t._self._c;return e("el-dialog",{staticClass:"select-img",attrs:{visible:t.dialogSelectImg.isShow,width:"600px",title:"Select an image"},on:{"update:visible":function(e){return t.$set(t.dialogSelectImg,"isShow",e)}}},[e("div",{staticClass:"img-list"},t._l(t.dialogSelectImg.imgList,(function(i){return e("div",{key:i,staticClass:"img-wrap",class:{active:i==t.dialogSelectImg.selectImg},on:{click:function(e){return t.selectImg(i)}}},[e("i",{staticClass:"el-icon-circle-check"}),e("el-image",{staticStyle:{width:"115px",height:"115px"},attrs:{src:i,fit:"cover"}})],1)})),0),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.dialogSelectImg.isShow=!1}}},[t._v("Cancel")]),e("el-button",{attrs:{type:"primary"},on:{click:t.confirmSelectImg}},[t._v("OK")])],1)])},D=[],z={props:["dialogSelectImg","dialogEditProduct"],methods:{selectImg(t){this.dialogSelectImg.selectImg=t},confirmSelectImg(){this.dialogSelectImg.item?this.$set(this.dialogSelectImg.item,"propertyImage",this.dialogSelectImg.selectImg):this.$set(this.dialogEditProduct,"mainImg",this.dialogSelectImg.selectImg),this.dialogSelectImg.isShow=!1}}},O=z,V=(i("7857"),Object(g["a"])(O,L,D,!1,null,null,null)),F=V.exports,R=function(){var t=this,e=t._self._c;return e("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:t.dialogPushSetting.loading,expression:"dialogPushSetting.loading"}],style:{overflow:t.dialogPushSetting.loading?"hidden":"auto"},attrs:{title:"Push setting","close-on-click-modal":!1,visible:t.dialogPushSetting.isShow},on:{"update:visible":function(e){return t.$set(t.dialogPushSetting,"isShow",e)}}},[e("div",{staticClass:"setting-range"},[e("div",{staticClass:"setting-opt"},[e("el-button",{attrs:{size:"mini"},on:{click:t.addRangeItem}},[t._v("+ Add Cost Range")])],1),t.dialogPushSetting.ranger.length?e("el-form",{ref:"settingRangeForm",staticStyle:{"margin-top":"0"},nativeOn:{submit:function(t){t.preventDefault()}}},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.dialogPushSetting.ranger,stripe:"",height:"300"}},[e("el-table-column",{attrs:{label:"Product Cost",width:"250",fixed:""},scopedSlots:t._u([{key:"default",fn:function(i){return[i.row.default?e("el-tag",{attrs:{type:"info"}},[t._v("Rest of the price ranges")]):[e("el-input-number",{staticClass:"mg-r-5",staticStyle:{width:"100px"},attrs:{min:0,size:"mini",precision:2,controls:!1},model:{value:i.row.from,callback:function(e){t.$set(i.row,"from",e)},expression:"scope.row.from"}}),e("i",{staticClass:"el-icon-right mg-r-5"}),e("el-input-number",{staticStyle:{width:"100px"},attrs:{min:0,size:"mini",precision:2,controls:!1},model:{value:i.row.to,callback:function(e){t.$set(i.row,"to",e)},expression:"scope.row.to"}})]]}}],null,!1,1542616766)}),e("el-table-column",{attrs:{label:"Shipping Cost",width:"150"},scopedSlots:t._u([{key:"default",fn:function(i){return[e("el-input-number",{staticStyle:{width:"100px"},attrs:{min:0,size:"mini",precision:2,controls:!1},model:{value:i.row.shippingCost,callback:function(e){t.$set(i.row,"shippingCost",e)},expression:"scope.row.shippingCost"}})]}}],null,!1,4280613481)}),e("el-table-column",{attrs:{label:"Price",width:"250"},scopedSlots:t._u([{key:"header",fn:function(i){return[e("span",{staticClass:"mg-r-20"},[t._v("Price")])]}},{key:"default",fn:function(i){return[e("el-input-number",{staticStyle:{"margin-right":"5px",width:"100px"},attrs:{min:0,size:"mini",controls:!1},model:{value:i.row.price,callback:function(e){t.$set(i.row,"price",e)},expression:"scope.row.price"}}),t.dialogPushSetting.fixedPrice?t._e():e("el-select",{staticStyle:{width:"100px"},attrs:{size:"mini"},model:{value:i.row.priceType,callback:function(e){t.$set(i.row,"priceType",e)},expression:"scope.row.priceType"}},[e("el-option",{attrs:{label:"Plus",value:"1"}}),e("el-option",{attrs:{label:"Multiply",value:"2"}}),e("el-option",{attrs:{label:"固定价格",value:"3"}})],1)]}}],null,!1,2601339084)}),e("el-table-column",{attrs:{label:"Compare Price",width:"250"},scopedSlots:t._u([{key:"header",fn:function(i){return[e("el-checkbox",{staticStyle:{"margin-right":"20px"},model:{value:t.dialogPushSetting.isComparePrice,callback:function(e){t.$set(t.dialogPushSetting,"isComparePrice",e)},expression:"dialogPushSetting.isComparePrice"}},[t._v(" Compare Price ")])]}},{key:"default",fn:function(i){return t.dialogPushSetting.isComparePrice?[e("el-input-number",{staticStyle:{"margin-right":"5px",width:"100px"},attrs:{min:0,size:"mini",controls:!1},model:{value:i.row.comparePrice,callback:function(e){t.$set(i.row,"comparePrice",e)},expression:"scope.row.comparePrice"}}),t.dialogPushSetting.fixedComparePrice?t._e():e("el-select",{staticStyle:{width:"100px"},attrs:{size:"mini"},model:{value:i.row.comparePriceType,callback:function(e){t.$set(i.row,"comparePriceType",e)},expression:"scope.row.comparePriceType"}},[e("el-option",{attrs:{label:"Plus",value:"1"}}),e("el-option",{attrs:{label:"Multiply",value:"2"}}),e("el-option",{attrs:{label:"固定价格",value:"3"}})],1)]:void 0}}],null,!0)}),e("el-table-column",{attrs:{label:"Action",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(i){return i.row.default?void 0:[e("a",{staticClass:"tx-danger",attrs:{href:"javascript:;"},on:{click:function(e){return t.delRange(i.$index)}}},[e("i",{staticClass:"el-icon-delete"})])]}}],null,!0)})],1)],1):t._e(),e("div",[e("div",{staticStyle:{"margin-bottom":"5px","padding-left":"15px"}},[t._v(" You can set a specific cent value for your price or comparison price. ")]),e("div",{staticClass:"d-flex",staticStyle:{"margin-bottom":"5px",padding:"0 15px"}},[e("div",{staticStyle:{"margin-right":"30px"}},[e("el-checkbox",{staticStyle:{"margin-right":"10px"},attrs:{size:"mini"},model:{value:t.dialogPushSetting.isPriceCent,callback:function(e){t.$set(t.dialogPushSetting,"isPriceCent",e)},expression:"dialogPushSetting.isPriceCent"}},[t._v(" Assign Cent ")]),e("el-input-number",{staticStyle:{width:"80px"},attrs:{controls:!1,size:"mini"},model:{value:t.dialogPushSetting.priceCent,callback:function(e){t.$set(t.dialogPushSetting,"priceCent",e)},expression:"dialogPushSetting.priceCent"}})],1),e("div",{staticStyle:{"margin-right":"30px"}},[e("el-checkbox",{staticStyle:{"margin-right":"10px"},model:{value:t.dialogPushSetting.isComparePriceCent,callback:function(e){t.$set(t.dialogPushSetting,"isComparePriceCent",e)},expression:"dialogPushSetting.isComparePriceCent"}},[t._v(" Assign compare at Cent ")]),e("el-input-number",{staticStyle:{width:"80px"},attrs:{controls:!1,size:"mini"},model:{value:t.dialogPushSetting.comparePriceCent,callback:function(e){t.$set(t.dialogPushSetting,"comparePriceCent",e)},expression:"dialogPushSetting.comparePriceCent"}})],1)]),e("div",{staticClass:"d-flex",staticStyle:{padding:"0 15px"}},[e("div",[e("el-switch",{staticStyle:{"margin-right":"10px"},attrs:{"active-text":"Convert Currency"},model:{value:t.dialogPushSetting.convertCurrency,callback:function(e){t.$set(t.dialogPushSetting,"convertCurrency",e)},expression:"dialogPushSetting.convertCurrency"}}),t._v(" According to store currency ")],1)])])],1),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-link",{directives:[{name:"loading",rawName:"v-loading",value:t.dialogPushSetting.psLoading,expression:"dialogPushSetting.psLoading"}],staticStyle:{"margin-right":"10px"},attrs:{disabled:t.dialogPushSetting.psLoading,type:"primary"},on:{click:t.applyPriceSetting}},[t._v("Apply for products in Import List")]),e("el-button",{on:{click:function(e){t.dialogPushSetting.isShow=!1}}},[t._v("Cancel")]),e("el-button",{attrs:{type:"primary",loading:t.dialogPushSetting.loading},on:{click:function(e){return t.savePushSetting()}}},[t._v(" Save ")])],1)])},J=[],j=(i("fef2"),{props:["dialogPushSetting"],methods:{delRange(t){this.dialogPushSetting.ranger.splice(t,1)},addRangeItem(){this.dialogPushSetting.ranger.unshift({from:0,to:.01,shippingCost:0,price:1,priceType:"1",comparePrice:1,comparePriceType:"2"})},savePushSetting(t){this.$emit("savePushSetting",t)},applyPriceSetting(){this.savePushSetting(!0)}}}),B=j,U=(i("5934"),Object(g["a"])(B,R,J,!1,null,null,null)),W=U.exports,q=i("bf38"),H={props:["fromPage"],data(){return{loading:!1,pageKey:(new Date).valueOf(),pageTime:0,tabsArr:[{name:"Waiting",routerName:"WaitingImport",id:"1"},{name:"Processing",routerName:"inImport",id:"2"},{name:"Completed",routerName:"imported",id:"3"},{name:"Failed",routerName:"importFailure",id:"4"}],activeName:1,loadingImport:!1,importUrl:"",pageSizes:[10,20,50],page:this.$route.query.page?Number(this.$route.query.page):1,rowsPerPage:localStorage.getItem("c_importPerPage2")?Number(localStorage.getItem("c_importPerPage2")):10,total:0,totalPage:0,items:[],pushLoading:!1,delLoading:!1,exportLoading:!1,tags:[],stores:[],filtersParams:{nameIpt:"",accountIdIpt:"",name:"",accountId:[]},filtersParamsDefault:"{}",shopOptArr:[],filterAccountProps:{lazy:!0,lazyLoad:(t,e)=>{t.level<2?e(t):this.$apiCall("api.Product.getCollections",{id:t.value},t=>{if(9999==t.ErrorCode){let i=[];Object.keys(t.Data.Results).length?Object.keys(t.Data.Results).forEach(a=>{i.push({value:a,label:t.Data.Results[a],leaf:!0}),e(i)}):e([])}else this.$elementMessage(t.Message,"error")})}},dialogPush:{isShow:!1,loading:!1,shopList:[],items:[],isAction:!0,published:!1},dialogPushDefault:"{}",dialogTagManagement:{isShow:!1,loading:!1,tags:[],addMode:!1,addNewLoading:!1,tagIpt:""},dialogTagManagementDefault:"{}",dialogEditProduct:{isShow:!1,loading:!1,id:"",name:"",mainImg:"",imgsJson:[],propertyName:[],shopifyTag:[],shopifyType:[],readyStoresLoading:!1,storesItems:[],collectionStoreId:"",getCollectionsLoading:!1,collectionItems:[],collectionId:"",shopifyVendor:"",description:"",stocks:[],stocks2:[],AllActionPriceType:"",allChangePriceNum:"",AllActionCPriceType:"",allChangeCPriceNum:"",AllActionStockType:"",allChangeStockNum:"",activeTab:"0"},dialogEditProductDefault:"{}",dialogSelectImg:{isShow:!1,imgList:[],selectImg:"",items:null},dialogSelectImgDefault:"{}",currency:"",dialogPushSetting:{isShow:!1,loading:!1,ranger:[],isComparePrice:!1,isPriceCent:!1,isComparePriceCent:!1,priceCent:0,comparePriceCent:0,convertCurrency:!1,psLoading:!1},dialogPushSettingDefault:"{}",tab2Loading:!0,allCnt:0,doneCnt:0,tab:{name:"Waiting",routerName:"WaitingImport",id:"1"}}},computed:{AllChecked(){let t=!0;return this.items.length?this.items.forEach(e=>{e.checked||1==this.activeName&&"1"!=e.status||(t=!1)}):t=!1,t},SelectedPushStoresNum(){let t=0;return this.dialogPush.shopList.forEach(e=>{e.data.forEach(e=>{(e.checked&&1==e.platform||e.checked&&1!=e.platform)&&t++})}),t}},components:{DialogPush:y,DialogManagement:w,DialogEditProduct:M,DialogSelectImg:F,DialogPushSetting:W,subPage:q["default"]},watch:{$route:"gotoPage",activeName(){this.resetPage()}},created(){let t="";this.tabsArr.forEach(e=>{e.routerName==this.$route.name&&(t=e.id)}),this.activeName=t||"1"},mounted(){this.dialogPushDefault=JSON.stringify(this.dialogPush),this.dialogTagManagementDefault=JSON.stringify(this.dialogTagManagement),this.dialogEditProductDefault=JSON.stringify(this.dialogEditProduct),this.dialogSelectImgDefault=JSON.stringify(this.dialogSelectImg),this.dialogPushSettingDefault=JSON.stringify(this.dialogPushSetting),this.filtersParamsDefault=JSON.stringify(this.filtersParams),this.getItems(),this.getTagList("page"),this.getPageStores(),"2"==this.activeName&&this.getImportTask()},beforeDestroy(){clearInterval(this.pageTime),this.timer=0},methods:{gotoImportList(t){this.$confirm("Are you sure you want to push?","Tips",{confirmButtonText:"Confirm",cancelButtonText:"Cancel"}).then(()=>{this.loading=!0,this.$apiCall("api.Product.reAddToImport",{ids:t},t=>{"9999"==t.ErrorCode?(this.getItems(!0),this.$elementMessage("success","success")):this.$elementMessage(t.Message,"error")})})},delItem2(t){this.$confirm("Do you want to delete tish task?","Tips",{confirmButtonText:"Confirm",cancelButtonText:"Cancel",confirmButtonClass:"el-button--danger",type:"warning"}).then(()=>{this.$apiCall("api.Product.delImportTaskDetail",{ids:t},t=>{"9999"==t.ErrorCode?(this.getItems(!0),this.$elementMessage("Delete Completed","success")):this.$elementMessage(t.Message,"error")})}).catch(()=>{})},clearFilter(){this.filtersParams=JSON.parse(this.filtersParamsDefault),this.toPage(1)},setFilter(){this.filtersParams.name=this.filtersParams.nameIpt,this.filtersParams.accountId=this.filtersParams.accountIdIpt,this.toPage(1)},getImportTask(){this.$apiCall("api.Product.findsImportTask",{},t=>{9999==t.ErrorCode&&(this.doneCnt=this.allCnt=0,t.Data.Results&&t.Data.Results.length&&t.Data.Results.forEach(t=>{this.doneCnt+=Number(t.doneCnt),this.allCnt+=Number(t.allCnt)}))})},savePushSetting(t){this.dialogPushSetting.loading=!0;let e={};e=this.dialogPushSetting.ranger[this.dialogPushSetting.ranger.length-1],delete e.default;let i=[];this.dialogPushSetting.ranger.forEach((t,e)=>{e<this.dialogPushSetting.ranger.length-1&&i.push(t)});let a={importPriceSetting:{range:i,default:e,isComparePrice:this.dialogPushSetting.isComparePrice?1:2,isPriceCent:this.dialogPushSetting.isPriceCent?1:2,isComparePriceCent:this.dialogPushSetting.isComparePriceCent?1:2,priceCent:this.dialogPushSetting.priceCent,comparePriceCent:this.dialogPushSetting.comparePriceCent,convertCurrency:this.dialogPushSetting.convertCurrency?1:2}};this.$Burying({object:"8007"}),this.$apiCall("api.Product.setImportPrice",a,e=>{this.dialogPushSetting.loading=!1,9999==e.ErrorCode?(t?(this.$elementMessage("The update  has started, it will take a while to finish.","success"),this.$apiCall("api.Product.applyPriceSetting",{},t=>{9999!=t.ErrorCode&&this.$elementMessage(t.Message,"error")})):this.dialogPushSetting.isShow=!1,this.$elementMessage("save successfully","success")):this.$elementMessage(e.Message,"error")})},openPushSetting(){this.dialogPushSetting=JSON.parse(this.dialogPushSettingDefault),this.tab2Loading=!1,this.dialogPushSetting.isShow=!0,this.dialogPushSetting.loading=!0,this.$apiCall("api.Product.getImportPrice",{},t=>{if(this.dialogPushSetting.loading=!1,9999==t.ErrorCode){let e=t.Data.Results,i={comparePrice:0,comparePriceType:"2",price:0,priceType:"1",shippingCost:0,default:1};if(!e)return void this.dialogPushSetting.ranger.push(i);e.default&&(i=e.default),i.default=1,this.dialogPushSetting.ranger=e.range.map(t=>t),this.dialogPushSetting.ranger.push(i),this.dialogPushSetting.isComparePrice=1==e.isComparePrice,this.dialogPushSetting.isPriceCent=1==e.isPriceCent,this.dialogPushSetting.isComparePriceCent=1==e.isComparePriceCent,this.dialogPushSetting.priceCent=e.priceCent,this.dialogPushSetting.comparePriceCent=e.comparePriceCent,this.dialogPushSetting.convertCurrency=1==e.convertCurrency}else this.$elementMessage(t.Message,"error"),this.dialogPushSetting.isShow=!1})},getPageStores(){this.$apiCall("api.Invoice.findStores",{authStatus:1},t=>{if(9999==t.ErrorCode){this.currency=t.Data.Results[0].currency?t.Data.Results[0].currency:"USD",this.stores=[],this.shopOptArr=[];let e={1:"Shopify",2:"Woocommerce",3:"Lazada",4:"Shopee",5:"Wayfair"},i=(t,e)=>{const i=new Map;return t.filter(t=>!i.has(t[e])&&i.set(t[e],1))};t.Data.Results.forEach(t=>{t.fChecked=!1,this.stores.push(t),this.shopOptArr.push({value:t.platform,label:e[t.platform],children:[]})}),this.shopOptArr=i(this.shopOptArr,"value"),t.Data.Results.forEach(t=>{this.shopOptArr.forEach(e=>{t.platform==e.value&&e.children.push({value:t.id,label:t.shopName,children:[],leaf:!0})})})}})},saveEditProduct(){this.dialogEditProduct.loading=!0;let t={id:this.dialogEditProduct.id,name:this.dialogEditProduct.name,mainImg:this.dialogEditProduct.mainImg,imgsJson:this.dialogEditProduct.imgsJson,description:this.dialogEditProduct.description,shopifyVendor:this.dialogEditProduct.shopifyVendor,shopifyTag:this.dialogEditProduct.shopifyTag.join(","),shopifyType:this.dialogEditProduct.shopifyType.join(","),skuData:{}};this.dialogEditProduct.stocks.forEach(e=>{e.propertyValue=e.propertyValue.join("||"),t.skuData[e.id]=e}),this.$Burying({object:"8003"}),this.$apiCall("api.Product.changeImportProduct",t,t=>{this.dialogEditProduct.loading=!1,9999==t.ErrorCode?(this.dialogEditProduct.isShow=!1,this.getItems(!0)):this.$elementMessage(t.Message,"error")})},openDialogSelectImg(t){this.dialogSelectImg=JSON.parse(this.dialogSelectImgDefault),this.dialogSelectImg.imgList=this.dialogEditProduct.imgsJson,this.dialogSelectImg.item=t,this.dialogSelectImg.isShow=!0},editProduct(t){this.loading=!0,setTimeout(()=>{t=JSON.parse(JSON.stringify(t)),this.dialogEditProduct=JSON.parse(this.dialogEditProductDefault),this.dialogEditProduct.id=t.id,this.dialogEditProduct.name=t.name,this.dialogEditProduct.mainImg=t.mainImg,this.dialogEditProduct.propertyName=t.propertyName?t.propertyName.split("||"):[],this.dialogEditProduct.shopifyTag=t.shopifyTag?t.shopifyTag.split(","):[],this.dialogEditProduct.shopifyType=t.shopifyType?t.shopifyType.split(","):[],this.dialogEditProduct.shopifyVendor=t.shopifyVendor,this.dialogEditProduct.description=t.description,this.dialogEditProduct.stocks=[],this.dialogEditProduct.stocks2=[],t.stocks.forEach(t=>{t.propertyValue=t.propertyValue?t.propertyValue.split("||"):[],this.dialogEditProduct.stocks2.push(t)}),this.dialogEditProduct.mainImg=t.mainImg,console.log(t),this.dialogEditProduct.imgsJson=JSON.parse(JSON.stringify(t.imgsJson)),this.dialogEditProduct.isShow=!0,this.$nextTick(()=>{this.$refs.tableForm&&this.$refs.tableForm.bodyWrapper&&(this.$refs.tableForm.bodyWrapper.scrollTop=0,this.$refs.tableFrom.bodyWrapper.scrollLeft=0)})},0)},delItem(t=[]){t.length&&this.$confirm(`Do you want to delete the ${t.length} product(s)?`,"",{cancelButtonText:"Discard",confirmButtonText:"Delete",confirmButtonClass:"el-button--danger",type:"warning"}).then(()=>{this.delLoading=!0,this.$apiCall("api.Product.deleteImportProduct",{ids:t},e=>{this.pushLoading=!1,this.delLoading=!1,this.$Burying({object:"8002",objectId:t.join(",")}),9999==e.ErrorCode?(this.$elementMessage("Delete success","success"),this.changeAllItems(!1),this.getItems(!0)):this.$elementMessage(e.Message,"error")})}).catch(()=>{})},expItem(t=[]){t.length&&this.$confirm(`Do you want to Export the ${t.length} product(s)?`,"",{cancelButtonText:"Discard",confirmButtonText:"Export",type:"info"}).then(()=>{this.exportLoading=!0,this.$apiCall("api.Product.exportImportProduct",{productIds:t},t=>{this.pushLoading=!1,9999==t.ErrorCode?(this.exportLoading=!1,this.$elementMessage("Export success","success"),window.open(t.Data.Results.file,"_blank"),this.changeAllItems(!1),this.getItems(!0)):this.$elementMessage(t.Message,"error")})}).catch(()=>{})},batItems(t){let e=[];if(this.items.forEach(t=>{!t.checked||"1"!=t.status&&"4"!=this.activeName||(t.pushRe=[],e.push(t))}),!e.length)return void this.$elementMessage("Please select the products","error");let i=[];switch(e.forEach(t=>{i.push(t.id)}),t){case"push":this.pushItem(e);break;case"export":this.expItem(i);break;case"del":this.delItem(i);break;case"addTags":this.itemsAddTags(i);break;case"importList":this.gotoImportList(i);break}},getTagList(t){"dialog"!=t&&t||(this.dialogTagManagement.loading=!0),this.$apiCall("api.Product.getTag",{},e=>{"dialog"!=t&&t||(this.dialogTagManagement.loading=!1),9999==e.ErrorCode?("dialog"==t&&(this.dialogTagManagement.tags=[],e.Data.Results.forEach(t=>{t.edit=!1,t.ipt=t.name,this.dialogTagManagement.tags.push(t)}),this.$refs.dialogTagMgr.$refs.tagListTable.bodyWrapper.scrollTop=0),"page"!=t&&t||(this.tags=[],e.Data.Results.forEach(t=>{t.checked=!1,t.fChedked=!1,this.tags.push(t)}))):this.$elementMessage(e.Message,"error")})},openTagMgt(){this.dialogTagManagement=JSON.parse(this.dialogTagManagementDefault),this.dialogTagManagement.isShow=!0,this.getTagList()},pushSuccess(){this.activeName="2",this.handleClick(this.$refs.mainTab[1])},handleClick(t){clearInterval(this.pageTime),this.items=[],this.pageKey=(new Date).valueOf(),this.tabsArr[t.index].routerName!=this.$route.name?this.$router.push({name:this.tabsArr[t.index].routerName}):this.resetPage()},importPorduct(t){t?(this.loadingImport=!0,this.$Burying({object:"8006",objectUrl:t}),this.$apiCall("api.Product.importPorduct",{url:t},t=>{this.loadingImport=!1,9999==t.ErrorCode?(this.$elementMessage("Import success","success"),this.toPage(1)):this.$elementMessage(t.Message,"error")})):this.$elementMessage("URL required","error")},getItems(t,e){e||(this.loading=!0);let i={page:this.page,rowsPerPage:this.rowsPerPage,tagIds:[],accountIds:[]},a="api.Product.findsImportTaskDetail";"WaitingImport"!=this.$route.name&&"home"!=this.fromPage||(i.status="1",a="api.Product.findImportProduct"),"imported"!=this.$route.name&&"importFailure"!=this.$route.name||(i.nameLike=this.filtersParams.name,this.filtersParams.accountId.length&&(i.accountId=this.filtersParams.accountId[this.filtersParams.accountId.length-1])),i.status=this.activeName,this.$apiCall(a,i,e=>{this.loading=!1;let i=t=>{let e="---";if(t.stocks&&t.stocks.length){let[i,a]=[0,0];t.stocks.some(t=>{if(t.price)return i=a=Number(t.price),!0}),t.stocks.forEach(t=>{t.price&&i>Number(t.price)&&(i=Number(t.price)),t.price&&a<Number(t.price)&&(a=Number(t.price))}),e=i==a?i.toFixed(2):`${i} - ${a}`}return`${this.currency}  ${e}`};9999==e.ErrorCode&&(this.items=[],"WaitingImport"==this.$route.name||"home"==this.fromPage?e.Data.Results.forEach((t,e)=>{t.imgsJson&&(t.imgsJson=JSON.parse(t.imgsJson)),t.checked=!1,t.tagsVisible=!1,t.yourPrice=i(t),this.items.push(t)}):e.Data.Results.forEach(t=>{t.checked=!1,t.mainImg=t.product.mainImg,t.name=t.product.name,t.originUrl=t.product.originUrl,t.yourPrice=i(t),this.items.push(t)}),this.total=Number(e.Data.Pagination.totalCount),this.totalPage=Number(e.Data.Pagination.totalPage),t||(this.$root.$children[0].$refs.mainScroll.wrap.scrollTop=0))})},itemsAddTags(t){let e=[];this.tags.forEach(t=>{t.checked&&e.push(t.id)}),e.length?(this.loading=!0,this.$apiCall("api.Product.addTag",{ids:t,tags:e},t=>{9999==t.ErrorCode?(this.removeCheckedTags(),this.$elementMessage("Tags added successfully","success"),this.getItems()):this.$elementMessage(t.Message,"error")})):this.$elementMessage("Please select the tags","error")},removeCheckedTags(){this.tags.forEach(t=>{t.checked=!1})},getPageTags(){this.$apiCall("api.Product.getTag",{},t=>{this.tags=[],t.Data.Results.forEach(t=>{t.checked=!1,t.fChedked=!1,this.tags.push(t)})})},pushItem(t){this.dialogPush=JSON.parse(this.dialogPushDefault),this.dialogPush.isShow=!0,this.$set(this.dialogPush,"items",t),this.dialogPush.items.splice(0,0),this.dialogPush.loading=!0,this.$apiCall("api.Invoice.findStores",{authStatus:1},t=>{this.dialogPush.loading=!1,9999==t.ErrorCode?(this.dialogPush.shopList=[],t.Data.Results.forEach(t=>{t.loading=!1,t.checked=!1,t.selectCollection="",t.collections=[],t.disabled=!1,this.dialogPush.shopList.push(t)}),this.dialogPush.shopList=this.groupBy(this.dialogPush.shopList),this.dialogPush.isShow=!0):this.$elementMessage(t.Message,"error")})},singPush(t){t.pushRe=[],this.pushItem([t])},groupBy(t){for(var e={},i=[],a=0;a<t.length;a++){var s=t[a];if(e[s.platform])for(var o=0;o<i.length;o++){var l=i[o];if(l.platform==s.platform){l.data.push(s);break}}else i.push({platform:s.platform,data:[s]}),e[s.platform]=s}return i},changeAllItems(t){this.items.forEach(e=>{"1"==this.activeName&&"1"!=e.status||this.$set(e,"checked",t)})},toPage(t){t!=this.$route.query.page?this.$router.push({query:{page:t}}):this.getItems()},changePageSize(t){this.rowsPerPage=t,localStorage.setItem("c_importPerPage2",t),this.getItems()},gotoPage(){this.$nextTick(()=>{this.page=this.$route.query.page?this.$route.query.page:1,this.getItems()})},resetPage(){clearInterval(this.pageTime),this.timer=0,this.filtersParams=JSON.parse(this.filtersParamsDefault),"1"==this.activeName&&(this.getTagList("page"),this.getItems()),"4"==this.activeName&&this.getItems(),"2"!=this.activeName&&"3"!=this.activeName||(this.pageTime=setInterval(()=>{this.getItems(void 0,"noLoading"),"2"==this.activeName&&this.getImportTask()},3e3))}}},K=H,Y=(i("0dee"),Object(g["a"])(K,a,s,!1,null,null,null));e["default"]=Y.exports},"2cff":function(t,e,i){},"3a24":function(t,e,i){},"4de3":function(t,e,i){"use strict";i("3a24")},5934:function(t,e,i){"use strict";i("b635")},7857:function(t,e,i){"use strict";i("0e6a")},"7d29":function(t,e,i){},8343:function(t,e,i){},"83ac":function(t,e,i){"use strict";i("8343")},b635:function(t,e,i){},bf38:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t._self._c;return e("div",["1"==t.tab.id?[e("el-alert",{staticStyle:{"margin-bottom":"10px"},attrs:{title:"You can import and manage your AliExpress / Amazon products here before publishing them to your Shopify store. You can publish a product to different stores and add multiple tags to each products.",type:"info","show-icon":""}}),e("div",{staticClass:"import-ipt-box"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.importUrl,expression:"importUrl"}],attrs:{type:"text",placeholder:'Import Aliexpress / Amazon product URL here and click "Import Product"'},domProps:{value:t.importUrl},on:{input:function(e){e.target.composing||(t.importUrl=e.target.value)}}}),e("el-button",{attrs:{type:"primary",loading:t.loadingImport},on:{click:t.importPorduct}},[t._v("Import Product")])],1)]:t._e(),e("div",{ref:"pageFilter",staticClass:"page-filter"},["3"==t.tab.id||"4"==t.tab.id?e("div",{staticClass:"filter-row"},[e("el-form",{attrs:{inline:!0,size:"mini"}},[e("el-form-item",[e("el-input",{attrs:{placeholder:"Product Name"},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.setFilter.apply(null,arguments)}},model:{value:t.filtersParams.nameIpt,callback:function(e){t.$set(t.filtersParams,"nameIpt",e)},expression:"filtersParams.nameIpt"}},[e("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:t.setFilter},slot:"append"})],1)],1),e("el-form-item",[e("el-cascader",{attrs:{placeholder:"All Stores",options:t.shopOptArr,props:t.filterAccountProps,"show-all-levels":!1,clearable:!0},on:{change:t.setFilter},model:{value:t.filtersParams.accountIdIpt,callback:function(e){t.$set(t.filtersParams,"accountIdIpt",e)},expression:"filtersParams.accountIdIpt"}})],1),e("el-form-item",[e("el-button",{attrs:{type:"primary"},on:{click:t.setFilter}},[t._v("Filter")]),e("el-button",{attrs:{type:"danger"},on:{click:t.clearFilter}},[t._v("Clear")])],1)],1)],1):t._e(),"1"==t.tab.id||"4"==t.tab.id?e("div",{staticClass:"push-row"},[e("div",{staticClass:"left"},[e("el-checkbox",{staticStyle:{"margin-right":"15px"},attrs:{value:t.AllChecked},on:{change:function(e){return t.changeAllItems(e)}}},[t._v("All ")]),"1"==t.tab.id?[e("el-button",{attrs:{type:"primary",size:"mini",loading:t.pushLoading,id:"importPush"},on:{click:function(e){return t.batItems("push")}}},[e("span",{attrs:{id:"importPushInner"}},[t._v("Push")])]),e("el-button",{attrs:{type:"success",size:"mini",loading:t.exportLoading},on:{click:function(e){return t.batItems("export")}}},[t._v("Export")]),e("el-button",{staticStyle:{"margin-right":"10px"},attrs:{type:"danger",size:"mini",loading:t.delLoading},on:{click:function(e){return t.batItems("del")}}},[t._v("Delete")]),e("el-dropdown",{ref:"tagMgt",staticStyle:{top:"-1px"},attrs:{trigger:"click"}},[e("el-button",{attrs:{size:"mini"}},[t._v(" Add Tags "),e("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[e("div",{staticClass:"add-tags-wrap"},[e("div",{staticClass:"header"},[e("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.openTagMgt}},[t._v("+ Tag management")])],1),e("div",{staticClass:"check-wrap"},t._l(t.tags,(function(i){return e("el-checkbox",{key:i.id,model:{value:i.checked,callback:function(e){t.$set(i,"checked",e)},expression:"tag.checked"}},[t._v(t._s(i.name))])})),1),e("div",{staticClass:"footer"},[e("el-button",{attrs:{size:"mini",type:"danger"},on:{click:t.removeCheckedTags}},[t._v("Clear")]),e("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){return t.batItems("addTags")}}},[t._v("Confirm")])],1)])])],1)]:"4"==t.tab.id?[e("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.batItems("importList")}}},[t._v("Push")])]:t._e()],2),e("div",{staticClass:"right"},[e("el-button",{attrs:{size:"small",icon:"el-icon-setting"},on:{click:t.openPushSetting}},[t._v("Push Setting")])],1)]):t._e(),"2"==t.tab.id&&(t.doneCnt||t.allCnt)&&t.items.length?e("div",{staticClass:"progress-wrap"},[e("span",{staticClass:"title"},[t._v("Upload Progress:")]),e("div",{staticClass:"progress-box"},[e("el-progress",{attrs:{"stroke-width":22,percentage:parseInt(this.doneCnt/this.allCnt*100)}})],1)]):t._e()]),e("div",[e("el-table",{ref:"importListTable",staticStyle:{width:"100%"},attrs:{data:t.items,stripe:""}},["2"==t.tab.id?e("el-table-column",{attrs:{label:"Status",align:"center",width:"70"},scopedSlots:t._u([{key:"default",fn:function(i){return[e("div",["2"==i.row.status?e("i",{staticClass:"el-icon-loading",staticStyle:{"font-size":"18px"}}):t._e(),"3"==i.row.status?e("i",{staticClass:"el-icon-success tx-success",staticStyle:{"font-size":"18px"}}):t._e(),"4"==i.row.status?e("i",{staticClass:"el-icon-error tx-danger",staticStyle:{"font-size":"18px"}}):t._e()])]}}],null,!1,3962223520)}):t._e(),"1"==t.tab.id||"4"==t.tab.id?e("el-table-column",{attrs:{align:"center",width:"40"},scopedSlots:t._u([{key:"default",fn:function(i){return[e("el-checkbox",{attrs:{disabled:"1"!=i.row.status&&"1"==t.tab.id},model:{value:i.row.checked,callback:function(e){t.$set(i.row,"checked",e)},expression:"scope.row.checked"}})]}}],null,!1,2200968333)}):t._e(),e("el-table-column",{attrs:{label:"Images",align:"center",width:"90"},scopedSlots:t._u([{key:"default",fn:function(i){return[e("div",{staticClass:"img-wrap"},["1"!=i.row.status&&"1"==t.tab.id?e("div",{staticClass:"mask"},[t._v("Sold Out")]):t._e(),e("el-image",{staticStyle:{width:"70px",height:"70px",border:"1px solid #DCDFE6"},attrs:{fit:"cover",src:i.row.mainImg,"preview-src-list":[i.row.mainImg]}},[e("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[e("i",{staticClass:"el-icon-picture-outline"})])])],1)]}}])}),e("el-table-column",{attrs:{label:"Product Name"},scopedSlots:t._u([{key:"default",fn:function(i){return[e("div",{staticClass:"tx-ellipsis2"},[e("span",[t._v(t._s(i.row.name))])])]}}])}),"1"!=t.tab.id?e("el-table-column",{attrs:{label:"Store Name"},scopedSlots:t._u([{key:"default",fn:function(e){return e.row.shop?[t._v(" "+t._s(e.row.shop.shopName)+" ")]:void 0}}],null,!0)}):t._e(),e("el-table-column",{attrs:{label:"Price",align:"center"}},[e("el-table-column",{attrs:{label:"Supply unit price",width:"140"},scopedSlots:t._u([{key:"default",fn:function(i){return[e("div",[t._v(" "+t._s(t.showPrice(i.row))+" ")])]}}])}),e("el-table-column",{attrs:{label:"Your price",width:"220"},scopedSlots:t._u([{key:"default",fn:function(i){return[e("div",[t._v(" "+t._s(i.row.yourPrice)+" ")])]}}])})],1),"4"==t.tab.id?e("el-table-column",{attrs:{label:"Fail reason"},scopedSlots:t._u([{key:"default",fn:function(i){return[i.row.extra?e("div",{staticClass:"tx-danger"},[t._v(" "+t._s(i.row.extra.message)+" ")]):e("div",[t._v("---")])]}}],null,!1,2802396485)}):t._e(),"2"!=t.tab.id?e("el-table-column",{attrs:{label:"Action",width:"1"==t.tab.id?250:200},scopedSlots:t._u([{key:"default",fn:function(i){return["1"==t.tab.id?e("div",[e("el-button",{attrs:{type:"primary",size:"small",disabled:"1"!=i.row.status},on:{click:function(e){return t.singPush(i.row)}}},[t._v("Push")]),e("el-button",{attrs:{type:"success",size:"small",disabled:"1"!=i.row.status},on:{click:function(e){return t.editProduct(i.row)}}},[t._v("Edit")]),e("el-button",{attrs:{type:"danger",size:"small",disabled:"1"!=i.row.status},on:{click:function(e){return t.delItem([i.row.id])}}},[t._v("Delete")])],1):t._e(),"3"==t.tab.id?e("div",[e("el-link",{staticClass:"mg-r-15",attrs:{type:"primary",href:i.row.productUrl,target:"_blank"}},[t._v("Open in Web")]),e("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(e){return t.delItem2([i.row.id])}}},[t._v("Delete")])],1):t._e(),"4"==t.tab.id?e("div",[e("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.gotoImportList([i.row.id])}}},[t._v("Push")])],1):t._e()]}}],null,!1,1657514688)}):t._e()],1)],1)],2)},s=[],o={props:["tab","loadingImport","pushLoading","exportLoading","delLoading","items","AllChecked","tags","allCnt","doneCnt","filtersParams","filterAccountProps","shopOptArr"],data(){return{importUrl:""}},methods:{gotoImportList(t){this.$emit("gotoImportList",t)},delItem2(t){this.$emit("delItem2",t)},clearFilter(){this.$emit("clearFilter")},setFilter(){this.$emit("setFilter")},openPushSetting(){this.$emit("openPushSetting")},delItem(t){this.$emit("delItem",t)},importPorduct(){this.$emit("importPorduct",this.importUrl),this.importUrl=""},changeAllItems(t){this.$emit("changeAllItems",t)},batItems(t){this.$emit("batItems",t),"addTags"==t&&this.$refs["tagMgt"].hide()},openTagMgt(){this.$emit("openTagMgt")},removeCheckedTags(){this.$emit("removeCheckedTags")},showPrice(t){let e="---",[i,a]=[0,0];return t.stocks.some(t=>{if(t.costPrice)return i=a=Number(t.costPrice),!0}),t.stocks.forEach(t=>{t.costPrice&&i>Number(t.costPrice)&&(i=Number(t.costPrice)),t.costPrice&&a<Number(t.costPrice)&&(a=Number(t.costPrice))}),e=i==a?i.toFixed(2):`${i} - ${a}`,`${t.stocks.length?t.stocks[0].currency:""} ${e}`},singPush(t){this.$emit("singPush",t)},editProduct(t){this.$emit("editProduct",t)}}},l=o,r=(i("4de3"),i("e607")),n=Object(r["a"])(l,a,s,!1,null,"856558c4",null);e["default"]=n.exports},c11f:function(t,e,i){"use strict";i("7d29")},ebca:function(t,e,i){"use strict";i("2cff")},ee64:function(t,e,i){}}]);
//# sourceMappingURL=importListMain.5d4de4da.js.map