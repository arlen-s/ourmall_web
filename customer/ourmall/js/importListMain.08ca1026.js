(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["importListMain","importSub"],{"0701":function(t,e,i){"use strict";i("fdd4")},"2c46":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"contentpanel import-page2"},["home"!=t.fromPage?i("div",{ref:"pageHeader",staticClass:"pagetitle"},[t._m(0)]):t._e(),i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"pagebody"},["home"!=t.fromPage?i("el-card",{staticStyle:{"margin-bottom":"20px"}},[i("el-row",{attrs:{gutter:20}},[i("el-col",{attrs:{span:24}},[i("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},t._l(t.tabsArr,(function(e){return i("el-tab-pane",{key:e.id,ref:"mainTab",refInFor:!0,attrs:{label:e.name,name:e.id}},[i("router-view",{key:t.pageKey,ref:"main",refInFor:!0,attrs:{tab:e,loadingImport:t.loadingImport,pushLoading:t.pushLoading,exportLoading:t.exportLoading,delLoading:t.delLoading,AllChecked:t.AllChecked,items:t.items,tags:t.tags,allCnt:t.allCnt,doneCnt:t.doneCnt,filtersParams:t.filtersParams,shopOptArr:t.shopOptArr,filterAccountProps:t.filterAccountProps},on:{changeAllItems:t.changeAllItems,batItems:t.batItems,openTagMgt:t.openTagMgt,removeCheckedTags:t.removeCheckedTags,singPush:t.singPush,editProduct:t.editProduct,delItem:t.delItem,importPorduct:t.importPorduct,openPushSetting:t.openPushSetting,setFilter:t.setFilter,clearFilter:t.clearFilter,delItem2:t.delItem2,gotoImportList:t.gotoImportList}})],1)})),1)],1)],1)],1):i("div",{staticStyle:{margin:"0 0 30px"}},[i("subPage",{key:t.pageKey,ref:"main",attrs:{tab:t.tab,loadingImport:t.loadingImport,pushLoading:t.pushLoading,exportLoading:t.exportLoading,delLoading:t.delLoading,AllChecked:t.AllChecked,items:t.items,tags:t.tags,allCnt:t.allCnt,doneCnt:t.doneCnt,filtersParams:t.filtersParams,shopOptArr:t.shopOptArr,filterAccountProps:t.filterAccountProps},on:{changeAllItems:t.changeAllItems,batItems:t.batItems,openTagMgt:t.openTagMgt,removeCheckedTags:t.removeCheckedTags,singPush:t.singPush,editProduct:t.editProduct,delItem:t.delItem,importPorduct:t.importPorduct,openPushSetting:t.openPushSetting,setFilter:t.setFilter,clearFilter:t.clearFilter,delItem2:t.delItem2,gotoImportList:t.gotoImportList}})],1),t.items.length?i("el-row",{attrs:{gutter:20}},[i("el-col",{staticClass:"d-flex justify-content-center",attrs:{span:24}},[i("div",{staticStyle:{"margin-bottom":"30px"}},[i("el-pagination",{attrs:{"current-page":Number(t.page),background:!0,layout:"sizes, total, prev, pager, next, jumper","page-sizes":t.pageSizes,"page-size":t.rowsPerPage,total:Number(t.total)},on:{"current-change":t.toPage,"size-change":t.changePageSize}})],1)])],1):t._e()],1),i("DialogPush",{attrs:{dialogPush:t.dialogPush,SelectedPushStoresNum:t.SelectedPushStoresNum}}),i("DialogManagement",{ref:"dialogTagMgr",attrs:{dialogTagManagement:t.dialogTagManagement}}),i("DialogEditProduct",{attrs:{dialogEditProduct:t.dialogEditProduct,currency:t.currency,tab2Loading:t.tab2Loading},on:{openDialogSelectImg:t.openDialogSelectImg,saveEditProduct:t.saveEditProduct}}),i("DialogSelectImg",{attrs:{dialogSelectImg:t.dialogSelectImg,dialogEditProduct:t.dialogEditProduct}}),i("DialogPushSetting",{attrs:{dialogPushSetting:t.dialogPushSetting},on:{savePushSetting:t.savePushSetting}})],1)},o=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"left"},[i("div",{staticClass:"title"},[i("i",{staticClass:"el-icon-upload2"}),i("h2",[t._v("Import List")])])])}],s=(i("a4d3"),i("e01a"),i("99af"),i("4de4"),i("a15b"),i("d81d"),i("a434"),i("b0c0"),i("4ec9"),i("a9e3"),i("b680"),i("b64b"),i("d3b7"),i("ac1f"),i("3ca3"),i("1276"),i("159b"),i("ddb0"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:t.dialogPush.loading,expression:"dialogPush.loading"}],style:{overflow:t.dialogPush.loading?"hidden":"auto"},attrs:{title:"Select stores to publish products","close-on-click-modal":!1,visible:t.dialogPush.isShow,width:"800px"},on:{"update:visible":function(e){return t.$set(t.dialogPush,"isShow",e)},close:t.closeDialog}},[i("el-divider"),i("div",{staticClass:"dialog-push-body"},[i("el-row",{attrs:{gutter:30}},[i("el-col",{attrs:{span:14}},[i("h3",[t._v("Selected products ("+t._s(t.dialogPush.items.length)+")")]),i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.dialogPush.items,height:"400"}},[i("el-table-column",{attrs:{prop:"mainImg",width:"110"},scopedSlots:t._u([{key:"default",fn:function(t){return[i("el-image",{staticStyle:{width:"100px",height:"100px"},attrs:{src:t.row.mainImg,fit:"cover"}})]}}])}),i("el-table-column",{attrs:{prop:"name",className:"cell-top"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("div",{staticClass:"tx-ellipsis2"},[t._v(" "+t._s(e.row.name)+" ")]),e.row.pushRe.length?i("div",t._l(e.row.pushRe,(function(e){return i("el-tag",{key:e.shopName,attrs:{type:"success"==e.status?"success":"danger"}},["fail"==e.status?i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.msg,placement:"top"}},[i("span",[t._v(" "+t._s(e.shopName)+": "+t._s(e.status)+" "),i("i",{staticClass:"el-icon-question",staticStyle:{color:"#303133","font-size":"14px"}})])]):i("span",[t._v(t._s(e.shopName)+": "+t._s(e.status))])],1)})),1):t._e()]}}])}),t.dialogPush.isAction?i("el-table-column",{attrs:{width:"50"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-link",{attrs:{type:"danger"},on:{click:function(i){return t.delPushProduct(e.$index)}}},[i("i",{staticClass:"el-icon-delete"})])]}}],null,!1,237557512)}):t._e()],1)],1),i("el-col",{attrs:{span:10}},[i("h3",{staticStyle:{"margin-bottom":"15px"}},[t.SelectedPushStoresNum?[t._v(" Selected stores ("+t._s(t.SelectedPushStoresNum)+") ")]:[t._v(" Please select the Shopify stores ")]],2),t._l(t.dialogPush.shopList,(function(e){return i("ul",{key:e.platform,staticClass:"push-select-stores"},[1==e.platform?i("div",{staticClass:"block"},[i("shopCate",{attrs:{items:e}}),t._v("Shopify")],1):t._e(),2==e.platform?i("div",{staticClass:"block"},[i("shopCate",{attrs:{items:e}}),t._v("Woocommerce")],1):t._e(),3==e.platform?i("div",{staticClass:"block"},[i("shopCate",{attrs:{items:e}}),t._v("Lazada")],1):t._e(),4==e.platform?i("div",{staticClass:"block"},[i("shopCate",{attrs:{items:e}}),t._v("Shopee")],1):t._e(),5==e.platform?i("div",{staticClass:"block"},[i("shopCate",{attrs:{items:e}}),t._v("Wayfair")],1):t._e(),t._l(e.data,(function(e){return i("li",{key:e.id},[i("el-checkbox",{staticStyle:{"margin-right":"5px"},attrs:{disabled:!t.dialogPush.isAction},on:{change:function(i){return t.selectShopGetCollections(e)}},model:{value:e.checked,callback:function(i){t.$set(e,"checked",i)},expression:"shop.checked"}},[t._v(" "+t._s(e.shopName)+" ")]),e.loading?i("i",{staticClass:"el-icon-loading"}):t._e(),e.collections.length&&1==e.platform?i("el-select",{attrs:{size:"mini",disabled:!t.dialogPush.isAction},model:{value:e.selectCollection,callback:function(i){t.$set(e,"selectCollection",i)},expression:"shop.selectCollection"}},t._l(e.collections,(function(t){return i("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1):t._e()],1)}))],2)}))],2)],1)],1),i("el-divider"),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.dialogPush.isShow=!1}}},[t._v("Close")]),t.dialogPush.isAction?i("el-button",{attrs:{type:"primary",loading:t.dialogPush.loading,disabled:!t.dialogPush.items.length},on:{click:t.pushToShopify}},[t._v(" Push to Store ")]):t._e()],1)],1),i("DialogLoading",{attrs:{LoadingVisible:t.LoadingVisible,loadingNum:t.loadingNum},on:{closePush:t.closePush}})],1)}),n=[],r=i("716a"),l=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-dialog",{attrs:{top:"32vh","show-close":!1,visible:t.LoadingVisible,"close-on-click-modal":!1,width:"30%"},on:{"update:visible":function(e){t.LoadingVisible=e}}},[i("div",{staticClass:"LoadingModal"},[i("el-progress",{attrs:{type:"circle",percentage:t.loadingNum,color:t.colors}}),i("div",{staticClass:"text"},[t._v("Loading time to long, check detailed progress")])],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:t.closePush}},[t._v("Close")])],1)])},c=[],d={props:["LoadingVisible","loadingNum"],data:function(){return{colors:[{color:"#f56c6c",percentage:20},{color:"#e6a23c",percentage:40},{color:"#5cb87a",percentage:60},{color:"#1989fa",percentage:80},{color:"#6f7ad3",percentage:100}]}},methods:{closePush:function(){this.$emit("closePush")}}},u=d,g=(i("7c67"),i("2877")),p=Object(g["a"])(u,l,c,!1,null,"d4980248",null),h=p.exports,m={props:["dialogPush","SelectedPushStoresNum"],data:function(){return{LoadingVisible:!1,loadingNum:0,timeOut:0}},components:{shopCate:r["a"],DialogLoading:h},methods:{pushToShopify:function(){var t=this;if(this.SelectedPushStoresNum){this.LoadingVisible=!0;var e=[];this.dialogPush.shopList.forEach((function(i){i.data.forEach((function(i){t.dialogPush.items.forEach((function(a){a.pushRe=[],i.checked&&1==i.platform?e.push({id:a.id,accountId:i.id,collectionId:i.selectCollection,published:t.dialogPush.published}):i.checked&&1!=i.platform&&e.push({id:a.id,accountId:i.id,published:t.dialogPush.published})}))}))})),this.timeOut=setInterval((function(){t.loadingNum>94&&(t.loadingNum=94),t.loadingNum+=5}),100),this.$apiCall("api.Product.addImportTask",{products:e},(function(e){9999==e.ErrorCode?(t.loadingNum=100,clearInterval(t.timeOut),t.dialogPush.isAction=!1,t.LoadingVisible=!1,t.dialogPush.isShow=!1,t.loadingNum=0,t.$elementMessage("Push completed","success"),t.$parent.pushSuccess()):t.$elementMessage(e.Message,"error")}))}else this.$elementMessage("Please select the stores","error")},delPushProduct:function(t){this.dialogPush.items.splice(t,1),this.dialogPush.items.length||(this.dialogPush.isShow=!1)},selectShopGetCollections:function(t){var e=this;t.collections.length||1==t.platform&&(t.loading=!0,this.$apiCall("api.Product.getCollections",{id:t.id},(function(i){t.loading=!1,9999==i.ErrorCode?(t.collections=[],Object.keys(i.Data.Results).forEach((function(e){t.collections.push({id:e,name:i.Data.Results[e]})})),1==t.collections.length&&(t.selectCollection=t.collections[0].id)):e.$elementMessage(i.Message,"error")})))},closePush:function(){this.LoadingVisible=!1,this.dialogPush.isShow=!1},closeDialog:function(){}}},f=m,P=(i("0701"),Object(g["a"])(f,s,n,!1,null,"f94c399e",null)),v=P.exports,y=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:t.dialogTagManagement.loading,expression:"dialogTagManagement.loading"}],style:{overflow:t.dialogTagManagement.loading?"hidden":"auto"},attrs:{title:"Tag management","close-on-click-modal":!1,visible:t.dialogTagManagement.isShow,width:"500px"},on:{"update:visible":function(e){return t.$set(t.dialogTagManagement,"isShow",e)}}},[i("div",{staticStyle:{width:"420px"}},[t.dialogTagManagement.addMode?i("div",[i("el-form",{ref:"addTagForm",staticStyle:{margin:"0"},attrs:{"label-width":"120px"},nativeOn:{submit:function(t){t.preventDefault()}}},[i("el-form-item",{staticStyle:{"margin-right":"5px","margin-bottom":"0"},attrs:{label:"New Tag",size:"mini"}},[i("el-input",{ref:"tagIpt",staticStyle:{"margin-right":"10px",width:"150px",height:"29px"},attrs:{size:"mini"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.saveEntTag(e)}},model:{value:t.dialogTagManagement.tagIpt,callback:function(e){t.$set(t.dialogTagManagement,"tagIpt",e)},expression:"dialogTagManagement.tagIpt"}}),i("el-button-group",{staticStyle:{position:"relative",top:"-2px"}},[i("el-button",{attrs:{type:"primary",icon:"el-icon-check",size:"mini",loading:t.dialogTagManagement.addNewLoading},on:{click:t.saveEntTag}}),i("el-button",{attrs:{type:"danger",icon:"el-icon-close",size:"mini"},on:{click:function(e){return t.changeEntTag(!1)}}})],1)],1)],1)],1):i("div",{staticStyle:{"padding-left":"30px"}},[i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){return t.changeEntTag(!0)}}},[t._v("+Add New Tags")])],1)]),i("div",{staticStyle:{padding:"0 15px"}},[i("el-table",{ref:"tagListTable",staticStyle:{width:"100%"},attrs:{data:t.dialogTagManagement.tags,stripe:"",height:"300"}},[i("el-table-column",{attrs:{prop:"name",label:"Tag name"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.edit?i("div",{staticClass:"d-flex"},[i("el-input",{ref:"tagsListIpt",staticStyle:{"margin-right":"5px",width:"180px"},attrs:{size:"mini"},nativeOn:{keyup:function(i){return!i.type.indexOf("key")&&t._k(i.keyCode,"enter",13,i.key,"Enter")?null:t.saveTagIpt(e.row)}},model:{value:e.row.ipt,callback:function(i){t.$set(e.row,"ipt",i)},expression:"scope.row.ipt"}}),i("el-button-group",[i("el-button",{attrs:{type:"primary",icon:"el-icon-check",size:"mini"},on:{click:function(i){return t.saveTagIpt(e.row)}}}),i("el-button",{attrs:{type:"danger",icon:"el-icon-close",size:"mini"},on:{click:function(i){return t.cancelTagIpt(e.row)}}})],1)],1):i("div",[t._v(" "+t._s(e.row.name)+" ")])]}}])}),i("el-table-column",{attrs:{label:"Action",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.edit?t._e():i("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini"},on:{click:function(i){return t.editTag(e.row)}}}),i("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(i){return t.delTag(e.row)}}})]}}])})],1)],1)])},b=[],C={props:["dialogTagManagement"],methods:{editTag:function(t){var e=this;t.edit=!0,this.$nextTick((function(){e.$refs.tagsListIpt.$refs.input.focus()}))},delTag:function(t){var e=this;this.$confirm("Are you sure to delete it?？").then((function(){e.dialogTagManagement.loading=!0,e.$apiCall("api.Product.deleteTag",{id:t.id},(function(t){e.dialogTagManagement.loading=!1,9999==t.ErrorCode?e.$parent.getTagList():e.$elementMessage(t.Message,"error")}))})).catch((function(){}))},cancelTagIpt:function(t){t.edit=!1},saveTagIpt:function(t){var e=this;t.ipt?(this.dialogTagManagement.loading=!0,this.$apiCall("api.Product.changeTag",{id:t.id,name:t.ipt},(function(t){e.dialogTagManagement.loading=!1,9999==t.ErrorCode?e.$parent.getTagList():e.$elementMessage(t.Message,"error")}))):this.$elementMessage("Please enter the tag","error")},saveEntTag:function(){var t=this;this.dialogTagManagement.tagIpt?(this.dialogTagManagement.addNewLoading=!0,this.$apiCall("api.Product.createTag",{name:this.dialogTagManagement.tagIpt},(function(e){t.dialogTagManagement.addNewLoading=!1,9999==e.ErrorCode?(t.changeEntTag(!1),t.$parent.getTagList()):t.$elementMessage(e.Message,"error")}))):this.$elementMessage("Please enter the New tag","error")},changeEntTag:function(t){var e=this;this.dialogTagManagement.tagIpt="",this.dialogTagManagement.addMode=t,t&&this.$nextTick((function(){e.$refs.tagIpt.$refs.input.focus()}))}}},S=C,k=Object(g["a"])(S,y,b,!1,null,null,null),w=k.exports,I=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:t.dialogEditProduct.loading,expression:"dialogEditProduct.loading"}],staticClass:"dialog-edit",style:{overflow:t.dialogEditProduct.loading?"hidden":"auto"},attrs:{title:"Edit Product",visible:t.dialogEditProduct.isShow},on:{"update:visible":function(e){return t.$set(t.dialogEditProduct,"isShow",e)},opened:function(e){t.$parent.loading=!1}}},[i("div",{staticClass:"tab-wrap"},[i("el-tabs",{staticStyle:{overflow:"hidden"},attrs:{type:"border-card"},on:{"tab-click":t.tabClick},model:{value:t.dialogEditProduct.activeTab,callback:function(e){t.$set(t.dialogEditProduct,"activeTab",e)},expression:"dialogEditProduct.activeTab"}},[i("el-tab-pane",{attrs:{label:"Product"}},[i("div",{staticClass:"tab-product"},[i("div",{staticClass:"left"},[i("div",{staticClass:"img-wrap"},[i("el-image",{staticStyle:{width:"120px",height:"120px"},attrs:{fit:"cover",src:t.dialogEditProduct.mainImg}})],1),i("div",{staticClass:"tx-center"},[i("a",{attrs:{href:"javascript:;"},on:{click:function(e){return t.openDialogSelectImg()}}},[t._v("Change image")])])]),i("div",{staticClass:"right"},[i("el-form",{ref:"productForm",staticStyle:{"margin-top":"0"},attrs:{"label-width":"120px"},nativeOn:{submit:function(t){t.preventDefault()}}},[i("el-form-item",{attrs:{label:"name",required:""}},[i("el-input",{attrs:{type:"textarea"},model:{value:t.dialogEditProduct.name,callback:function(e){t.$set(t.dialogEditProduct,"name",e)},expression:"dialogEditProduct.name"}})],1),i("el-form-item",{staticStyle:{"margin-bottom":"10px"},attrs:{label:"Shopify vendor"}},[i("el-input",{model:{value:t.dialogEditProduct.shopifyVendor,callback:function(e){t.$set(t.dialogEditProduct,"shopifyVendor",e)},expression:"dialogEditProduct.shopifyVendor"}})],1),i("div",{staticClass:"edit-tags"},[i("div",{staticClass:"label-title"},[t._v("Shopify tags")]),i("div",{staticClass:"tag-wrap"},[t._l(t.dialogEditProduct.shopifyTag,(function(e){return i("el-tag",{key:e,attrs:{closable:""},on:{close:function(i){return t.handleClose(e,"tag")}}},[t._v(" "+t._s(e)+" ")])})),t.shopifyTagInputVisible?i("el-input",{ref:"saveTagInput",staticClass:"input-new-tag",attrs:{size:"small"},on:{blur:function(e){return t.handleInputConfirm("tag")}},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleInputConfirm("tag")}},model:{value:t.shopifyTagInputValue,callback:function(e){t.shopifyTagInputValue=e},expression:"shopifyTagInputValue"}}):i("el-button",{staticClass:"button-new-tag",attrs:{size:"small"},on:{click:function(e){return t.showInput("tag")}}},[t._v(" + New Tag ")])],2)]),i("div",{staticClass:"edit-tags"},[i("div",{staticClass:"label-title"},[t._v("Shopify type")]),i("div",{staticClass:"tag-wrap"},[t._l(t.dialogEditProduct.shopifyType,(function(e){return i("el-tag",{key:e,attrs:{closable:""},on:{close:function(i){return t.handleClose(e,"type")}}},[t._v(" "+t._s(e)+" ")])})),t.shopifyTypeInputVisible?i("el-input",{ref:"saveTypeInput",staticClass:"input-new-tag",attrs:{size:"small"},on:{blur:function(e){return t.handleInputConfirm("type")}},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleInputConfirm("type")}},model:{value:t.shopifyTypeInputValue,callback:function(e){t.shopifyTypeInputValue=e},expression:"shopifyTypeInputValue"}}):i("el-button",{staticClass:"button-new-tag",attrs:{size:"small"},on:{click:function(e){return t.showInput("type")}}},[t._v(" + New Type ")])],2)])],1)],1)])]),i("el-tab-pane",{attrs:{label:"Description"}},[i("quill-editor",{ref:"text",staticClass:"myQuillEditor",attrs:{options:t.editorOption},model:{value:t.dialogEditProduct.description,callback:function(e){t.$set(t.dialogEditProduct,"description",e)},expression:"dialogEditProduct.description"}})],1),i("el-tab-pane",[i("span",{attrs:{slot:"label"},slot:"label"},[t._v("Variants("+t._s(t.dialogEditProduct.stocks2.length)+")")]),t.dialogEditProduct.stocks.length?t._e():i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.tab2Loading,expression:"tab2Loading"}],staticStyle:{"text-align":"center"}},[t._v(" Loading... ")]),i("el-form",{directives:[{name:"show",rawName:"v-show",value:t.dialogEditProduct.stocks.length,expression:"dialogEditProduct.stocks.length"}],ref:"tableForm",staticStyle:{"margin-top":"0"},nativeOn:{submit:function(t){t.preventDefault()}}},[i("el-table",{ref:"stocksTable",staticStyle:{width:"100%"},attrs:{data:t.dialogEditProduct.stocks,stripe:"",height:"400"}},[i("el-table-column",{attrs:{fixed:"",type:"selection",width:"55"}}),i("el-table-column",{attrs:{fixed:"",label:"Product",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("div",{staticClass:"table-img-wrap"},[i("el-image",{staticStyle:{width:"100px",height:"100px"},attrs:{src:e.row.propertyImage,fit:"cover"}}),i("a",{staticClass:"modi-img",attrs:{href:"javascript:;"},on:{click:function(i){return t.openDialogSelectImg(e.row)}}},[i("i",{staticClass:"el-icon-edit-outline"})])],1)]}}])}),t._l(t.dialogEditProduct.propertyName,(function(e,a){return i("el-table-column",{key:e,attrs:{label:e,width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-input",{model:{value:e.row.propertyValue[a],callback:function(i){t.$set(e.row.propertyValue,a,i)},expression:"scope.row.propertyValue[pIndex]"}})]}}],null,!0)})})),i("el-table-column",{attrs:{label:"price",width:"190"},scopedSlots:t._u([{key:"header",fn:function(e){return[i("div",[i("span",[t._v("Price ("+t._s(t.currency)+")")]),i("br"),i("el-select",{directives:[{name:"show",rawName:"v-show",value:!t.dialogEditProduct.AllActionPriceType,expression:"!dialogEditProduct.AllActionPriceType"}],staticStyle:{width:"130px"},attrs:{size:"mini",placeholder:"Action"},on:{change:function(e){return t.changeAllPriceType("price")}},model:{value:t.dialogEditProduct.AllActionPriceType,callback:function(e){t.$set(t.dialogEditProduct,"AllActionPriceType",e)},expression:"dialogEditProduct.AllActionPriceType"}},[i("el-option",{attrs:{label:"Action",value:""}}),i("el-option",{attrs:{label:"Change All",value:1}}),i("el-option",{attrs:{label:"Multiply Price",value:2}}),i("el-option",{attrs:{label:"Add Price",value:3}})],1),i("div",{directives:[{name:"show",rawName:"v-show",value:t.dialogEditProduct.AllActionPriceType,expression:"dialogEditProduct.AllActionPriceType"}]},[i("div",{staticClass:"d-flex"},[3==t.dialogEditProduct.AllActionPriceType?i("span",{staticStyle:{"margin-right":"2px"}},[t._v("+")]):t._e(),i("el-input-number",{ref:"priceIpt",staticStyle:{"margin-right":"2px"},style:{width:(2==t.dialogEditProduct.AllActionPriceType?80:100)+"px"},attrs:{size:"mini",min:3==t.dialogEditProduct.AllActionPriceType?-99999:0,precision:2==t.dialogEditProduct.AllActionPriceType?0:2,controls:!1},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.allHandleChange("price")}},model:{value:t.dialogEditProduct.allChangePriceNum,callback:function(e){t.$set(t.dialogEditProduct,"allChangePriceNum",e)},expression:"dialogEditProduct.allChangePriceNum"}}),2==t.dialogEditProduct.AllActionPriceType?i("span",{staticStyle:{"margin-right":"3px"}},[t._v("%")]):t._e(),i("el-button-group",[i("el-button",{staticStyle:{padding:"6px"},attrs:{type:"primary",icon:"el-icon-check",size:"mini"},on:{click:function(e){return t.allHandleChange("price")}}}),i("el-button",{staticStyle:{padding:"6px"},attrs:{type:"danger",icon:"el-icon-close",size:"mini"},on:{click:function(e){return t.cancelAllChangeIpt("price")}}})],1)],1)])],1)]}},{key:"default",fn:function(e){return[i("el-input-number",{attrs:{min:0,step:1,size:"mini",precision:2,controls:!1},model:{value:e.row.price,callback:function(i){t.$set(e.row,"price",i)},expression:"scope.row.price"}}),t._v(" "+t._s(t.currency)+" ")]}}])}),i("el-table-column",{attrs:{label:"Compare Price",width:"190"},scopedSlots:t._u([{key:"header",fn:function(e){return[i("div",[i("span",[t._v("Compare Price ("+t._s(t.currency)+")")]),i("br"),i("el-select",{directives:[{name:"show",rawName:"v-show",value:!t.dialogEditProduct.AllActionCPriceType,expression:"!dialogEditProduct.AllActionCPriceType"}],staticStyle:{width:"130px"},attrs:{size:"mini",placeholder:"Action"},on:{change:function(e){return t.changeAllPriceType("Cprice")}},model:{value:t.dialogEditProduct.AllActionCPriceType,callback:function(e){t.$set(t.dialogEditProduct,"AllActionCPriceType",e)},expression:"dialogEditProduct.AllActionCPriceType"}},[i("el-option",{attrs:{label:"Action",value:""}}),i("el-option",{attrs:{label:"Change All",value:1}}),i("el-option",{attrs:{label:"Multiply Price",value:2}}),i("el-option",{attrs:{label:"Add Price",value:3}})],1),i("div",{directives:[{name:"show",rawName:"v-show",value:t.dialogEditProduct.AllActionCPriceType,expression:"dialogEditProduct.AllActionCPriceType"}]},[i("div",{staticClass:"d-flex"},[3==t.dialogEditProduct.AllActionCPriceType?i("span",{staticStyle:{"margin-right":"2px"}},[t._v("+")]):t._e(),i("el-input-number",{ref:"CpriceIpt",staticStyle:{"margin-right":"2px"},style:{width:(2==t.dialogEditProduct.AllActionCPriceType?80:100)+"px"},attrs:{size:"mini",min:3==t.dialogEditProduct.AllActionCPriceType?-99999:0,precision:2==t.dialogEditProduct.AllActionCPriceType?0:2,controls:!1},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.allHandleChange("Cprice")}},model:{value:t.dialogEditProduct.allChangeCPriceNum,callback:function(e){t.$set(t.dialogEditProduct,"allChangeCPriceNum",e)},expression:"dialogEditProduct.allChangeCPriceNum"}}),2==t.dialogEditProduct.AllActionCPriceType?i("span",{staticStyle:{"margin-right":"3px"}},[t._v("%")]):t._e(),i("el-button-group",[i("el-button",{staticStyle:{padding:"6px"},attrs:{type:"primary",icon:"el-icon-check",size:"mini"},on:{click:function(e){return t.allHandleChange("Cprice")}}}),i("el-button",{staticStyle:{padding:"6px"},attrs:{type:"danger",icon:"el-icon-close",size:"mini"},on:{click:function(e){return t.cancelAllChangeIpt("Cprice")}}})],1)],1)])],1)]}},{key:"default",fn:function(e){return[i("el-input-number",{attrs:{min:0,step:1,size:"mini",precision:2,controls:!1},model:{value:e.row.comparePrice,callback:function(i){t.$set(e.row,"comparePrice",i)},expression:"scope.row.comparePrice"}}),t._v(" "+t._s(t.currency)+" ")]}}])}),i("el-table-column",{attrs:{label:"Cost Price",prop:"costPrice",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.costPrice)+" ("+t._s(e.row.currency)+") ")]}}])}),i("el-table-column",{attrs:{label:"Action",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return t.dialogEditProduct.stocks.length>1?[i("a",{staticClass:"tx-danger",attrs:{href:"javascript:;"},on:{click:function(i){return t.delEditStock(e.$index)}}},[i("i",{staticClass:"el-icon-delete"})])]:void 0}}],null,!0)})],2)],1)],1),i("el-tab-pane",{attrs:{label:"Images"}},[i("div",{staticClass:"img-list-wrap"},[i("div",{staticClass:"main"},[i("el-image",{staticStyle:{width:"220px",height:"220px"},attrs:{src:t.dialogEditProduct.mainImg,fit:"cover"}})],1),i("div",{staticClass:"img-list"},[i("draggable",{attrs:{list:t.dialogEditProduct.imgsJson}},t._l(t.dialogEditProduct.imgsJson,(function(t){return i("div",{key:t,staticClass:"img-b"},[i("el-image",{staticStyle:{width:"150px",height:"150px"},attrs:{src:t,fit:"cover"}})],1)})),0)],1)])])],1)],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.dialogEditProduct.isShow=!1}}},[t._v("Cancel")]),i("el-button",{attrs:{type:"primary",loading:t.dialogEditProduct.loading},on:{click:t.saveEditProduct}},[t._v(" Save ")])],1)])},x=[],E=(i("a753"),i("8096"),i("14e1"),i("953d")),T=i("b76a"),_=i.n(T),$={props:["dialogEditProduct","currency","tab2Loading"],data:function(){return{shopifyTagInputVisible:!1,shopifyTagInputValue:"",shopifyTypeInputVisible:!1,shopifyTypeInputValue:"",editorOption:{modules:{toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"]]}}}},components:{quillEditor:E["quillEditor"],draggable:_.a},mounted:function(){},methods:{saveEditProduct:function(){this.$emit("saveEditProduct")},dialogAllChecked:function(t){var e=this;this.$nextTick((function(){e.dialogEditProduct.stocks.forEach((function(i){e.$refs.stocksTable.toggleRowSelection(i,t)}))}))},cancelAllChangeIpt:function(t){switch(t){case"price":this.dialogEditProduct.allChangePriceNum="",this.dialogEditProduct.AllActionPriceType="";break;case"Cprice":this.dialogEditProduct.allChangeCPriceNum="",this.dialogEditProduct.AllActionCPriceType="";break;case"stock":this.dialogEditProduct.allChangeStockNum="",this.dialogEditProduct.AllActionStockType="";break}this.dialogAllChecked(!1)},allHandleChange:function(t){var e=this;switch(t){case"price":this.$refs.stocksTable.selection.forEach((function(t){1==e.dialogEditProduct.AllActionPriceType&&e.$set(t,"price",e.dialogEditProduct.allChangePriceNum),2==e.dialogEditProduct.AllActionPriceType&&e.$set(t,"price",Number((e.dialogEditProduct.allChangePriceNum/100*t.price).toFixed(2))),3==e.dialogEditProduct.AllActionPriceType&&e.$set(t,"price",Number((e.dialogEditProduct.allChangePriceNum+t.price).toFixed(2))),t.comparePrice<t.price&&(t.comparePrice=t.price)})),this.dialogEditProduct.allChangePriceNum="",this.dialogEditProduct.AllActionPriceType="";break;case"Cprice":this.$refs.stocksTable.selection.forEach((function(t){1==e.dialogEditProduct.AllActionCPriceType&&e.$set(t,"comparePrice",e.dialogEditProduct.allChangeCPriceNum),2==e.dialogEditProduct.AllActionCPriceType&&e.$set(t,"comparePrice",Number((e.dialogEditProduct.allChangeCPriceNum/100*t.comparePrice).toFixed(2))),3==e.dialogEditProduct.AllActionCPriceType&&e.$set(t,"comparePrice",Number((e.dialogEditProduct.allChangeCPriceNum+t.comparePrice).toFixed(2))),t.comparePrice<t.price&&(t.comparePrice=t.price)})),this.dialogEditProduct.allChangeCPriceNum="",this.dialogEditProduct.AllActionCPriceType="";break;case"stock":this.$refs.stocksTable.selection.forEach((function(t){1==e.dialogEditProduct.AllActionStockType&&e.$set(t,"shopifyStock",e.dialogEditProduct.allChangeStockNum),3==e.dialogEditProduct.AllActionStockType&&e.$set(t,"shopifyStock",Number(e.dialogEditProduct.allChangeStockNum+t.shopifyStock))})),this.dialogEditProduct.allChangeStockNum="",this.dialogEditProduct.AllActionStockType="";break}this.dialogAllChecked(!1)},showInput:function(t){var e=this;switch(t){case"tag":this.shopifyTagInputVisible=!0,this.$nextTick((function(){e.$refs.saveTagInput.$refs.input.focus()}));break;case"type":this.shopifyTypeInputVisible=!0,this.$nextTick((function(){e.$refs.saveTypeInput.$refs.input.focus()}));break}},handleInputConfirm:function(t){var e="";switch(t){case"tag":e=this.shopifyTagInputValue,e&&this.dialogEditProduct.shopifyTag.push(e),this.shopifyTagInputVisible=!1,this.shopifyTagInputValue="";break;case"type":e=this.shopifyTypeInputValue,e&&this.dialogEditProduct.shopifyType.push(e),this.shopifyTypeInputVisible=!1,this.shopifyTypeInputValue="";break}},handleClose:function(t,e){switch(e){case"tag":this.dialogEditProduct.shopifyTag.splice(this.dialogEditProduct.shopifyTag.indexOf(t),1);break;case"type":this.dialogEditProduct.shopifyType.splice(this.dialogEditProduct.shopifyType.indexOf(t),1);break}},openDialogSelectImg:function(t){this.$emit("openDialogSelectImg",t)},tabClick:function(t){var e=this;setTimeout((function(){2==t.index?e.dialogEditProduct.stocks=e.dialogEditProduct.stocks2:e.dialogEditProduct.stocks=[]}),0)}}},A=$,N=(i("5eab"),Object(g["a"])(A,I,x,!1,null,null,null)),M=N.exports,L=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-dialog",{staticClass:"select-img",attrs:{visible:t.dialogSelectImg.isShow,width:"600px",title:"Select an image"},on:{"update:visible":function(e){return t.$set(t.dialogSelectImg,"isShow",e)}}},[i("div",{staticClass:"img-list"},t._l(t.dialogSelectImg.imgList,(function(e){return i("div",{key:e,staticClass:"img-wrap",class:{active:e==t.dialogSelectImg.selectImg},on:{click:function(i){return t.selectImg(e)}}},[i("i",{staticClass:"el-icon-circle-check"}),i("el-image",{staticStyle:{width:"115px",height:"115px"},attrs:{src:e,fit:"cover"}})],1)})),0),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.dialogSelectImg.isShow=!1}}},[t._v("Cancel")]),i("el-button",{attrs:{type:"primary"},on:{click:t.confirmSelectImg}},[t._v("OK")])],1)])},D=[],z={props:["dialogSelectImg","dialogEditProduct"],methods:{selectImg:function(t){this.dialogSelectImg.selectImg=t},confirmSelectImg:function(){this.dialogSelectImg.item?this.$set(this.dialogSelectImg.item,"propertyImage",this.dialogSelectImg.selectImg):this.$set(this.dialogEditProduct,"mainImg",this.dialogSelectImg.selectImg),this.dialogSelectImg.isShow=!1}}},O=z,F=(i("6027"),Object(g["a"])(O,L,D,!1,null,null,null)),V=F.exports,R=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:t.dialogPushSetting.loading,expression:"dialogPushSetting.loading"}],style:{overflow:t.dialogPushSetting.loading?"hidden":"auto"},attrs:{title:"Push setting","close-on-click-modal":!1,visible:t.dialogPushSetting.isShow},on:{"update:visible":function(e){return t.$set(t.dialogPushSetting,"isShow",e)}}},[i("div",{staticClass:"setting-range"},[i("div",{staticClass:"setting-opt"},[i("el-button",{attrs:{size:"mini"},on:{click:t.addRangeItem}},[t._v("+ Add Cost Range")])],1),t.dialogPushSetting.ranger.length?i("el-form",{ref:"settingRangeForm",staticStyle:{"margin-top":"0"},nativeOn:{submit:function(t){t.preventDefault()}}},[i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.dialogPushSetting.ranger,stripe:"",height:"300"}},[i("el-table-column",{attrs:{label:"Product Cost",width:"250",fixed:""},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.default?i("el-tag",{attrs:{type:"info"}},[t._v("Rest of the price ranges")]):[i("el-input-number",{staticClass:"mg-r-5",staticStyle:{width:"100px"},attrs:{min:0,size:"mini",precision:2,controls:!1},model:{value:e.row.from,callback:function(i){t.$set(e.row,"from",i)},expression:"scope.row.from"}}),i("i",{staticClass:"el-icon-right mg-r-5"}),i("el-input-number",{staticStyle:{width:"100px"},attrs:{min:0,size:"mini",precision:2,controls:!1},model:{value:e.row.to,callback:function(i){t.$set(e.row,"to",i)},expression:"scope.row.to"}})]]}}],null,!1,1542616766)}),i("el-table-column",{attrs:{label:"Shipping Cost",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-input-number",{staticStyle:{width:"100px"},attrs:{min:0,size:"mini",precision:2,controls:!1},model:{value:e.row.shippingCost,callback:function(i){t.$set(e.row,"shippingCost",i)},expression:"scope.row.shippingCost"}})]}}],null,!1,4280613481)}),i("el-table-column",{attrs:{label:"Price",width:"250"},scopedSlots:t._u([{key:"header",fn:function(e){return[i("span",{staticClass:" mg-r-20"},[t._v("Price")])]}},{key:"default",fn:function(e){return[i("el-input-number",{staticStyle:{"margin-right":"5px",width:"100px"},attrs:{min:0,size:"mini",controls:!1},model:{value:e.row.price,callback:function(i){t.$set(e.row,"price",i)},expression:"scope.row.price"}}),t.dialogPushSetting.fixedPrice?t._e():i("el-select",{staticStyle:{width:"100px"},attrs:{size:"mini"},model:{value:e.row.priceType,callback:function(i){t.$set(e.row,"priceType",i)},expression:"scope.row.priceType"}},[i("el-option",{attrs:{label:"Plus",value:"1"}}),i("el-option",{attrs:{label:"Multiply",value:"2"}}),i("el-option",{attrs:{label:"固定价格",value:"3"}})],1)]}}],null,!1,3196208076)}),i("el-table-column",{attrs:{label:"Compare Price",width:"250"},scopedSlots:t._u([{key:"header",fn:function(e){return[i("el-checkbox",{staticStyle:{"margin-right":"20px"},model:{value:t.dialogPushSetting.isComparePrice,callback:function(e){t.$set(t.dialogPushSetting,"isComparePrice",e)},expression:"dialogPushSetting.isComparePrice"}},[t._v(" Compare Price ")])]}},{key:"default",fn:function(e){return t.dialogPushSetting.isComparePrice?[i("el-input-number",{staticStyle:{"margin-right":"5px",width:"100px"},attrs:{min:0,size:"mini",controls:!1},model:{value:e.row.comparePrice,callback:function(i){t.$set(e.row,"comparePrice",i)},expression:"scope.row.comparePrice"}}),t.dialogPushSetting.fixedComparePrice?t._e():i("el-select",{staticStyle:{width:"100px"},attrs:{size:"mini"},model:{value:e.row.comparePriceType,callback:function(i){t.$set(e.row,"comparePriceType",i)},expression:"scope.row.comparePriceType"}},[i("el-option",{attrs:{label:"Plus",value:"1"}}),i("el-option",{attrs:{label:"Multiply",value:"2"}}),i("el-option",{attrs:{label:"固定价格",value:"3"}})],1)]:void 0}}],null,!0)}),i("el-table-column",{attrs:{label:"Action",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return e.row.default?void 0:[i("a",{staticClass:"tx-danger",attrs:{href:"javascript:;"},on:{click:function(i){return t.delRange(e.$index)}}},[i("i",{staticClass:"el-icon-delete"})])]}}],null,!0)})],1)],1):t._e(),i("div",[i("div",{staticStyle:{"margin-bottom":"5px","padding-left":"15px"}},[t._v(" You can set a specific cent value for your price or comparison price. ")]),i("div",{staticClass:"d-flex",staticStyle:{"margin-bottom":"5px",padding:"0 15px"}},[i("div",{staticStyle:{"margin-right":"30px"}},[i("el-checkbox",{staticStyle:{"margin-right":"10px"},attrs:{size:"mini"},model:{value:t.dialogPushSetting.isPriceCent,callback:function(e){t.$set(t.dialogPushSetting,"isPriceCent",e)},expression:"dialogPushSetting.isPriceCent"}},[t._v(" Assign Cent ")]),i("el-input-number",{staticStyle:{width:"80px"},attrs:{controls:!1,size:"mini"},model:{value:t.dialogPushSetting.priceCent,callback:function(e){t.$set(t.dialogPushSetting,"priceCent",e)},expression:"dialogPushSetting.priceCent"}})],1),i("div",{staticStyle:{"margin-right":"30px"}},[i("el-checkbox",{staticStyle:{"margin-right":"10px"},model:{value:t.dialogPushSetting.isComparePriceCent,callback:function(e){t.$set(t.dialogPushSetting,"isComparePriceCent",e)},expression:"dialogPushSetting.isComparePriceCent"}},[t._v(" Assign compare at Cent ")]),i("el-input-number",{staticStyle:{width:"80px"},attrs:{controls:!1,size:"mini"},model:{value:t.dialogPushSetting.comparePriceCent,callback:function(e){t.$set(t.dialogPushSetting,"comparePriceCent",e)},expression:"dialogPushSetting.comparePriceCent"}})],1)]),i("div",{staticClass:"d-flex",staticStyle:{padding:"0 15px"}},[i("div",[i("el-switch",{staticStyle:{"margin-right":"10px"},attrs:{"active-text":"Convert Currency"},model:{value:t.dialogPushSetting.convertCurrency,callback:function(e){t.$set(t.dialogPushSetting,"convertCurrency",e)},expression:"dialogPushSetting.convertCurrency"}}),t._v(" According to store currency ")],1)])])],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-link",{directives:[{name:"loading",rawName:"v-loading",value:t.dialogPushSetting.psLoading,expression:"dialogPushSetting.psLoading"}],staticStyle:{"margin-right":"10px"},attrs:{disabled:t.dialogPushSetting.psLoading,type:"primary"},on:{click:t.applyPriceSetting}},[t._v("Apply for products in Import List")]),i("el-button",{on:{click:function(e){t.dialogPushSetting.isShow=!1}}},[t._v("Cancel")]),i("el-button",{attrs:{type:"primary",loading:t.dialogPushSetting.loading},on:{click:function(e){return t.savePushSetting()}}},[t._v(" Save ")])],1)])},j=[],J={props:["dialogPushSetting"],methods:{delRange:function(t){this.dialogPushSetting.ranger.splice(t,1)},addRangeItem:function(){this.dialogPushSetting.ranger.unshift({from:0,to:.01,shippingCost:0,price:1,priceType:"1",comparePrice:1,comparePriceType:"2"})},savePushSetting:function(t){this.$emit("savePushSetting",t)},applyPriceSetting:function(){this.savePushSetting(!0)}}},U=J,W=(i("f42a"),Object(g["a"])(U,R,j,!1,null,null,null)),B=W.exports,q=i("bf38"),K={props:["fromPage"],data:function(){var t=this;return{loading:!1,pageKey:(new Date).valueOf(),pageTime:0,tabsArr:[{name:"Waiting",routerName:"WaitingImport",id:"1"},{name:"Processing",routerName:"inImport",id:"2"},{name:"Completed",routerName:"imported",id:"3"},{name:"Failed",routerName:"importFailure",id:"4"}],activeName:1,loadingImport:!1,importUrl:"",pageSizes:[10,20,50],page:this.$route.query.page?Number(this.$route.query.page):1,rowsPerPage:localStorage.getItem("c_importPerPage2")?Number(localStorage.getItem("c_importPerPage2")):10,total:0,totalPage:0,items:[],pushLoading:!1,delLoading:!1,exportLoading:!1,tags:[],stores:[],filtersParams:{nameIpt:"",accountIdIpt:"",name:"",accountId:[]},filtersParamsDefault:"{}",shopOptArr:[],filterAccountProps:{lazy:!0,lazyLoad:function(e,i){e.level<2?i(e):t.$apiCall("api.Product.getCollections",{id:e.value},(function(e){if(9999==e.ErrorCode){var a=[];Object.keys(e.Data.Results).length?Object.keys(e.Data.Results).forEach((function(t){a.push({value:t,label:e.Data.Results[t],leaf:!0}),i(a)})):i([])}else t.$elementMessage(e.Message,"error")}))}},dialogPush:{isShow:!1,loading:!1,shopList:[],items:[],isAction:!0,published:!1},dialogPushDefault:"{}",dialogTagManagement:{isShow:!1,loading:!1,tags:[],addMode:!1,addNewLoading:!1,tagIpt:""},dialogTagManagementDefault:"{}",dialogEditProduct:{isShow:!1,loading:!1,id:"",name:"",mainImg:"",imgsJson:[],propertyName:[],shopifyTag:[],shopifyType:[],readyStoresLoading:!1,storesItems:[],collectionStoreId:"",getCollectionsLoading:!1,collectionItems:[],collectionId:"",shopifyVendor:"",description:"",stocks:[],stocks2:[],AllActionPriceType:"",allChangePriceNum:"",AllActionCPriceType:"",allChangeCPriceNum:"",AllActionStockType:"",allChangeStockNum:"",activeTab:"0"},dialogEditProductDefault:"{}",dialogSelectImg:{isShow:!1,imgList:[],selectImg:"",items:null},dialogSelectImgDefault:"{}",currency:"",dialogPushSetting:{isShow:!1,loading:!1,ranger:[],isComparePrice:!1,isPriceCent:!1,isComparePriceCent:!1,priceCent:0,comparePriceCent:0,convertCurrency:!1,psLoading:!1},dialogPushSettingDefault:"{}",tab2Loading:!0,allCnt:0,doneCnt:0,tab:{name:"Waiting",routerName:"WaitingImport",id:"1"}}},computed:{AllChecked:function(){var t=this,e=!0;return this.items.length?this.items.forEach((function(i){i.checked||1==t.activeName&&"1"!=i.status||(e=!1)})):e=!1,e},SelectedPushStoresNum:function(){var t=0;return this.dialogPush.shopList.forEach((function(e){e.data.forEach((function(e){(e.checked&&1==e.platform||e.checked&&1!=e.platform)&&t++}))})),t}},components:{DialogPush:v,DialogManagement:w,DialogEditProduct:M,DialogSelectImg:V,DialogPushSetting:B,subPage:q["default"]},watch:{$route:"gotoPage",activeName:function(){this.resetPage()}},created:function(){var t=this,e="";this.tabsArr.forEach((function(i){i.routerName==t.$route.name&&(e=i.id)})),this.activeName=e||"1"},mounted:function(){this.dialogPushDefault=JSON.stringify(this.dialogPush),this.dialogTagManagementDefault=JSON.stringify(this.dialogTagManagement),this.dialogEditProductDefault=JSON.stringify(this.dialogEditProduct),this.dialogSelectImgDefault=JSON.stringify(this.dialogSelectImg),this.dialogPushSettingDefault=JSON.stringify(this.dialogPushSetting),this.filtersParamsDefault=JSON.stringify(this.filtersParams),this.getItems(),this.getTagList("page"),this.getPageStores(),"2"==this.activeName&&this.getImportTask()},beforeDestroy:function(){clearInterval(this.pageTime),this.timer=0},methods:{gotoImportList:function(t){var e=this;this.$confirm("Are you sure you want to push?","Tips",{confirmButtonText:"Confirm",cancelButtonText:"Cancel"}).then((function(){e.loading=!0,e.$apiCall("api.Product.reAddToImport",{ids:t},(function(t){"9999"==t.ErrorCode?(e.getItems(!0),e.$elementMessage("success","success")):e.$elementMessage(t.Message,"error")}))}))},delItem2:function(t){var e=this;this.$confirm("Do you want to delete tish task?","Tips",{confirmButtonText:"Confirm",cancelButtonText:"Cancel",confirmButtonClass:"el-button--danger",type:"warning"}).then((function(){e.$apiCall("api.Product.delImportTaskDetail",{ids:t},(function(t){"9999"==t.ErrorCode?(e.getItems(!0),e.$elementMessage("Delete Completed","success")):e.$elementMessage(t.Message,"error")}))})).catch((function(){}))},clearFilter:function(){this.filtersParams=JSON.parse(this.filtersParamsDefault),this.toPage(1)},setFilter:function(){this.filtersParams.name=this.filtersParams.nameIpt,this.filtersParams.accountId=this.filtersParams.accountIdIpt,this.toPage(1)},getImportTask:function(){var t=this;this.$apiCall("api.Product.findsImportTask",{},(function(e){9999==e.ErrorCode&&(t.doneCnt=t.allCnt=0,e.Data.Results&&e.Data.Results.length&&e.Data.Results.forEach((function(e){t.doneCnt+=Number(e.doneCnt),t.allCnt+=Number(e.allCnt)})))}))},savePushSetting:function(t){var e=this;this.dialogPushSetting.loading=!0;var i={};i=this.dialogPushSetting.ranger[this.dialogPushSetting.ranger.length-1],delete i.default;var a=[];this.dialogPushSetting.ranger.forEach((function(t,i){i<e.dialogPushSetting.ranger.length-1&&a.push(t)}));var o={importPriceSetting:{range:a,default:i,isComparePrice:this.dialogPushSetting.isComparePrice?1:2,isPriceCent:this.dialogPushSetting.isPriceCent?1:2,isComparePriceCent:this.dialogPushSetting.isComparePriceCent?1:2,priceCent:this.dialogPushSetting.priceCent,comparePriceCent:this.dialogPushSetting.comparePriceCent,convertCurrency:this.dialogPushSetting.convertCurrency?1:2}};this.$Burying({object:"8007"}),this.$apiCall("api.Product.setImportPrice",o,(function(i){e.dialogPushSetting.loading=!1,9999==i.ErrorCode?(t?(e.$elementMessage("The update  has started, it will take a while to finish.","success"),e.$apiCall("api.Product.applyPriceSetting",{},(function(t){9999!=t.ErrorCode&&e.$elementMessage(t.Message,"error")}))):e.dialogPushSetting.isShow=!1,e.$elementMessage("save successfully","success")):e.$elementMessage(i.Message,"error")}))},openPushSetting:function(){var t=this;this.dialogPushSetting=JSON.parse(this.dialogPushSettingDefault),this.tab2Loading=!1,this.dialogPushSetting.isShow=!0,this.dialogPushSetting.loading=!0,this.$apiCall("api.Product.getImportPrice",{},(function(e){if(t.dialogPushSetting.loading=!1,9999==e.ErrorCode){var i=e.Data.Results,a={comparePrice:0,comparePriceType:"2",price:0,priceType:"1",shippingCost:0,default:1};if(!i)return void t.dialogPushSetting.ranger.push(a);i.default&&(a=i.default),a.default=1,t.dialogPushSetting.ranger=i.range.map((function(t){return t})),t.dialogPushSetting.ranger.push(a),t.dialogPushSetting.isComparePrice=1==i.isComparePrice,t.dialogPushSetting.isPriceCent=1==i.isPriceCent,t.dialogPushSetting.isComparePriceCent=1==i.isComparePriceCent,t.dialogPushSetting.priceCent=i.priceCent,t.dialogPushSetting.comparePriceCent=i.comparePriceCent,t.dialogPushSetting.convertCurrency=1==i.convertCurrency}else t.$elementMessage(e.Message,"error"),t.dialogPushSetting.isShow=!1}))},getPageStores:function(){var t=this;this.$apiCall("api.Invoice.findStores",{authStatus:1},(function(e){if(9999==e.ErrorCode){t.currency=e.Data.Results[0].currency?e.Data.Results[0].currency:"USD",t.stores=[],t.shopOptArr=[];var i={1:"Shopify",2:"Woocommerce",3:"Lazada",4:"Shopee",5:"Wayfair"},a=function(t,e){var i=new Map;return t.filter((function(t){return!i.has(t[e])&&i.set(t[e],1)}))};e.Data.Results.forEach((function(e){e.fChecked=!1,t.stores.push(e),t.shopOptArr.push({value:e.platform,label:i[e.platform],children:[]})})),t.shopOptArr=a(t.shopOptArr,"value"),e.Data.Results.forEach((function(e){t.shopOptArr.forEach((function(t){e.platform==t.value&&t.children.push({value:e.id,label:e.shopName,children:[],leaf:!0})}))}))}}))},saveEditProduct:function(){var t=this;this.dialogEditProduct.loading=!0;var e={id:this.dialogEditProduct.id,name:this.dialogEditProduct.name,mainImg:this.dialogEditProduct.mainImg,imgsJson:this.dialogEditProduct.imgsJson,description:this.dialogEditProduct.description,shopifyVendor:this.dialogEditProduct.shopifyVendor,shopifyTag:this.dialogEditProduct.shopifyTag.join(","),shopifyType:this.dialogEditProduct.shopifyType.join(","),skuData:{}};this.dialogEditProduct.stocks.forEach((function(t){t.propertyValue=t.propertyValue.join("||"),e.skuData[t.id]=t})),this.$Burying({object:"8003"}),this.$apiCall("api.Product.changeImportProduct",e,(function(e){t.dialogEditProduct.loading=!1,9999==e.ErrorCode?(t.dialogEditProduct.isShow=!1,t.getItems(!0)):t.$elementMessage(e.Message,"error")}))},openDialogSelectImg:function(t){this.dialogSelectImg=JSON.parse(this.dialogSelectImgDefault),this.dialogSelectImg.imgList=this.dialogEditProduct.imgsJson,this.dialogSelectImg.item=t,this.dialogSelectImg.isShow=!0},editProduct:function(t){var e=this;this.loading=!0,setTimeout((function(){t=JSON.parse(JSON.stringify(t)),e.dialogEditProduct=JSON.parse(e.dialogEditProductDefault),e.dialogEditProduct.id=t.id,e.dialogEditProduct.name=t.name,e.dialogEditProduct.mainImg=t.mainImg,e.dialogEditProduct.propertyName=t.propertyName?t.propertyName.split("||"):[],e.dialogEditProduct.shopifyTag=t.shopifyTag?t.shopifyTag.split(","):[],e.dialogEditProduct.shopifyType=t.shopifyType?t.shopifyType.split(","):[],e.dialogEditProduct.shopifyVendor=t.shopifyVendor,e.dialogEditProduct.description=t.description,e.dialogEditProduct.stocks=[],e.dialogEditProduct.stocks2=[],t.stocks.forEach((function(t){t.propertyValue=t.propertyValue?t.propertyValue.split("||"):[],e.dialogEditProduct.stocks2.push(t)})),e.dialogEditProduct.mainImg=t.mainImg,console.log(t),e.dialogEditProduct.imgsJson=JSON.parse(JSON.stringify(t.imgsJson)),e.dialogEditProduct.isShow=!0,e.$nextTick((function(){e.$refs.tableForm&&e.$refs.tableForm.bodyWrapper&&(e.$refs.tableForm.bodyWrapper.scrollTop=0,e.$refs.tableFrom.bodyWrapper.scrollLeft=0)}))}),0)},delItem:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e.length&&this.$confirm("Do you want to delete the ".concat(e.length," product(s)?"),"",{cancelButtonText:"Discard",confirmButtonText:"Delete",confirmButtonClass:"el-button--danger",type:"warning"}).then((function(){t.delLoading=!0,t.$apiCall("api.Product.deleteImportProduct",{ids:e},(function(i){t.pushLoading=!1,t.delLoading=!1,t.$Burying({object:"8002",objectId:e.join(",")}),9999==i.ErrorCode?(t.$elementMessage("Delete success","success"),t.changeAllItems(!1),t.getItems(!0)):t.$elementMessage(i.Message,"error")}))})).catch((function(){}))},expItem:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e.length&&this.$confirm("Do you want to Export the ".concat(e.length," product(s)?"),"",{cancelButtonText:"Discard",confirmButtonText:"Export",type:"info"}).then((function(){t.exportLoading=!0,t.$apiCall("api.Product.exportImportProduct",{productIds:e},(function(e){t.pushLoading=!1,9999==e.ErrorCode?(t.exportLoading=!1,t.$elementMessage("Export success","success"),window.open(e.Data.Results.file,"_blank"),t.changeAllItems(!1),t.getItems(!0)):t.$elementMessage(e.Message,"error")}))})).catch((function(){}))},batItems:function(t){var e=this,i=[];if(this.items.forEach((function(t){!t.checked||"1"!=t.status&&"4"!=e.activeName||(t.pushRe=[],i.push(t))})),i.length){var a=[];switch(i.forEach((function(t){a.push(t.id)})),t){case"push":this.pushItem(i);break;case"export":this.expItem(a);break;case"del":this.delItem(a);break;case"addTags":this.itemsAddTags(a);break;case"importList":this.gotoImportList(a);break}}else this.$elementMessage("Please select the products","error")},getTagList:function(t){var e=this;"dialog"!=t&&t||(this.dialogTagManagement.loading=!0),this.$apiCall("api.Product.getTag",{},(function(i){"dialog"!=t&&t||(e.dialogTagManagement.loading=!1),9999==i.ErrorCode?("dialog"==t&&(e.dialogTagManagement.tags=[],i.Data.Results.forEach((function(t){t.edit=!1,t.ipt=t.name,e.dialogTagManagement.tags.push(t)})),e.$refs.dialogTagMgr.$refs.tagListTable.bodyWrapper.scrollTop=0),"page"!=t&&t||(e.tags=[],i.Data.Results.forEach((function(t){t.checked=!1,t.fChedked=!1,e.tags.push(t)})))):e.$elementMessage(i.Message,"error")}))},openTagMgt:function(){this.dialogTagManagement=JSON.parse(this.dialogTagManagementDefault),this.dialogTagManagement.isShow=!0,this.getTagList()},pushSuccess:function(){this.activeName="2",this.handleClick(this.$refs.mainTab[1])},handleClick:function(t){clearInterval(this.pageTime),this.items=[],this.pageKey=(new Date).valueOf(),this.tabsArr[t.index].routerName!=this.$route.name?this.$router.push({name:this.tabsArr[t.index].routerName}):this.resetPage()},importPorduct:function(t){var e=this;t?(this.loadingImport=!0,this.$Burying({object:"8006",objectUrl:t}),this.$apiCall("api.Product.importPorduct",{url:t},(function(t){e.loadingImport=!1,9999==t.ErrorCode?(e.$elementMessage("Import success","success"),e.toPage(1)):e.$elementMessage(t.Message,"error")}))):this.$elementMessage("URL required","error")},getItems:function(t,e){var i=this;e||(this.loading=!0);var a={page:this.page,rowsPerPage:this.rowsPerPage,tagIds:[],accountIds:[]},o="api.Product.findsImportTaskDetail";"WaitingImport"!=this.$route.name&&"home"!=this.fromPage||(a.status="1",o="api.Product.findImportProduct"),"imported"!=this.$route.name&&"importFailure"!=this.$route.name||(a.nameLike=this.filtersParams.name,this.filtersParams.accountId.length&&(a.accountId=this.filtersParams.accountId[this.filtersParams.accountId.length-1])),a.status=this.activeName,this.$apiCall(o,a,(function(e){i.loading=!1;var a=function(t){var e="---";if(t.stocks&&t.stocks.length){var a=0,o=0;t.stocks.some((function(t){if(t.price)return a=o=Number(t.price),!0})),t.stocks.forEach((function(t){t.price&&a>Number(t.price)&&(a=Number(t.price)),t.price&&o<Number(t.price)&&(o=Number(t.price))})),e=a==o?a.toFixed(2):"".concat(a," - ").concat(o)}return"".concat(i.currency,"  ").concat(e)};9999==e.ErrorCode&&(i.items=[],"WaitingImport"==i.$route.name||"home"==i.fromPage?e.Data.Results.forEach((function(t,e){t.imgsJson&&(t.imgsJson=JSON.parse(t.imgsJson)),t.checked=!1,t.tagsVisible=!1,t.yourPrice=a(t),i.items.push(t)})):e.Data.Results.forEach((function(t){t.checked=!1,t.mainImg=t.product.mainImg,t.name=t.product.name,t.originUrl=t.product.originUrl,t.yourPrice=a(t),i.items.push(t)})),i.total=Number(e.Data.Pagination.totalCount),i.totalPage=Number(e.Data.Pagination.totalPage),t||(i.$root.$children[0].$refs.mainScroll.wrap.scrollTop=0))}))},itemsAddTags:function(t){var e=this,i=[];this.tags.forEach((function(t){t.checked&&i.push(t.id)})),i.length?(this.loading=!0,this.$apiCall("api.Product.addTag",{ids:t,tags:i},(function(t){9999==t.ErrorCode?(e.removeCheckedTags(),e.$elementMessage("Tags added successfully","success"),e.getItems()):e.$elementMessage(t.Message,"error")}))):this.$elementMessage("Please select the tags","error")},removeCheckedTags:function(){this.tags.forEach((function(t){t.checked=!1}))},getPageTags:function(){var t=this;this.$apiCall("api.Product.getTag",{},(function(e){t.tags=[],e.Data.Results.forEach((function(e){e.checked=!1,e.fChedked=!1,t.tags.push(e)}))}))},pushItem:function(t){var e=this;this.dialogPush=JSON.parse(this.dialogPushDefault),this.dialogPush.isShow=!0,this.$set(this.dialogPush,"items",t),this.dialogPush.items.splice(0,0),this.dialogPush.loading=!0,this.$apiCall("api.Invoice.findStores",{authStatus:1},(function(t){e.dialogPush.loading=!1,9999==t.ErrorCode?(e.dialogPush.shopList=[],t.Data.Results.forEach((function(t){t.loading=!1,t.checked=!1,t.selectCollection="",t.collections=[],t.disabled=!1,e.dialogPush.shopList.push(t)})),e.dialogPush.shopList=e.groupBy(e.dialogPush.shopList),e.dialogPush.isShow=!0):e.$elementMessage(t.Message,"error")}))},singPush:function(t){t.pushRe=[],this.pushItem([t])},groupBy:function(t){for(var e={},i=[],a=0;a<t.length;a++){var o=t[a];if(e[o.platform])for(var s=0;s<i.length;s++){var n=i[s];if(n.platform==o.platform){n.data.push(o);break}}else i.push({platform:o.platform,data:[o]}),e[o.platform]=o}return i},changeAllItems:function(t){var e=this;this.items.forEach((function(i){"1"==e.activeName&&"1"!=i.status||e.$set(i,"checked",t)}))},toPage:function(t){t!=this.$route.query.page?this.$router.push({query:{page:t}}):this.getItems()},changePageSize:function(t){this.rowsPerPage=t,localStorage.setItem("c_importPerPage2",t),this.getItems()},gotoPage:function(){var t=this;this.$nextTick((function(){t.page=t.$route.query.page?t.$route.query.page:1,t.getItems()}))},resetPage:function(){var t=this;clearInterval(this.pageTime),this.timer=0,this.filtersParams=JSON.parse(this.filtersParamsDefault),"1"==this.activeName&&(this.getTagList("page"),this.getItems()),"4"==this.activeName&&this.getItems(),"2"!=this.activeName&&"3"!=this.activeName||(this.pageTime=setInterval((function(){t.getItems(void 0,"noLoading"),"2"==t.activeName&&t.getImportTask()}),3e3))}}},H=K,Q=(i("d02d"),Object(g["a"])(H,a,o,!1,null,null,null));e["default"]=Q.exports},"332d":function(t,e,i){},3880:function(t,e,i){},"4ec9":function(t,e,i){"use strict";var a=i("6d61"),o=i("6566");t.exports=a("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),o)},"5eab":function(t,e,i){"use strict";i("fc44")},6027:function(t,e,i){"use strict";i("cc8e")},6566:function(t,e,i){"use strict";var a=i("9bf2").f,o=i("7c73"),s=i("e2cc"),n=i("0366"),r=i("19aa"),l=i("2266"),c=i("7dd0"),d=i("2626"),u=i("83ab"),g=i("f183").fastKey,p=i("69f3"),h=p.set,m=p.getterFor;t.exports={getConstructor:function(t,e,i,c){var d=t((function(t,a){r(t,d,e),h(t,{type:e,index:o(null),first:void 0,last:void 0,size:0}),u||(t.size=0),void 0!=a&&l(a,t[c],{that:t,AS_ENTRIES:i})})),p=m(e),f=function(t,e,i){var a,o,s=p(t),n=P(t,e);return n?n.value=i:(s.last=n={index:o=g(e,!0),key:e,value:i,previous:a=s.last,next:void 0,removed:!1},s.first||(s.first=n),a&&(a.next=n),u?s.size++:t.size++,"F"!==o&&(s.index[o]=n)),t},P=function(t,e){var i,a=p(t),o=g(e);if("F"!==o)return a.index[o];for(i=a.first;i;i=i.next)if(i.key==e)return i};return s(d.prototype,{clear:function(){var t=this,e=p(t),i=e.index,a=e.first;while(a)a.removed=!0,a.previous&&(a.previous=a.previous.next=void 0),delete i[a.index],a=a.next;e.first=e.last=void 0,u?e.size=0:t.size=0},delete:function(t){var e=this,i=p(e),a=P(e,t);if(a){var o=a.next,s=a.previous;delete i.index[a.index],a.removed=!0,s&&(s.next=o),o&&(o.previous=s),i.first==a&&(i.first=o),i.last==a&&(i.last=s),u?i.size--:e.size--}return!!a},forEach:function(t){var e,i=p(this),a=n(t,arguments.length>1?arguments[1]:void 0,3);while(e=e?e.next:i.first){a(e.value,e.key,this);while(e&&e.removed)e=e.previous}},has:function(t){return!!P(this,t)}}),s(d.prototype,i?{get:function(t){var e=P(this,t);return e&&e.value},set:function(t,e){return f(this,0===t?0:t,e)}}:{add:function(t){return f(this,t=0===t?0:t,t)}}),u&&a(d.prototype,"size",{get:function(){return p(this).size}}),d},setStrong:function(t,e,i){var a=e+" Iterator",o=m(e),s=m(a);c(t,e,(function(t,e){h(this,{type:a,target:t,state:o(t),kind:e,last:void 0})}),(function(){var t=s(this),e=t.kind,i=t.last;while(i&&i.removed)i=i.previous;return t.target&&(t.last=i=i?i.next:t.state.first)?"keys"==e?{value:i.key,done:!1}:"values"==e?{value:i.value,done:!1}:{value:[i.key,i.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),i?"entries":"values",!i,!0),d(e)}}},"6d61":function(t,e,i){"use strict";var a=i("23e7"),o=i("da84"),s=i("94ca"),n=i("6eeb"),r=i("f183"),l=i("2266"),c=i("19aa"),d=i("861d"),u=i("d039"),g=i("1c7e"),p=i("d44e"),h=i("7156");t.exports=function(t,e,i){var m=-1!==t.indexOf("Map"),f=-1!==t.indexOf("Weak"),P=m?"set":"add",v=o[t],y=v&&v.prototype,b=v,C={},S=function(t){var e=y[t];n(y,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(f&&!d(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return f&&!d(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(f&&!d(t))&&e.call(this,0===t?0:t)}:function(t,i){return e.call(this,0===t?0:t,i),this})},k=s(t,"function"!=typeof v||!(f||y.forEach&&!u((function(){(new v).entries().next()}))));if(k)b=i.getConstructor(e,t,m,P),r.REQUIRED=!0;else if(s(t,!0)){var w=new b,I=w[P](f?{}:-0,1)!=w,x=u((function(){w.has(1)})),E=g((function(t){new v(t)})),T=!f&&u((function(){var t=new v,e=5;while(e--)t[P](e,e);return!t.has(-0)}));E||(b=e((function(e,i){c(e,b,t);var a=h(new v,e,b);return void 0!=i&&l(i,a[P],{that:a,AS_ENTRIES:m}),a})),b.prototype=y,y.constructor=b),(x||T)&&(S("delete"),S("has"),m&&S("get")),(T||I)&&S(P),f&&y.clear&&delete y.clear}return C[t]=b,a({global:!0,forced:b!=v},C),p(b,t),f||i.setStrong(b,t,m),b}},"6e18":function(t,e,i){},"7c67":function(t,e,i){"use strict";i("bc47")},9414:function(t,e,i){"use strict";i("332d")},bb2f:function(t,e,i){var a=i("d039");t.exports=!a((function(){return Object.isExtensible(Object.preventExtensions({}))}))},bc47:function(t,e,i){},bf38:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",["1"==t.tab.id?[i("el-alert",{staticStyle:{"margin-bottom":"10px"},attrs:{title:"You can import and manage your AliExpress / Amazon products here before publishing them to your Shopify store. You can publish a product to different stores and add multiple tags to each products.",type:"info","show-icon":""}}),i("div",{staticClass:"import-ipt-box"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.importUrl,expression:"importUrl"}],attrs:{type:"text",placeholder:'Import Aliexpress / Amazon product URL here and click "Import Product"'},domProps:{value:t.importUrl},on:{input:function(e){e.target.composing||(t.importUrl=e.target.value)}}}),i("el-button",{attrs:{type:"primary",loading:t.loadingImport},on:{click:t.importPorduct}},[t._v("Import Product")])],1)]:t._e(),i("div",{ref:"pageFilter",staticClass:"page-filter"},["3"==t.tab.id||"4"==t.tab.id?i("div",{staticClass:"filter-row"},[i("el-form",{attrs:{inline:!0,size:"mini"}},[i("el-form-item",[i("el-input",{attrs:{placeholder:"Product Name"},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.setFilter(e)}},model:{value:t.filtersParams.nameIpt,callback:function(e){t.$set(t.filtersParams,"nameIpt",e)},expression:"filtersParams.nameIpt"}},[i("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:t.setFilter},slot:"append"})],1)],1),i("el-form-item",[i("el-cascader",{attrs:{placeholder:"All Stores",options:t.shopOptArr,props:t.filterAccountProps,"show-all-levels":!1,clearable:!0},on:{change:t.setFilter},model:{value:t.filtersParams.accountIdIpt,callback:function(e){t.$set(t.filtersParams,"accountIdIpt",e)},expression:"filtersParams.accountIdIpt"}})],1),i("el-form-item",[i("el-button",{attrs:{type:"primary"},on:{click:t.setFilter}},[t._v("Filter")]),i("el-button",{attrs:{type:"danger"},on:{click:t.clearFilter}},[t._v("Clear")])],1)],1)],1):t._e(),"1"==t.tab.id||"4"==t.tab.id?i("div",{staticClass:"push-row"},[i("div",{staticClass:"left"},[i("el-checkbox",{staticStyle:{"margin-right":"15px"},attrs:{value:t.AllChecked},on:{change:function(e){return t.changeAllItems(e)}}},[t._v("All ")]),"1"==t.tab.id?[i("el-button",{attrs:{type:"primary",size:"mini",loading:t.pushLoading,id:"importPush"},on:{click:function(e){return t.batItems("push")}}},[i("span",{attrs:{id:"importPushInner"}},[t._v("Push")])]),i("el-button",{attrs:{type:"success",size:"mini",loading:t.exportLoading},on:{click:function(e){return t.batItems("export")}}},[t._v("Export")]),i("el-button",{staticStyle:{"margin-right":"10px"},attrs:{type:"danger",size:"mini",loading:t.delLoading},on:{click:function(e){return t.batItems("del")}}},[t._v("Delete")]),i("el-dropdown",{ref:"tagMgt",staticStyle:{top:"-1px"},attrs:{trigger:"click"}},[i("el-button",{attrs:{size:"mini"}},[t._v(" Add Tags "),i("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("div",{staticClass:"add-tags-wrap"},[i("div",{staticClass:"header"},[i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.openTagMgt}},[t._v("+ Tag management")])],1),i("div",{staticClass:"check-wrap"},t._l(t.tags,(function(e){return i("el-checkbox",{key:e.id,model:{value:e.checked,callback:function(i){t.$set(e,"checked",i)},expression:"tag.checked"}},[t._v(t._s(e.name))])})),1),i("div",{staticClass:"footer"},[i("el-button",{attrs:{size:"mini",type:"danger"},on:{click:t.removeCheckedTags}},[t._v("Clear")]),i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){return t.batItems("addTags")}}},[t._v("Confirm")])],1)])])],1)]:"4"==t.tab.id?[i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.batItems("importList")}}},[t._v("Push")])]:t._e()],2),i("div",{staticClass:"right"},[i("el-button",{attrs:{size:"small",icon:"el-icon-setting"},on:{click:t.openPushSetting}},[t._v("Push Setting")])],1)]):t._e(),"2"==t.tab.id&&(t.doneCnt||t.allCnt)&&t.items.length?i("div",{staticClass:"progress-wrap"},[i("span",{staticClass:"title"},[t._v("Upload Progress:")]),i("div",{staticClass:"progress-box"},[i("el-progress",{attrs:{"stroke-width":22,percentage:parseInt(this.doneCnt/this.allCnt*100)}})],1)]):t._e()]),i("div",[i("el-table",{ref:"importListTable",staticStyle:{width:"100%"},attrs:{data:t.items,stripe:""}},["2"==t.tab.id?i("el-table-column",{attrs:{label:"Status",align:"center",width:"70"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("div",["2"==e.row.status?i("i",{staticClass:"el-icon-loading",staticStyle:{"font-size":"18px"}}):t._e(),"3"==e.row.status?i("i",{staticClass:"el-icon-success tx-success",staticStyle:{"font-size":"18px"}}):t._e(),"4"==e.row.status?i("i",{staticClass:"el-icon-error tx-danger",staticStyle:{"font-size":"18px"}}):t._e()])]}}],null,!1,3962223520)}):t._e(),"1"==t.tab.id||"4"==t.tab.id?i("el-table-column",{attrs:{align:"center",width:"40"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-checkbox",{attrs:{disabled:"1"!=e.row.status&&"1"==t.tab.id},model:{value:e.row.checked,callback:function(i){t.$set(e.row,"checked",i)},expression:"scope.row.checked"}})]}}],null,!1,2200968333)}):t._e(),i("el-table-column",{attrs:{label:"Images",align:"center",width:"90"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("div",{staticClass:"img-wrap"},["1"!=e.row.status&&"1"==t.tab.id?i("div",{staticClass:"mask"},[t._v("Sold Out")]):t._e(),i("el-image",{staticStyle:{width:"70px",height:"70px",border:"1px solid #DCDFE6"},attrs:{fit:"cover",src:e.row.mainImg,"preview-src-list":[e.row.mainImg]}},[i("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[i("i",{staticClass:"el-icon-picture-outline"})])])],1)]}}])}),i("el-table-column",{attrs:{label:"Product Name"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("div",{staticClass:" tx-ellipsis2"},[i("span",[t._v(t._s(e.row.name))])])]}}])}),"1"!=t.tab.id?i("el-table-column",{attrs:{label:"Store Name"},scopedSlots:t._u([{key:"default",fn:function(e){return e.row.shop?[t._v(" "+t._s(e.row.shop.shopName)+" ")]:void 0}}],null,!0)}):t._e(),i("el-table-column",{attrs:{label:"Price",align:"center"}},[i("el-table-column",{attrs:{label:"Supply unit price",width:"140"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("div",[t._v(" "+t._s(t.showPrice(e.row))+" ")])]}}])}),i("el-table-column",{attrs:{label:"Your price",width:"220"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("div",[t._v(" "+t._s(e.row.yourPrice)+" ")])]}}])})],1),"4"==t.tab.id?i("el-table-column",{attrs:{label:"Fail reason"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.extra?i("div",{staticClass:" tx-danger"},[t._v(" "+t._s(e.row.extra.message)+" ")]):i("div",[t._v("---")])]}}],null,!1,2350062661)}):t._e(),"2"!=t.tab.id?i("el-table-column",{attrs:{label:"Action",width:"1"==t.tab.id?250:200},scopedSlots:t._u([{key:"default",fn:function(e){return["1"==t.tab.id?i("div",[i("el-button",{attrs:{type:"primary",size:"small",disabled:"1"!=e.row.status},on:{click:function(i){return t.singPush(e.row)}}},[t._v("Push")]),i("el-button",{attrs:{type:"success",size:"small",disabled:"1"!=e.row.status},on:{click:function(i){return t.editProduct(e.row)}}},[t._v("Edit")]),i("el-button",{attrs:{type:"danger",size:"small",disabled:"1"!=e.row.status},on:{click:function(i){return t.delItem([e.row.id])}}},[t._v("Delete")])],1):t._e(),"3"==t.tab.id?i("div",[i("el-link",{staticClass:" mg-r-15",attrs:{type:"primary",href:e.row.productUrl,target:"_blank"}},[t._v("Open in Web")]),i("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(i){return t.delItem2([e.row.id])}}},[t._v("Delete")])],1):t._e(),"4"==t.tab.id?i("div",[i("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(i){return t.gotoImportList([e.row.id])}}},[t._v("Push")])],1):t._e()]}}],null,!1,817257696)}):t._e()],1)],1)],2)},o=[],s=(i("99af"),i("a9e3"),i("b680"),i("159b"),{props:["tab","loadingImport","pushLoading","exportLoading","delLoading","items","AllChecked","tags","allCnt","doneCnt","filtersParams","filterAccountProps","shopOptArr"],data:function(){return{importUrl:""}},methods:{gotoImportList:function(t){this.$emit("gotoImportList",t)},delItem2:function(t){this.$emit("delItem2",t)},clearFilter:function(){this.$emit("clearFilter")},setFilter:function(){this.$emit("setFilter")},openPushSetting:function(){this.$emit("openPushSetting")},delItem:function(t){this.$emit("delItem",t)},importPorduct:function(){this.$emit("importPorduct",this.importUrl),this.importUrl=""},changeAllItems:function(t){this.$emit("changeAllItems",t)},batItems:function(t){this.$emit("batItems",t),"addTags"==t&&this.$refs["tagMgt"].hide()},openTagMgt:function(){this.$emit("openTagMgt")},removeCheckedTags:function(){this.$emit("removeCheckedTags")},showPrice:function(t){var e="---",i=0,a=0;return t.stocks.some((function(t){if(t.costPrice)return i=a=Number(t.costPrice),!0})),t.stocks.forEach((function(t){t.costPrice&&i>Number(t.costPrice)&&(i=Number(t.costPrice)),t.costPrice&&a<Number(t.costPrice)&&(a=Number(t.costPrice))})),e=i==a?i.toFixed(2):"".concat(i," - ").concat(a),"".concat(t.stocks.length?t.stocks[0].currency:""," ").concat(e)},singPush:function(t){this.$emit("singPush",t)},editProduct:function(t){this.$emit("editProduct",t)}}}),n=s,r=(i("9414"),i("2877")),l=Object(r["a"])(n,a,o,!1,null,"6f893d36",null);e["default"]=l.exports},cc8e:function(t,e,i){},d02d:function(t,e,i){"use strict";i("6e18")},f183:function(t,e,i){var a=i("d012"),o=i("861d"),s=i("5135"),n=i("9bf2").f,r=i("90e3"),l=i("bb2f"),c=r("meta"),d=0,u=Object.isExtensible||function(){return!0},g=function(t){n(t,c,{value:{objectID:"O"+ ++d,weakData:{}}})},p=function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!s(t,c)){if(!u(t))return"F";if(!e)return"E";g(t)}return t[c].objectID},h=function(t,e){if(!s(t,c)){if(!u(t))return!0;if(!e)return!1;g(t)}return t[c].weakData},m=function(t){return l&&f.REQUIRED&&u(t)&&!s(t,c)&&g(t),t},f=t.exports={REQUIRED:!1,fastKey:p,getWeakData:h,onFreeze:m};a[c]=!0},f42a:function(t,e,i){"use strict";i("3880")},fc44:function(t,e,i){},fdd4:function(t,e,i){}}]);
//# sourceMappingURL=importListMain.08ca1026.js.map