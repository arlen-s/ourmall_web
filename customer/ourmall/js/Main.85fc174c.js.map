{"version":3,"sources":["webpack:///./src/views/orders/Main.vue?003d","webpack:///./src/components/productQuotation.vue?7500","webpack:///./src/views/orders/Main.vue?3891","webpack:///src/views/orders/Main.vue","webpack:///./src/views/orders/Main.vue?886e","webpack:///./src/views/orders/Main.vue","webpack:///./src/views/orders/Main.vue?4b1a","webpack:///./src/components/productQuotation.vue?45bc","webpack:///src/components/productQuotation.vue","webpack:///./src/components/productQuotation.vue?1549","webpack:///./src/components/productQuotation.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","ref","_m","test","$route","name","attrs","on","openExportDialog","_v","_e","updateTime","now","staticStyle","updateOrderLoading","updateOrder","handlePendingPay","_s","pendingPay","handleClick","model","value","callback","$$v","activeName","expression","slot","allocateCnt","sourcingCnt","processingCnt","abnormalCnt","makeAnOffer","$event","quotation","openRecent","handleCommand","key","pageKey","fulfillArr","dateArr","getTableHeight","getNum","exportDialog","isShow","$set","$store","state","userInfo","email","Number","totalCount","status","loading","exportOrders","dialogHowToShopify","goto","verifyEmail","changeStart","form","canChange","changeOpen","time","userEmail","failTx","successVerify","authcode","sendMsgDisabled","canSendAuthCode","sendAuthCode","saveEmail","visible","staticRenderFns","data","tdShow","canSaveEdit","canSendAuthCodeAgain","reSizeTime","fulfilled","unfulfilled","partial","refunded","1","2","3","4","5","6","cnow","Date","parse","timeDiff","localStorage","getItem","selectData","exportDialogDefault","components","Quotation","mounted","showPopup","JSON","stringify","setInterval","undefined","watch","methods","$refs","subPage","$Burying","object","s","document","cookie","indexOf","d","setHours","getHours","$nextTick","verifyEmailOpen","isCEmail","$router","push","filterParams","path","query","params","isAll","accountIds","_filter","shopifyStore","timeFilter","dateFrom","dateTo","fulfillmentStatus","fulfillStatus","sort","sortBy","keywords","codeName","financialStatus","financial_status","waitDispatch","$apiCall","offset","duration","dangerouslyUseHTMLString","showClose","message","type","setItem","r","Data","Results","ErrorCode","valueOf","clearInterval","t","setTimeout","clearTimeout","children","tableHeight","h","component","openCardDialog","closeDialog","_l","item","openForm","directives","rawName","uploadOpen","imgUrl","$root","$children","pName","saveQuotation","submit","closeQuotation","Base64","props","Boolean","default","details","price","remark","imgView","outerVisible","innerVisible","isForm","dialogVisible","imgList","detailsList","priceList","remarkList","computed","get","set","$emit","val","getElementById","click","el","target","reader","onload","img","src","e","result","ext","extArr","base64Image","file","readAsDataURL","files","uploadImgBase64","$message","error","products","detail","i","expectPrice","remarks"],"mappings":"sGAAA,W,oCCAA,W,2CCAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,4BAA4B,CAACF,EAAG,MAAM,CAACG,IAAI,aAAaD,YAAY,cAAc,CAACF,EAAG,MAAM,CAACE,YAAY,aAAa,CAACN,EAAIQ,GAAG,GAAGJ,EAAG,MAAM,CAACE,YAAY,SAAS,CAAE,mDAAmDG,KAAKT,EAAIU,OAAOC,MAAO,CAAqB,sBAAnBX,EAAIU,OAAOC,KAA8BP,EAAG,YAAY,CAACQ,MAAM,CAAC,KAAO,UAAU,KAAO,SAAS,KAAO,kBAAkBC,GAAG,CAAC,MAAQb,EAAIc,mBAAmB,CAACd,EAAIe,GAAG,cAAcf,EAAIgB,KAAShB,EAAIiB,YAAejB,EAAIiB,WAAajB,EAAIkB,IAAO,CAACd,EAAG,aAAa,CAACE,YAAY,OAAOM,MAAM,CAAC,OAAS,OAAO,QAAU,kEAAkE,UAAY,WAAW,CAACR,EAAG,YAAY,CAACe,YAAY,CAAC,MAAQ,UAAU,mBAAmB,UAAU,eAAe,WAAWP,MAAM,CAAC,KAAO,UAAU,KAAO,SAAS,KAAO,oBAAoB,CAACZ,EAAIe,GAAG,qBAAqB,IAAI,CAACX,EAAG,aAAa,CAACE,YAAY,OAAOM,MAAM,CAAC,OAAS,OAAO,QAAU,sGAAsG,UAAY,WAAW,CAACR,EAAG,YAAY,CAACQ,MAAM,CAAC,KAAO,kBAAkB,YAAcZ,EAAIiB,YAAejB,EAAIiB,WAAajB,EAAIkB,KAAM,KAAO,UAAU,KAAO,SAAS,QAAUlB,EAAIoB,oBAAoBP,GAAG,CAAC,MAAQb,EAAIqB,cAAc,CAACrB,EAAIe,GAAG,qBAAqB,KAAKf,EAAIgB,MAAM,KAAMhB,EAAc,WAAEI,EAAG,WAAW,CAACE,YAAY,cAAcM,MAAM,CAAC,MAAQ,SAAS,KAAO,UAAU,YAAY,GAAG,UAAW,IAAQ,CAAC,CAACR,EAAG,IAAI,CAACJ,EAAIe,GAAG,aAAaX,EAAG,IAAI,CAACE,YAAY,eAAeO,GAAG,CAAC,MAAQb,EAAIsB,mBAAmB,CAACtB,EAAIe,GAAG,IAAIf,EAAIuB,GAAGvB,EAAIwB,YAAY,uBAAuBxB,EAAIe,GAAG,+BAA+B,GAAGf,EAAIgB,MAAM,GAAGZ,EAAG,MAAM,CAACE,YAAY,oBAAoB,CAACF,EAAG,UAAU,CAACA,EAAG,SAAS,CAACA,EAAG,SAAS,CAACG,IAAI,WAAWK,MAAM,CAAC,KAAO,KAAK,CAACR,EAAG,UAAU,CAACS,GAAG,CAAC,YAAYb,EAAIyB,aAAaC,MAAM,CAACC,MAAO3B,EAAc,WAAE4B,SAAS,SAAUC,GAAM7B,EAAI8B,WAAWD,GAAKE,WAAW,eAAe,CAAC3B,EAAG,cAAc,CAACQ,MAAM,CAAC,MAAQ,aAAa,KAAO,eAAeR,EAAG,cAAc,CAACQ,MAAM,CAAC,MAAQ,wBAAwB,KAAO,wBAAwB,CAACR,EAAG,OAAO,CAACQ,MAAM,CAAC,KAAO,SAASoB,KAAK,SAAS,CAAChC,EAAIe,GAAG,2BAA4Bf,EAAe,YAAEI,EAAG,OAAO,CAACE,YAAY,eAAe,CAACN,EAAIe,GAAG,IAAIf,EAAIuB,GAAGvB,EAAIiC,aAAa,OAAOjC,EAAIgB,SAASZ,EAAG,cAAc,CAACQ,MAAM,CAAC,MAAQ,uBAAuB,KAAO,uBAAuB,CAACR,EAAG,OAAO,CAACQ,MAAM,CAAC,KAAO,SAASoB,KAAK,SAAS,CAAChC,EAAIe,GAAG,0BAA2Bf,EAAe,YAAEI,EAAG,OAAO,CAACE,YAAY,eAAe,CAACN,EAAIe,GAAG,IAAIf,EAAIuB,GAAGvB,EAAIkC,aAAa,OAAOlC,EAAIgB,SAASZ,EAAG,cAAc,CAACQ,MAAM,CAAC,MAAQ,oBAAoB,KAAO,oBAAoB,CAACR,EAAG,OAAO,CAACQ,MAAM,CAAC,KAAO,SAASoB,KAAK,SAAS,CAAChC,EAAIe,GAAG,uBAAwBf,EAAiB,cAAEI,EAAG,OAAO,CAACE,YAAY,eAAe,CAACN,EAAIe,GAAG,IAAIf,EAAIuB,GAAGvB,EAAImC,eAAe,OAAOnC,EAAIgB,SAASZ,EAAG,cAAc,CAACQ,MAAM,CAAC,MAAQ,YAAY,KAAO,eAAeR,EAAG,cAAc,CAACQ,MAAM,CAAC,MAAQ,iBAAiB,KAAO,kBAAkB,CAACR,EAAG,OAAO,CAACQ,MAAM,CAAC,KAAO,SAASoB,KAAK,SAAS,CAAChC,EAAIe,GAAG,oBAAqBf,EAAe,YAAEI,EAAG,OAAO,CAACE,YAAY,cAAc,CAACN,EAAIe,GAAG,IAAIf,EAAIuB,GAAGvB,EAAIoC,aAAa,OAAOpC,EAAIgB,UAAU,IAAI,GAAGZ,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAAqB,uBAAnBN,EAAIU,OAAOC,KAA+BP,EAAG,YAAY,CAACQ,MAAM,CAAC,KAAO,qBAAqB,KAAO,SAASC,GAAG,CAAC,MAAQb,EAAIqC,cAAc,CAACjC,EAAG,aAAa,CAACE,YAAY,OAAOM,MAAM,CAAC,OAAS,OAAO,QAAU,4DAA4D,UAAY,QAAQ,CAACR,EAAG,IAAI,CAACE,YAAY,mBAAmBN,EAAIe,GAAG,uBAAuB,GAAGf,EAAIgB,KAAKZ,EAAG,YAAY,CAACQ,MAAM,CAAC,KAAO,uBAAuB,KAAO,SAASC,GAAG,CAAC,MAAQ,SAASyB,GAAQ,OAAOtC,EAAIuC,eAAe,CAACvC,EAAIe,GAAG,yBAAyBX,EAAG,YAAY,CAACQ,MAAM,CAAC,KAAO,iBAAiB,KAAO,SAASC,GAAG,CAAC,MAAQb,EAAIwC,aAAa,CAACxC,EAAIe,GAAG,0BAA0B,GAAGX,EAAG,MAAM,CAACE,YAAY,4BAA4B,CAAqB,uBAAnBN,EAAIU,OAAOC,KAA+BP,EAAG,cAAc,CAACQ,MAAM,CAAC,eAAe,GAAG,KAAO,UAAU,KAAO,UAAUC,GAAG,CAAC,MAAQb,EAAIqC,YAAY,QAAUrC,EAAIyC,gBAAgB,CAACrC,EAAG,aAAa,CAACE,YAAY,OAAOM,MAAM,CAAC,OAAS,OAAO,QAAU,4DAA4D,UAAY,QAAQ,CAACR,EAAG,IAAI,CAACE,YAAY,mBAAmBN,EAAIe,GAAG,sBAAsBX,EAAG,mBAAmB,CAACQ,MAAM,CAAC,KAAO,YAAYoB,KAAK,YAAY,CAAC5B,EAAG,mBAAmB,CAACQ,MAAM,CAAC,QAAU,oBAAoB,CAACZ,EAAIe,GAAG,uBAAuBX,EAAG,mBAAmB,CAACQ,MAAM,CAAC,QAAU,qBAAqB,CAACZ,EAAIe,GAAG,wBAAwB,IAAI,GAAGX,EAAG,cAAc,CAACQ,MAAM,CAAC,eAAe,GAAG,KAAO,UAAU,KAAO,UAAUC,GAAG,CAAC,MAAQ,SAASyB,GAAQ,OAAOtC,EAAIuC,aAAa,QAAUvC,EAAIyC,gBAAgB,CAACzC,EAAIe,GAAG,uBAAuBX,EAAG,mBAAmB,CAACQ,MAAM,CAAC,KAAO,YAAYoB,KAAK,YAAY,CAAC5B,EAAG,mBAAmB,CAACQ,MAAM,CAAC,QAAU,qBAAqB,CAACZ,EAAIe,GAAG,wBAAwB,IAAI,IAAI,GAAGX,EAAG,SAAS,CAACQ,MAAM,CAAC,KAAO,KAAK,CAACR,EAAG,cAAc,CAACsC,IAAI1C,EAAI2C,QAAQpC,IAAI,UAAUK,MAAM,CAAC,WAAaZ,EAAI4C,WAAW,QAAU5C,EAAI6C,SAAShC,GAAG,CAAC,eAAiBb,EAAI8C,eAAe,OAAS9C,EAAI+C,WAAW,IAAI,IAAI,IAAI,GAAG3C,EAAG,YAAY,CAACQ,MAAM,CAAC,MAAQ,gBAAgB,QAAUZ,EAAIgD,aAAaC,OAAO,MAAQ,QAAQ,wBAAuB,GAAOpC,GAAG,CAAC,iBAAiB,SAASyB,GAAQ,OAAOtC,EAAIkD,KAAKlD,EAAIgD,aAAc,SAAUV,MAAW,CAAClC,EAAG,cAAcA,EAAG,MAAM,CAACe,YAAY,CAAC,QAAU,SAAS,CAACf,EAAG,IAAI,CAACE,YAAY,WAAW,CAACN,EAAIe,GAAG,aAAaf,EAAIuB,GAAGvB,EAAImD,OAAOC,MAAMC,SAASC,UAAUlD,EAAG,iBAAiB,CAACe,YAAY,CAAC,QAAU,OAAO,iBAAiB,SAAS,eAAe,QAAQO,MAAM,CAACC,MAAO3B,EAAIgD,aAAmB,OAAEpB,SAAS,SAAUC,GAAM7B,EAAIkD,KAAKlD,EAAIgD,aAAc,SAAUnB,IAAME,WAAW,wBAAwB,CAAC3B,EAAG,WAAW,CAACQ,MAAM,CAAC,MAAQ,MAAM,CAACZ,EAAIe,GAAG,gBAAgBX,EAAG,WAAW,CAACQ,MAAM,CAAC,MAAQ,IAAI,UAAY2C,OAAOvD,EAAIgD,aAAaQ,cAAc,CAACxD,EAAIe,GAAGf,EAAIuB,GAAGvB,EAAIgD,aAAaQ,YAAY,mCAAmC,IAAI,GAAGpD,EAAG,cAAcA,EAAG,MAAM,CAACE,YAAY,gBAAgBM,MAAM,CAAC,KAAO,UAAUoB,KAAK,UAAU,CAAC5B,EAAG,YAAY,CAACQ,MAAM,CAAC,KAAO,SAASC,GAAG,CAAC,MAAQ,SAASyB,GAAQtC,EAAIgD,aAAaC,QAAS,KAAU,CAACjD,EAAIe,GAAG,YAAYX,EAAG,YAAY,CAACQ,MAAM,CAAC,KAAO,QAAQ,KAAO,UAAU,UAAYZ,EAAIgD,aAAaS,OAAO,QAAUzD,EAAIgD,aAAaU,SAAS7C,GAAG,CAAC,MAAQb,EAAI2D,eAAe,CAAC3D,EAAIe,GAAG,oBAAoB,IAAI,GAAGX,EAAG,YAAY,CAACQ,MAAM,CAAC,MAAQ,8BAA8B,QAAUZ,EAAI4D,mBAAmBX,OAAO,MAAQ,QAAQ,wBAAuB,GAAOpC,GAAG,CAAC,iBAAiB,SAASyB,GAAQ,OAAOtC,EAAIkD,KAAKlD,EAAI4D,mBAAoB,SAAUtB,MAAW,CAAClC,EAAG,cAAcA,EAAG,MAAM,CAACe,YAAY,CAAC,QAAU,SAAS,CAACf,EAAG,IAAI,CAACE,YAAY,aAAaa,YAAY,CAAC,gBAAgB,SAAS,CAACnB,EAAIe,GAAG,cAAcX,EAAG,OAAO,CAACE,YAAY,sBAAsB,CAACN,EAAIe,GAAGf,EAAIuB,GAAGvB,EAAIiC,gBAAgB7B,EAAG,OAAO,CAACE,YAAY,mDAAmD,CAACF,EAAG,OAAO,CAACE,YAAY,cAAcN,EAAIe,GAAG,YAAYf,EAAIe,GAAG,OAAOX,EAAG,OAAO,CAACA,EAAG,OAAO,CAACE,YAAY,sDAAsD,CAACF,EAAG,OAAO,CAACE,YAAY,cAAcN,EAAIe,GAAG,qBAAqBf,EAAIe,GAAG,OAAOX,EAAG,OAAO,CAACA,EAAG,OAAO,CAACE,YAAY,oEAAoE,CAACF,EAAG,OAAO,CAACE,YAAY,cAAcN,EAAIe,GAAG,6BAA6Bf,EAAIe,GAAG,0DAA0DX,EAAG,MAAM,CAACE,YAAY,2BAA2B,CAACF,EAAG,MAAM,CAACS,GAAG,CAAC,MAAQ,SAASyB,GAAQ,OAAOtC,EAAI6D,KAAK,wBAAwB,CAACzD,EAAG,IAAI,CAACE,YAAY,6BAA6BF,EAAG,MAAM,CAACJ,EAAIe,GAAG,sCAAsCX,EAAG,aAAa,CAACE,YAAY,OAAOM,MAAM,CAAC,OAAS,OAAO,QAAU,kDAAkD,UAAY,QAAQ,CAACR,EAAG,IAAI,CAACE,YAAY,wBAAwB,KAAKF,EAAG,MAAM,CAACS,GAAG,CAAC,MAAQ,SAASyB,GAAQ,OAAOtC,EAAI6D,KAAK,0BAA0B,CAACzD,EAAG,IAAI,CAACE,YAAY,6BAA6BF,EAAG,MAAM,CAACJ,EAAIe,GAAG,+BAA+BX,EAAG,aAAa,CAACE,YAAY,OAAOM,MAAM,CAAC,OAAS,OAAO,QAAU,2EAA2E,UAAY,QAAQ,CAACR,EAAG,IAAI,CAACE,YAAY,wBAAwB,KAAKF,EAAG,MAAM,CAACS,GAAG,CAAC,MAAQ,SAASyB,GAAQ,OAAOtC,EAAI6D,KAAK,0BAA0B,CAACzD,EAAG,IAAI,CAACE,YAAY,6BAA6BF,EAAG,MAAM,CAACJ,EAAIe,GAAG,mCAAmC,GAAGX,EAAG,YAAY,CAACQ,MAAM,CAAC,wBAAuB,EAAM,MAAQ,4FAA4F,QAAUZ,EAAI8D,YAAY,cAAa,EAAM,MAAQ,SAASjD,GAAG,CAAC,iBAAiB,SAASyB,GAAQtC,EAAI8D,YAAYxB,KAAU,CAAClC,EAAG,KAAK,CAACE,YAAY,UAAU,CAACF,EAAG,KAAK,CAACe,YAAY,CAAC,QAAU,OAAO,cAAc,WAAW,CAAqB,GAAnBnB,EAAI+D,YAAsB3D,EAAG,QAAQ,CAACe,YAAY,CAAC,MAAQ,OAAO,cAAc,QAAQ,CAACnB,EAAIe,GAAG,YAAYf,EAAIgB,KAAyB,GAAnBhB,EAAI+D,YAAsB3D,EAAG,OAAO,CAACe,YAAY,CAAC,aAAa,SAAS,CAACnB,EAAIe,GAAG,IAAIf,EAAIuB,GAAGvB,EAAIgE,KAAKV,OAAO,KAAKlD,EAAG,UAAU,CAACE,YAAY,UAAUa,YAAY,CAAC,gBAAgB,OAAOP,MAAM,CAAC,KAAO,UAAU,UAAYZ,EAAIiE,WAAWpD,GAAG,CAAC,MAAQb,EAAIkE,aAAa,CAAElE,EAAIgE,KAAU,MAAE5D,EAAG,OAAO,CAACJ,EAAIe,GAAG,YAAYX,EAAG,OAAO,CAACJ,EAAIe,GAAG,YAAY,GAAGX,EAAG,WAAW,CAACQ,MAAM,CAAC,YAAc,QAAQ,gBAAgB,MAAM,SAAWZ,EAAImE,KAAK,GAAGzC,MAAM,CAACC,MAAO3B,EAAa,UAAE4B,SAAS,SAAUC,GAAM7B,EAAIoE,UAAUvC,GAAKE,WAAW,gBAAgB,GAAI/B,EAAU,OAAEI,EAAG,KAAK,CAACE,YAAY,aAAa,CAACN,EAAIe,GAAGf,EAAIuB,GAAGvB,EAAIqE,WAAWrE,EAAIgB,KAAKZ,EAAG,KAAK,CAACA,EAAG,oBAAoB,CAACG,IAAI,SAASK,MAAM,CAAC,MAAQ,IAAI,KAAO,6CAA6C,YAAc,qBAAqBC,GAAG,CAAC,QAAUb,EAAIsE,kBAAkB,GAAGlE,EAAG,KAAK,CAACe,YAAY,CAAC,QAAU,SAAS,CAACf,EAAG,WAAW,CAACe,YAAY,CAAC,KAAO,IAAI,MAAQ,SAASP,MAAM,CAAC,YAAc,WAAWc,MAAM,CAACC,MAAO3B,EAAY,SAAE4B,SAAS,SAAUC,GAAM7B,EAAIuE,SAAS1C,GAAKE,WAAW,cAAgB/B,EAAIwE,gBAAwLxE,EAAIgB,KAA3KZ,EAAG,UAAU,CAACE,YAAY,UAAUM,MAAM,CAAC,WAAY,EAAM,KAAO,UAAU,UAAYZ,EAAIyE,iBAAiB5D,GAAG,CAAC,MAAQb,EAAI0E,eAAe,CAAC1E,EAAIe,GAAG,iBAA2Bf,EAAmB,gBAAEI,EAAG,UAAU,CAACE,YAAY,UAAUM,MAAM,CAAC,WAAY,EAAM,KAAO,UAAU,UAAYZ,EAAIyE,iBAAiB5D,GAAG,CAAC,MAAQb,EAAI0E,eAAe,CAAC1E,EAAIe,GAAG,iBAAiBf,EAAIuB,GAAGvB,EAAImE,MAAM,eAAenE,EAAIgB,MAAM,KAAKZ,EAAG,OAAO,CAACE,YAAY,gBAAgBM,MAAM,CAAC,KAAO,UAAUoB,KAAK,UAAU,CAAC5B,EAAG,YAAY,CAACQ,MAAM,CAAC,KAAO,WAAWC,GAAG,CAAC,MAAQb,EAAI2E,YAAY,CAAC3E,EAAIe,GAAG,aAAaX,EAAG,YAAY,CAACS,GAAG,CAAC,MAAQ,SAASyB,GAAQtC,EAAI8D,aAAY,KAAS,CAAC9D,EAAIe,GAAG,cAAc,KAAKX,EAAG,YAAY,CAACQ,MAAM,CAAC,QAAUZ,EAAI4E,SAAS/D,GAAG,CAAC,iBAAiB,SAASyB,GAAQtC,EAAI4E,QAAQtC,OAAY,IACxoVuC,EAAkB,CAAC,WAAa,IAAI7E,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,MAAM,CAACE,YAAY,SAAS,CAACF,EAAG,IAAI,CAACE,YAAY,0BAA0BF,EAAG,KAAK,CAACJ,EAAIe,GAAG,kB,kCCwRvO,GACE+D,KADF,WAEI,MAAO,CACLF,SAAN,EACMZ,KAAN,CACA,UAEMe,QAAN,EACMd,WAAN,EACMH,aAAN,EACMC,aAAN,EACMS,iBAAiB,EACjBQ,aAAN,EACMP,iBAAN,EACMQ,sBAAN,EACMd,KAAN,EACMC,UAAN,GACMG,SAAN,GACMF,OAAN,GACM1B,SAAS,IAAf,gBACMnB,WAAY,EACZM,WAAY,GACZoD,WAAY,EACZjD,YAAa,EACbC,YAAa,EACbC,cAAe,EACfC,YAAa,EACbQ,WAAY,CACVuC,UAAW,CAAnB,kCACQC,YAAa,CAArB,uCACQC,QAAS,CAAjB,8CACQC,SAAU,CAAlB,kCAEMzC,QAAN,CACQ0C,EAAG,QACHC,EAAG,cACHC,EAAG,eACHC,EAAG,eACHC,EAAG,iBACHC,EAAG,UAELxE,oBAAoB,EACpByE,KAAM,EACN3E,IAAK4E,KAAKC,MAAM,IAAID,MAAU,IAAO7F,KAAKkD,OAAOC,MAAMC,SAAS2C,SAChE/E,WAAYgF,aAAaC,QAAQ,uBAAyB3C,OAAO0C,aAAaC,QAAQ,wBAA0B,EAChHlD,aAAc,CACZC,QAAQ,EACRS,SAAS,EACTD,OAAQ,GACR0C,WAAY,GACZ3C,WAAY,GAEd4C,oBAAqB,KACrBxC,mBAAoB,CAClBX,QAAQ,KAIdoD,WAAF,CACIC,UAAJ,QAEEC,QA7DF,WA6DA,WACItG,KAAKuG,YACLvG,KAAKmG,oBAAsBK,KAAKC,UAAUzG,KAAK+C,cAC/C/C,KAAK6B,WAAa7B,KAAKS,OAAOC,KAC9BV,KAAK4F,KAAOc,aAAY,WAC5B,kEACA,KACI1G,KAAK8C,YAAO6D,EAAW,UAEzBC,MAAO,CACLnG,OADJ,WAEMT,KAAK6B,WAAa7B,KAAKS,OAAOC,KAC9BV,KAAK8C,WAGT+D,QAAS,CACPrE,cADJ,SACA,GACM,OAAN,GACQ,IAAK,kBACHxC,KAAKsC,YACL,MACF,IAAK,mBACHtC,KAAKuC,aACL,QAGNH,YAXJ,WAYMpC,KAAK8G,MAAMC,QAAQ3E,eAErBE,UAdJ,WAgBMtC,KAAKgH,SAAS,CACZC,OAAQ,UAEVjH,KAAK2E,SAAU,GAEjBpC,WArBJ,WAsBM,KAAN,8BAIIgE,UA1BJ,WA4BM,IAAIW,EAAIC,SAASC,OACjB,IAA8B,GAA1BF,EAAEG,QAAQ,YAAd,CAMA,IAAIC,EAAI,IAAIzB,KACZyB,EAAEC,SAASD,EAAEE,WAAa,IAC1BL,SAASC,OAAS,oBAAxB,gBAGMpH,KAAKyH,WAAU,WACrB,wEACUzH,KAAK0H,kBAEP1H,KAAK8E,QAAS,UAdd9E,KAAKyH,WAAU,WACbzH,KAAK8E,QAAS,MAgBpBJ,UA/CJ,WA+CA,WACA,0CACA,yDACA,sBACA,YACA,wBACU,IAAV,sDACU,EAAV,gDACU,aAAV,+CACU,EAAV,8DACU,EAAV,oBAEA,yCAIIT,WA/DJ,WAgEA,oBACA,oBAGI0D,SApEJ,SAoEA,GACM,QAAOtE,GAAQ,kDAAkD7C,KAAK6C,IAExEgB,cAvEJ,WAwEA,+CACA,iDACQ,KAAR,mBACQ,KAAR,mBACQ,KAAR,aACQ,KAAR,UACQ,KAAR,iBAEQ,KAAR,qBACQ,KAAR,mBACQ,KAAR,mBACQ,KAAR,oDAIII,aAvFJ,WAuFA,WACM,KAAN,eACA,WACM,EAAN,mBACM,EAAN,mBACM,EAAN,wBAEM,KAAN,gCACA,kDACA,YAEA,GADQ,EAAR,eACA,qBACU,EAAV,UACY,KAAZ,UACY,QAAZ,sCAEA,UACA,qCACA,cACc,EAAd,OACc,EAAd,mBACc,EAAd,mBACA,0BACA,2BAEA,UAEA,YACA,kBACA,eAEU,EAAV,mBACU,EAAV,mBACA,8BAIIiD,gBA5HJ,WA6HM,IAAN,8DACM1H,KAAK+D,KAAKV,MAAQA,EAClBrD,KAAK6D,aAAc,GAErBD,KAjIJ,SAiIA,GACM5D,KAAK4H,QAAQC,KAAK,CAAxB,SACM7H,KAAK2D,mBAAmBX,QAAS,GAEnC3B,iBArIJ,WAsI+B,oBAArBrB,KAAKS,OAAOC,OACdV,KAAK8G,MAAMC,QAAQe,aAAatE,OAAS,EACzCxD,KAAK8G,MAAMC,QAAQd,WAErBjG,KAAK4H,QAAQC,KAAK,CAChBE,KAAM,qBACNC,MAAO,CACLxE,OAAQ,MAIdE,aAjJJ,WAiJA,WACA,GACQL,MAAOrD,KAAKkD,OAAOC,MAAMC,SAASC,OAEpC,GAAN,8BACQ4E,EAAOC,MAAQ,EACf,IAAR,kCACA,8BACUD,EAAOE,WAAaC,EAAQC,aAC5BJ,EAAOK,WAAaF,EAAQE,YAAc,EAAI,GAAKF,EAAQE,WAC3DL,EAAOM,SAAWH,EAAQG,SAC1BN,EAAOO,OAASJ,EAAQI,OACxBP,EAAOQ,kBAAoBL,EAAQM,cACnCT,EAAOU,KAAOP,EAAQQ,OACtBX,EAAOY,SAAWT,EAAQU,SAC1Bb,EAAOc,gBAAkBX,EAAQY,kBAGrC,GAAN,wCACQf,EAAOgB,aAAe,EACtB,IAAR,kCACA,8BACUhB,EAAOE,WAAa,EAA9B,aACUF,EAAOK,WAAa,EAA9B,8BACUL,EAAOM,SAAW,EAA5B,SACUN,EAAOO,OAAS,EAA1B,OACUP,EAAOQ,kBAAoB,EAArC,cACUR,EAAOU,KAAO,EAAxB,OACUV,EAAOY,SAAW,EAA5B,UAGM7I,KAAK+C,aAAaU,SAAU,EAC5BzD,KAAKkJ,SAAS,kCAAmCjB,GAAQ,SAA/D,GACQ,EAAR,wBACA,mBACU,EAAV,uBACU,EAAV,UACYkB,OAAZ,IACYC,SAAZ,EACYC,0BAA0B,EAC1BC,WAAW,EACXC,QAAS,6FAArB,yHACYC,KAAM,aAGR,EAAV,uCAII3I,iBAlMJ,WAmMMb,KAAK+C,aAAeyD,KAAKV,MAAM9F,KAAKmG,qBACpCnG,KAAK+C,aAAaC,QAAS,EAC3BhD,KAAK+C,aAAaU,SAAU,EAClC,uEACQzD,KAAK+C,aAAaQ,WAAavD,KAAK8G,MAAMC,QAAQxD,aAGtDnC,YA1MJ,WA0MA,WACMpB,KAAKmB,oBAAqB,EAC1BnB,KAAKkJ,SAAS,oCAAqC,IAAI,SAA7D,GACQ,EAAR,sBACA,qBACU,EAAV,0BACUlD,aAAayD,QAAQ,sBAAuBC,EAAEC,KAAKC,SACnD,EAAV,mDAEU,EAAV,uCAKI9G,OAxNJ,SAwNA,gBACM9C,KAAKkJ,SAAS,0BAA2B,IAAI,SAAnD,GACQ,GAAmB,QAAfQ,EAAEG,UAAqB,CACzB,IAAV,iBACA,4BACiB3F,IAAQ,IAAI2B,MAAOiE,UAAY5F,EAAO,QACzC6F,cAAcC,GACd,EAAd,kCACc,EAAd,qCAEA,KACU,EAAV,sCACU,EAAV,kCACA,YACYC,YAAW,WACvB,4DACgB,EAAhB,gCAEA,UAIU,EAAV,sCAIMjK,KAAKkJ,SAAS,6BAA8B,CAC1C1F,OAAQ,IAChB,YACQ,GAAmB,QAAfkG,EAAEG,UAAqB,CACzB,IAAV,iBACU,EAAV,yBAEU,EAAV,uCAIIhH,eA7PJ,SA6PA,cAEMqH,aAAalK,KAAKiF,YAClBjF,KAAKiF,WAAagF,YAAW,WAC3B,IAAR,EACA,yDACA,gCACA,kCACA,iCACA,kCACA,IACA,sCACA,QACQE,EAASC,YAAcC,EAAI,IAAMA,EAAI,MAC7C,MAEI7I,YA7QJ,SA6QA,GACA,yBACQxB,KAAK0C,SAAU,IAAvB,gBAGQ1C,KAAK4H,QAAQC,KAAK,CAA1B,iBCvnB6V,I,kCCSzVyC,EAAY,eACd,EACAxK,EACA8E,GACA,EACA,KACA,WACA,MAIa,aAAA0F,E,2FCpBf,W,yDCAA,IAAIxK,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,YAAY,CAACQ,MAAM,CAAC,MAAQ,mCAAmC,QAAUZ,EAAIwK,gBAAgB3J,GAAG,CAAC,iBAAiB,SAASyB,GAAQtC,EAAIwK,eAAelI,GAAQ,MAAQtC,EAAIyK,cAAc,CAACrK,EAAG,cAAeJ,EAAW,QAAEI,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACN,EAAIe,GAAG,4BAA4BX,EAAG,MAAM,CAACe,YAAY,CAAC,QAAU,SAAS,CAACf,EAAG,MAAM,CAACE,YAAY,WAAWN,EAAI0K,GAAI1K,EAAW,SAAE,SAAS2K,GAAM,OAAOvK,EAAG,MAAM,CAACsC,IAAIiI,EAAKrK,YAAY,iBAAiBM,MAAM,CAAC,IAAM+J,QAAU,GAAGvK,EAAG,MAAM,CAACE,YAAY,SAASO,GAAG,CAAC,MAAQb,EAAI4K,WAAW,CAACxK,EAAG,IAAI,CAACE,YAAY,uBAAuBN,EAAIgB,KAAMhB,EAAU,OAAEI,EAAG,MAAM,CAACyK,WAAW,CAAC,CAAClK,KAAK,UAAUmK,QAAQ,YAAYnJ,MAAO3B,EAAW,QAAE+B,WAAW,YAAYzB,YAAY,YAAY,CAACF,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACN,EAAIe,GAAG,yBAAyBX,EAAG,UAAU,CAACQ,MAAM,CAAC,MAAQZ,EAAIgE,KAAK,iBAAiB,OAAO,cAAc,UAAU,CAAC5D,EAAG,eAAe,CAACQ,MAAM,CAAC,MAAQ,kBAAkB,SAAW,KAAK,CAACR,EAAG,MAAM,CAACE,YAAY,SAASO,GAAG,CAAC,MAAQb,EAAI+K,aAAa,CAAG/K,EAAIgE,KAAKgH,OAA6C5K,EAAG,WAAW,CAACe,YAAY,CAAC,MAAQ,OAAO,OAAS,QAAQP,MAAM,CAAC,IAAMZ,EAAIgE,KAAKgH,OAAO,IAAM,WAApI5K,EAAG,IAAI,CAACE,YAAY,kBAA4H,KAAKF,EAAG,eAAe,CAACQ,MAAM,CAAC,MAAQ,WAAW,SAAW,KAAK,CAACR,EAAG,WAAW,CAACQ,MAAM,CAAC,YAAc,gEAAgEc,MAAM,CAACC,MAAO3B,EAAIgE,KAAY,QAAEpC,SAAS,SAAUC,GAAM7B,EAAIkD,KAAKlD,EAAIgE,KAAM,UAAWnC,IAAME,WAAW,mBAAmB,GAAG3B,EAAG,eAAe,CAACQ,MAAM,CAAC,MAAQ,0BAA0B,CAACR,EAAG,kBAAkB,CAACQ,MAAM,CAAC,UAAW,GAAOc,MAAM,CAACC,MAAO3B,EAAIgE,KAAU,MAAEpC,SAAS,SAAUC,GAAM7B,EAAIkD,KAAKlD,EAAIgE,KAAM,QAASnC,IAAME,WAAW,iBAAiB,GAAG3B,EAAG,eAAe,CAACQ,MAAM,CAAC,MAAQ,aAAa,CAACR,EAAG,WAAW,CAACQ,MAAM,CAAC,YAAe,4CAA+CZ,EAAIiL,MAAMC,UAAU,GAAGC,MAAO,EAAI,YAAazJ,MAAM,CAACC,MAAO3B,EAAIgE,KAAW,OAAEpC,SAAS,SAAUC,GAAM7B,EAAIkD,KAAKlD,EAAIgE,KAAM,SAAUnC,IAAME,WAAW,kBAAkB,IAAI,GAAG3B,EAAG,YAAY,CAACE,YAAY,OAAOM,MAAM,CAAC,KAAO,WAAWC,GAAG,CAAC,MAAQb,EAAIoL,gBAAgB,CAACpL,EAAIe,GAAG,WAAW,GAAGf,EAAIgB,KAAKZ,EAAG,cAAcA,EAAG,MAAM,CAACE,YAAY,gBAAgBM,MAAM,CAAC,KAAO,UAAUoB,KAAK,UAAU,CAAC5B,EAAG,YAAY,CAACQ,MAAM,CAAC,KAAO,WAAWC,GAAG,CAAC,MAAQb,EAAIqL,SAAS,CAACrL,EAAIe,GAAG,oBAAoBX,EAAG,YAAY,CAACS,GAAG,CAAC,MAAQb,EAAIsL,iBAAiB,CAACtL,EAAIe,GAAG,cAAc,IAAI,GAAGX,EAAG,QAAQ,CAACe,YAAY,CAAC,QAAU,QAAQP,MAAM,CAAC,KAAO,OAAO,GAAK,UAAU,OAAS,kBAAkBC,GAAG,CAAC,OAAS,SAASyB,GAAQ,OAAOtC,EAAIuL,OAAOjJ,QAAa,IACxpFuC,EAAkB,GC8EtB,G,8BAAA,CACE2G,MAAO,CACL5G,QAAS,CACP6E,KAAMgC,QACNC,SAAS,IAGb5G,KAPF,WAQI,MAAO,CACLd,KAAM,CACJgH,OAAQ,GACRW,QAAS,GACTC,WAAOhF,EACPiF,OAAQ,IAEVC,SAAN,EACMC,cAAc,EACdC,cAAc,EACdC,QAAQ,EACRvI,SAAS,EACTwI,eAAe,EACfC,QAAS,GACTC,YAAa,GACbC,UAAW,GACXC,WAAY,KAGhBC,SAAU,CACR/B,eAAgB,CACdgC,IADN,WAEQ,OAAOvM,KAAK2E,SAEd6H,IAJN,SAIA,GACQxM,KAAKyM,MAAM,iBAAkBC,MAInCpG,QArCF,aAyCEO,QAAS,CACP8D,SADJ,WACA,WACM3K,KAAKgM,QAAS,EACdhM,KAAKyD,SAAU,EACfwG,YAAW,WACT,EAAR,aACA,MAEIa,WARJ,WASM3D,SAASwF,eAAe,WAAWC,SAErCtB,OAXJ,SAWA,cACM,GAAIuB,EAAGC,OAAOpL,MAAO,CACnB,IAAR,iBACA,YACA,KACQqL,EAAOC,OAAS,SAAxB,GACUC,EAAIC,IAAMC,EAAEL,OAAOM,OACnB,IAAV,sDACUC,EAAMC,EAAO,IAEfL,EAAID,OAAS,SAArB,GACUO,YAAY,CACVC,KAAMX,EAAGC,OACTnL,SAAU,SAAtB,GACc,IAAd,2BACc,EAAd,yBAIQoL,EAAOU,cAAcZ,EAAGC,OAAOY,MAAM,MAGzCC,gBAjCJ,SAiCA,gBACM3N,KAAKyD,SAAU,EACfzD,KAAKkJ,SACX,2BACA,CAAQ,aAAR,EAAQ,IAAR,IACA,YACQ,EAAR,WACA,kBACU,EAAV,kCAEU,EAAV,8BAKIiC,cAhDJ,WAiDM,MAAwB,IAApBnL,KAAK+D,KAAKgH,QACZ/K,KAAK4N,SAASC,MAAM,8BACb,GAEgB,IAArB7N,KAAK+D,KAAK2H,SACZ1L,KAAK4N,SAASC,MAAM,iCACb,IAET7N,KAAK6L,SAAU,EACf7L,KAAKgM,QAAS,EACdhM,KAAKkM,QAAQrE,KAAK7H,KAAK+D,KAAKgH,QAC5B/K,KAAKmM,YAAYtE,KAAK7H,KAAK+D,KAAK2H,SAChC1L,KAAKoM,UAAUvE,KAAK7H,KAAK+D,KAAK4H,OAC9B3L,KAAKqM,WAAWxE,KAAK7H,KAAK+D,KAAK6H,aAC/B5L,KAAK+D,KAAO,CACVgH,OAAQ,GACRW,QAAS,GACTC,WAAOhF,EACPiF,OAAQ,OAGZP,eAtEJ,WAuEMrL,KAAKuK,gBAAiB,EACtBvK,KAAK+D,KAAO,CACVgH,OAAQ,GACRW,QAAS,GACTC,WAAOhF,EACPiF,OAAQ,IAEV5L,KAAKkM,QAAX,GACMlM,KAAKmM,YAAX,GACMnM,KAAKoM,UAAX,GACMpM,KAAKqM,WAAX,GACMrM,KAAKgM,QAAS,EACdhM,KAAK6L,SAAU,GAEjBrB,YArFJ,WAsFA,uBAEIY,OAxFJ,WA0FM,IAFN,WACA,KACA,8BACQ0C,EAASjG,KAAK,CACZkG,OAAQ/N,KAAKmM,YAAY6B,GACzBjD,OAAQ/K,KAAKkM,QAAQ8B,GACrBC,YAAajO,KAAKoM,UAAU4B,GAC5BE,QAASlO,KAAKqM,WAAW2B,KAG7BhO,KAAKkJ,SACX,gCACA,CACQ,SAAR,IAEA,YACA,mBACU,EAAV,qCACU,EAAV,iBACU,EAAV,8CAEU,EAAV,+BAME9C,WAAY,KC3O4U,I,wBCQtVkE,EAAY,eACd,EACAxK,EACA8E,GACA,EACA,KACA,WACA,MAIa,OAAA0F,E","file":"js/Main.85fc174c.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Main.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./productQuotation.vue?vue&type=style&index=0&id=6167711f&scoped=true&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"contentpanel orders-page\"},[_c('div',{ref:\"pageHeader\",staticClass:\"header-diy\"},[_c('div',{staticClass:\"pagetitle\"},[_vm._m(0),_c('div',{staticClass:\"right\"},[(/AllOrders|WaitingForAllocated|WaitingForSourcing/.test(_vm.$route.name))?[(_vm.$route.name != 'WaitingForSourcing')?_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"medium\",\"icon\":\"fa fa-download\"},on:{\"click\":_vm.openExportDialog}},[_vm._v(\" Export \")]):_vm._e(),(!!(_vm.updateTime && (_vm.updateTime > _vm.now)))?[_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"dark\",\"content\":\"The update process has started, it will take a while to finish.\",\"placement\":\"bottom\"}},[_c('el-button',{staticStyle:{\"color\":\"#FFFFFF\",\"background-color\":\"#aeb5e2\",\"border-color\":\"#aeb5e2\"},attrs:{\"type\":\"primary\",\"size\":\"medium\",\"icon\":\"el-icon-refresh\"}},[_vm._v(\" Update Order \")])],1)]:[_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"dark\",\"content\":\"Use this button to update your Order List if missing orders.The process may take a while to finish.\",\"placement\":\"bottom\"}},[_c('el-button',{attrs:{\"icon\":\"el-icon-refresh\",\"disabled\":!!(_vm.updateTime && (_vm.updateTime > _vm.now)),\"type\":\"primary\",\"size\":\"medium\",\"loading\":_vm.updateOrderLoading},on:{\"click\":_vm.updateOrder}},[_vm._v(\" Update Order \")])],1)]]:_vm._e()],2)]),(_vm.pendingPay)?_c('el-alert',{staticClass:\"order-alert\",attrs:{\"title\":\"Notice\",\"type\":\"warning\",\"show-icon\":\"\",\"closable\":false}},[[_c('p',[_vm._v(\"You have \"),_c('a',{staticClass:\"mian-alert-a\",on:{\"click\":_vm.handlePendingPay}},[_vm._v(\" \"+_vm._s(_vm.pendingPay)+\" purchase orders \")]),_vm._v(\" NEED to finish payment\")])]],2):_vm._e()],1),_c('div',{staticClass:\"pagebody headTab\"},[_c('el-card',[_c('el-row',[_c('el-col',{ref:\"pageTabs\",attrs:{\"span\":24}},[_c('el-tabs',{on:{\"tab-click\":_vm.handleClick},model:{value:(_vm.activeName),callback:function ($$v) {_vm.activeName=$$v},expression:\"activeName\"}},[_c('el-tab-pane',{attrs:{\"label\":\"All orders\",\"name\":\"AllOrders\"}}),_c('el-tab-pane',{attrs:{\"label\":\"Waiting for allocated\",\"name\":\"WaitingForAllocated\"}},[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_vm._v(\" Waiting for allocated \"),(_vm.allocateCnt)?_c('span',{staticClass:\" tx-warning\"},[_vm._v(\"(\"+_vm._s(_vm.allocateCnt)+\")\")]):_vm._e()])]),_c('el-tab-pane',{attrs:{\"label\":\"Waiting for sourcing\",\"name\":\"WaitingForSourcing\"}},[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_vm._v(\" Waiting for sourcing \"),(_vm.sourcingCnt)?_c('span',{staticClass:\" tx-warning\"},[_vm._v(\"(\"+_vm._s(_vm.sourcingCnt)+\")\")]):_vm._e()])]),_c('el-tab-pane',{attrs:{\"label\":\"Orders processing\",\"name\":\"OrderProcessing\"}},[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_vm._v(\" Orders processing \"),(_vm.processingCnt)?_c('span',{staticClass:\" tx-success\"},[_vm._v(\"(\"+_vm._s(_vm.processingCnt)+\")\")]):_vm._e()])]),_c('el-tab-pane',{attrs:{\"label\":\"Delivered\",\"name\":\"Delivered\"}}),_c('el-tab-pane',{attrs:{\"label\":\"Abnormal order\",\"name\":\"AbnormalOrder\"}},[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_vm._v(\" Abnormal order \"),(_vm.abnormalCnt)?_c('span',{staticClass:\" tx-danger\"},[_vm._v(\"(\"+_vm._s(_vm.abnormalCnt)+\")\")]):_vm._e()])])],1)],1),_c('div',{staticClass:\"btn-hide-group\"},[(_vm.$route.name == 'WaitingForAllocated')?_c('el-button',{attrs:{\"type\":\"primary quoteOrder\",\"size\":\"small\"},on:{\"click\":_vm.makeAnOffer}},[_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"dark\",\"content\":\"Please select at least one order and quote for your order\",\"placement\":\"top\"}},[_c('i',{staticClass:\"el-icon-info\"})]),_vm._v(\" Quote for Orders \")],1):_vm._e(),_c('el-button',{attrs:{\"type\":\"primary quoteProduct\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.quotation()}}},[_vm._v(\" Quote for Product \")]),_c('el-button',{attrs:{\"type\":\"primary recent\",\"size\":\"small\"},on:{\"click\":_vm.openRecent}},[_vm._v(\" Recent Quotations \")])],1),_c('div',{staticClass:\"btn-hide-dropdown recent\"},[(_vm.$route.name == 'WaitingForAllocated')?_c('el-dropdown',{attrs:{\"split-button\":\"\",\"type\":\"primary\",\"size\":\"medium\"},on:{\"click\":_vm.makeAnOffer,\"command\":_vm.handleCommand}},[_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"dark\",\"content\":\"Please select at least one order and quote for your order\",\"placement\":\"top\"}},[_c('i',{staticClass:\"el-icon-info\"})]),_vm._v(\" Quote for Orders \"),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('el-dropdown-item',{attrs:{\"command\":\"quoteForProduct\"}},[_vm._v(\"Quote for Product\")]),_c('el-dropdown-item',{attrs:{\"command\":\"recentQuotations\"}},[_vm._v(\"Recent Quotations\")])],1)],1):_c('el-dropdown',{attrs:{\"split-button\":\"\",\"type\":\"primary\",\"size\":\"medium\"},on:{\"click\":function($event){return _vm.quotation()},\"command\":_vm.handleCommand}},[_vm._v(\" Quote for Product \"),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('el-dropdown-item',{attrs:{\"command\":\"recentQuotations\"}},[_vm._v(\"Recent Quotations\")])],1)],1)],1),_c('el-col',{attrs:{\"span\":24}},[_c('router-view',{key:_vm.pageKey,ref:\"subPage\",attrs:{\"fulfillArr\":_vm.fulfillArr,\"dateArr\":_vm.dateArr},on:{\"getTableHeight\":_vm.getTableHeight,\"getNum\":_vm.getNum}})],1)],1)],1)],1),_c('el-dialog',{attrs:{\"title\":\"Export orders\",\"visible\":_vm.exportDialog.isShow,\"width\":'620px',\"close-on-click-modal\":false},on:{\"update:visible\":function($event){return _vm.$set(_vm.exportDialog, \"isShow\", $event)}}},[_c('el-divider'),_c('div',{staticStyle:{\"padding\":\"20px\"}},[_c('p',{staticClass:\"mg-b-10\"},[_vm._v(\"Export to \"+_vm._s(_vm.$store.state.userInfo.email))]),_c('el-radio-group',{staticStyle:{\"display\":\"flex\",\"flex-direction\":\"column\",\"padding-left\":\"15px\"},model:{value:(_vm.exportDialog.status),callback:function ($$v) {_vm.$set(_vm.exportDialog, \"status\", $$v)},expression:\"exportDialog.status\"}},[_c('el-radio',{attrs:{\"label\":\"1\"}},[_vm._v(\"All orders\")]),_c('el-radio',{attrs:{\"label\":\"3\",\"disabled\":!Number(_vm.exportDialog.totalCount)}},[_vm._v(_vm._s(_vm.exportDialog.totalCount)+\" orders matching your search\")])],1)],1),_c('el-divider'),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){_vm.exportDialog.isShow = false;}}},[_vm._v(\"Cancel\")]),_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\",\"disabled\":!_vm.exportDialog.status,\"loading\":_vm.exportDialog.loading},on:{\"click\":_vm.exportOrders}},[_vm._v(\"Export orders\")])],1)],1),_c('el-dialog',{attrs:{\"title\":\"How to process your orders?\",\"visible\":_vm.dialogHowToShopify.isShow,\"width\":'800px',\"close-on-click-modal\":false},on:{\"update:visible\":function($event){return _vm.$set(_vm.dialogHowToShopify, \"isShow\", $event)}}},[_c('el-divider'),_c('div',{staticStyle:{\"padding\":\"20px\"}},[_c('p',{staticClass:\"table-wrap\",staticStyle:{\"margin-bottom\":\"15px\"}},[_vm._v(\" You have \"),_c('span',{staticClass:\" mg-r-15 tx-danger\"},[_vm._v(_vm._s(_vm.allocateCnt))]),_c('span',{staticClass:\"el-tag el-tag--info el-tag--small el-tag--light\"},[_c('span',{staticClass:\"-EFlq bg3\"}),_vm._v(\" Paid \")]),_vm._v(\" + \"),_c('span',[_c('span',{staticClass:\"el-tag el-tag--warning el-tag--small el-tag--light\"},[_c('span',{staticClass:\"-EFlq bg1\"}),_vm._v(\" Unfulfilled \")])]),_vm._v(\" / \"),_c('span',[_c('span',{staticClass:\"shopfiy-status el-tag el-tag--danger el-tag--small el-tag--light\"},[_c('span',{staticClass:\"-EFlq bg2\"}),_vm._v(\" Partially Fulfilled \")])]),_vm._v(\" orders can be process, what do you want to do now? \")]),_c('div',{staticClass:\"how-to-process-btn-wrap\"},[_c('div',{on:{\"click\":function($event){return _vm.goto('ReadyForMakeOffer')}}},[_c('i',{staticClass:\"icon iconfont icon-offer\"}),_c('div',[_vm._v(\" Need new quotation for my orders \"),_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"dark\",\"content\":\"Over 30000+ vendors waiting for offer you price\",\"placement\":\"top\"}},[_c('i',{staticClass:\"el-icon-question\"})])],1)]),_c('div',{on:{\"click\":function($event){return _vm.goto('WaitingForAllocated')}}},[_c('i',{staticClass:\"icon iconfont icon-shunt\"}),_c('div',[_vm._v(\" Allocate my exist vendors \"),_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"dark\",\"content\":\"If you already have cooperative vendors, you can allocate orders to them\",\"placement\":\"top\"}},[_c('i',{staticClass:\"el-icon-question\"})])],1)]),_c('div',{on:{\"click\":function($event){return _vm.goto('WaitingForAllocated')}}},[_c('i',{staticClass:\"icon iconfont icon-check\"}),_c('div',[_vm._v(\" Just check my orders \")])])])])],1),_c('el-dialog',{attrs:{\"close-on-click-modal\":false,\"title\":\"In order to keep you informed of the update of the order, we suggest you verify the email\",\"visible\":_vm.verifyEmail,\"show-close\":false,\"width\":\"760px\"},on:{\"update:visible\":function($event){_vm.verifyEmail=$event}}},[_c('ul',{staticClass:\"verify\"},[_c('li',{staticStyle:{\"display\":\"flex\",\"align-items\":\"center\"}},[(_vm.changeStart == false)?_c('label',{staticStyle:{\"width\":\"80px\",\"font-weight\":\"700\"}},[_vm._v(\"Email:\")]):_vm._e(),(_vm.changeStart == false)?_c('span',{staticStyle:{\"margin-top\":\"-4px\"}},[_vm._v(\" \"+_vm._s(_vm.form.email)+\" \"),_c('el-link',{staticClass:\"mg-l-10\",staticStyle:{\"margin-bottom\":\"3px\"},attrs:{\"type\":\"primary\",\"disabled\":!_vm.canChange},on:{\"click\":_vm.changeOpen}},[(_vm.form.email)?_c('span',[_vm._v(\"Change\")]):_c('span',[_vm._v(\"Add\")])])],1):_c('el-input',{attrs:{\"placeholder\":\"Email\",\"auto-complete\":\"off\",\"disabled\":_vm.time>0},model:{value:(_vm.userEmail),callback:function ($$v) {_vm.userEmail=$$v},expression:\"userEmail\"}})],1),(_vm.failTx)?_c('li',{staticClass:\"tx-danger\"},[_vm._v(_vm._s(_vm.failTx))]):_vm._e(),_c('li',[_c('vue-simple-verify',{ref:\"verify\",attrs:{\"width\":380,\"tips\":\"Hold down the slider and drag to the right\",\"successTips\":\"Validation passed\"},on:{\"success\":_vm.successVerify}})],1),_c('li',{staticStyle:{\"display\":\"flex\"}},[_c('el-input',{staticStyle:{\"flex\":\"1\",\"width\":\"250px\"},attrs:{\"placeholder\":\"Captcha\"},model:{value:(_vm.authcode),callback:function ($$v) {_vm.authcode=$$v},expression:\"authcode\"}}),(!_vm.sendMsgDisabled)?_c('el-link',{staticClass:\"mg-l-10\",attrs:{\"underline\":false,\"type\":\"primary\",\"disabled\":!_vm.canSendAuthCode},on:{\"click\":_vm.sendAuthCode}},[_vm._v(\"Get captcha\")]):_vm._e(),(_vm.sendMsgDisabled)?_c('el-link',{staticClass:\"mg-l-10\",attrs:{\"underline\":false,\"type\":\"primary\",\"disabled\":!_vm.canSendAuthCode},on:{\"click\":_vm.sendAuthCode}},[_vm._v(\" try again in \"+_vm._s(_vm.time)+\" seconds \")]):_vm._e()],1)]),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.saveEmail}},[_vm._v(\"Confirm\")]),_c('el-button',{on:{\"click\":function($event){_vm.verifyEmail=false}}},[_vm._v(\"Discard\")])],1)]),_c('Quotation',{attrs:{\"visible\":_vm.visible},on:{\"update:visible\":function($event){_vm.visible=$event}}})],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"left\"},[_c('div',{staticClass:\"title\"},[_c('i',{staticClass:\"iconfont icon-shopify\"}),_c('h2',[_vm._v(\"Orders\")])])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"contentpanel orders-page\">\r\n    <div\r\n      class=\"header-diy\"\r\n      ref=\"pageHeader\"\r\n    >\r\n     <div class=\"pagetitle\">\r\n       <div class=\"left\">\r\n         <div class=\"title\">\r\n           <i class=\"iconfont icon-shopify\"></i>\r\n           <h2>Orders</h2>\r\n         </div>\r\n       </div>\r\n       <div class=\"right\">\r\n         <!-- 前三个菜单显示 导出和更新 -->\r\n         <template v-if=\"/AllOrders|WaitingForAllocated|WaitingForSourcing/.test($route.name)\">\r\n           <el-button v-if=\"$route.name != 'WaitingForSourcing'\" type=\"primary\" size=\"medium\" icon=\"fa fa-download\" @click=\"openExportDialog\">\r\n             Export\r\n           </el-button>\r\n           <template v-if=\"!!(updateTime && (updateTime > now))\">\r\n             <el-tooltip class=\"item\" effect=\"dark\" content=\"The update process has started, it will take a while to finish.\" placement=\"bottom\">\r\n               <el-button type=\"primary\" size=\"medium\" icon=\"el-icon-refresh\" style=\"color: #FFFFFF;background-color: #aeb5e2;border-color: #aeb5e2;\">\r\n                 Update Order\r\n               </el-button>\r\n             </el-tooltip>\r\n           </template>\r\n           <template v-else>\r\n             <el-tooltip class=\"item\" effect=\"dark\" content=\"Use this button to update your Order List if missing orders.The process may take a while to finish.\" placement=\"bottom\">\r\n               <el-button icon=\"el-icon-refresh\" :disabled=\"!!(updateTime && (updateTime > now))\" type=\"primary\" size=\"medium\" :loading=\"updateOrderLoading\" @click=\"updateOrder\">\r\n                 Update Order\r\n               </el-button>\r\n             </el-tooltip>\r\n           </template>\r\n         </template>\r\n       </div>\r\n     </div>\r\n\r\n      <el-alert\r\n        v-if=\"pendingPay\"\r\n        class=\"order-alert\"\r\n        title=\"Notice\"\r\n        type=\"warning\"\r\n        show-icon\r\n        :closable=\"false\"\r\n      >\r\n        <template>\r\n          <p>You have <a @click=\"handlePendingPay\" class=\"mian-alert-a\"> {{pendingPay}} purchase orders </a> NEED to finish payment</p>\r\n        </template>\r\n      </el-alert>\r\n\r\n    </div>\r\n    <div class=\"pagebody headTab\">\r\n      <el-card>\r\n        <el-row>\r\n          <el-col\r\n            :span=\"24\"\r\n            ref=\"pageTabs\"\r\n          >\r\n            <el-tabs\r\n              v-model=\"activeName\"\r\n              @tab-click=\"handleClick\"\r\n            >\r\n              <el-tab-pane\r\n                label=\"All orders\"\r\n                name=\"AllOrders\"\r\n              ></el-tab-pane>\r\n              <el-tab-pane\r\n                label=\"Waiting for allocated\"\r\n                name=\"WaitingForAllocated\"\r\n              >\r\n                <span slot=\"label\">\r\n                  Waiting for allocated <span\r\n                    v-if=\"allocateCnt\"\r\n                    class=\" tx-warning\"\r\n                  >({{allocateCnt}})</span>\r\n                </span>\r\n              </el-tab-pane>\r\n              <el-tab-pane\r\n                label=\"Waiting for sourcing\"\r\n                name=\"WaitingForSourcing\"\r\n              >\r\n                <span slot=\"label\">\r\n                  Waiting for sourcing <span\r\n                    v-if=\"sourcingCnt\"\r\n                    class=\" tx-warning\"\r\n                  >({{sourcingCnt}})</span>\r\n                </span>\r\n              </el-tab-pane>\r\n              <el-tab-pane\r\n                label=\"Orders processing\"\r\n                name=\"OrderProcessing\"\r\n              >\r\n                <span slot=\"label\">\r\n                  Orders processing <span\r\n                    v-if=\"processingCnt\"\r\n                    class=\" tx-success\"\r\n                  >({{processingCnt}})</span>\r\n                </span>\r\n              </el-tab-pane>\r\n              <el-tab-pane\r\n                label=\"Delivered\"\r\n                name=\"Delivered\"\r\n              ></el-tab-pane>\r\n              <el-tab-pane\r\n                label=\"Abnormal order\"\r\n                name=\"AbnormalOrder\"\r\n              >\r\n                <span slot=\"label\">\r\n                  Abnormal order <span\r\n                    v-if=\"abnormalCnt\"\r\n                    class=\" tx-danger\"\r\n                  >({{abnormalCnt}})</span>\r\n                </span>\r\n              </el-tab-pane>\r\n            </el-tabs>\r\n            \r\n          </el-col>\r\n          <!-- WaitingForAllocated Quote for orders -->\r\n          <div class=\"btn-hide-group\">\r\n            <el-button type=\"primary quoteOrder\" v-if=\"$route.name == 'WaitingForAllocated'\" \r\n            size=\"small\"  @click=\"makeAnOffer\">\r\n            <el-tooltip class=\"item\" effect=\"dark\" content=\"Please select at least one order and quote for your order\" placement=\"top\">\r\n              <i class=\"el-icon-info\"></i>\r\n            </el-tooltip>\r\n                Quote for Orders\r\n            </el-button>\r\n            <!-- 商品报价 -->\r\n            <el-button type=\"primary quoteProduct\" @click=\"quotation()\" size=\"small\">\r\n                Quote for Product\r\n            </el-button>\r\n            <!-- 报价单入口 -->\r\n            <el-button type=\"primary recent\" size=\"small\"  @click=\"openRecent\">\r\n              Recent Quotations\r\n            </el-button>\r\n          </div> \r\n          <div class=\"btn-hide-dropdown recent\">\r\n            <el-dropdown v-if=\"$route.name == 'WaitingForAllocated'\"  split-button type=\"primary\" size=\"medium\" @click=\"makeAnOffer\" @command=\"handleCommand\">\r\n              <el-tooltip class=\"item\" effect=\"dark\" content=\"Please select at least one order and quote for your order\" placement=\"top\">\r\n                <i class=\"el-icon-info\"></i>\r\n              </el-tooltip>\r\n              Quote for Orders\r\n              <el-dropdown-menu slot=\"dropdown\">\r\n                <el-dropdown-item command=\"quoteForProduct\">Quote for Product</el-dropdown-item>\r\n                <el-dropdown-item  command=\"recentQuotations\">Recent Quotations</el-dropdown-item>\r\n              </el-dropdown-menu>\r\n            </el-dropdown>\r\n            <el-dropdown v-else  split-button type=\"primary\" size=\"medium\" @click=\"quotation()\" @command=\"handleCommand\">\r\n              Quote for Product\r\n              <el-dropdown-menu slot=\"dropdown\">\r\n                <el-dropdown-item command=\"recentQuotations\">Recent Quotations</el-dropdown-item>\r\n              </el-dropdown-menu>\r\n            </el-dropdown>\r\n          </div>  \r\n          <el-col :span=\"24\">\r\n            <router-view\r\n            :key=\"pageKey\"\r\n              ref=\"subPage\"\r\n              :fulfillArr=\"fulfillArr\"\r\n              :dateArr=\"dateArr\"\r\n              @getTableHeight=\"getTableHeight\"\r\n              @getNum=\"getNum\"\r\n            />\r\n          </el-col>\r\n        </el-row>\r\n      </el-card>\r\n    </div>\r\n    <el-dialog title=\"Export orders\" :visible.sync=\"exportDialog.isShow\" :width=\"'620px'\" :close-on-click-modal=\"false\">\r\n      <el-divider></el-divider>\r\n      <div style=\"padding: 20px;\">\r\n        <p class=\"mg-b-10\">Export to   {{$store.state.userInfo.email}}</p>\r\n        <el-radio-group v-model=\"exportDialog.status\"\r\n        style=\"display: flex; flex-direction: column; padding-left: 15px;\">\r\n          <el-radio label=\"1\">All orders</el-radio>\r\n          <!-- <el-radio label=\"2\" :disabled=\"!exportDialog.selectData.length\">Selected: {{exportDialog.selectData.length}} orders</el-radio> -->\r\n          <el-radio label=\"3\" :disabled=\"!Number(exportDialog.totalCount)\">{{exportDialog.totalCount}} orders matching your search</el-radio>\r\n        </el-radio-group>\r\n      </div>\r\n      <el-divider></el-divider>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n\t\t\t\t<el-button size=\"small\" @click=\"exportDialog.isShow = false;\">Cancel</el-button>\r\n\t\t\t\t<el-button size=\"small\" type=\"primary\" @click=\"exportOrders\" :disabled=\"!exportDialog.status\" :loading=\"exportDialog.loading\">Export orders</el-button>\r\n\t\t\t</div>\r\n    </el-dialog>\r\n    <el-dialog \r\n      title=\"How to process your orders?\" \r\n      :visible.sync=\"dialogHowToShopify.isShow\" \r\n      :width=\"'800px'\"\r\n      :close-on-click-modal=\"false\"\r\n    >\r\n      <el-divider></el-divider>\r\n      <div style=\" padding: 20px\">\r\n        <p style=\"margin-bottom: 15px;\" class=\"table-wrap\">\r\n          You have \r\n          <span class=\" mg-r-15 tx-danger\">{{allocateCnt}}</span> \r\n          <span class=\"el-tag el-tag--info el-tag--small el-tag--light\"><span class=\"-EFlq bg3\"></span> Paid </span>\r\n          + \r\n          <span><span class=\"el-tag el-tag--warning el-tag--small el-tag--light\"><span class=\"-EFlq bg1\"></span> Unfulfilled </span></span> \r\n          / \r\n          <span><span class=\"shopfiy-status el-tag el-tag--danger el-tag--small el-tag--light\"><span class=\"-EFlq bg2\"></span> Partially Fulfilled </span></span>\r\n          orders can be process, what do you want to do now?\r\n        </p>\r\n        <div class=\"how-to-process-btn-wrap\">\r\n          <!-- 1 -->\r\n          <div @click=\"goto('ReadyForMakeOffer')\">\r\n            <i class=\"icon iconfont icon-offer\"></i>\r\n            <div>\r\n              Need new quotation for my orders\r\n              <el-tooltip class=\"item\" effect=\"dark\" content=\"Over 30000+ vendors waiting for offer you price\" placement=\"top\">\r\n                <i class=\"el-icon-question\"></i>\r\n              </el-tooltip>\r\n            </div>\r\n          </div>\r\n          <!-- 2 -->\r\n          <div @click=\"goto('WaitingForAllocated')\">\r\n            <i class=\"icon iconfont icon-shunt\"></i>\r\n            <div>\r\n              Allocate my exist vendors\r\n              <el-tooltip class=\"item\" effect=\"dark\" content=\"If you already have cooperative vendors, you can allocate orders to them\" placement=\"top\">\r\n                <i class=\"el-icon-question\"></i>\r\n              </el-tooltip>\r\n            </div>\r\n          </div>\r\n          <!-- 3 -->\r\n          <div @click=\"goto('WaitingForAllocated')\">\r\n            <i class=\"icon iconfont icon-check\"></i>\r\n            <div>\r\n              Just check my orders\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </el-dialog>  \r\n    <el-dialog\r\n      :close-on-click-modal=\"false\"\r\n      title=\"In order to keep you informed of the update of the order, we suggest you verify the email\"\r\n      :visible.sync=\"verifyEmail\" :show-close=\"false\"\r\n      width=\"760px\">\r\n        <ul class=\"verify\">\r\n          <li style=\"display: flex;align-items: center;\">\r\n            <label v-if=\"changeStart == false\" style=\"width:80px;font-weight:700\">Email:</label>\r\n              <span v-if=\"changeStart == false\" style=\"margin-top: -4px;\">\r\n                {{form.email}}\r\n                <el-link type=\"primary\" class=\"mg-l-10\" style=\"margin-bottom:3px\"\r\n                  @click=\"changeOpen\" :disabled=\"!canChange\">\r\n                  <span v-if=\"form.email\">Change</span>\r\n                  <span v-else>Add</span>\r\n                </el-link>\r\n              </span>\r\n              <el-input\r\n              v-else\r\n              placeholder=\"Email\"\r\n              v-model=\"userEmail\"\r\n              auto-complete=\"off\"\r\n              :disabled=\"time>0\"\r\n            ></el-input>\r\n           </li>\r\n           <li v-if=\"failTx\" class=\"tx-danger\">{{failTx}}</li>\r\n           <li>\r\n             <vue-simple-verify ref=\"verify\" @success=\"successVerify\" :width=\"380\"\r\n             tips=\"Hold down the slider and drag to the right\" successTips=\"Validation passed\"/>\r\n           </li>\r\n           <li style=\"display:flex\">\r\n             <el-input placeholder=\"Captcha\" v-model=\"authcode\"\r\n             style=\"flex:1;width:250px\"></el-input>\r\n              <el-link class=\"mg-l-10\" :underline=\"false\" v-if=\"!sendMsgDisabled\" type=\"primary\" :disabled=\"!canSendAuthCode\" @click=\"sendAuthCode\">Get captcha</el-link>\r\n    \t\t     <el-link class=\"mg-l-10\" :underline=\"false\" v-if=\"sendMsgDisabled\" type=\"primary\" :disabled=\"!canSendAuthCode\" @click=\"sendAuthCode\">\r\n              try again in {{time}} seconds\r\n              </el-link>\r\n           </li>\r\n         </ul>\r\n        <span slot=\"footer\" class=\"dialog-footer\">\r\n          <el-button @click=\"saveEmail\" type=\"primary\">Confirm</el-button>\r\n          <el-button @click=\"verifyEmail=false\">Discard</el-button>\r\n        </span>\r\n    </el-dialog>\r\n    <Quotation :visible.sync=\"visible\"></Quotation>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Quotation from \"../../components/productQuotation\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      visible:false,\r\n      form:{\r\n       email:''\r\n      },\r\n      tdShow:false,\r\n      canChange:true,\r\n      verifyEmail:false,\r\n      changeStart:false,\r\n      sendMsgDisabled: false,\r\n      canSaveEdit:false,\r\n      canSendAuthCode:false,\r\n      canSendAuthCodeAgain:false,\r\n      time:0,\r\n      userEmail:\"\",\r\n      authcode:\"\",\r\n      failTx:\"\",\r\n      pageKey: (new Date()).valueOf(),\r\n      pendingPay: 0,\r\n      activeName: \"\",\r\n      reSizeTime: 0,\r\n      allocateCnt: 0,\r\n      sourcingCnt: 0,\r\n      processingCnt: 0,\r\n      abnormalCnt: 0,\r\n      fulfillArr: {\r\n        fulfilled: { text: \"Fulfilled\", type: \"info\", r: 3 },\r\n        unfulfilled: { text: \"Unfulfilled\", type: \"warning\", r: 1 },\r\n        partial: { text: \"Partially Fulfilled\", type: \"danger\", r: 2 },\r\n        refunded: { text: \"Refunded\", type: \"info\", r: 3 },\r\n      },\r\n      dateArr:{\r\n        1: 'Today',\r\n        2: 'Last 7 days',\r\n        3: 'Last 30 days',\r\n        4: 'Last 90 days',\r\n        5: 'Last 12 months',\r\n        6: 'Custom',\r\n      },\r\n      updateOrderLoading: false,\r\n      cnow: 0,\r\n      now: Date.parse(new Date()) / 1000 - this.$store.state.userInfo.timeDiff,\r\n      updateTime: localStorage.getItem('c_orders-updateTime') ? Number(localStorage.getItem('c_orders-updateTime')) : 0,\r\n      exportDialog: {\r\n        isShow: false,\r\n        loading: false,\r\n        status: \"\",\r\n        selectData: [],\r\n        totalCount: 0,\r\n      },\r\n      exportDialogDefault: '{}',\r\n      dialogHowToShopify: {\r\n        isShow: false,\r\n      }\r\n    };\r\n  },\r\n  components:{\r\n    Quotation\r\n  },\r\n  mounted() {\r\n    this.showPopup()\r\n    this.exportDialogDefault = JSON.stringify(this.exportDialog);\r\n    this.activeName = this.$route.name;\r\n    this.cnow = setInterval(()=>{\r\n\t\t\tthis.now = Date.parse(new Date()) / 1000 - this.$store.state.userInfo.timeDiff;\r\n\t\t},1000)\r\n    this.getNum(undefined, 'first');\r\n  },\r\n  watch: {\r\n    $route() {\r\n      this.activeName = this.$route.name;\r\n      this.getNum();\r\n    },\r\n  },\r\n  methods: {\r\n    handleCommand(c){\r\n      switch(c){\r\n        case 'quoteForProduct':\r\n          this.quotation();\r\n          break;\r\n        case 'recentQuotations':\r\n          this.openRecent();\r\n          break;  \r\n      }\r\n    },\r\n    makeAnOffer(){\r\n      this.$refs.subPage.makeAnOffer();\r\n    },\r\n    quotation() {\r\n      \r\n      this.$Burying({\r\n        object: '14001'\r\n      })\r\n      this.visible = true;\r\n    },\r\n    openRecent(){\r\n       this.$router.push('/make-offers');\r\n    },\r\n     // 利用cookie限制每天只弹窗一次\r\n     // expires指定时间删除有效期24小时的cookie\r\n    showPopup(){\r\n    //====================\r\n      var s = document.cookie;\r\n      if (s.indexOf('tdShow=1') != -1){\r\n        this.$nextTick(function(){\r\n          this.tdShow = false;\r\n        })\r\n        return;\r\n      }\r\n      var d = new Date();\r\n      d.setHours(d.getHours() + 24);\r\n      document.cookie = 'tdShow=1;expires='+d.toGMTString();// 设置cookie\r\n      // ====================\r\n      // 以下是要执行的代码\r\n      this.$nextTick(function(){\r\n        if(JSON.parse(localStorage.getItem(\"c_ourMallUserInfo\")).verifyEmail == \"2\"){\r\n          this.verifyEmailOpen();\r\n        };\r\n        this.tdShow = true;\r\n      })\r\n    },\r\n    saveEmail(){\r\n    this.$apiCall(\"api.User.checkEmailToken\", {\r\n\t        email: this.changeStart == true ? this.userEmail :this.form.email,\r\n\t        token: this.authcode\r\n\t    }, r => {\r\n\t        if (r.ErrorCode == '9999') {\r\n              let userInfo = JSON.parse(JSON.stringify(this.$store.state.userInfo));\r\n              userInfo.email = this.changeStart == true ? this.userEmail :this.form.email;\r\n              localStorage.setItem(\"c_ourMallUserInfo\", JSON.stringify(userInfo));\r\n              this.$elementMessage('User Email modified successfully',\"success\");\r\n              this.verifyEmail = false;\r\n\t        } else {\r\n\t          \tthis.$elementMessage(r.Message, \"error\");\r\n\t        }\r\n\t    }); \r\n    },\r\n    changeOpen(){\r\n    this.changeStart = true;\r\n    this.form.email = \"\";\r\n    },\r\n    // 验证邮箱格式\r\n    isCEmail(email) {\r\n      return email ? /^([a-z0-9_\\.-]+)@([\\da-z\\.-]+)\\.([a-z\\.]{2,6})$/.test(email) : false;\r\n    },\r\n    successVerify(){\r\n       if ((this.userEmail && this.isCEmail(this.userEmail))||\r\n       (this.form.email && this.isCEmail(this.form.email))){\r\n          this.canSendAuthCode = true;\r\n          this.econfirmSuccess = true;\r\n          this.canChange = false;\r\n          this.failTx = \"\"\r\n          this.sendAuthCode();\r\n      }else{\r\n          this.$refs.verify.reset()\r\n          this.canSendAuthCode = false;\r\n          this.econfirmSuccess = false;\r\n          this.failTx = \"Please fill in the correct Email address\"\r\n      } \r\n    },\r\n    // 发送验证码\r\n    sendAuthCode() {\r\n        this.$showLoading();\r\n  \t   \tlet vm = this;\r\n        vm.sendMsgDisabled = true;\r\n        vm.canSendAuthCode = false;\r\n        vm.canSendAuthCodeAgain = true;\r\n          // 邮箱验证码\r\n          this.$apiCall(\"api.User.checkEmail\", {\r\n\t        email: vm.changeStart == true ? vm.userEmail :vm.form.email\r\n\t      }, r => {\r\n          this.$hideLoading();\r\n\t        if (r.ErrorCode == '9999') {\r\n            this.$message({\r\n              type: 'success',\r\n              message: 'The captcha was sent successfully',\r\n            });\r\n\t        \tvm.time = 60;\r\n\t          \tlet interval = window.setInterval(function() {\r\n\t\t          \tif ((vm.time--) <= 0) {\r\n                  vm.time = 0;\r\n                  vm.sendMsgDisabled = false;\r\n                  vm.canSendAuthCode = true;\r\n\t\t\t            vm.canSendAuthCodeAgain = false;\r\n\t\t\t            window.clearInterval(interval); //停止\r\n\t\t          \t}\r\n\t\t        }, 1000);\r\n\t        } else {\r\n\t\t        this.$message({\r\n\t\t\t\t    \tmessage: r.Message,\r\n\t\t\t\t    \ttype: \"error\"\r\n            });\r\n             vm.sendMsgDisabled = false;\r\n             vm.canSendAuthCode = true;\r\n\t\t\t       vm.canSendAuthCodeAgain = false;\r\n\t        }\r\n\t      });  \r\n    },\r\n    verifyEmailOpen(){\r\n      let email = JSON.parse(localStorage.getItem(\"c_ourMallUserInfo\")).email\r\n      this.form.email = email;\r\n      this.verifyEmail = true;\r\n    },\r\n    goto(name){\r\n      this.$router.push({name})\r\n      this.dialogHowToShopify.isShow = false;\r\n    },\r\n    handlePendingPay() {\r\n      if (this.$route.name === \"OrderProcessing\") {\r\n        this.$refs.subPage.filterParams.status = 2\r\n        this.$refs.subPage.getItem()\r\n      }\r\n      this.$router.push({\r\n        path: \"/Orders-processing\",\r\n        query: {\r\n          status: 2,\r\n        },\r\n      });\r\n    },\r\n    exportOrders(){ //导出订单\r\n      let params = {\r\n        email: this.$store.state.userInfo.email,\r\n      };\r\n      if(this.activeName == 'AllOrders'){ //all orders\r\n        params.isAll = 1;\r\n        let _filter = this.$refs.subPage.filterParams;\r\n        if(this.exportDialog.status == 3){\r\n          params.accountIds = _filter.shopifyStore;\r\n          params.timeFilter = _filter.timeFilter >= 6 ? \"\" : _filter.timeFilter;\r\n          params.dateFrom = _filter.dateFrom;\r\n          params.dateTo = _filter.dateTo;\r\n          params.fulfillmentStatus = _filter.fulfillStatus;\r\n          params.sort = _filter.sortBy;\r\n          params.keywords = _filter.codeName;\r\n          params.financialStatus = _filter.financial_status;\r\n        }\r\n      }\r\n      if(this.activeName == 'WaitingForAllocated'){ //waiting for allocated\r\n        params.waitDispatch = 1;\r\n        let _filter = this.$refs.subPage.filterParams;\r\n        if(this.exportDialog.status == 3){\r\n          params.accountIds = _filter.shopifyStore;\r\n          params.timeFilter = _filter.timeFilter >= 6 ? \"\" : _filter.timeFilter;\r\n          params.dateFrom = _filter.dateFrom;\r\n          params.dateTo = _filter.dateTo;\r\n          params.fulfillmentStatus = _filter.fulfillStatus;\r\n          params.sort = _filter.sortBy;\r\n          params.keywords = _filter.codeName;\r\n        }\r\n      }\r\n      this.exportDialog.loading = true;\r\n      this.$apiCall(\"api.Invoice.exportShopifyOrders\", params, r => {\r\n        this.exportDialog.loading = false;\r\n        if(r.ErrorCode == 9999) {\r\n          this.exportDialog.isShow = false;\r\n          this.$message({\r\n            offset:200,\r\n            duration:0,\r\n            dangerouslyUseHTMLString: true,\r\n            showClose: true,\r\n            message: `<strong>Your Orders are exporting</strong><br/>Your export will be delivered by email to: ${this.$store.state.userInfo.email}. <br/>Depending on how many Orders you’re exporting, this could take some time.`,\r\n            type: 'success'\r\n          });\r\n        }else{\r\n          this.$elementMessage(r.Message, 'error');\r\n        }\r\n      })\r\n    },\r\n    openExportDialog(){\r\n      this.exportDialog = JSON.parse(this.exportDialogDefault)\r\n      this.exportDialog.isShow = true;\r\n      this.exportDialog.loading = false;\r\n      if(this.activeName == 'AllOrders' || this.activeName == 'WaitingForAllocated'){\r\n        this.exportDialog.totalCount = this.$refs.subPage.totalCount;\r\n      }\r\n    },\r\n    updateOrder(){\r\n      this.updateOrderLoading = true;\r\n      this.$apiCall('api.ShopifyAccount.getOrderByHand', {}, r => {\r\n        this.updateOrderLoading = false;\r\n        if(r.ErrorCode == \"9999\") {\r\n          this.updateTime = r.Data.Results;\r\n          localStorage.setItem('c_orders-updateTime', r.Data.Results)\r\n          this.$elementMessage('Update Order Success', 'success');\r\n        }else{\r\n          this.$elementMessage(r.Message, 'error');\r\n        }\r\n      });\r\n\r\n    },\r\n    getNum(time, type) {\r\n      this.$apiCall(\"api.Invoice.getOrderCnt\", {}, (r) => {\r\n        if (r.ErrorCode == \"9999\") {\r\n          let data = r.Data.Results;\r\n          let t = setInterval(() => {\r\n            if (!time || new Date().valueOf() > time + 1500) {\r\n              clearInterval(t);\r\n              this.allocateCnt = Number(data.allocateCnt);\r\n              this.sourcingCnt = Number(data.sourcingCnt);\r\n            }\r\n          }, 100);\r\n          this.processingCnt = Number(data.processingCnt);\r\n          this.abnormalCnt = Number(data.abnormalCnt);\r\n          if(type == 'first'){\r\n            setTimeout(()=>{\r\n              if(this.allocateCnt && !Number(this.$store.state.userInfo.vendorCnt)){\r\n                this.dialogHowToShopify.isShow = true;\r\n              }\r\n            },200)\r\n          }\r\n          \r\n        } else {\r\n          this.$elementMessage(r.Message, \"error\");\r\n        }\r\n      });\r\n\r\n      this.$apiCall(\"api.Invoice.findByCustomer\", {\r\n        status: 2\r\n      }, (r) => {\r\n        if (r.ErrorCode == \"9999\") {\r\n          let data = r.Data.Results;\r\n          this.pendingPay = data.length\r\n        } else {\r\n          this.$elementMessage(r.Message, \"error\");\r\n        }\r\n      });\r\n    },\r\n    getTableHeight(children) {\r\n      //获取表格高度\r\n      clearTimeout(this.reSizeTime);\r\n      this.reSizeTime = setTimeout(() => {\r\n        let h =\r\n          this.$root.$children[0].$refs.mainScroll.wrap.offsetHeight -\r\n          (this.$refs.pageHeader.offsetHeight +\r\n            this.$refs.pageTabs.$el.offsetHeight +\r\n            children.$refs.tablefilter.offsetHeight +\r\n            children.$refs.tableFooter.offsetHeight) -\r\n          120;\r\n        if(this.activeName == 'WaitingForAllocated')\r\n          h += -10\r\n        children.tableHeight = h > 200 ? h : 200;\r\n      }, 500);\r\n    },\r\n    handleClick(tab) {\r\n      if(tab.name == this.$route.name){ //点击相同路由刷新\r\n        this.pageKey = (new Date()).valueOf();\r\n      }else{\r\n        //tabs 切换\r\n        this.$router.push({ name: tab.name });\r\n      }   \r\n    },\r\n\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.header-diy {\r\n  margin-bottom: 5px;\r\n  .pagetitle {\r\n    margin-bottom: 5px!important;\r\n  }\r\n  .mian-alert-a {\r\n    color: #5c6ac4;\r\n    cursor: pointer;\r\n  }\r\n}\r\n\r\n.el-checkbox-group,\r\n.el-radio-group {\r\n  overflow-y: auto;\r\n}\r\n.orders-page {\r\n  .table-wrap {\r\n    .el-tag {\r\n      background-color: #ffea8a;\r\n      color: #595130;\r\n      display: inline-flex;\r\n      align-items: center;\r\n      padding: 0.3rem 0.8rem;\r\n      border-radius: 2rem;\r\n      font-size: 1.3rem;\r\n      line-height: 1.5rem;\r\n      font-weight: normal;\r\n      .-EFlq {\r\n        height: 1rem;\r\n        width: 1rem;\r\n        margin: 0 0.4rem 0 -0.3rem;\r\n        border: 0.2rem solid currentColor;\r\n        border-radius: 50%;\r\n        flex-shrink: 0;\r\n        background: transparent;\r\n        color: #8a6116;\r\n      }\r\n      .-EFlq.bg2 {\r\n        background-color: linear-gradient(\r\n          0deg,\r\n          currentColor,\r\n          currentColor 50%,\r\n          transparent 0,\r\n          transparent\r\n        );\r\n      }\r\n      .-EFlq.bg3 {\r\n        background-color: currentColor;\r\n      }\r\n    }\r\n    .el-tag.el-tag--info {\r\n      background-color: #E3E4E6;\r\n      .-EFlq {\r\n        color: #616266;\r\n      }\r\n    }\r\n    .el-tag.el-tag--warning {\r\n      border-color: #ffea8a;\r\n      background-color: #ffea8a;\r\n      color: #303133;\r\n      .-EFlq {\r\n        color: #8a6116;\r\n      }\r\n    }\r\n    .el-tag.el-tag--danger {\r\n      background-color: #ffc58b;\r\n      color: #303133;\r\n      .-EFlq {\r\n        color: #8a6116;\r\n      }\r\n    }\r\n  }\r\n  .el-button-group > span:not(:first-child):not(:last-child) .el-button {\r\n    border-radius: 0;\r\n  }\r\n  .el-button-group > span:not(:last-child) .el-button {\r\n    margin-right: -1px;\r\n  }\r\n  .el-button-group > span:first-child .el-button {\r\n    border-top-right-radius: 0;\r\n    border-bottom-right-radius: 0;\r\n  }\r\n  .el-button-group > span:last-child .el-button {\r\n    border-top-left-radius: 0;\r\n    border-bottom-left-radius: 0;\r\n  }\r\n  .el-popover {\r\n    max-height: 400px;\r\n    overflow: auto;\r\n  }\r\n  .el-button-group > span:not(:first-child):not(:last-child) .el-button {\r\n    border-radius: 0;\r\n  }\r\n  .el-button-group > span:not(:last-child) .el-button {\r\n    margin-right: -1px;\r\n  }\r\n  .el-button-group > span:first-child .el-button {\r\n    border-top-right-radius: 0;\r\n    border-bottom-right-radius: 0;\r\n  }\r\n  .el-button-group > span:last-child .el-button {\r\n    border-top-left-radius: 0;\r\n    border-bottom-left-radius: 0;\r\n  }\r\n}\r\n.order-alert {\r\n  background-color: #feef92;\r\n  border: 1px solid #E6A23C;\r\n  .el-alert__content {\r\n    margin-left: 10px;\r\n  }\r\n  .el-alert__title {\r\n    color: #303133!important;\r\n  }\r\n  .el-alert__description {\r\n    color: #606266!important;\r\n  }\r\n}\r\n</style>\r\n\r\n<style lang=\"scss\" scoped>\r\n.btn-hide-group{\r\n  display: none;\r\n}\r\n.btn-hide-dropdown{\r\n\r\n}\r\n@media screen and (min-width: 1530px) {\r\n  .btn-hide-group {\r\n    display: block;\r\n  }\r\n  .btn-hide-dropdown{\r\n    display: none;\r\n  }\r\n}\r\n\r\n.quoteOrder{\r\n  position: absolute;\r\n  right: 290px;\r\n  top: -2px;\r\n}\r\n.how-to-process-btn-wrap{\r\n  display: flex;\r\n  word-break: break-word;\r\n  > div{\r\n    margin-right: 20px;\r\n    padding:50px 10px;\r\n    flex: 1;\r\n    border: 1px #DCDFE6 solid;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    cursor: pointer;\r\n    > .icon{\r\n      font-size: 64px;\r\n    }\r\n  }\r\n  > div:last-child{\r\n    margin-right: 0;\r\n  }\r\n  > div:hover{\r\n    border-color: #5c6ac4;\r\n  }\r\n}\r\n.verify{\r\n  list-style: none;\r\n  width:50%;\r\n  padding: 20px 0 0 0;\r\n  margin:0 auto;\r\n  display:flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  li{\r\n    margin-bottom: 15px;\r\n    width: 100%;\r\n  }\r\n}\r\n.recent{\r\n    position: absolute;\r\n    right: 0;\r\n    top: -2px;\r\n}\r\n.quoteProduct{\r\n    position: absolute;\r\n    right: 145px;\r\n    top: -2px;\r\n}\r\n// .quoteOrder{\r\n//   position: absolute;\r\n//   right: 290px;\r\n//   top: -2px;\r\n// }\r\n.headTab ::v-deep .el-tabs__item{\r\n padding: 0 7px !important;\r\n}\r\n</style>\r\n\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Main.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Main.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Main.vue?vue&type=template&id=7bebdb80&scoped=true&\"\nimport script from \"./Main.vue?vue&type=script&lang=js&\"\nexport * from \"./Main.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Main.vue?vue&type=style&index=0&lang=scss&\"\nimport style1 from \"./Main.vue?vue&type=style&index=1&id=7bebdb80&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7bebdb80\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Main.vue?vue&type=style&index=1&id=7bebdb80&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-dialog',{attrs:{\"title\":\"Request a quotation for products\",\"visible\":_vm.openCardDialog},on:{\"update:visible\":function($event){_vm.openCardDialog=$event},\"close\":_vm.closeDialog}},[_c('el-divider'),(_vm.imgView)?_c('div',{staticClass:\"proQuotation\"},[_c('div',{staticClass:\"quotationTit\"},[_vm._v(\"products for quotation\")]),_c('div',{staticStyle:{\"display\":\"flex\"}},[_c('div',{staticClass:\"imgList\"},_vm._l((_vm.imgList),function(item){return _c('img',{key:item,staticClass:\"upload imgItem\",attrs:{\"src\":item}})}),0),_c('div',{staticClass:\"upload\",on:{\"click\":_vm.openForm}},[_c('i',{staticClass:\"el-icon-plus\"})])])]):_vm._e(),(_vm.isForm)?_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"formRole\"},[_c('div',{staticClass:\"quotationTit\"},[_vm._v(\"Product information\")]),_c('el-form',{attrs:{\"model\":_vm.form,\"label-position\":\"left\",\"label-width\":\"150px\"}},[_c('el-form-item',{attrs:{\"label\":\"Product images:\",\"required\":\"\"}},[_c('div',{staticClass:\"upload\",on:{\"click\":_vm.uploadOpen}},[(!_vm.form.imgUrl)?_c('i',{staticClass:\"el-icon-plus\"}):_c('el-image',{staticStyle:{\"width\":\"100%\",\"height\":\"100%\"},attrs:{\"src\":_vm.form.imgUrl,\"fit\":'cover'}})],1)]),_c('el-form-item',{attrs:{\"label\":\"Details:\",\"required\":\"\"}},[_c('el-input',{attrs:{\"placeholder\":\"Product name / URL / description or anything you can tell us\"},model:{value:(_vm.form.details),callback:function ($$v) {_vm.$set(_vm.form, \"details\", $$v)},expression:\"form.details\"}})],1),_c('el-form-item',{attrs:{\"label\":\"Expected price (US$):\"}},[_c('el-input-number',{attrs:{\"controls\":false},model:{value:(_vm.form.price),callback:function ($$v) {_vm.$set(_vm.form, \"price\", $$v)},expression:\"form.price\"}})],1),_c('el-form-item',{attrs:{\"label\":\"Remarks:\"}},[_c('el-input',{attrs:{\"placeholder\":(\"Leave your message that you want to tell \" + (_vm.$root.$children[0].pName.a) + \" Vendors\")},model:{value:(_vm.form.remark),callback:function ($$v) {_vm.$set(_vm.form, \"remark\", $$v)},expression:\"form.remark\"}})],1)],1),_c('el-button',{staticClass:\"save\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.saveQuotation}},[_vm._v(\"Save\")])],1):_vm._e(),_c('el-divider'),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.submit}},[_vm._v(\"Submit Request\")]),_c('el-button',{on:{\"click\":_vm.closeQuotation}},[_vm._v(\"Discard\")])],1)],1),_c('input',{staticStyle:{\"display\":\"none\"},attrs:{\"type\":\"file\",\"id\":\"imgFile\",\"accept\":\".jpg,.png,.gif\"},on:{\"change\":function($event){return _vm.Base64($event)}}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <el-dialog\r\n      title=\"Request a quotation for products\"\r\n      :visible.sync=\"openCardDialog\"\r\n      @close='closeDialog'\r\n    >\r\n      <el-divider></el-divider>\r\n      <div class=\"proQuotation\" v-if=\"imgView\">\r\n        <div class=\"quotationTit\">products for quotation</div>\r\n        <div style=\"display: flex\">\r\n          <div class=\"imgList\">\r\n            <img\r\n              :src=\"item\"\r\n              v-for=\"item in imgList\"\r\n              :key=\"item\"\r\n              class=\"upload imgItem\"\r\n            />\r\n          </div>\r\n          <div class=\"upload\" @click=\"openForm\">\r\n            <i class=\"el-icon-plus\"></i>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <!-- from -->\r\n      <div class=\"formRole\" v-if=\"isForm\" v-loading=\"loading\">\r\n        <div class=\"quotationTit\">Product information</div>\r\n        <el-form :model=\"form\" label-position=\"left\" label-width=\"150px\">\r\n          <el-form-item label=\"Product images:\" required>\r\n            <div class=\"upload\" @click=\"uploadOpen\">\r\n              <i class=\"el-icon-plus\" v-if=\"!form.imgUrl\"></i>\r\n              <el-image\r\n                style=\"width: 100%; height: 100%\"\r\n                :src=\"form.imgUrl\"\r\n                :fit=\"'cover'\"\r\n                v-else\r\n              ></el-image>\r\n            </div>\r\n          </el-form-item>\r\n          <el-form-item label=\"Details:\" required>\r\n            <el-input\r\n              v-model=\"form.details\"\r\n              placeholder=\"Product name / URL / description or anything you can tell us\"\r\n            >\r\n            </el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"Expected price (US$):\">\r\n            <el-input-number v-model=\"form.price\" :controls=\"false\"></el-input-number>\r\n          </el-form-item>\r\n          <el-form-item label=\"Remarks:\">\r\n            <el-input\r\n              v-model=\"form.remark\"\r\n              :placeholder=\"`Leave your message that you want to tell ${$root.$children[0].pName.a} Vendors`\"\r\n            >\r\n            </el-input>\r\n          </el-form-item>\r\n        </el-form>\r\n        <el-button type=\"primary\" class=\"save\" @click=\"saveQuotation\"\r\n          >Save</el-button\r\n        >\r\n      </div>\r\n      <el-divider></el-divider>\r\n      <!-- <footer> -->\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button type=\"primary\" @click=\"submit\">Submit Request</el-button>\r\n        <el-button @click=\"closeQuotation\">Discard</el-button>\r\n      </div>\r\n    </el-dialog>\r\n    <input\r\n      @change=\"Base64($event)\"\r\n      type=\"file\"\r\n      id=\"imgFile\"\r\n      accept=\".jpg,.png,.gif\"\r\n      style=\"display: none\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    visible: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      form: {\r\n        imgUrl: \"\",\r\n        details: \"\",\r\n        price: undefined,\r\n        remark: \"\",\r\n      },\r\n      imgView:false,\r\n      outerVisible: false,\r\n      innerVisible: false,\r\n      isForm: true,\r\n      loading: false,\r\n      dialogVisible: false,\r\n      imgList: [],\r\n      detailsList: [],\r\n      priceList: [],\r\n      remarkList: [],\r\n    };\r\n  },\r\n  computed: {\r\n    openCardDialog: {\r\n      get() {\r\n        return this.visible;\r\n      },\r\n      set(val) {\r\n        this.$emit(\"update:visible\", val); // openCardDialog改变的时候通知父组件\r\n      },\r\n    },\r\n  },\r\n  mounted(){\r\n    \r\n\r\n  },\r\n  methods: {\r\n    openForm() {\r\n      this.isForm = true;\r\n      this.loading = true;\r\n      setTimeout(() => {\r\n        this.loading = false;\r\n      }, 800);\r\n    },\r\n    uploadOpen() {\r\n      document.getElementById(\"imgFile\").click();\r\n    },\r\n    Base64(el) {\r\n      if (el.target.value) {\r\n        let reader = new FileReader(),\r\n          img = new Image(),\r\n          ext = \"\";\r\n        reader.onload = (e) => {\r\n          img.src = e.target.result;\r\n          let extArr = e.target.result.match(/data:image\\/(.*);base64,.*/);\r\n          ext = extArr[1];\r\n        };\r\n        img.onload = (e) => {\r\n          base64Image({\r\n            file: el.target,\r\n            callback: (rst) => {\r\n              let base64 = rst.split(\"base64,\").pop();\r\n              this.uploadImgBase64(base64, ext);\r\n            },\r\n          })\r\n        };\r\n        reader.readAsDataURL(el.target.files[0]);\r\n      }\r\n    },\r\n    uploadImgBase64(base64, ext) {\r\n      this.loading = true;\r\n      this.$apiCall(\r\n        \"api.User.uploadImgBase64\",\r\n        { imgUrlBase64: base64, ext },\r\n        (r) => {\r\n          this.loading = false;\r\n          if (r.ErrorCode == 9999) {\r\n            this.form.imgUrl = r.Data.Results.imgUrl;\r\n          } else {\r\n            this.$message.error(r.Message);\r\n          }\r\n        }\r\n      );\r\n    },\r\n    saveQuotation() {\r\n      if (this.form.imgUrl == \"\") {\r\n        this.$message.error(\"Please select a picture !\");\r\n        return false;\r\n      }\r\n      if (this.form.details == \"\") {\r\n        this.$message.error(\"Please fill in the details !\");\r\n        return false;\r\n      }\r\n      this.imgView = true;\r\n      this.isForm = false;\r\n      this.imgList.push(this.form.imgUrl);\r\n      this.detailsList.push(this.form.details);\r\n      this.priceList.push(this.form.price);\r\n      this.remarkList.push(this.form.remark);\r\n      this.form = {\r\n        imgUrl: \"\",\r\n        details: \"\",\r\n        price: undefined,\r\n        remark: \"\",\r\n      };\r\n    },\r\n    closeQuotation() {\r\n      this.openCardDialog = false;\r\n      this.form = {\r\n        imgUrl: \"\",\r\n        details: \"\",\r\n        price: undefined,\r\n        remark: \"\",\r\n      };\r\n      this.imgList= [];\r\n      this.detailsList= [];\r\n      this.priceList= [];\r\n      this.remarkList= [];\r\n      this.isForm = true;\r\n      this.imgView = false;\r\n    },\r\n    closeDialog(){\r\n    this.closeQuotation()\r\n    },\r\n    submit() {\r\n      let products = [];\r\n      for(let i = 0;i<this.imgList.length;i++){\r\n        products.push({\r\n          detail: this.detailsList[i],\r\n          imgUrl: this.imgList[i],\r\n          expectPrice: this.priceList[i],\r\n          remarks: this.remarkList[i],\r\n        })\r\n      }\r\n      this.$apiCall(\r\n        \"api.OfferList.genOfferProduct\",\r\n        {\r\n          products\r\n        },\r\n        (r) => {\r\n          if(r.ErrorCode == 9999){\r\n            this.$message.success(\"Submit Success !\");\r\n            this.closeQuotation();\r\n            this.$router.push('/Waiting-for-vendors-respond')\r\n          }else{\r\n            this.$message.error(r.Message)\r\n          }\r\n        }\r\n      );\r\n    },\r\n  },\r\n  components: {},\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.formRole {\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin: 20px;\r\n  padding: 20px;\r\n  background: rgb(242, 243, 242);\r\n}\r\n.proQuotation {\r\n  margin: 20px;\r\n}\r\n.save {\r\n  margin: 0 auto;\r\n  width: 100px;\r\n  text-align: center;\r\n}\r\n.upload {\r\n  background-color: #fbfdff;\r\n  border: 1px dashed #c0ccda;\r\n  border-radius: 6px;\r\n  box-sizing: border-box;\r\n  width: 110px;\r\n  height: 110px;\r\n  cursor: pointer;\r\n  line-height: 110px;\r\n  vertical-align: top;\r\n  text-align: center;\r\n  margin-right: 15px;\r\n  i {\r\n    font-size: 16px;\r\n  }\r\n}\r\n\r\n.quotationTit {\r\n  margin-bottom: 15px;\r\n  color: #222;\r\n  font-size: 17px;\r\n}\r\n.imgItem {\r\n  object-fit: cover;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./productQuotation.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./productQuotation.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./productQuotation.vue?vue&type=template&id=6167711f&scoped=true&\"\nimport script from \"./productQuotation.vue?vue&type=script&lang=js&\"\nexport * from \"./productQuotation.vue?vue&type=script&lang=js&\"\nimport style0 from \"./productQuotation.vue?vue&type=style&index=0&id=6167711f&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6167711f\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}