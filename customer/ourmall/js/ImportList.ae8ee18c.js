(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["ImportList"],{"06c5":function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));i("a630"),i("fb6a"),i("b0c0"),i("d3b7"),i("25f0"),i("3ca3");var a=i("6b75");function o(t,e){if(t){if("string"===typeof t)return Object(a["a"])(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Object(a["a"])(t,e):void 0}}},2909:function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));var a=i("6b75");function o(t){if(Array.isArray(t))return Object(a["a"])(t)}i("a4d3"),i("e01a"),i("d28b"),i("a630"),i("d3b7"),i("3ca3"),i("ddb0");function s(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}var l=i("06c5");function r(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function n(t){return o(t)||s(t)||Object(l["a"])(t)||r()}},"2d43":function(t,e,i){"use strict";i("c9cc")},"4df4":function(t,e,i){"use strict";var a=i("0366"),o=i("7b0b"),s=i("9bdd"),l=i("e95a"),r=i("50c4"),n=i("8418"),c=i("35a1");t.exports=function(t){var e,i,d,u,g,p,h=o(t),m="function"==typeof this?this:Array,f=arguments.length,P=f>1?arguments[1]:void 0,y=void 0!==P,v=c(h),b=0;if(y&&(P=a(P,f>2?arguments[2]:void 0,2)),void 0==v||m==Array&&l(v))for(e=r(h.length),i=new m(e);e>b;b++)p=y?P(h[b],b):h[b],n(i,b,p);else for(u=v.call(h),g=u.next,i=new m;!(d=g.call(u)).done;b++)p=y?s(u,P,[d.value,b],!0):d.value,n(i,b,p);return i.length=b,i}},"6b75":function(t,e,i){"use strict";function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,a=new Array(e);i<e;i++)a[i]=t[i];return a}i.d(e,"a",(function(){return a}))},"82e3":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"contentpanel import-page"},[i("div",{ref:"pageHeader",staticClass:"pagetitle"},[i("div",{staticClass:"r1"},[t._m(0),i("div",{staticClass:"right"},[i("el-button",{attrs:{size:"small",icon:"el-icon-setting"},on:{click:t.openPushSetting}},[t._v("Push Setting")])],1)]),i("div",{staticClass:"r2"},[i("el-alert",{attrs:{type:"warning"}},[i("div",{attrs:{slot:"title"},slot:"title"},[t._v(" You can import and manage your AliExpress / Amazon products here before publishing them to your Shopify store. You can publish a product to different stores and add multiple tags to each products. Click "),i("router-link",{attrs:{to:{name:"article",query:{id:12}},target:"_blank"}},[t._v("here")]),t._v(" to leam more ")],1)])],1),i("div",{staticClass:"r3"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.importUrl,expression:"importUrl"}],attrs:{type:"text",placeholder:'Import Aliexpress / Amazon product URL here and click "Import Product"'},domProps:{value:t.importUrl},on:{input:function(e){e.target.composing||(t.importUrl=e.target.value)}}}),i("el-button",{attrs:{type:"primary",loading:t.loadingImport},on:{click:t.importPorduct}},[t._v("Import Product")])],1),i("div",{staticClass:"r4"},[0!=t.taskList.length?i("div",[i("span",[t._v("Current Import Task: "+t._s(t.taskList.length))]),i("el-popover",{staticStyle:{padding:"0px"},attrs:{placement:"bottom",trigger:"manual",width:"400"},model:{value:t.taskListShow,callback:function(e){t.taskListShow=e},expression:"taskListShow"}},[i("div",{staticStyle:{width:"100%",height:"100%"}},t._l(t.taskList,(function(e,a){return i("div",{key:e.id,staticClass:"d-flex",staticStyle:{"margin-bottom":"10px"}},[i("router-link",{staticClass:"mg-r-10",staticStyle:{width:"100px"},attrs:{to:{path:"/task-list",query:{id:e.id}}}},[t._v("Import Task"+t._s(a+1))]),e.doneCnt/e.allCnt*100>=0&&e.doneCnt/e.allCnt*100<=100?i("el-progress",{staticStyle:{width:"70%"},attrs:{percentage:parseInt(e.doneCnt/e.allCnt*100)}}):i("el-progress",{staticStyle:{width:"70%"},attrs:{percentage:0}}),i("i",{staticClass:"el-icon-error",staticStyle:{cursor:"pointer"},on:{click:function(i){return t.delitem(e)}}})],1)})),0),t.taskListShow?i("el-link",{staticClass:"mg-l-10",staticStyle:{"margin-bottom":"4px"},attrs:{slot:"reference",type:"primary"},on:{click:function(e){t.taskListShow=!t.taskListShow}},slot:"reference"},[t._v("Close")]):i("el-link",{staticClass:"mg-l-10",staticStyle:{"margin-bottom":"4px"},attrs:{slot:"reference",type:"primary"},on:{click:function(e){t.taskListShow=!t.taskListShow}},slot:"reference"},[t._v("Details")])],1)],1):i("div"),i("el-button",{attrs:{type:"primary"}},[i("router-link",{attrs:{to:"/list-history",tag:"span"}},[t._v("View History")])],1)],1)]),i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"pagebody mg-b-20"},[i("el-card",[i("el-row",{attrs:{gutter:20}},[i("div",{ref:"pageFilter",staticClass:"page-filter"},[i("div",{staticClass:"left"},[i("el-checkbox",{staticStyle:{"margin-right":"15px"},attrs:{value:t.AllChecked},on:{change:function(e){return t.changeAllItems(e)}}},[t._v("All")]),i("el-button",{attrs:{type:"primary",size:"mini",loading:t.pushLoading,id:"importPush"},on:{click:function(e){return t.batItems("push")}}},[i("span",{attrs:{id:"importPushInner"}},[t._v("Push")])]),i("el-button",{attrs:{type:"success",size:"mini",loading:t.exportLoading},on:{click:function(e){return t.batItems("export")}}},[t._v("Export")]),i("el-button",{staticStyle:{"margin-right":"10px"},attrs:{type:"danger",size:"mini",loading:t.delLoading},on:{click:function(e){return t.batItems("del")}}},[t._v("Delete")]),i("el-dropdown",{ref:"tagMgt",attrs:{trigger:"click"}},[i("el-button",{attrs:{size:"mini"}},[t._v(" Add Tags "),i("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("div",{staticClass:"add-tags-wrap"},[i("div",{staticClass:"header"},[i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.openTagMgt}},[t._v("+ Tag management")])],1),i("div",{staticClass:"check-wrap"},t._l(t.tags,(function(e){return i("el-checkbox",{key:e.id,model:{value:e.checked,callback:function(i){t.$set(e,"checked",i)},expression:"tag.checked"}},[t._v(t._s(e.name))])})),1),i("div",{staticClass:"footer"},[i("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(e){return t.removeCheckedTags()}}},[t._v("Clear")]),i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){return t.batItems("addTags")}}},[t._v("Confirm")])],1)])])],1)],1),i("div",{staticClass:"right"},[i("el-dropdown",{ref:"filterDropdown",staticClass:"filter-dropdown",attrs:{trigger:"click"}},[i("el-button",{attrs:{size:"mini"}},[t._v(" Filter "),t.filterNum?i("span",{staticClass:"filter-num"},[t._v(t._s(t.filterNum))]):t._e(),i("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),i("el-dropdown-menu",{staticStyle:{"max-width":"300px"},attrs:{slot:"dropdown"},slot:"dropdown"},[i("div",{staticClass:"filter-wrap"},[i("div",{staticClass:"filter-stores-wrap"},[i("h3",[t._v("Filter by stores")]),i("ul",t._l(t.stores,(function(e){return i("li",{key:e.id},[i("el-checkbox",{model:{value:e.fChecked,callback:function(i){t.$set(e,"fChecked",i)},expression:"store.fChecked"}},[t._v(t._s(e.shopName))])],1)})),0)]),i("div",{staticClass:"filter-tags-wrap"},[i("h3",[t._v("Filter by tags")]),t._l(t.tags,(function(e){return i("el-checkbox",{key:e.id,model:{value:e.fChecked,callback:function(i){t.$set(e,"fChecked",i)},expression:"tag.fChecked"}},[t._v(" "+t._s(e.name)+" ")])}))],2),i("div",{staticClass:"footer"},[i("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(e){return t.clearFilter()}}},[t._v("Clear")]),i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:t.filterGetItem}},[t._v("Confirm")])],1)])])],1)],1)])]),i("el-row",{ref:"gridTable",attrs:{gutter:10}},[t.items.length?t._e():i("el-col",{attrs:{span:24}},[i("p",{staticStyle:{"margin-top":"25px","font-size":"16px",color:"#909399","text-align":"center"}},[t._v(" no product ")])]),t._l(t.items,(function(e){return i("el-col",{key:e.id,staticStyle:{position:"relative","margin-bottom":"20px"},attrs:{sm:12,md:8,lg:6,xl:4}},["1"!=e.status?i("div",{staticClass:"disabled-mask"},[i("span",[t._v("Sold Out")])]):t._e(),i("div",{staticClass:"product-box"},[i("el-checkbox",{staticClass:"check-item",attrs:{disabled:"1"!=e.status},model:{value:e.checked,callback:function(i){t.$set(e,"checked",i)},expression:"item.checked"}}),e.accounts.length?i("div",{staticClass:"p-title"},[i("span",[t._v("Pushed to "+t._s(e.accounts.length)+" store(s)")])]):t._e(),i("div",{staticClass:"img-wrap"},[i("el-image",{staticStyle:{position:"absolute",width:"100%",height:"100%"},attrs:{fit:"cover",src:e.mainImg,"preview-src-list":[e.mainImg]}})],1),i("div",{staticClass:"info"},[i("p",{staticClass:"name tx-ellipsis2"},[i("a",{attrs:{href:"javascript:;"},on:{click:function(i){return t.editProduct(e)}}},[t._v(t._s(e.name))])]),e.stocks.length?i("div",{staticClass:"price tx-ellipsis1"},[t._v(" Cost price: "),i("span",[i("span",{staticStyle:{"font-size":"13px"}},[t._v(t._s(e.stocks[0].currency?e.stocks[0].currency:"USD"))]),t._v(" "+t._s(t.showPrice(e)))])]):t._e()]),"1"==e.status?i("div",{staticClass:"bottom-action"},[i("div",[i("a",{attrs:{href:"javascript:;",title:"Edit"},on:{click:function(i){return t.editProduct(e)}}},[i("i",{staticClass:"el-icon-edit"})])]),i("div",[i("a",{attrs:{href:"javascript:;",title:"Delete"},on:{click:function(i){return t.delItem([e.id])}}},[i("i",{staticClass:"el-icon-delete"})])]),e.tags.length?i("div",[i("el-popover",{attrs:{placement:"top",width:"260"},model:{value:e.tagsVisible,callback:function(i){t.$set(e,"tagsVisible",i)},expression:"item.tagsVisible"}},[i("div",t._l(e.tags,(function(a){return i("el-tag",{key:a.id,staticStyle:{"margin-bottom":"5px"},attrs:{closable:"",size:"mini"},on:{close:function(i){return t.removeItemTag(e,a)}}},[t._v(" "+t._s(a.name)+" ")])})),1),i("a",{attrs:{slot:"reference",href:"javascript:;",title:"Tags"},slot:"reference"},[i("i",{staticClass:"el-icon-price-tag"})])])],1):t._e(),i("div",{on:{click:function(i){return t.viewDetail(e.itemId)}}},[i("a",{attrs:{href:"/item/"+e.itemId+"/"+(e.name?e.name.replace(/\s+/g,"-").replace(/[^\w]/g,"_"):"_")+".html",target:"_blank",title:"Origin url"}},[i("i",{staticClass:"el-icon-link"})])])]):t._e(),i("div",{staticClass:"push-warp"},[i("el-button",{staticClass:"import-list-push-to-store",attrs:{type:"primary",size:"mini"},on:{click:function(i){return t.singPush(e)}}},[i("span",{staticClass:"import-list-push-to-store"},[t._v("Push To Store")])])],1)],1)])}))],2)],1)],1),t.items.length?i("el-row",{attrs:{gutter:20}},[i("el-col",{staticClass:"d-flex justify-content-center",attrs:{span:24}},[i("div",{staticStyle:{"margin-bottom":"30px"}},[i("el-pagination",{attrs:{"current-page":Number(t.page),background:!0,layout:"sizes, total, prev, pager, next, jumper","page-sizes":t.pageSizes,"page-size":t.rowsPerPage,total:Number(t.total)},on:{"current-change":t.toPage,"size-change":t.changePageSize}})],1)])],1):t._e(),i("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:t.dialogEditProduct.loading,expression:"dialogEditProduct.loading"}],staticClass:"dialog-edit",style:{overflow:t.dialogEditProduct.loading?"hidden":"auto"},attrs:{title:"Edit Product",visible:t.dialogEditProduct.isShow},on:{"update:visible":function(e){return t.$set(t.dialogEditProduct,"isShow",e)},opened:function(e){t.loading=!1}}},[i("div",{staticClass:"tab-wrap"},[i("el-tabs",{staticStyle:{overflow:"hidden"},attrs:{type:"border-card"},on:{"tab-click":t.tabClick},model:{value:t.dialogEditProduct.activeTab,callback:function(e){t.$set(t.dialogEditProduct,"activeTab",e)},expression:"dialogEditProduct.activeTab"}},[i("el-tab-pane",{attrs:{label:"Product"}},[i("div",{staticClass:"tab-product"},[i("div",{staticClass:"left"},[i("div",{staticClass:"img-wrap"},[i("el-image",{staticStyle:{width:"120px",height:"120px"},attrs:{fit:"cover",src:t.dialogEditProduct.mainImg}})],1),i("div",{staticClass:"tx-center"},[i("a",{attrs:{href:"javascript:;"},on:{click:function(e){return t.openDialogSelectImg()}}},[t._v("Change image")])])]),i("div",{staticClass:"right"},[i("el-form",{ref:"productForm",staticStyle:{"margin-top":"0"},attrs:{"label-width":"120px"},nativeOn:{submit:function(t){t.preventDefault()}}},[i("el-form-item",{attrs:{label:"name",required:""}},[i("el-input",{attrs:{type:"textarea"},model:{value:t.dialogEditProduct.name,callback:function(e){t.$set(t.dialogEditProduct,"name",e)},expression:"dialogEditProduct.name"}})],1),i("el-form-item",{staticStyle:{"margin-bottom":"10px"},attrs:{label:"Shopify vendor"}},[i("el-input",{model:{value:t.dialogEditProduct.shopifyVendor,callback:function(e){t.$set(t.dialogEditProduct,"shopifyVendor",e)},expression:"dialogEditProduct.shopifyVendor"}})],1),i("div",{staticClass:"edit-tags"},[i("div",{staticClass:"label-title"},[t._v("Shopify tags")]),i("div",{staticClass:"tag-wrap"},[t._l(t.dialogEditProduct.shopifyTag,(function(e){return i("el-tag",{key:e,attrs:{closable:""},on:{close:function(i){return t.handleClose(e,"tag")}}},[t._v(" "+t._s(e)+" ")])})),t.shopifyTagInputVisible?i("el-input",{ref:"saveTagInput",staticClass:"input-new-tag",attrs:{size:"small"},on:{blur:function(e){return t.handleInputConfirm("tag")}},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleInputConfirm("tag")}},model:{value:t.shopifyTagInputValue,callback:function(e){t.shopifyTagInputValue=e},expression:"shopifyTagInputValue"}}):i("el-button",{staticClass:"button-new-tag",attrs:{size:"small"},on:{click:function(e){return t.showInput("tag")}}},[t._v(" + New Tag ")])],2)]),i("div",{staticClass:"edit-tags"},[i("div",{staticClass:"label-title"},[t._v("Shopify type")]),i("div",{staticClass:"tag-wrap"},[t._l(t.dialogEditProduct.shopifyType,(function(e){return i("el-tag",{key:e,attrs:{closable:""},on:{close:function(i){return t.handleClose(e,"type")}}},[t._v(" "+t._s(e)+" ")])})),t.shopifyTypeInputVisible?i("el-input",{ref:"saveTypeInput",staticClass:"input-new-tag",attrs:{size:"small"},on:{blur:function(e){return t.handleInputConfirm("type")}},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleInputConfirm("type")}},model:{value:t.shopifyTypeInputValue,callback:function(e){t.shopifyTypeInputValue=e},expression:"shopifyTypeInputValue"}}):i("el-button",{staticClass:"button-new-tag",attrs:{size:"small"},on:{click:function(e){return t.showInput("type")}}},[t._v(" + New Type ")])],2)])],1)],1)])]),i("el-tab-pane",{attrs:{label:"Description"}},[i("quill-editor",{ref:"text",staticClass:"myQuillEditor",attrs:{options:t.editorOption},model:{value:t.dialogEditProduct.description,callback:function(e){t.$set(t.dialogEditProduct,"description",e)},expression:"dialogEditProduct.description"}})],1),i("el-tab-pane",[i("span",{attrs:{slot:"label"},slot:"label"},[t._v("Variants("+t._s(t.dialogEditProduct.stocks2.length)+")")]),t.dialogEditProduct.stocks.length?t._e():i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.tab2Loading,expression:"tab2Loading"}],staticStyle:{"text-align":"center"}},[t._v(" Loading... ")]),i("el-form",{directives:[{name:"show",rawName:"v-show",value:t.dialogEditProduct.stocks.length,expression:"dialogEditProduct.stocks.length"}],ref:"tableForm",staticStyle:{"margin-top":"0"},nativeOn:{submit:function(t){t.preventDefault()}}},[i("el-table",{ref:"stocksTable",staticStyle:{width:"100%"},attrs:{data:t.dialogEditProduct.stocks,stripe:"",height:"400"}},[i("el-table-column",{attrs:{fixed:"",type:"selection",width:"55"}}),i("el-table-column",{attrs:{fixed:"",label:"Product",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("div",{staticClass:"table-img-wrap"},[i("el-image",{staticStyle:{width:"100px",height:"100px"},attrs:{src:e.row.propertyImage,fit:"cover"}}),i("a",{staticClass:"modi-img",attrs:{href:"javascript:;"},on:{click:function(i){return t.openDialogSelectImg(e.row)}}},[i("i",{staticClass:"el-icon-edit-outline"})])],1)]}}])}),t._l(t.dialogEditProduct.propertyName,(function(e,a){return i("el-table-column",{key:e,attrs:{label:e,width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-input",{model:{value:e.row.propertyValue[a],callback:function(i){t.$set(e.row.propertyValue,a,i)},expression:"scope.row.propertyValue[pIndex]"}})]}}],null,!0)})})),i("el-table-column",{attrs:{label:"price",width:"190"},scopedSlots:t._u([{key:"header",fn:function(e){return[i("div",[i("span",[t._v("Price ("+t._s(t.currency)+")")]),i("br"),i("el-select",{directives:[{name:"show",rawName:"v-show",value:!t.dialogEditProduct.AllActionPriceType,expression:"!dialogEditProduct.AllActionPriceType"}],staticStyle:{width:"130px"},attrs:{size:"mini",placeholder:"Action"},on:{change:function(e){return t.changeAllPriceType("price")}},model:{value:t.dialogEditProduct.AllActionPriceType,callback:function(e){t.$set(t.dialogEditProduct,"AllActionPriceType",e)},expression:"dialogEditProduct.AllActionPriceType"}},[i("el-option",{attrs:{label:"Action",value:""}}),i("el-option",{attrs:{label:"Change All",value:1}}),i("el-option",{attrs:{label:"Multiply Price",value:2}}),i("el-option",{attrs:{label:"Add Price",value:3}})],1),i("div",{directives:[{name:"show",rawName:"v-show",value:t.dialogEditProduct.AllActionPriceType,expression:"dialogEditProduct.AllActionPriceType"}]},[i("div",{staticClass:"d-flex"},[3==t.dialogEditProduct.AllActionPriceType?i("span",{staticStyle:{"margin-right":"2px"}},[t._v("+")]):t._e(),i("el-input-number",{ref:"priceIpt",staticStyle:{"margin-right":"2px"},style:{width:(2==t.dialogEditProduct.AllActionPriceType?80:100)+"px"},attrs:{size:"mini",min:3==t.dialogEditProduct.AllActionPriceType?-99999:0,precision:2==t.dialogEditProduct.AllActionPriceType?0:2,controls:!1},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.allHandleChange("price")}},model:{value:t.dialogEditProduct.allChangePriceNum,callback:function(e){t.$set(t.dialogEditProduct,"allChangePriceNum",e)},expression:"dialogEditProduct.allChangePriceNum"}}),2==t.dialogEditProduct.AllActionPriceType?i("span",{staticStyle:{"margin-right":"3px"}},[t._v("%")]):t._e(),i("el-button-group",[i("el-button",{staticStyle:{padding:"6px"},attrs:{type:"primary",icon:"el-icon-check",size:"mini"},on:{click:function(e){return t.allHandleChange("price")}}}),i("el-button",{staticStyle:{padding:"6px"},attrs:{type:"danger",icon:"el-icon-close",size:"mini"},on:{click:function(e){return t.cancelAllChangeIpt("price")}}})],1)],1)])],1)]}},{key:"default",fn:function(e){return[i("el-input-number",{attrs:{min:0,step:1,size:"mini",precision:2,controls:!1},model:{value:e.row.price,callback:function(i){t.$set(e.row,"price",i)},expression:"scope.row.price"}}),t._v(" "+t._s(t.currency)+" ")]}}])}),i("el-table-column",{attrs:{label:"Compare Price",width:"190"},scopedSlots:t._u([{key:"header",fn:function(e){return[i("div",[i("span",[t._v("Compare Price ("+t._s(t.currency)+")")]),i("br"),i("el-select",{directives:[{name:"show",rawName:"v-show",value:!t.dialogEditProduct.AllActionCPriceType,expression:"!dialogEditProduct.AllActionCPriceType"}],staticStyle:{width:"130px"},attrs:{size:"mini",placeholder:"Action"},on:{change:function(e){return t.changeAllPriceType("Cprice")}},model:{value:t.dialogEditProduct.AllActionCPriceType,callback:function(e){t.$set(t.dialogEditProduct,"AllActionCPriceType",e)},expression:"dialogEditProduct.AllActionCPriceType"}},[i("el-option",{attrs:{label:"Action",value:""}}),i("el-option",{attrs:{label:"Change All",value:1}}),i("el-option",{attrs:{label:"Multiply Price",value:2}}),i("el-option",{attrs:{label:"Add Price",value:3}})],1),i("div",{directives:[{name:"show",rawName:"v-show",value:t.dialogEditProduct.AllActionCPriceType,expression:"dialogEditProduct.AllActionCPriceType"}]},[i("div",{staticClass:"d-flex"},[3==t.dialogEditProduct.AllActionCPriceType?i("span",{staticStyle:{"margin-right":"2px"}},[t._v("+")]):t._e(),i("el-input-number",{ref:"CpriceIpt",staticStyle:{"margin-right":"2px"},style:{width:(2==t.dialogEditProduct.AllActionCPriceType?80:100)+"px"},attrs:{size:"mini",min:3==t.dialogEditProduct.AllActionCPriceType?-99999:0,precision:2==t.dialogEditProduct.AllActionCPriceType?0:2,controls:!1},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.allHandleChange("Cprice")}},model:{value:t.dialogEditProduct.allChangeCPriceNum,callback:function(e){t.$set(t.dialogEditProduct,"allChangeCPriceNum",e)},expression:"dialogEditProduct.allChangeCPriceNum"}}),2==t.dialogEditProduct.AllActionCPriceType?i("span",{staticStyle:{"margin-right":"3px"}},[t._v("%")]):t._e(),i("el-button-group",[i("el-button",{staticStyle:{padding:"6px"},attrs:{type:"primary",icon:"el-icon-check",size:"mini"},on:{click:function(e){return t.allHandleChange("Cprice")}}}),i("el-button",{staticStyle:{padding:"6px"},attrs:{type:"danger",icon:"el-icon-close",size:"mini"},on:{click:function(e){return t.cancelAllChangeIpt("Cprice")}}})],1)],1)])],1)]}},{key:"default",fn:function(e){return[i("el-input-number",{attrs:{min:0,step:1,size:"mini",precision:2,controls:!1},model:{value:e.row.comparePrice,callback:function(i){t.$set(e.row,"comparePrice",i)},expression:"scope.row.comparePrice"}}),t._v(" "+t._s(t.currency)+" ")]}}])}),i("el-table-column",{attrs:{label:"Cost Price",prop:"costPrice",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.costPrice)+" ("+t._s(e.row.currency)+") ")]}}])}),i("el-table-column",{attrs:{label:"Action",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return t.dialogEditProduct.stocks.length>1?[i("a",{staticClass:"tx-danger",attrs:{href:"javascript:;"},on:{click:function(i){return t.delEditStock(e.$index)}}},[i("i",{staticClass:"el-icon-delete"})])]:void 0}}],null,!0)})],2)],1)],1),i("el-tab-pane",{attrs:{label:"Images"}},[i("div",{staticClass:"img-list-wrap"},[i("div",{staticClass:"main"},[i("el-image",{staticStyle:{width:"220px",height:"220px"},attrs:{src:t.dialogEditProduct.mainImg,fit:"cover"}})],1),i("div",{staticClass:"img-list"},[i("draggable",{attrs:{list:t.dialogEditProduct.imgsJson}},t._l(t.dialogEditProduct.imgsJson,(function(e){return i("div",{key:e,staticClass:"img-b"},[i("el-image",{staticStyle:{width:"150px",height:"150px"},attrs:{src:e,fit:"cover","preview-src-list":t.dialogEditProduct.imgsJson}})],1)})),0)],1)])])],1)],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.dialogEditProduct.isShow=!1}}},[t._v("Cancel")]),i("el-button",{attrs:{type:"primary",loading:t.dialogEditProduct.loading},on:{click:t.saveEditProduct}},[t._v(" Save ")])],1)]),i("el-dialog",{staticClass:"select-img",attrs:{visible:t.dialogSelectImg.isShow,width:"600px",title:"Select an image"},on:{"update:visible":function(e){return t.$set(t.dialogSelectImg,"isShow",e)}}},[i("div",{staticClass:"img-list"},t._l(t.dialogSelectImg.imgList,(function(e){return i("div",{key:e,staticClass:"img-wrap",class:{active:e==t.dialogSelectImg.selectImg},on:{click:function(i){return t.selectImg(e)}}},[i("i",{staticClass:"el-icon-circle-check"}),i("el-image",{staticStyle:{width:"115px",height:"115px"},attrs:{src:e,fit:"cover"}})],1)})),0),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.dialogSelectImg.isShow=!1}}},[t._v("Cancel")]),i("el-button",{attrs:{type:"primary"},on:{click:t.confirmSelectImg}},[t._v("OK")])],1)]),i("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:t.dialogPushSetting.loading,expression:"dialogPushSetting.loading"}],style:{overflow:t.dialogPushSetting.loading?"hidden":"auto"},attrs:{title:"Push setting","close-on-click-modal":!1,visible:t.dialogPushSetting.isShow},on:{"update:visible":function(e){return t.$set(t.dialogPushSetting,"isShow",e)}}},[i("div",{staticClass:"setting-range"},[i("div",{staticClass:"setting-opt"},[i("el-button",{attrs:{size:"mini"},on:{click:t.addRangeItem}},[t._v("+ Add Cost Range")])],1),t.dialogPushSetting.ranger.length?i("el-form",{ref:"settingRangeForm",staticStyle:{"margin-top":"0"},nativeOn:{submit:function(t){t.preventDefault()}}},[i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.dialogPushSetting.ranger,stripe:"",height:"300"}},[i("el-table-column",{attrs:{label:"Product Cost",width:"250",fixed:""},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.default?i("el-tag",{attrs:{type:"info"}},[t._v("Rest of the price ranges")]):[i("el-input-number",{staticClass:"mg-r-5",staticStyle:{width:"100px"},attrs:{min:0,size:"mini",precision:2,controls:!1},model:{value:e.row.from,callback:function(i){t.$set(e.row,"from",i)},expression:"scope.row.from"}}),i("i",{staticClass:"el-icon-right mg-r-5"}),i("el-input-number",{staticStyle:{width:"100px"},attrs:{min:0,size:"mini",precision:2,controls:!1},model:{value:e.row.to,callback:function(i){t.$set(e.row,"to",i)},expression:"scope.row.to"}})]]}}],null,!1,1542616766)}),i("el-table-column",{attrs:{label:"Shipping Cost",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-input-number",{staticStyle:{width:"100px"},attrs:{min:0,size:"mini",precision:2,controls:!1},model:{value:e.row.shippingCost,callback:function(i){t.$set(e.row,"shippingCost",i)},expression:"scope.row.shippingCost"}})]}}],null,!1,4280613481)}),i("el-table-column",{attrs:{label:"Price",width:"250"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-input-number",{staticStyle:{"margin-right":"5px",width:"100px"},attrs:{min:0,size:"mini",controls:!1},model:{value:e.row.price,callback:function(i){t.$set(e.row,"price",i)},expression:"scope.row.price"}}),i("el-select",{staticStyle:{width:"100px"},attrs:{size:"mini"},model:{value:e.row.priceType,callback:function(i){t.$set(e.row,"priceType",i)},expression:"scope.row.priceType"}},[i("el-option",{attrs:{label:"Plus",value:"1"}}),i("el-option",{attrs:{label:"Multiply",value:"2"}})],1)]}}],null,!1,1900208153)}),i("el-table-column",{attrs:{label:"Compare Price",width:"250"},scopedSlots:t._u([{key:"header",fn:function(e){return[i("el-checkbox",{model:{value:t.dialogPushSetting.isComparePrice,callback:function(e){t.$set(t.dialogPushSetting,"isComparePrice",e)},expression:"dialogPushSetting.isComparePrice"}},[t._v(" Compare Price ")])]}},{key:"default",fn:function(e){return t.dialogPushSetting.isComparePrice?[i("el-input-number",{staticStyle:{"margin-right":"5px",width:"100px"},attrs:{min:0,size:"mini",controls:!1},model:{value:e.row.comparePrice,callback:function(i){t.$set(e.row,"comparePrice",i)},expression:"scope.row.comparePrice"}}),i("el-select",{staticStyle:{width:"100px"},attrs:{size:"mini"},model:{value:e.row.comparePriceType,callback:function(i){t.$set(e.row,"comparePriceType",i)},expression:"scope.row.comparePriceType"}},[i("el-option",{attrs:{label:"Plus",value:"1"}}),i("el-option",{attrs:{label:"Multiply",value:"2"}})],1)]:void 0}}],null,!0)}),i("el-table-column",{attrs:{label:"Action",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return e.row.default?void 0:[i("a",{staticClass:"tx-danger",attrs:{href:"javascript:;"},on:{click:function(i){return t.delRange(e.$index)}}},[i("i",{staticClass:"el-icon-delete"})])]}}],null,!0)})],1)],1):t._e(),i("div",[i("div",{staticStyle:{"margin-bottom":"5px","padding-left":"15px"}},[t._v(" You can set a specific cent value for your price or comparison price. ")]),i("div",{staticClass:"d-flex",staticStyle:{"margin-bottom":"5px",padding:"0 15px"}},[i("div",{staticStyle:{"margin-right":"30px"}},[i("el-checkbox",{staticStyle:{"margin-right":"10px"},attrs:{size:"mini"},model:{value:t.dialogPushSetting.isPriceCent,callback:function(e){t.$set(t.dialogPushSetting,"isPriceCent",e)},expression:"dialogPushSetting.isPriceCent"}},[t._v(" Assign Cent ")]),i("el-input-number",{staticStyle:{width:"80px"},attrs:{controls:!1,size:"mini"},model:{value:t.dialogPushSetting.priceCent,callback:function(e){t.$set(t.dialogPushSetting,"priceCent",e)},expression:"dialogPushSetting.priceCent"}})],1),i("div",{staticStyle:{"margin-right":"30px"}},[i("el-checkbox",{staticStyle:{"margin-right":"10px"},model:{value:t.dialogPushSetting.isComparePriceCent,callback:function(e){t.$set(t.dialogPushSetting,"isComparePriceCent",e)},expression:"dialogPushSetting.isComparePriceCent"}},[t._v(" Assign compare at Cent ")]),i("el-input-number",{staticStyle:{width:"80px"},attrs:{controls:!1,size:"mini"},model:{value:t.dialogPushSetting.comparePriceCent,callback:function(e){t.$set(t.dialogPushSetting,"comparePriceCent",e)},expression:"dialogPushSetting.comparePriceCent"}})],1)]),i("div",{staticClass:"d-flex",staticStyle:{padding:"0 15px"}},[i("div",[i("el-switch",{staticStyle:{"margin-right":"10px"},attrs:{"active-text":"Convert Currency"},model:{value:t.dialogPushSetting.convertCurrency,callback:function(e){t.$set(t.dialogPushSetting,"convertCurrency",e)},expression:"dialogPushSetting.convertCurrency"}}),t._v(" According to store currency ")],1)])])],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-link",{directives:[{name:"loading",rawName:"v-loading",value:t.dialogPushSetting.psLoading,expression:"dialogPushSetting.psLoading"}],staticStyle:{"margin-right":"10px"},attrs:{disabled:t.dialogPushSetting.psLoading,type:"primary"},on:{click:t.applyPriceSetting}},[t._v("Apply for products in Import List")]),i("el-button",{on:{click:function(e){t.dialogPushSetting.isShow=!1}}},[t._v("Cancel")]),i("el-button",{attrs:{type:"primary",loading:t.dialogPushSetting.loading},on:{click:function(e){return t.savePushSetting()}}},[t._v(" Save ")])],1)]),i("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:t.dialogTagManagement.loading,expression:"dialogTagManagement.loading"}],style:{overflow:t.dialogTagManagement.loading?"hidden":"auto"},attrs:{title:"Tag management","close-on-click-modal":!1,visible:t.dialogTagManagement.isShow,width:"500px"},on:{"update:visible":function(e){return t.$set(t.dialogTagManagement,"isShow",e)}}},[i("div",{staticStyle:{width:"420px"}},[t.dialogTagManagement.addMode?i("div",[i("el-form",{ref:"addTagForm",staticClass:"d-flex",staticStyle:{margin:"0"},attrs:{"label-width":"120px"},nativeOn:{submit:function(t){t.preventDefault()}}},[i("el-form-item",{staticStyle:{"margin-right":"5px","margin-bottom":"0"},attrs:{label:"New Tag"}},[i("el-input",{ref:"tagIpt",staticStyle:{width:"150px"},attrs:{size:"mini"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.saveEntTag(e)}},model:{value:t.dialogTagManagement.tagIpt,callback:function(e){t.$set(t.dialogTagManagement,"tagIpt",e)},expression:"dialogTagManagement.tagIpt"}})],1),i("el-button-group",[i("el-button",{attrs:{type:"primary",icon:"el-icon-check",size:"mini",loading:t.dialogTagManagement.addNewLoading},on:{click:t.saveEntTag}}),i("el-button",{attrs:{type:"danger",icon:"el-icon-close",size:"mini"},on:{click:function(e){return t.changeEntTag(!1)}}})],1)],1)],1):i("div",{staticStyle:{"padding-left":"30px"}},[i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){return t.changeEntTag(!0)}}},[t._v("+Add New Tags")])],1)]),i("div",{staticStyle:{padding:"0 15px"}},[i("el-table",{ref:"tagListTable",staticStyle:{width:"100%"},attrs:{data:t.dialogTagManagement.tags,stripe:"",height:"300"}},[i("el-table-column",{attrs:{prop:"name",label:"Tag name"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.edit?i("div",{staticClass:"d-flex"},[i("el-input",{ref:"tagsListIpt",staticStyle:{"margin-right":"5px",width:"180px"},attrs:{size:"mini"},nativeOn:{keyup:function(i){return!i.type.indexOf("key")&&t._k(i.keyCode,"enter",13,i.key,"Enter")?null:t.saveTagIpt(e.row)}},model:{value:e.row.ipt,callback:function(i){t.$set(e.row,"ipt",i)},expression:"scope.row.ipt"}}),i("el-button-group",[i("el-button",{attrs:{type:"primary",icon:"el-icon-check",size:"mini"},on:{click:function(i){return t.saveTagIpt(e.row)}}}),i("el-button",{attrs:{type:"danger",icon:"el-icon-close",size:"mini"},on:{click:function(i){return t.cancelTagIpt(e.row)}}})],1)],1):i("div",[t._v(" "+t._s(e.row.name)+" ")])]}}])}),i("el-table-column",{attrs:{label:"Action",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.edit?t._e():i("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini"},on:{click:function(i){return t.editTag(e.row)}}}),i("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(i){return t.delTag(e.row)}}})]}}])})],1)],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.dialogTagManagement.isShow=!1}}},[t._v("Close")])],1)]),i("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:t.dialogPush.loading,expression:"dialogPush.loading"}],style:{overflow:t.dialogPush.loading?"hidden":"auto"},attrs:{title:"Select stores to publish products","close-on-click-modal":!1,visible:t.dialogPush.isShow,width:"800px"},on:{"update:visible":function(e){return t.$set(t.dialogPush,"isShow",e)}}},[i("div",{staticClass:"dialog-push-body"},[i("el-row",{attrs:{gutter:30}},[i("el-col",{attrs:{span:14}},[i("h3",[t._v("Selected products ("+t._s(t.dialogPush.items.length)+")")]),i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.dialogPush.items,height:"400"}},[i("el-table-column",{attrs:{prop:"mainImg",width:"110"},scopedSlots:t._u([{key:"default",fn:function(t){return[i("el-image",{staticStyle:{width:"100px",height:"100px"},attrs:{src:t.row.mainImg,fit:"cover"}})]}}])}),i("el-table-column",{attrs:{prop:"name",className:"cell-top"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("div",{staticClass:"tx-ellipsis2"},[t._v(" "+t._s(e.row.name)+" ")]),e.row.pushRe.length?i("div",t._l(e.row.pushRe,(function(e){return i("el-tag",{key:e.shopName,attrs:{type:"success"==e.status?"success":"danger"}},["fail"==e.status?i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.msg,placement:"top"}},[i("span",[t._v(" "+t._s(e.shopName)+": "+t._s(e.status)+" "),i("i",{staticClass:"el-icon-question",staticStyle:{color:"#303133","font-size":"14px"}})])]):i("span",[t._v(t._s(e.shopName)+": "+t._s(e.status))])],1)})),1):t._e()]}}])}),t.dialogPush.isAction?i("el-table-column",{attrs:{width:"50"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-link",{attrs:{type:"danger"},on:{click:function(i){return t.delPushProduct(e.$index)}}},[i("i",{staticClass:"el-icon-delete"})])]}}],null,!1,237557512)}):t._e()],1)],1),i("el-col",{attrs:{span:10}},[i("h3",{staticStyle:{"margin-bottom":"15px"}},[t.SelectedPushStoresNum?[t._v(" Selected stores ("+t._s(t.SelectedPushStoresNum)+") ")]:[t._v(" Please select the Shopify stores ")]],2),t._l(t.dialogPush.shopList,(function(e){return i("ul",{key:e.platform,staticClass:"push-select-stores"},[1==e.platform?i("div",{staticClass:"block"},[i("shopCate",{attrs:{items:e}}),t._v("Shopify")],1):t._e(),2==e.platform?i("div",{staticClass:"block"},[i("shopCate",{attrs:{items:e}}),t._v("Woocommerce")],1):t._e(),3==e.platform?i("div",{staticClass:"block"},[i("shopCate",{attrs:{items:e}}),t._v("Lazada")],1):t._e(),4==e.platform?i("div",{staticClass:"block"},[i("shopCate",{attrs:{items:e}}),t._v("Shopee")],1):t._e(),5==e.platform?i("div",{staticClass:"block"},[i("shopCate",{attrs:{items:e}}),t._v("Wayfair")],1):t._e(),t._l(e.data,(function(e){return i("li",{key:e.id},[i("el-checkbox",{staticStyle:{"margin-right":"5px"},attrs:{disabled:e.disabled||!t.dialogPush.isAction},on:{change:function(i){return t.selectShopGetCollections(e)}},model:{value:e.checked,callback:function(i){t.$set(e,"checked",i)},expression:"shop.checked"}},[t._v(" "+t._s(e.shopName)+" ")]),e.loading?i("i",{staticClass:"el-icon-loading"}):t._e(),e.collections.length&&1==e.platform?i("el-select",{attrs:{size:"mini",disabled:!t.dialogPush.isAction},model:{value:e.selectCollection,callback:function(i){t.$set(e,"selectCollection",i)},expression:"shop.selectCollection"}},t._l(e.collections,(function(t){return i("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1):t._e()],1)}))],2)}))],2)],1)],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-switch",{staticStyle:{"margin-right":"15px"},attrs:{"active-text":"Also publish to Online Store"},model:{value:t.dialogPush.published,callback:function(e){t.$set(t.dialogPush,"published",e)},expression:"dialogPush.published"}}),i("el-button",{on:{click:function(e){t.dialogPush.isShow=!1}}},[t._v("Close")]),t.dialogPush.isAction?i("el-button",{attrs:{type:"primary",loading:t.dialogPush.loading,disabled:!t.dialogPush.items.length},on:{click:t.pushToShopify}},[t._v(" Push to Store ")]):t._e()],1)]),i("el-dialog",{attrs:{top:"32vh","show-close":!1,visible:t.LoadingVisible,"close-on-click-modal":!1,width:"30%"},on:{"update:visible":function(e){t.LoadingVisible=e}}},[i("div",{staticClass:"LoadingModal"},[i("el-progress",{attrs:{type:"circle",percentage:t.loadingNum,color:t.colors}}),i("div",{staticClass:"text"},[t._v("Loading time to long, check detailed progress")])],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:t.goTask}},[t._v("Go")])],1)]),i("el-backtop",{staticClass:"goto-top",attrs:{target:".main-scroll .el-scrollbar__wrap",right:20,bottom:120}})],1)},o=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"left"},[i("div",{staticClass:"title"},[i("i",{staticClass:"el-icon-upload2"}),i("h2",[t._v("Import List")])])])}],s=(i("a4d3"),i("e01a"),i("99af"),i("a15b"),i("a434"),i("b0c0"),i("a9e3"),i("b680"),i("b64b"),i("ac1f"),i("1276"),i("159b"),i("2909")),l=(i("a753"),i("8096"),i("14e1"),i("716a")),r=i("953d"),n=i("b76a"),c=i.n(n),d={name:"importListMain",data:function(){return{nowTaskId:0,colors:[{color:"#f56c6c",percentage:20},{color:"#e6a23c",percentage:40},{color:"#5cb87a",percentage:60},{color:"#1989fa",percentage:80},{color:"#6f7ad3",percentage:100}],loadingNum:0,taskListShow:!1,timer:null,taskList:[],LoadingVisible:!1,loading:!1,loadingImport:!1,importUrl:"",pageSizes:[12,24,48],page:this.$route.query.page?Number(this.$route.query.page):1,rowsPerPage:localStorage.getItem("c_importPerPage")?Number(localStorage.getItem("c_importPerPage")):12,total:0,totalPage:0,items:[],filterParams:{url:""},filterParamsDefault:"{}",pushLoading:!1,delLoading:!1,exportLoading:!1,dialogEditProduct:{isShow:!1,loading:!1,id:"",name:"",mainImg:"",imgsJson:[],propertyName:[],shopifyTag:[],shopifyType:[],readyStoresLoading:!1,storesItems:[],collectionStoreId:"",getCollectionsLoading:!1,collectionItems:[],collectionId:"",shopifyVendor:"",description:"",stocks:[],stocks2:[],AllActionPriceType:"",allChangePriceNum:"",AllActionCPriceType:"",allChangeCPriceNum:"",AllActionStockType:"",allChangeStockNum:"",activeTab:"0"},dialogEditProductDefault:"{}",shopifyTagInputVisible:!1,shopifyTagInputValue:"",shopifyTypeInputVisible:!1,shopifyTypeInputValue:"",editorOption:{modules:{toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"]]}},dialogSelectImg:{isShow:!1,imgList:[],selectImg:"",items:null},dialogSelectImgDefault:"{}",dialogPushSetting:{isShow:!1,loading:!1,ranger:[],isComparePrice:!1,isPriceCent:!1,isComparePriceCent:!1,priceCent:0,comparePriceCent:0,convertCurrency:!1,psLoading:!1},dialogPushSettingDefault:"{}",dialogTagManagement:{isShow:!1,loading:!1,tags:[],addMode:!1,addNewLoading:!1,tagIpt:""},dialogTagManagementDefault:"{}",tags:[],stores:[],dialogPush:{isShow:!1,loading:!1,shopList:[],items:[],isAction:!0,published:!1},dialogPushDefault:"{}",defaultProps:{children:"children",label:"label"},filterNum:0,currency:"",tab2Loading:!0}},components:{quillEditor:r["quillEditor"],draggable:c.a,shopCate:l["a"]},mounted:function(){this.dialogPushDefault=JSON.stringify(this.dialogPush),this.dialogTagManagementDefault=JSON.stringify(this.dialogTagManagement),this.dialogPushSettingDefault=JSON.stringify(this.dialogPushSetting),this.dialogSelectImgDefault=JSON.stringify(this.dialogSelectImg),this.dialogEditProductDefault=JSON.stringify(this.dialogEditProduct),this.filterParamsDefault=JSON.stringify(this.filterParams),this.getItem(),this.getImportTask(),this.getPageTags(),this.getPageStores()},beforeDestroy:function(){clearInterval(this.timer),this.timer=null},watch:{$route:"gotoPage"},computed:{AllChecked:function(){var t=!0;return this.items.length?this.items.forEach((function(e){e.checked||"1"!=e.status||(t=!1)})):t=!1,t},SelectedPushStoresNum:function(){var t=0;return this.dialogPush.shopList.forEach((function(e){e.data.forEach((function(e){(e.checked&&1==e.platform||e.checked&&1!=e.platform)&&t++}))})),t}},methods:{goTask:function(){this.$router.push({path:"/task-list",query:{id:this.nowTaskId}})},delitem:function(t){var e=this;this.$confirm("Do you want to delete this task?","Tips",{confirmButtonText:"Confirm",cancelButtonText:"Cancel",type:"warning"}).then((function(){e.$apiCall("api.Product.delImportTask",{id:t.id},(function(t){9999==t.ErrorCode?(e.getImportTask(),e.$elementMessage("Delete Completed","success")):e.$elementMessage(t.Message,"error")}))})).catch((function(){return!1}))},getImportTask:function(){var t=this;this.$apiCall("api.Product.findsImportTask",{},(function(e){9999==e.ErrorCode&&(t.taskList=e.Data.Results)})),this.taskList=Object(s["a"])(this.taskList)},viewDetail:function(t){this.$Burying({object:"8004",objectId:t})},tabClick:function(t){var e=this;setTimeout((function(){2==t.index?e.dialogEditProduct.stocks=e.dialogEditProduct.stocks2:e.dialogEditProduct.stocks=[]}),0)},applyPriceSetting:function(){this.savePushSetting(!0)},delEditStock:function(t){var e=this;this.$confirm("Are you sure to delete it?？").then((function(){e.$apiCall("api.Product.deleteImportStock",{id:e.dialogEditProduct.stocks[t].id},(function(i){e.dialogEditProduct.stocks.splice(t,1),9999==i.ErrorCode?e.items.forEach((function(i){i.id==e.dialogEditProduct.id&&i.stocks.splice(t,1)})):e.$elementMessage(i.Message,"error")}))})).catch((function(){}))},removeItemTag:function(t,e){var i=this;t.tags.forEach((function(i,a){i.id==e.id&&t.tags.splice(a,1)})),this.$apiCall("api.Product.removeTag",{id:t.id,tags:[e.tagId]},(function(t){9999!=t.ErrorCode&&(i.$elementMessage(t.Message,"error"),i.getItem())}))},getPageStores:function(){var t=this;this.$apiCall("api.Invoice.findStores",{authStatus:1},(function(e){9999==e.ErrorCode&&(t.currency=e.Data.Results[0].currency?e.Data.Results[0].currency:"USD",t.stores=[],e.Data.Results.forEach((function(e){e.fChecked=!1,t.stores.push(e)})))}))},itemsAddTags:function(t){var e=this,i=[];this.tags.forEach((function(t){t.checked&&i.push(t.id)})),i.length?(this.loading=!0,this.$apiCall("api.Product.addTag",{ids:t,tags:i},(function(t){9999==t.ErrorCode?(e.removeCheckedTags(),e.$elementMessage("Tags added successfully","success"),e.$refs.tagMgt.hide(),e.getItem()):e.$elementMessage(t.Message,"error")}))):this.$elementMessage("Please select the tags","error")},removeCheckedTags:function(){this.tags.forEach((function(t){t.checked=!1}))},delPushProduct:function(t){this.dialogPush.items.splice(t,1)},showPrice:function(t){var e=0,i=0;return t.stocks.some((function(t){if(t.costPrice)return e=i=Number(t.costPrice),!0})),t.stocks.forEach((function(t){t.costPrice&&e>Number(t.costPrice)&&(e=Number(t.costPrice)),t.costPrice&&i<Number(t.costPrice)&&(i=Number(t.costPrice))})),e==i?e.toFixed(2):"".concat(e," - ").concat(i)},pushRe:function(t,e){var i={status:t,msg:e.Message};this.dialogPush.shopList.forEach((function(t){t.data.forEach((function(t){t.selectCollection==e.collectionId&&(i.shopName=t.shopName)}))})),this.dialogPush.items.forEach((function(t){t.id==e.id&&t.pushRe.push(i)})),this.dialogPush.items.splice(0,0)},pushToShopify:function(){var t=this;if(this.SelectedPushStoresNum){this.LoadingVisible=!0;var e=[];this.dialogPush.shopList.forEach((function(i){i.data.forEach((function(i){t.dialogPush.items.forEach((function(a){a.pushRe=[],i.checked&&1==i.platform?e.push({id:a.id,accountId:i.id,collectionId:i.selectCollection,published:t.dialogPush.published}):i.checked&&1!=i.platform&&e.push({id:a.id,accountId:i.id,published:t.dialogPush.published})}))}))})),this.$apiCall("api.Product.addImportTask",{products:e},(function(e){if(9999==e.ErrorCode){t.nowTaskId=e.Data.Results;var i=setInterval((function(){t.loadingNum+=5,t.loadingNum>=100&&(clearInterval(i),t.dialogPush.isAction=!1,t.LoadingVisible=!1,t.dialogPush.isShow=!1,t.loadingNum=0,t.$elementMessage("Push completed","success"))}),100);t.getItem()}else t.$elementMessage(e.Message,"error")}))}else this.$elementMessage("Please select the stores","error")},selectShopGetCollections:function(t){var e=this;t.collections.length||1==t.platform&&(t.loading=!0,this.$apiCall("api.Product.getCollections",{id:t.id},(function(i){if(t.loading=!1,9999==i.ErrorCode){if(!Object.keys(i.Data.Results).length)return t.disabled=!0,void(t.checked=!1);t.collections=[],Object.keys(i.Data.Results).forEach((function(e){t.collections.push({id:e,name:i.Data.Results[e]})})),1==t.collections.length&&(t.selectCollection=t.collections[0].id)}else e.$elementMessage(i.Message,"error")})))},getPageTags:function(){var t=this;this.$apiCall("api.Product.getTag",{},(function(e){t.tags=[],e.Data.Results.forEach((function(e){e.checked=!1,e.fChedked=!1,t.tags.push(e)}))}))},cancelTagIpt:function(t){t.edit=!1},saveTagIpt:function(t){var e=this;t.ipt?(this.dialogTagManagement.loading=!0,this.$apiCall("api.Product.changeTag",{id:t.id,name:t.ipt},(function(t){e.dialogTagManagement.loading=!1,9999==t.ErrorCode?(e.getTagList(),e.getPageTags()):e.$elementMessage(t.Message,"error")}))):this.$elementMessage("Please enter the tag","error")},editTag:function(t){var e=this;t.edit=!0,this.$nextTick((function(){e.$refs.tagsListIpt.$refs.input.focus()}))},delTag:function(t){var e=this;this.$confirm("Are you sure to delete it?？").then((function(){e.dialogTagManagement.loading=!0,e.$apiCall("api.Product.deleteTag",{id:t.id},(function(t){e.dialogTagManagement.loading=!1,9999==t.ErrorCode?(e.getTagList(),e.getPageTags()):e.$elementMessage(t.Message,"error")}))})).catch((function(){}))},saveEntTag:function(){var t=this;this.dialogTagManagement.tagIpt?(this.dialogTagManagement.addNewLoading=!0,this.$apiCall("api.Product.createTag",{name:this.dialogTagManagement.tagIpt},(function(e){t.dialogTagManagement.addNewLoading=!1,9999==e.ErrorCode?(t.changeEntTag(!1),t.getTagList(),t.getPageTags()):t.$elementMessage(e.Message,"error")}))):this.$elementMessage("Please enter the New tag","error")},changeEntTag:function(t){var e=this;this.dialogTagManagement.tagIpt="",this.dialogTagManagement.addMode=t,t&&this.$nextTick((function(){e.$refs.tagIpt.$refs.input.focus()}))},getTagList:function(){var t=this;this.dialogTagManagement.loading=!0,this.$apiCall("api.Product.getTag",{},(function(e){t.dialogTagManagement.loading=!1,9999==e.ErrorCode?(t.dialogTagManagement.tags=[],e.Data.Results.forEach((function(e){e.edit=!1,e.ipt=e.name,t.dialogTagManagement.tags.push(e)})),t.$refs.tagListTable.bodyWrapper.scrollTop=0):t.$elementMessage(e.Message,"error")}))},openTagMgt:function(){this.dialogTagManagement=JSON.parse(this.dialogTagManagementDefault),this.dialogTagManagement.isShow=!0,this.getTagList()},savePushSetting:function(t){var e=this;this.dialogPushSetting.loading=!0;var i={};i=this.dialogPushSetting.ranger[this.dialogPushSetting.ranger.length-1],delete i.default;var a=[];this.dialogPushSetting.ranger.forEach((function(t,i){i<e.dialogPushSetting.ranger.length-1&&a.push(t)}));var o={importPriceSetting:{range:a,default:i,isComparePrice:this.dialogPushSetting.isComparePrice?1:2,isPriceCent:this.dialogPushSetting.isPriceCent?1:2,isComparePriceCent:this.dialogPushSetting.isComparePriceCent?1:2,priceCent:this.dialogPushSetting.priceCent,comparePriceCent:this.dialogPushSetting.comparePriceCent,convertCurrency:this.dialogPushSetting.convertCurrency?1:2}};this.$Burying({object:"8007"}),this.$apiCall("api.Product.setImportPrice",o,(function(i){e.dialogPushSetting.loading=!1,9999==i.ErrorCode?(t?(e.$elementMessage("The update  has started, it will take a while to finish.","success"),e.$apiCall("api.Product.applyPriceSetting",{},(function(t){9999!=t.ErrorCode&&e.$elementMessage(t.Message,"error")}))):e.dialogPushSetting.isShow=!1,e.$elementMessage("save successfully","success")):e.$elementMessage(i.Message,"error")}))},delRange:function(t){this.dialogPushSetting.ranger.splice(t,1)},addRangeItem:function(){this.dialogPushSetting.ranger.unshift({from:0,to:.01,shippingCost:0,price:1,priceType:"1",comparePrice:1,comparePriceType:"2"})},openPushSetting:function(){var t=this;this.dialogPushSetting=JSON.parse(this.dialogPushSettingDefault),this.tab2Loading=!1,this.dialogPushSetting.isShow=!0,this.dialogPushSetting.loading=!0,this.$apiCall("api.Product.getImportPrice",{},(function(e){if(t.dialogPushSetting.loading=!1,9999==e.ErrorCode){var i=e.Data.Results,a={comparePrice:0,comparePriceType:"2",price:0,priceType:"1",shippingCost:0,default:1};if(!i)return void t.dialogPushSetting.ranger.push(a);i.default&&(a=i.default),a.default=1,t.dialogPushSetting.ranger=i.range,t.dialogPushSetting.ranger.push(a),t.dialogPushSetting.isComparePrice=1==i.isComparePrice,t.dialogPushSetting.isPriceCent=1==i.isPriceCent,t.dialogPushSetting.isComparePriceCent=1==i.isComparePriceCent,t.dialogPushSetting.priceCent=i.priceCent,t.dialogPushSetting.comparePriceCent=i.comparePriceCent,t.dialogPushSetting.convertCurrency=1==i.convertCurrency}else t.$elementMessage(e.Message,"error"),t.dialogPushSetting.isShow=!1}))},saveEditProduct:function(){var t=this;this.dialogEditProduct.loading=!0;var e={id:this.dialogEditProduct.id,name:this.dialogEditProduct.name,mainImg:this.dialogEditProduct.mainImg,imgsJson:this.dialogEditProduct.imgsJson,description:this.dialogEditProduct.description,shopifyVendor:this.dialogEditProduct.shopifyVendor,shopifyTag:this.dialogEditProduct.shopifyTag.join(","),shopifyType:this.dialogEditProduct.shopifyType.join(","),skuData:{}};this.dialogEditProduct.stocks.forEach((function(t){t.propertyValue=t.propertyValue.join("||"),e.skuData[t.id]=t})),this.$Burying({object:"8003"}),this.$apiCall("api.Product.changeImportProduct",e,(function(e){t.dialogEditProduct.loading=!1,9999==e.ErrorCode?(t.dialogEditProduct.isShow=!1,t.getItem(!0)):t.$elementMessage(e.Message,"error")}))},confirmSelectImg:function(){this.dialogSelectImg.item?this.$set(this.dialogSelectImg.item,"propertyImage",this.dialogSelectImg.selectImg):this.$set(this.dialogEditProduct,"mainImg",this.dialogSelectImg.selectImg),this.dialogSelectImg.isShow=!1},selectImg:function(t){this.dialogSelectImg.selectImg=t},openDialogSelectImg:function(t){this.dialogSelectImg=JSON.parse(this.dialogSelectImgDefault),this.dialogSelectImg.imgList=this.dialogEditProduct.imgsJson,this.dialogSelectImg.item=t,this.dialogSelectImg.isShow=!0},dialogAllChecked:function(t){var e=this;this.$nextTick((function(){e.dialogEditProduct.stocks.forEach((function(i){e.$refs.stocksTable.toggleRowSelection(i,t)}))}))},cancelAllChangeIpt:function(t){switch(t){case"price":this.dialogEditProduct.allChangePriceNum="",this.dialogEditProduct.AllActionPriceType="";break;case"Cprice":this.dialogEditProduct.allChangeCPriceNum="",this.dialogEditProduct.AllActionCPriceType="";break;case"stock":this.dialogEditProduct.allChangeStockNum="",this.dialogEditProduct.AllActionStockType="";break}this.dialogAllChecked(!1)},allHandleChange:function(t){var e=this;if(this.$refs.stocksTable.selection.length){switch(t){case"price":this.$refs.stocksTable.selection.forEach((function(t){1==e.dialogEditProduct.AllActionPriceType&&e.$set(t,"price",e.dialogEditProduct.allChangePriceNum),2==e.dialogEditProduct.AllActionPriceType&&e.$set(t,"price",Number((e.dialogEditProduct.allChangePriceNum/100*t.price).toFixed(2))),3==e.dialogEditProduct.AllActionPriceType&&e.$set(t,"price",Number((e.dialogEditProduct.allChangePriceNum+t.price).toFixed(2))),t.comparePrice<t.price&&(t.comparePrice=t.price)})),this.dialogEditProduct.allChangePriceNum="",this.dialogEditProduct.AllActionPriceType="";break;case"Cprice":this.$refs.stocksTable.selection.forEach((function(t){1==e.dialogEditProduct.AllActionCPriceType&&e.$set(t,"comparePrice",e.dialogEditProduct.allChangeCPriceNum),2==e.dialogEditProduct.AllActionCPriceType&&e.$set(t,"comparePrice",Number((e.dialogEditProduct.allChangeCPriceNum/100*t.comparePrice).toFixed(2))),3==e.dialogEditProduct.AllActionCPriceType&&e.$set(t,"comparePrice",Number((e.dialogEditProduct.allChangeCPriceNum+t.comparePrice).toFixed(2))),t.comparePrice<t.price&&(t.comparePrice=t.price)})),this.dialogEditProduct.allChangeCPriceNum="",this.dialogEditProduct.AllActionCPriceType="";break;case"stock":this.$refs.stocksTable.selection.forEach((function(t){1==e.dialogEditProduct.AllActionStockType&&e.$set(t,"shopifyStock",e.dialogEditProduct.allChangeStockNum),3==e.dialogEditProduct.AllActionStockType&&e.$set(t,"shopifyStock",Number(e.dialogEditProduct.allChangeStockNum+t.shopifyStock))})),this.dialogEditProduct.allChangeStockNum="",this.dialogEditProduct.AllActionStockType="";break}this.dialogAllChecked(!1)}else this.$elementMessage("请先选择要处理的SKU","error")},changeAllPriceType:function(t){var e=this;switch((this.dialogEditProduct.AllActionPriceType||this.dialogEditProduct.AllActionCPriceType||this.dialogEditProduct.AllActionStockType)&&this.dialogAllChecked(!0),t){case"price":this.dialogEditProduct.AllActionPriceType&&this.$nextTick((function(){e.$refs.priceIpt.$refs.input.$refs.input.focus()})),1==this.dialogEditProduct.AllActionPriceType&&(this.dialogEditProduct.allChangePriceNum=this.dialogEditProduct.stocks[0].price),2==this.dialogEditProduct.AllActionPriceType&&(this.dialogEditProduct.allChangePriceNum=100);break;case"Cprice":this.dialogEditProduct.AllActionCPriceType&&this.$nextTick((function(){e.$refs.CpriceIpt.$refs.input.$refs.input.focus()})),1==this.dialogEditProduct.AllActionCPriceType&&(this.dialogEditProduct.allChangeCPriceNum=this.dialogEditProduct.stocks[0].comparePrice),2==this.dialogEditProduct.AllActionCPriceType&&(this.dialogEditProduct.allChangeCPriceNum=100);break;case"stock":this.dialogEditProduct.AllActionStockType&&this.$nextTick((function(){e.$refs.stockIpt.$refs.input.$refs.input.focus()})),1==this.dialogEditProduct.AllActionStockType&&(this.dialogEditProduct.allChangeStockNum=this.dialogEditProduct.stocks[0].shopifyStock);break}},getCollections:function(){var t=this;this.dialogEditProduct.collectionStoreId&&(this.dialogEditProduct.getCollectionsLoading=!0,this.$apiCall("api.Product.getCollections",{id:this.dialogEditProduct.collectionStoreId},(function(e){t.dialogEditProduct.getCollectionsLoading=!1,9999==e.ErrorCode&&(t.dialogEditProduct.collectionItems=[],Object.keys(e.Data.Results).forEach((function(i){t.dialogEditProduct.collectionItems.push({id:i,name:e.Data.Results[i]})})))})))},storesRemoteMethod:function(t){var e=this;this.dialogEditProduct.readyStoresLoading=!0,this.$apiCall("api.Invoice.findStores",{shopName:t},(function(t){e.dialogEditProduct.readyStoresLoading=!1,9999==t.ErrorCode&&(e.dialogEditProduct.storesItems=t.Data.Results)}))},handleClose:function(t,e){switch(e){case"tag":this.dialogEditProduct.shopifyTag.splice(this.dialogEditProduct.shopifyTag.indexOf(t),1);break;case"type":this.dialogEditProduct.shopifyType.splice(this.dialogEditProduct.shopifyType.indexOf(t),1);break}},handleInputConfirm:function(t){var e="";switch(t){case"tag":e=this.shopifyTagInputValue,e&&this.dialogEditProduct.shopifyTag.push(e),this.shopifyTagInputVisible=!1,this.shopifyTagInputValue="";break;case"type":e=this.shopifyTypeInputValue,e&&this.dialogEditProduct.shopifyType.push(e),this.shopifyTypeInputVisible=!1,this.shopifyTypeInputValue="";break}},showInput:function(t){var e=this;switch(t){case"tag":this.shopifyTagInputVisible=!0,this.$nextTick((function(){e.$refs.saveTagInput.$refs.input.focus()}));break;case"type":this.shopifyTypeInputVisible=!0,this.$nextTick((function(){e.$refs.saveTypeInput.$refs.input.focus()}));break}},editProduct:function(t){var e=this;this.loading=!0,setTimeout((function(){t=JSON.parse(JSON.stringify(t)),e.dialogEditProduct=JSON.parse(e.dialogEditProductDefault),e.dialogEditProduct.id=t.id,e.dialogEditProduct.name=t.name,e.dialogEditProduct.mainImg=t.mainImg,e.dialogEditProduct.propertyName=t.propertyName?t.propertyName.split("||"):[],e.dialogEditProduct.shopifyTag=t.shopifyTag?t.shopifyTag.split(","):[],e.dialogEditProduct.shopifyType=t.shopifyType?t.shopifyType.split(","):[],e.dialogEditProduct.shopifyVendor=t.shopifyVendor,e.dialogEditProduct.description=t.description,e.dialogEditProduct.stocks=[],e.dialogEditProduct.stocks2=[],t.stocks.forEach((function(t){t.propertyValue=t.propertyValue?t.propertyValue.split("||"):[],e.dialogEditProduct.stocks2.push(t)})),e.dialogEditProduct.mainImg=t.mainImg,e.dialogEditProduct.imgsJson=JSON.parse(JSON.stringify(t.imgsJson)),e.dialogEditProduct.isShow=!0,e.$nextTick((function(){e.$refs.tableForm&&e.$refs.tableForm.bodyWrapper&&(e.$refs.tableForm.bodyWrapper.scrollTop=0,e.$refs.tableFrom.bodyWrapper.scrollLeft=0)}))}),0)},delItem:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e.length&&this.$confirm("Do you want to delete the ".concat(e.length," product(s)?"),"",{cancelButtonText:"Discard",confirmButtonText:"Delete",type:"warning"}).then((function(){t.delLoading=!0,t.$apiCall("api.Product.deleteImportProduct",{ids:e},(function(i){t.pushLoading=!1,t.$Burying({object:"8002",objectId:e.join(",")}),9999==i.ErrorCode?(t.delLoading=!1,t.$elementMessage("Delete success","success"),t.changeAllItems(!1),t.getItem(!0)):t.$elementMessage(i.Message,"error")}))})).catch((function(){}))},expItem:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e.length&&this.$confirm("Do you want to Export the ".concat(e.length," product(s)?"),"",{cancelButtonText:"Discard",confirmButtonText:"Export",type:"info"}).then((function(){t.expLoading=!0,t.$apiCall("api.Product.exportImportProduct",{productIds:e},(function(e){t.pushLoading=!1,9999==e.ErrorCode?(t.expLoading=!1,t.$elementMessage("Export success","success"),window.open(e.Data.Results.file,"_blank"),t.changeAllItems(!1),t.getItem(!0)):t.$elementMessage(e.Message,"error")}))})).catch((function(){}))},pushItem:function(t){var e=this;this.dialogPush=JSON.parse(this.dialogPushDefault),this.dialogPush.isShow=!0,this.$set(this.dialogPush,"items",t),this.dialogPush.items.splice(0,0),this.dialogPush.loading=!0,this.$apiCall("api.Invoice.findStores",{authStatus:1},(function(t){e.dialogPush.loading=!1,9999==t.ErrorCode?(e.dialogPush.shopList=[],t.Data.Results.forEach((function(t){t.loading=!1,t.checked=!1,t.selectCollection="",t.collections=[],t.disabled=!1,e.dialogPush.shopList.push(t)})),e.dialogPush.shopList=e.groupBy(e.dialogPush.shopList),e.dialogPush.isShow=!0):e.$elementMessage(t.Message,"error")}))},groupBy:function(t){for(var e={},i=[],a=0;a<t.length;a++){var o=t[a];if(e[o.platform])for(var s=0;s<i.length;s++){var l=i[s];if(l.platform==o.platform){l.data.push(o);break}}else i.push({platform:o.platform,data:[o]}),e[o.platform]=o}return i},singPush:function(t){var e=[];t.pushRe=[],e.push(t),this.pushItem(e)},batItems:function(t){var e=[];if(this.items.forEach((function(t){t.checked&&(t.pushRe=[],e.push(t))})),e.length){var i=[];switch(e.forEach((function(t){i.push(t.id)})),t){case"push":this.pushItem(e);break;case"export":this.expItem(i);break;case"del":this.delItem(i);break;case"addTags":this.itemsAddTags(i);break}}else this.$elementMessage("Please select the products","error")},changeAllItems:function(t){var e=this;this.items.forEach((function(i){"1"==i.status&&e.$set(i,"checked",t)}))},importPorduct:function(){var t=this;this.importUrl?(this.loadingImport=!0,this.$Burying({object:"8006",objectUrl:this.importUrl}),this.$apiCall("api.Product.importPorduct",{url:this.importUrl},(function(e){t.loadingImport=!1,9999==e.ErrorCode?(t.importUrl="",t.$elementMessage("Import success","success"),t.toPage(1)):t.$elementMessage(e.Message,"error")}))):this.$elementMessage("URL required","error")},getItem:function(t){var e=this;this.loading=!0;var i={page:this.page,rowsPerPage:this.rowsPerPage,tagIds:[],accountIds:[]};this.tags.forEach((function(t){t.fChecked&&i.tagIds.push(t.id)})),this.stores.forEach((function(t){t.fChecked&&i.accountIds.push(t.id)})),this.$apiCall("api.Product.findImportProduct",i,(function(t){e.loading=!1,9999==t.ErrorCode?(e.items=[],t.Data.Results.forEach((function(t){t.imgsJson=JSON.parse(t.imgsJson),t.checked=!1,t.tagsVisible=!1,e.items.push(t)})),e.total=Number(t.Data.Pagination.totalCount),e.totalPage=Number(t.Data.Pagination.totalPage),e.filterNum=0,e.$root.$children[0].$refs.mainScroll.wrap.scrollTop=0,i.tagIds.length&&e.filterNum++,i.accountIds.length&&e.filterNum++):e.$elementMessage(t.Message,"error")})),this.getImportTask()},clearFilter:function(){var t=this;this.tags.forEach((function(e){t.$set(e,"fChecked",!1)})),this.stores.forEach((function(e){t.$set(e,"fChecked",!1)})),1==this.$route.query.page?this.getItem():this.$router.push({query:{page:1}}),this.$refs.filterDropdown.hide()},filterGetItem:function(){1==this.$route.query.page?this.getItem():this.$router.push({query:{page:1}}),this.$refs.filterDropdown.hide()},toPage:function(t){t!=this.$route.query.page?this.$router.push({query:{page:t}}):this.getItem()},changePageSize:function(t){this.rowsPerPage=t,localStorage.setItem("c_importPerPage",t),this.getItem()},gotoPage:function(){this.page=this.$route.query.page?this.$route.query.page:1,this.getItem()}}},u=d,g=(i("9161"),i("2d43"),i("2877")),p=Object(g["a"])(u,a,o,!1,null,"30757269",null);e["default"]=p.exports},9161:function(t,e,i){"use strict";i("c54b")},"9bdd":function(t,e,i){var a=i("825a"),o=i("2a62");t.exports=function(t,e,i,s){try{return s?e(a(i)[0],i[1]):e(i)}catch(l){throw o(t),l}}},a630:function(t,e,i){var a=i("23e7"),o=i("4df4"),s=i("1c7e"),l=!s((function(t){Array.from(t)}));a({target:"Array",stat:!0,forced:l},{from:o})},c54b:function(t,e,i){},c9cc:function(t,e,i){},fb6a:function(t,e,i){"use strict";var a=i("23e7"),o=i("861d"),s=i("e8b5"),l=i("23cb"),r=i("50c4"),n=i("fc6a"),c=i("8418"),d=i("b622"),u=i("1dde"),g=u("slice"),p=d("species"),h=[].slice,m=Math.max;a({target:"Array",proto:!0,forced:!g},{slice:function(t,e){var i,a,d,u=n(this),g=r(u.length),f=l(t,g),P=l(void 0===e?g:e,g);if(s(u)&&(i=u.constructor,"function"!=typeof i||i!==Array&&!s(i.prototype)?o(i)&&(i=i[p],null===i&&(i=void 0)):i=void 0,i===Array||void 0===i))return h.call(u,f,P);for(a=new(void 0===i?Array:i)(m(P-f,0)),d=0;f<P;f++,d++)f in u&&c(a,d,u[f]);return a.length=d,a}})}}]);
//# sourceMappingURL=ImportList.ae8ee18c.js.map