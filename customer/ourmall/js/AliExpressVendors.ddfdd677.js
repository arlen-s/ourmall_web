(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["AliExpressVendors"],{"0f95":function(e,t,s){},"208c":function(e,t,s){"use strict";s("0f95")},"448a":function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"aliexvendors-contaier"},[t("div",{ref:"tablefilter",staticClass:"commodity-type-wrapper"},[e._l(e.commodityTypeList,(function(s,i){return t("div",{staticClass:"type-item",class:{selected:i===e.commodityType},on:{click:function(t){return e.selectedCommodityType({index:i,id:s.id})}}},[t("div",{staticClass:"type-icon"},[t("i",{staticClass:"iconfont",class:s.icon})]),t("div",{staticClass:"type-text"},[e._v(e._s(s.text))])])})),t("div",{staticClass:"type-item",class:{selected:e.commodityType>=9}},[t("el-dropdown",{attrs:{trigger:"click"},on:{command:e.selectedCommodityType}},[t("div",{staticClass:"type-item-more"},[t("div",{staticClass:"type-icon"},[t("i",{staticClass:"iconfont icon-weibiaoti5"})]),t("div",{staticClass:"type-text"},[e._v("More categories")])]),t("el-dropdown-menu",{staticClass:"more-dropdown",attrs:{slot:"dropdown"},slot:"dropdown"},e._l(e.commodityTypeMoreList,(function(s,i){return t("el-dropdown-item",{class:{action:e.categoryId==s.id},attrs:{command:{index:i+9,id:s.id}}},[e._v(e._s(s.name))])})),1)],1)],1)],2),t("div",{ref:"",staticClass:"commodity-tab-wrapper"},[e._m(0),t("div",{ref:"gridTable",staticClass:"table-body"},e._l(e.items,(function(s){return t("div",{staticClass:"vendors-wrapper"},[t("div",{staticClass:"item-wrapper"},[t("div",{staticClass:"table-info1"},[t("div",{staticClass:"store-name"},[e._v(e._s(s.name))]),t("a",{staticClass:"storeInfo-a",attrs:{href:s.url,target:"_blank"}},[e._v("Store No."+e._s(s.aliId))]),t("div",{staticClass:"store-introduce"},[e._v("This store has been open since")]),t("div",{staticStyle:{"font-size":"12px"}},[t("span",{staticStyle:{color:"#ed4500"}},[e._v(e._s(e.moment(s.openDate).format("ll")))]),e._v(" "),t("span",{staticClass:"mg-l-20"},[e._v(e._s(s.rate)+"% Positive feedback")])]),t("a",{staticClass:"storeInfo-a",attrs:{href:s.license,target:"_blank"}},[e._v("Business License")])]),t("div",{staticClass:"table-info2"},[Number(s.descRate)?t("div",{staticClass:"categories"},[t("div",{staticClass:"categories-item"},[t("span",{staticClass:"info"},[e._v("Item as Described")]),t("span",{style:{color:Number(s.descCompare)>=0?"#5fa05f":"#ed4500"}},[e._v(e._s(s.descRate)+" "+e._s(Number(s.descCompare)>=0?"Above":"Below")+" Average")])]),t("div",{staticClass:"categories-item"},[t("span",{staticClass:"info"},[e._v("Communication")]),t("span",{style:{color:Number(s.commCompare)>=0?"#5fa05f":"#ed4500"}},[e._v(e._s(s.commRate)+" "+e._s(Number(s.commCompare)>=0?"Above":"Below")+" Average")])]),t("div",{staticClass:"categories-item"},[t("span",{staticClass:"info"},[e._v("Shipping Speed")]),t("span",{style:{color:Number(s.shipCompare)>=0?"#5fa05f":"#ed4500"}},[e._v(e._s(s.shipRate)+" "+e._s(Number(s.shipCompare)>=0?"Above":"Below")+" Average")])])]):t("div",{staticClass:"not-categories"},[e._v("Detailed Seller Ratings information is unavailable when there're less than 10 ratings.")])]),t("div",{staticClass:"table-info3"},[s.products&&s.products.length?t("div",{staticClass:"product-images"},e._l(s.products.slice(0,4),(function(e){return t("el-image",{staticStyle:{width:"100px",height:"100px","background-color":"#fff"},attrs:{src:e.imgUrl,fit:"contain","preview-src-list":s.imgUrlGroup}},[t("div",{staticClass:"image-slot-error",attrs:{slot:"error"},slot:"error"},[t("i",{staticClass:"el-icon-picture-outline"})])])})),1):t("div",{staticClass:"product-images"},[t("el-image",{staticStyle:{width:"100px",height:"100px","background-color":"#fff"}},[t("div",{staticClass:"image-slot-error",attrs:{slot:"error"},slot:"error"},[t("i",{staticClass:"el-icon-picture-outline"})])])],1)]),t("div",{staticClass:"table-info4"},[t("div",{staticClass:"store-action"},[t("div",{staticClass:"mg-b-10"},[t("el-link",{attrs:{type:"primary",href:s.url,target:"_blank"}},[e._v("Visit Store")])],1),t("div",[t("el-button",{attrs:{disabled:1===s.isAdded,size:"small",type:"primary"},on:{click:function(t){return e.addVendors(t,s.id,s.vendorId)}}},[e._v(" "+e._s(1===s.isAdded?"Vendor is added":"Add to my vendor"))])],1)])])]),s.categorys&&s.categorys.length?t("div",{staticClass:"table-type"},e._l(s.categorys,(function(s){return t("el-tag",{key:s.id,staticClass:"mg-r-5 table-type-tag",attrs:{size:"mini"},on:{click:function(t){return e.selectedCommodityType2(s.id)}}},[e._v(e._s(s.name))])})),1):e._e()])})),0)]),t("div",{ref:"tableFooter",staticClass:"d-flex justify-content-center"},[t("el-pagination",{attrs:{"current-page":e.page,background:!0,layout:"sizes, total, prev, pager, next, jumper","page-sizes":e.pageSizes,"page-size":e.rowsPerPage,total:Number(e.total)},on:{"current-change":e.toPage,"size-change":e.changePageSize}})],1),t("div",{staticClass:"ball",class:{transition:e.ball.init},style:{top:e.ball.y+"px",left:e.ball.x+"px",opacity:e.ball.opacity}}),t("el-backtop",{staticClass:"goto-top",attrs:{target:".main-scroll  .el-scrollbar__wrap",right:20,bottom:120}})],1)},a=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"table-header"},[t("div",{staticClass:"table-info1"},[e._v("AliExpress store information")]),t("div",{staticClass:"table-info2"},[e._v("Detailed seller ratings")]),t("div",{staticClass:"table-info3"},[e._v("Recent Products")]),t("div",{staticClass:"table-info4"},[e._v("Action")])])}];s("149f");const o=[{icon:"icon-nanzhuang",text:"Men's Clothing",id:"100003070"},{id:"100003109",icon:"icon-nvzhuang",text:"Women's Clothing"},{id:"26",icon:"icon-wanjuxiong-copy",text:"Toys & Hobbies"},{id:"66",icon:"icon-huazhuangpinjiance",text:"Beauty & Health"},{id:"1511",icon:"icon-shoubiao",text:"Watches"},{id:"1509",icon:"icon-shoushi",text:"Jewelry & Accessories"},{id:"15",icon:"icon-ArtwareGardeningP",text:"Home & Garden"},{id:"1501",icon:"icon-muying",text:"Mother & Kids"},{id:"18",icon:"icon-lanqiu",text:"Sports & Entertainment"}],r=[{id:"509",name:"Cellphones & Telecommunications"},{id:"7",name:"Computer & Office"},{id:"44",name:"Consumer Electronics"},{id:"1524",name:"Luggage & Bags"},{id:"322",name:"Shoes"},{id:"100003235",name:"Weddings & Events"},{id:"200000875",name:"Novelty & Special Use"},{id:"34",name:"Automobiles & Motorcycles"},{id:"39",name:"Lights & Lighting"},{id:"1503",name:"Furniture"},{id:"502",name:"Electronic Components & Supplies"},{id:"21",name:"Education & Office Supplies"},{id:"6",name:"Home Appliances"},{id:"13",name:"Home Improvement"},{id:"30",name:"Security & Protection"},{id:"1420",name:"Tools"},{id:"200002489",name:"Hair Extensions & Wigs"},{id:"205776616",name:"Apparel Accessories"},{id:"205779615",name:"Underwear & Sleepwears"},{id:"205965401",name:"Virtual Goods"}];var n={name:"AliExpressVendors",data(){return{commodityTypeList:o,commodityTypeMoreList:r,commodityType:null,categoryId:null,tableHeight:400,page:this.$route.query.page?Number(this.$route.query.page):1,pageSizes:[10,20,50,100],total:100,totalPage:0,rowsPerPage:localStorage.getItem("c_aliExpressVendorsPerPage")?Number(localStorage.getItem("c_aliExpressVendorsPerPage")):10,items:[],ball:{x:0,y:0,opacity:0,init:!1}}},watch:{$route:"gotoPage"},mounted(){const e=this.$route.query.typeid;e?this.selectedCommodityType2(e):this.getItems()},methods:{addVendors(e,t,s){this.$showLoading(),this.$apiCall("api.VendorShop.addToMyVendor",{id:t},t=>{"9999"==t.ErrorCode?(this.items.forEach(e=>{e.vendorId===s&&this.$set(e,"isAdded",1)}),this.ballAnimation(e),this.$elementMessage("Add vendors success","success")):(this.$elementMessage(t.Message,"error"),"1002"!=t.ErrorCode&&"1003"!=t.ErrorCode||this.$userFailure()),this.$hideLoading()})},ballAnimation(e){this.$emit("getNum",(new Date).valueOf());const t=e=>{let t=e.offsetTop,s=e.offsetLeft,i=e.offsetParent;while(null!==i)t+=i.offsetTop,s+=i.offsetLeft,i=i.offsetParent;return{left:s,top:t}};let s=t(document.getElementById("tab-MyVendors"));this.ball.init=!1,this.ball.x=e.clientX,this.ball.y=e.clientY,console.log({x:e.clientX,y:e.clientY}),setTimeout(()=>{this.ball.init=!0,this.ball.opacity=1,this.ball.x=s.left+50,this.ball.y=s.top+20,setTimeout(()=>{this.ball.opacity=0},500)},50)},selectedCommodityType2(e){this.commodityTypeList.concat(this.commodityTypeMoreList).map((t,s)=>{t.id!==e||this.selectedCommodityType({index:s,id:e})})},selectedCommodityType({index:e,id:t}){this.commodityType===e?(this.commodityType=null,this.categoryId=null):(this.commodityType=e,this.categoryId=t),this.page=1,this.getItems()},toPage(e){console.log("toPage: "+e),e!=this.$route.query.page&&this.$router.push({query:{page:e}})},gotoPage(){this.page=this.$route.query.page?this.$route.query.page:1,this.getItems()},changePageSize(e){this.rowsPerPage=e,localStorage.setItem("c_aliExpressVendorsPerPage",e),this.getItems()},getItems(e){this.$showLoading(),this.$apiCall("api.VendorShop.findByCustomer",{page:this.page,rowsPerPage:this.rowsPerPage,categoryId:this.categoryId},t=>{"9999"==t.ErrorCode?(this.items=t.Data.Results,this.items.forEach(e=>{const t=[];e.products.slice(0,4).forEach(e=>{t.push(e.imgUrl)}),this.$set(e,"imgUrlGroup",t)}),this.total=Number(t.Data.Pagination.totalCount),this.totalPage=Number(t.Data.Pagination.totalPage),e||(this.$root.$children[0].$refs.mainScroll.wrap.scrollTop=0)):(this.$elementMessage(t.Message,"error"),"1002"!=t.ErrorCode&&"1003"!=t.ErrorCode||this.$userFailure()),this.$hideLoading()})}},computed:{},components:{}},l=n,c=(s("208c"),s("6ced"),s("e607")),d=Object(c["a"])(l,i,a,!1,null,"00527958",null);t["default"]=d.exports},"6ced":function(e,t,s){"use strict";s("a98f")},a98f:function(e,t,s){}}]);
//# sourceMappingURL=AliExpressVendors.ddfdd677.js.map