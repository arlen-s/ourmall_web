{"version":3,"sources":["webpack:///./src/views/Invite-reg.vue?5cc1","webpack:///./src/views/Invite-reg.vue?cb58","webpack:///./src/views/Invite-reg.vue","webpack:///src/views/Invite-reg.vue","webpack:///./src/views/Invite-reg.vue?7790","webpack:///./src/views/Invite-reg.vue?dce6"],"names":["render","_vm","this","_c","_self","staticClass","_m","directives","name","rawName","value","pageLoading","expression","_v","_s","customerName","words","vendorName","shopUrl","attrs","domProps","on","$event","target","composing","storeInput","loading","login","$root","$children","pName","b","staticRenderFns","data","created","$","beforeDestroy","mounted","methods","getWords","rid","getLoginStatus","r","localStorage","clearInterval","JSON","setTimeout","window","getAuth","ivc","utmSource","len","str","component"],"mappings":"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","file":"js/invite.9961c71e.js","sourcesContent":["export * from \"-!../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/_vue-loader@15.10.1@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../node_modules/_vue-loader@15.10.1@vue-loader/lib/index.js??vue-loader-options!./Invite-reg.vue?vue&type=style&index=0&id=ce6a7e30&prod&lang=scss&\"","export * from \"-!../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/_vue-loader@15.10.1@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../node_modules/_vue-loader@15.10.1@vue-loader/lib/index.js??vue-loader-options!./Invite-reg.vue?vue&type=style&index=1&id=ce6a7e30&prod&lang=scss&scoped=true&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"page-invite-reg\"},[_vm._m(0),_c('div',{staticClass:\"body\"},[_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.pageLoading),expression:\"pageLoading\"}],staticClass:\"content\"},[_c('p',{staticClass:\"row1\"},[_vm._v(\"Hello \"+_vm._s(_vm.customerName)+\",\")]),_c('p',{staticClass:\"row2\"},[_vm._v(\" \"+_vm._s(_vm.words)+\" \")]),_c('p',{staticClass:\"row3\"},[_vm._v(\"Yours,\")]),_c('p',{staticClass:\"row4\"},[_vm._v(_vm._s(_vm.vendorName))]),_c('div',{staticClass:\"reg\"},[_c('div',{staticClass:\"reg-box\"},[_vm._m(1),_c('div',{staticClass:\"row6\"},[_c('div',[_c('span',{staticClass:\"http\"},[_vm._v(\"http://\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.shopUrl),expression:\"shopUrl\"}],attrs:{\"type\":\"text\",\"placeholder\":\"Your Shopify store name\"},domProps:{\"value\":(_vm.shopUrl)},on:{\"input\":[function($event){if($event.target.composing)return;_vm.shopUrl=$event.target.value},function($event){return _vm.storeInput($event.target.value)}]}}),_c('span',{staticClass:\"domain\"},[_vm._v(\".myshopify.com\")])]),_c('el-button',{attrs:{\"loading\":_vm.loading},on:{\"click\":_vm.login}},[_vm._v(\" \"+_vm._s(_vm.loading ? 'Please Wait' : 'Connect')+\" \")])],1)])])])]),_c('div',{staticClass:\"page-footer\"},[_c('div',[_vm._v(\"© 2021, Powered by \"+_vm._s(_vm.$root.$children[0].pName.b)+\" APP\")])])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"header\"},[_c('div',{staticClass:\"content\"},[_c('h1')])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"row5\"},[_c('div',{staticClass:\"s-logo\"})])\n}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"page-invite-reg\">\r\n    <div class=\"header\">\r\n      <div class=\"content\">\r\n        <h1></h1>\r\n      </div>\r\n    </div>\r\n    <div class=\"body\">\r\n      <div v-loading=\"pageLoading\" class=\"content\">\r\n        <p class=\"row1\">Hello {{customerName}},</p>\r\n        <p class=\" row2\">\r\n          {{words}}\r\n        </p>\r\n        <p class=\"row3\">Yours,</p>\r\n        <p class=\" row4\">{{vendorName}}</p>\r\n        <div class=\"reg\">\r\n          <div class=\"reg-box\">\r\n            <div class=\"row5\">\r\n              <div class=\"s-logo\"></div>\r\n\r\n            </div>\r\n            <div class=\"row6\">\r\n              <div>\r\n                <span class=\"http\">http://</span>\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"Your Shopify store name\"\r\n                  @input=\"storeInput($event.target.value)\"\r\n                  v-model=\"shopUrl\"\r\n                >\r\n                <span class=\"domain\">.myshopify.com</span>\r\n              </div>\r\n\r\n              <el-button\r\n                :loading=\"loading\"\r\n                @click=\"login\"\r\n              >\r\n                {{loading ? 'Please Wait' : 'Connect'}}\r\n              </el-button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"page-footer\">\r\n      <div>&copy; 2021, Powered by {{$root.$children[0].pName.b}} APP</div>\r\n      <!-- <div>\r\n        <router-link :to=\"{name: 'terms'}\" target=\"_blank\">Terms of Service</router-link>\r\n        <router-link :to=\"{name: 'privacy'}\" target=\"_blank\">Privacy Policy</router-link>\r\n      </div> -->\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data(){\r\n    return {\r\n      pageLoading: true,\r\n      loading: false,\r\n      shopUrl: \"\",\r\n      customerName: \"\",\r\n      words:\"\",\r\n      vendorName: \"\",\r\n    }\r\n  },\r\n  created() {\r\n    $(\"body\").addClass(\"primary-bg\");\r\n    $(\"#viewport\").attr(\"content\", \"width=device-width,initial-scale=1.0\");\r\n  },\r\n  beforeDestroy() {\r\n    $(\"body\").removeClass(\"primary-bg\");\r\n    $(\"#viewport\").attr(\r\n      \"content\",\r\n      \"width=device-width, user-scalable=yes, initial-scale=0.3, maximum-scale=1.0, minimum-scale=0.3\"\r\n    );\r\n  },\r\n  mounted(){\r\n    this.getWords()\r\n  },\r\n  methods: {\r\n    getWords(){\r\n      this.pageLoading = true;\r\n      this.$apiCall(\"api.Relationship.getRelationshipByRid\", {\r\n        rid: decodeURIComponent(this.$route.query.rid)\r\n      }, r => {\r\n        this.pageLoading = false;\r\n        if (r.ErrorCode == \"9999\") {\r\n         this.customerName = r.Data.Results.customerName;\r\n         this.words = r.Data.Results.words;\r\n         this.vendorName = r.Data.Results.vendorName;\r\n        }else{\r\n          this.$elementMessage(r.Data.Results.errorMessage, \"error\");\r\n        }\r\n      });\r\n    },\r\n    getLoginStatus() {\r\n      this.$apiCall(\r\n        \"api.ShopifyAccount.getShopAuthStatus\",\r\n        {\r\n          shopUrl: this.shopUrl\r\n        },\r\n        r => {\r\n          if (r.ErrorCode == \"9999\") {\r\n            localStorage.setItem('c_inviteShopUrl', this.shopUrl)\r\n            if (r.Data.Results.status) {\r\n              clearInterval(this.time);\r\n              if (r.Data.Results.status == 1) {\r\n                localStorage.setItem(\"c_apiUserId\", r.Data.Results.userInfo.id);\r\n                localStorage.setItem(\"c_apiUserToken\",\r\n                  r.Data.Results.userInfo.apiUserToken\r\n                );\r\n                localStorage.setItem(\"c_ourMallUserInfo\",\r\n                  JSON.stringify(r.Data.Results.userInfo)\r\n                );\r\n                this.$store.commit(\"setUserInfo\", r.Data.Results.userInfo);\r\n                this.$router.push({ name: \"dashboard\" });\r\n                this.win.close();\r\n              } else {\r\n                this.loading = false;\r\n                this.$elementMessage(r.Data.Results.errorMessage, \"error\");\r\n                this.win.close();\r\n                setTimeout(()=>{\r\n                  window.location.reload();\r\n                },1000)\r\n              }\r\n            }\r\n          } else {\r\n            clearInterval(this.time);\r\n            this.$elementMessage(r.Message, \"error\");\r\n          }\r\n        }\r\n      );\r\n    },\r\n    login() {\r\n      if (!this.shopUrl) {\r\n        this.$elementMessage(\"Please enter Shopify store name\", \"error\");\r\n        return false;\r\n      }\r\n      this.win = window.open((process.env.VUE_APP_BASEURL == '/' ? '':  process.env.VUE_APP_BASEURL) + \"/blank.html\", \"Shopify\");\r\n      this.loading = true;\r\n      this.$apiCall(\r\n        \"api.ShopifyAccount.addShopifyAccount\",\r\n        {\r\n          shopUrl: this.shopUrl,\r\n          getAuth: 1,\r\n          rid: this.$route.query.rid,\r\n          ivc:localStorage.getItem('c_ivc') ? localStorage.getItem('c_ivc') : '',\r\n          utmSource:localStorage.getItem('c_utm'),\r\n        },\r\n        r => {\r\n          if (r.ErrorCode == \"9999\") {\r\n            this.win.location = r.Data.Results;\r\n            this.time = setInterval(() => {\r\n              this.getLoginStatus();\r\n            }, 2000);\r\n          } else {\r\n            this.$elementMessage(r.Message, \"error\");\r\n          }\r\n        }\r\n      );\r\n    },\r\n    storeInput(val) {\r\n      let codeReg = new RegExp(\"[A-Za-z0-9-_]+\"), //正则 英文+数字；\r\n        len = val.length,\r\n        str = \"\";\r\n      for (var i = 0; i < len; i++) {\r\n        if (codeReg.test(val[i])) {\r\n          str += val[i];\r\n        }\r\n      }\r\n      this.shopUrl = str;\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style lang=\"scss\">\r\n.primary-bg {\r\n  background-color: #5c6ac4;\r\n}\r\n</style>\r\n<style lang=\"scss\" scoped>\r\n.page-invite-reg {\r\n  position: relative;\r\n  height: 100%;\r\n  min-height: 500px;\r\n}\r\n.header {\r\n  margin-bottom: 40px;\r\n  background-color: #fff;\r\n  border-bottom: 1px #dcdfe6 solid;\r\n  .content {\r\n    margin: 0 auto;\r\n    max-width: 1300px;\r\n    width: 100%;\r\n    height: 70px;\r\n    display: flex;\r\n    align-items: center;\r\n    h1 {\r\n      width: 250px;\r\n      height: 30px;\r\n      background-image: url(\"./../../public/images/logo.png\");\r\n      background-size: contain;\r\n      background-repeat: no-repeat;\r\n    }\r\n  }\r\n}\r\n.body {\r\n  margin-bottom: 10px;\r\n  .content {\r\n    margin: 0 auto;\r\n    max-width: 600px;\r\n    width: 90%;\r\n    background-color: #fff;\r\n    padding: 20px;\r\n    border-radius: 6px;\r\n    .reg-box {\r\n      margin: 0 auto;\r\n      max-width: 500px;\r\n      width: 100%;\r\n      .row5 {\r\n        margin: 0 auto 5px;\r\n        font-weight: bold;\r\n        font-size: 18px;\r\n        .s-logo {\r\n          margin: 0 auto 10px;\r\n          width: 80px;\r\n          height: 28px;\r\n          background-image: url(\"./../../public/images/shopify-logo.png\");\r\n          background-repeat: no-repeat;\r\n          background-size: contain;\r\n        }\r\n      }\r\n      .row6 {\r\n        display: flex;\r\n        flex-direction: column;\r\n        justify-content: center;\r\n        align-items: center;\r\n        flex-wrap: wrap;\r\n        .http{\r\n          display: none;\r\n        }\r\n        input {\r\n          width: 190px;\r\n          height: 36px;\r\n          padding: 0 15px;\r\n          outline: none;\r\n          border: 1px #e4e7ed solid;\r\n          border-radius: 4px 0 0 4px;\r\n          font-size: 16px;\r\n        }\r\n        div {\r\n          display: flex;\r\n          margin-bottom: 5px;\r\n        }\r\n        span {\r\n          padding: 0 5px;\r\n          border: 1px #e4e7ed solid;\r\n          border-left: none;\r\n          border-radius: 0 4px 4px 0;\r\n          background: #f5f7fa;\r\n          line-height: 34px;\r\n          color: #909399;\r\n          font-size: 14px;\r\n        }\r\n        button {\r\n          background-color: #e94b26;\r\n          color: #fff;\r\n          font-weight: bold;\r\n          font-size: 16px;\r\n        }\r\n        button:hover {\r\n          opacity: 0.7;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n.row1 {\r\n  margin-bottom: 15px;\r\n  font-weight: bold;\r\n  font-size: 18px;\r\n}\r\n.row2 {\r\n  margin-bottom: 30px;\r\n  line-height: 26px;\r\n  font-size: 16px;\r\n}\r\n.row3 {\r\n  font-size: 14px;\r\n  font-weight: bold;\r\n}\r\n.row4 {\r\n  margin-bottom: 20px;\r\n  font-size: 14px;\r\n}\r\n\r\n.page-footer {\r\n  margin: 0 auto;\r\n  padding: 0 15px;\r\n  max-width: 600px;\r\n  width: 90%;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  padding: 0 15px;\r\n  color: #c0c4cc;\r\n  a {\r\n    margin-right: 15px;\r\n    color: #fff;\r\n  }\r\n}\r\n@media screen and (min-width: 640px) {\r\n  .body .content .reg-box .row6 input {\r\n    width: 300px;\r\n  }\r\n}\r\n@media screen and (min-width: 768px) {\r\n  .body .content{\r\n    max-width: 980px\r\n  }\r\n  .body .content .reg-box .row6 .http{\r\n    display: inline-block;\r\n    border-left: 1px #e4e7ed solid;\r\n    border-right: none;\r\n    border-radius: 4px 0 0 4px;\r\n  }\r\n  .body .content .reg-box .row6 input {\r\n    border-radius: 0;\r\n    margin: 0;\r\n  }\r\n  .body .content .reg-box .row6 span {\r\n    border: 1px #e4e7ed solid;\r\n    line-height: 34px;\r\n    border-left: none;\r\n  }\r\n  .body .content .reg-box .row6 div {\r\n    margin-bottom: 20px;\r\n  }\r\n  .body .content .reg-box .row6 button {\r\n    height: 38px;\r\n    border-radius: 4px;\r\n    position: relative;\r\n    line-height: 14px;\r\n  }\r\n  .page-footer{\r\n    max-width: 980px;\r\n  }\r\n}\r\n</style>","import mod from \"-!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--13-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.3.0@babel-loader/lib/index.js!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../node_modules/_vue-loader@15.10.1@vue-loader/lib/index.js??vue-loader-options!./Invite-reg.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--13-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.3.0@babel-loader/lib/index.js!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../node_modules/_vue-loader@15.10.1@vue-loader/lib/index.js??vue-loader-options!./Invite-reg.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Invite-reg.vue?vue&type=template&id=ce6a7e30&scoped=true&\"\nimport script from \"./Invite-reg.vue?vue&type=script&lang=js&\"\nexport * from \"./Invite-reg.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Invite-reg.vue?vue&type=style&index=0&id=ce6a7e30&prod&lang=scss&\"\nimport style1 from \"./Invite-reg.vue?vue&type=style&index=1&id=ce6a7e30&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.10.1@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ce6a7e30\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}