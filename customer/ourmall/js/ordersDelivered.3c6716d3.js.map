{"version":3,"sources":["webpack:///./src/views/vendors/Main.vue?fcb2","webpack:///./src/views/vendors/Main.vue?9801","webpack:///src/views/vendors/Main.vue","webpack:///./src/views/vendors/Main.vue?598b","webpack:///./src/views/vendors/Main.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","ref","_v","_s","$t","test","$route","name","attrs","on","openAddVendorsDialog","_e","handleClick","model","value","callback","$$v","activeName","expression","slot","vendorsCnt","key","pageKey","getTableHeight","getNum","staticRenderFns","data","reSizeTime","updateOrderLoading","cnow","now","Date","parse","$store","state","userInfo","timeDiff","updateTime","localStorage","getItem","Number","mounted","setInterval","watch","methods","$refs","subPage","openAddVendor","$apiCall","r","ErrorCode","time","valueOf","clearInterval","t","clearTimeout","setTimeout","children","tableHeight","h","$router","push","component"],"mappings":"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","file":"js/ordersDelivered.3c6716d3.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Main.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"contentpanel orders-page\"},[_c('div',{ref:\"pageHeader\",staticClass:\"pagetitle\"},[_c('div',{staticClass:\"left\"},[_c('div',{staticClass:\"title\"},[_c('i',{staticClass:\"el-icon-s-custom\"}),_c('h2',[_vm._v(_vm._s(_vm.$t('Vendors')))])])]),_c('div',{staticClass:\"right\"},[(/MyVendors/.test(_vm.$route.name))?[(_vm.$route.name === 'MyVendors')?_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"medium\",\"icon\":\"el-icon-plus\"},on:{\"click\":_vm.openAddVendorsDialog}},[_vm._v(\" \"+_vm._s(_vm.$t('Add a new vendor'))+\" \")]):_vm._e()]:_vm._e()],2)]),_c('div',{staticClass:\"pagebody\"},[_c('el-card',[_c('el-row',[_c('el-col',{ref:\"pageTabs\",attrs:{\"span\":24}},[_c('el-tabs',{on:{\"tab-click\":_vm.handleClick},model:{value:(_vm.activeName),callback:function ($$v) {_vm.activeName=$$v},expression:\"activeName\"}},[_c('el-tab-pane',{attrs:{\"label\":\"My Vendors\",\"name\":\"MyVendors\"}},[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_vm._v(\" \"+_vm._s(_vm.$t('My Vendors'))+\" \"),(_vm.vendorsCnt)?_c('span',{staticClass:\"tx-success\"},[_vm._v(\"(\"+_vm._s(_vm.vendorsCnt)+\")\")]):_vm._e()])])],1)],1),_c('el-col',{attrs:{\"span\":24}},[_c('router-view',{key:_vm.pageKey,ref:\"subPage\",on:{\"getTableHeight\":_vm.getTableHeight,\"getNum\":_vm.getNum}})],1)],1)],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"contentpanel orders-page\">\n    <div\n      class=\"pagetitle\"\n      ref=\"pageHeader\"\n    >\n      <div class=\"left\">\n        <div class=\"title\">\n          <i class=\"el-icon-s-custom\"></i>\n          <h2>{{$t('Vendors')}}</h2>\n        </div>\n      </div>\n      <div class=\"right\">\n        <!-- 前三个菜单显示 导出和更新 -->\n        <template v-if=\"/MyVendors/.test($route.name)\">\n          <el-button\n            v-if=\"$route.name === 'MyVendors'\"\n            type=\"primary\"\n            size=\"medium\"\n            icon=\"el-icon-plus\"\n            @click=\"openAddVendorsDialog\"\n          >\n           {{$t('Add a new vendor')}}\n          </el-button>\n        </template>\n      </div>\n    </div>\n    <div class=\"pagebody\">\n      <el-card>\n        <el-row>\n          <el-col\n            :span=\"24\"\n            ref=\"pageTabs\"\n          >\n            <el-tabs\n              v-model=\"activeName\"\n              @tab-click=\"handleClick\"\n            >\n              <el-tab-pane\n                label=\"My Vendors\"\n                name=\"MyVendors\"\n              >\n                <span slot=\"label\">\n                  {{$t('My Vendors')}} <span\n                  v-if=\"vendorsCnt\"\n                  class=\"tx-success\"\n                >({{vendorsCnt}})</span>\n                </span>\n              </el-tab-pane>\n            </el-tabs>\n          </el-col>\n          <el-col :span=\"24\">\n            <router-view\n              :key=\"pageKey\"\n              ref=\"subPage\"\n              @getTableHeight=\"getTableHeight\"\n              @getNum=\"getNum\"\n            />\n          </el-col>\n        </el-row>\n      </el-card>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      pageKey: (new Date()).valueOf(),\n      activeName: \"\",\n      reSizeTime: 0,\n      vendorsCnt: 0,\n      updateOrderLoading: false,\n      cnow: 0,\n      now: Date.parse(new Date()) / 1000 - this.$store.state.userInfo.timeDiff,\n      updateTime: localStorage.getItem('c_orders-updateTime') ? Number(localStorage.getItem('c_orders-updateTime')) : 0,\n    };\n  },\n  mounted() {\n    this.activeName = this.$route.name;\n    this.cnow = setInterval(()=>{\n\t\t\tthis.now = Date.parse(new Date()) / 1000 - this.$store.state.userInfo.timeDiff;\n\t\t},1000)\n    this.getNum();\n  },\n  watch: {\n    $route() {\n      this.activeName = this.$route.name;\n      this.getNum();\n    },\n  },\n  methods: {\n    openAddVendorsDialog() {\n      if (this.activeName === \"MyVendors\") {\n        this.$refs.subPage.openAddVendor()\n      }\n    },\n    getNum(time) {\n      this.$apiCall(\"api.Relationship.findByCustomer\", {}, (r) => {\n        if (r.ErrorCode == \"9999\") {\n          let data = r.Data.Results;\n          let t = setInterval(() => {\n            if (!time || new Date().valueOf() > time + 1500) {\n              clearInterval(t);\n              this.vendorsCnt = data.length\n              // if(!this.vendorsCnt && !sessionStorage.getItem('c_jumpAliExpressDropShippingVendors')){\n              //   sessionStorage.setItem('c_jumpAliExpressDropShippingVendors', 1)\n              //   this.$router.push({path: '/aliExpress-dropShipping-vendors'});\n              // }\n                \n            }\n          }, 100);\n        } else {\n          this.$elementMessage(r.Message, \"error\");\n        }\n      });\n    },\n    getTableHeight(children) {\n      //获取表格高度\n      clearTimeout(this.reSizeTime);\n      this.reSizeTime = setTimeout(() => {\n        let h =\n          this.$root.$children[0].$refs.mainScroll.wrap.offsetHeight -\n          (this.$refs.pageHeader.offsetHeight +\n            this.$refs.pageTabs.$el.offsetHeight +\n            children.$refs.tablefilter.offsetHeight +\n            children.$refs.tableFooter.offsetHeight) -\n          120;\n\n        children.tableHeight = h > 200 ? h : 200;\n      }, 500);\n    },\n    handleClick(tab) {\n      if(tab.name == this.$route.name){ //点击相同路由刷新\n        this.pageKey = (new Date()).valueOf();\n      }else{\n        //tabs 切换\n        this.$router.push({ name: tab.name });\n      }   \n    },\n  },\n};\n</script>\n\n<style lang=\"scss\">\n.icon-hot {\n  font-size: 24px;\n  color: #F56C6C;\n}\n.el-checkbox-group,\n.el-radio-group {\n  overflow-y: auto;\n}\n.orders-page {\n  .table-wrap {\n    .el-tag {\n      background-color: #ffea8a;\n      color: #595130;\n      display: inline-flex;\n      align-items: center;\n      padding: 0.3rem 0.8rem;\n      border-radius: 2rem;\n      font-size: 1.3rem;\n      line-height: 1.5rem;\n      font-weight: normal;\n      .-EFlq {\n        height: 1rem;\n        width: 1rem;\n        margin: 0 0.4rem 0 -0.3rem;\n        border: 0.2rem solid currentColor;\n        border-radius: 50%;\n        flex-shrink: 0;\n        background: transparent;\n        color: #8a6116;\n      }\n      .-EFlq.bg2 {\n        background-color: linear-gradient(\n          0deg,\n          currentColor,\n          currentColor 50%,\n          transparent 0,\n          transparent\n        );\n      }\n      .-EFlq.bg3 {\n        background-color: currentColor;\n      }\n    }\n    .el-tag.el-tag--info {\n      background-color: #E3E4E6;\n      .-EFlq {\n        color: #616266;\n      }\n    }\n    .el-tag.el-tag--warning {\n      border-color: #ffea8a;\n      background-color: #ffea8a;\n      color: #303133;\n      .-EFlq {\n        color: #8a6116;\n      }\n    }\n    .el-tag.el-tag--danger {\n      background-color: #ffc58b;\n      color: #303133;\n      .-EFlq {\n        color: #8a6116;\n      }\n    }\n  }\n  .el-button-group > span:not(:first-child):not(:last-child) .el-button {\n    border-radius: 0;\n  }\n  .el-button-group > span:not(:last-child) .el-button {\n    margin-right: -1px;\n  }\n  .el-button-group > span:first-child .el-button {\n    border-top-right-radius: 0;\n    border-bottom-right-radius: 0;\n  }\n  .el-button-group > span:last-child .el-button {\n    border-top-left-radius: 0;\n    border-bottom-left-radius: 0;\n  }\n  .el-popover {\n    max-height: 400px;\n    overflow: auto;\n  }\n  .el-button-group > span:not(:first-child):not(:last-child) .el-button {\n    border-radius: 0;\n  }\n  .el-button-group > span:not(:last-child) .el-button {\n    margin-right: -1px;\n  }\n  .el-button-group > span:first-child .el-button {\n    border-top-right-radius: 0;\n    border-bottom-right-radius: 0;\n  }\n  .el-button-group > span:last-child .el-button {\n    border-top-left-radius: 0;\n    border-bottom-left-radius: 0;\n  }\n}\n</style>\n\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Main.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Main.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Main.vue?vue&type=template&id=8ed049c4&\"\nimport script from \"./Main.vue?vue&type=script&lang=js&\"\nexport * from \"./Main.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Main.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}