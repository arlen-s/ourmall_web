(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["dashboard"],{"44e1":function(t,e,a){},"4f70":function(t,e,a){"use strict";a.d(e,"a",(function(){return s})),a.d(e,"b",(function(){return i}));const s=[{icon:"icon-nanzhuang",name:"Men's Clothing",id:"200000343"},{id:"200000345",name:"Women's Clothing",icon:"icon-nvzhuang"},{id:"26",icon:"icon-wanjuxiong-copy",name:"Toys & Hobbies"},{id:"66",icon:"icon-huazhuangpinjiance",name:"Beauty & Health"},{id:"1511",icon:"icon-shoubiao",name:"Watches"},{id:"36",icon:"icon-shoushi",name:"Jewelry & Accessories"},{id:"15",icon:"icon-ArtwareGardeningP",name:"Home & Garden"},{id:"1501",icon:"icon-muying",name:"Mother & Kids"},{id:"18",icon:"icon-lanqiu",name:"Sports & Entertainment"}],i=[{id:21,name:"Office & School Supplies"},{id:200574005,name:"Underwear"},{id:34,name:"Automobiles & Motorcycles"},{id:7,name:"Computer & Office"},{id:44,name:"Consumer Electronics"},{id:502,name:"Electronic Components & Supplies"},{id:1503,name:"Furniture"},{id:200165144,name:"Hair Extensions & Wigs"},{id:6,name:"Home Appliances"},{id:13,name:"Home Improvement"},{id:39,name:"Lights & Lighting"},{id:1524,name:"Luggage & Bags"},{id:509,name:"Phones & Telecommunications"},{id:30,name:"Security & Protection"},{id:322,name:"Shoes"},{id:1420,name:"Tools"},{id:320,name:"Weddings & Events"},{id:200000532,name:"Novelty & Special Use"},{id:200000297,name:"Apparel Accessories"},{id:201355758,name:"Motorcycle Equipments & Parts"}]},7277:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"contentpanel dashboard-page"},[t._m(0),[e("div",{staticClass:"pagebody"},[[e("div",[e("el-row",{staticClass:"mg-b-30 user-status-list",attrs:{gutter:20}},[e("el-col",{attrs:{span:8}},[e("el-card",{attrs:{"body-style":{height:"290px"}}},[e("div",{staticClass:"grid-content d-flex grid-dashboard"},[e("div",{staticClass:"grid-top"},[e("img",{staticClass:"walletIcon",attrs:{src:a("f2d7"),alt:""}})]),e("div",{staticClass:"grid-bottom"},[e("h2",{staticClass:"tx-primary"},[t._v("balance("+t._s(t.$store.state.country.symbol)+"): "+t._s(t.balance||"0.00"))]),e("p",[t._v("wallet")])])])])],1),e("el-col",{staticClass:"d-box",attrs:{span:8}},[e("el-card",{staticClass:"box-card",attrs:{"body-style":{padding:"0px 0px 20px 0px",height:"232px"}}},[e("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[e("span",[t._v("system notification")])]),t._l(t.advData.slice(0,5),(function(a){return e("div",{key:a.id,staticClass:"text item fit-box"},[e("p",{staticClass:"text-style",on:{click:function(e){return t.lookLog(a.id)}}},[e("el-link",{attrs:{type:"primary"}},[e("i",{staticClass:"round"}),t._v(" "+t._s(a.title))]),e("span",[t._v(t._s(a.createdAt))])],1)])}))],2)],1)],1),e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:8}},[e("el-card",[e("div",{staticClass:"grid-content d-flex grid-dashboard"},[e("div",{staticClass:"grid-top"},[e("i",{staticClass:"el-icon-bank-card"})]),e("div",{staticClass:"grid-bottom"},[e("h2",{staticClass:"tx-primary"},[t._v(t._s(t.dashBoardData.orderCnt))]),e("p",[t._v("This month Orders")])])])])],1),e("el-col",{attrs:{span:8}},[e("el-card",[e("div",{staticClass:"grid-content d-flex justify-content-between"},[e("div",{staticClass:"d-flex grid-dashboard"},[e("div",{staticClass:"grid-top"},[e("i",{staticClass:"fa fa-dollar"})]),e("div",{staticClass:"grid-bottom"},[e("h2",{staticClass:"tx-primary"},[t._v(" "+t._s(t.$store.state.country.symbol)+" "+t._s(t.$exchangeRate(t.dashBoardData.orderRevenue))+" ")]),e("p",[t._v("This month Revenue")])])]),e("div",[0==t.dashBoardData.orderRevenueRate?[t._v(" "+t._s(t.dashBoardData.orderRevenueRate)+" ")]:[t.dashBoardData.orderRevenueRate<0?e("i",{staticClass:"el-icon-bottom tx-danger tx-bold"}):t._e(),t.dashBoardData.orderRevenueRate>0?e("i",{staticClass:"el-icon-top tx-success tx-bold"}):t._e(),t._v(" "+t._s(t.dashBoardData.orderRevenueRate)+" ")],e("span",[t._v(" %")])],2)])])],1),e("el-col",{attrs:{span:8}},[e("el-card",[e("div",{staticClass:"grid-content d-flex justify-content-between"},[e("div",{staticClass:"d-flex grid-dashboard"},[e("div",{staticClass:"grid-top"},[e("i",{staticClass:"fa fa-tags"})]),e("div",{staticClass:"grid-bottom"},[e("h2",{staticClass:"tx-primary"},[t._v(" "+t._s(t.$store.state.country.symbol)+" "+t._s(t.$exchangeRate(t.dashBoardData.orderCost))+" ")]),e("p",[t._v("This month Cost")])])]),e("div",[0==t.dashBoardData.orderCostRate?[t._v(" "+t._s(t.dashBoardData.orderCostRate)+" ")]:[t.dashBoardData.orderCostRate<0?e("i",{staticClass:"el-icon-bottom tx-danger tx-bold"}):t._e(),t.dashBoardData.orderCostRate>0?e("i",{staticClass:"el-icon-top tx-success tx-bold"}):t._e(),t._v(" "+t._s(t.dashBoardData.orderRevenueRate)+" ")],e("span",[t._v(" %")])],2)])])],1)],1)],1),e("div",{staticClass:"mg-t-20"},[e("el-card",[e("div",{staticClass:"statistic-top d-flex align-item-center justify-content-between"},[e("h2",[t._v("Statistics")]),e("div",[e("el-date-picker",{attrs:{"picker-options":t.pickerOptions0,"value-format":"yyyyMMdd",type:"daterange",align:"right","unlink-panels":"","range-separator":"-","start-placeholder":"Start","end-placeholder":"End"},on:{change:t.dateChange},model:{value:t.statisticDate,callback:function(e){t.statisticDate=e},expression:"statisticDate"}}),e("el-select",{staticClass:"mg-l-20",staticStyle:{width:"200px"},attrs:{placeholder:"Date Range"},on:{change:t.dateRangeChange},model:{value:t.statisticDateRange,callback:function(e){t.statisticDateRange=e},expression:"statisticDateRange"}},t._l(t.dateArr,(function(t,a){return e("el-option",{key:t,attrs:{label:t,value:a}})})),1)],1)]),e("div",{staticClass:"mg-t-20",staticStyle:{width:"100%"}},[e("div",{ref:"chart",staticStyle:{width:"100%",height:"400px"},attrs:{id:"dashboardCharts"}})])])],1),e("div",{staticClass:"mg-t-20"},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:16}},[e("el-card",[e("div",{staticClass:"grid-content"},[e("h2",[t._v("Reference")])]),e("div",{staticClass:"grid-content mg-t-20"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,stripe:""}},[e("el-table-column",{attrs:{prop:"date",label:"Date",width:"180"}}),e("el-table-column",{attrs:{prop:"orderCnt",label:"Total Orders"}}),e("el-table-column",{attrs:{label:`Revenue (${t.$store.state.country.symbol})`,width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t.$exchangeRate(e.row.revenue))+" ")]}}])}),e("el-table-column",{attrs:{label:`Cost (${t.$store.state.country.symbol})`,width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t.$exchangeRate(e.row.cost))+" ")]}}])})],1)],1),e("div",{staticClass:"grid-content mg-t-20 text-center"},[e("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.showMoreReference}},[t._v("Show More")])],1)])],1),e("el-col",{attrs:{span:8}},[e("el-card",[e("div",{staticClass:"grid-content"},[e("h2",[t._v("Quick Summary")])]),e("el-divider"),e("div",{staticClass:"grid-content d-flex grid-dashboard quick-summary mg-t-20 mg-b-20",on:{click:function(e){return t.gotoPage(1)}}},[e("div",{staticClass:"grid-top",staticStyle:{"background-color":"#f4f4f5",color:"#909399"}},[e("i",{staticClass:"el-icon-bank-card"})]),e("div",{staticClass:"grid-bottom"},[e("h2",{staticClass:"tx-primary"},[t._v(" "+t._s(t.dashBoardData.waitPlaceOrder)+" Orders ")]),e("p",[t._v("Waiting to place order")])])]),e("el-divider"),e("div",{staticClass:"grid-content d-flex grid-dashboard quick-summary mg-t-20 mg-b-20",on:{click:function(e){return t.gotoPage(2)}}},[e("div",{staticClass:"grid-top",staticStyle:{"background-color":"#f0f9eb",color:"#67c23a"}},[e("i",{staticClass:"el-icon-bank-card"})]),e("div",{staticClass:"grid-bottom"},[e("h2",{staticClass:"tx-primary"},[t._v(" "+t._s(t.dashBoardData.invoiceCnt)+" Orders ")]),e("p",[t._v("Waiting for tracking code")])])]),e("el-divider"),e("div",{staticClass:"grid-content d-flex grid-dashboard quick-summary mg-t-20 mg-b-20",on:{click:function(e){return t.gotoPage(3)}}},[e("div",{staticClass:"grid-top"},[e("i",{staticClass:"el-icon-shopping-cart-full"})]),e("div",{staticClass:"grid-bottom"},[e("h2",{staticClass:"tx-primary"},[t._v(" "+t._s(t.dashBoardData.shopCnt)+" Stores ")]),e("p",[t._v("Authorized")])])])],1)],1)],1)],1)],t._e()],2)],e("el-dialog",{attrs:{"custom-class":"sendInvoice",title:"Send to vendor",visible:t.sendInvoiceOpen,width:"50%"},on:{open:t.openSend,"update:visible":function(e){t.sendInvoiceOpen=e}}},[[e("el-tabs",{staticStyle:{"margin-left":"20px","margin-top":"10px"},attrs:{type:"card"},model:{value:t.activeShareName,callback:function(e){t.activeShareName=e},expression:"activeShareName"}},[e("el-tab-pane",{attrs:{name:"shareWeixin"}},[e("span",{attrs:{slot:"label"},slot:"label"},[e("i",{staticClass:"iconfont icon-shejiao"}),t._v(" Share by APP")]),e("div",[e("div",{staticClass:"d-flex mg-y-20"},[e("div",{staticStyle:{color:"#999",width:"150px","text-align":"right","margin-right":"10px","white-space":"nowrap"}},[t._v(" Title: ")]),e("div",{staticStyle:{width:"70%"}},[e("el-input",{attrs:{type:"text",size:"small"},on:{change:function(e){return t.saveRemark("2")}},model:{value:t.shareTitle,callback:function(e){t.shareTitle=e},expression:"shareTitle"}})],1)]),e("div",{staticClass:"d-flex mg-y-20 align-items-center"},[e("div",{staticStyle:{color:"#999",width:"150px","text-align":"right","margin-right":"10px","white-space":"nowrap"}},[t._v(" Desc: ")]),e("div",{staticStyle:{width:"70%"}},[e("el-input",{attrs:{type:"textarea",resize:"none",autosize:{minRows:3,maxRows:6},size:"small"},on:{change:function(e){return t.saveRemark("2")}},model:{value:t.shareDesc,callback:function(e){t.shareDesc=e},expression:"shareDesc"}})],1)]),e("div",{staticClass:"d-flex mg-y-20"},[e("div",{staticStyle:{color:"#999",width:"150px","text-align":"right","margin-right":"10px","white-space":"nowrap"}},[t._v(" Share: ")]),e("div",{staticClass:"d-flex",staticStyle:{width:"70%"}},[e("div",{staticClass:"skype-share",staticStyle:{"margin-right":"30px"},attrs:{"data-href":t.shareTitle+t.shareDesc,"data-lang":"en-US","data-text":t.invoiceInfo.url,"data-style":"large"}}),e("div",[e("el-tooltip",{attrs:{placement:"bottom"}},[e("div",{attrs:{slot:"content"},slot:"content"},[e("p",{staticClass:"tx-center mg-b-10"},[t._v("Scan share to WeChat")]),e("img",{attrs:{src:t.invoiceInfo.qrcode,width:"130"}}),e("img",{staticStyle:{position:"absolute",left:"50%",top:"50%","margin-left":"-15px","margin-top":"-4px"},attrs:{src:"images/weixin.png",width:"30px"}})]),e("a",{staticClass:"share-weixin",attrs:{href:"javascript:;"}},[e("i",{staticClass:"fa fa-weixin"}),t._v(" Share ")])])],1)])])])]),e("el-tab-pane",{attrs:{name:"shareLink"}},[e("span",{attrs:{slot:"label"},slot:"label"},[e("i",{staticClass:"iconfont icon-link"}),t._v(" Share by link")]),e("div",{staticClass:"d-flex mg-y-20"},[e("div",{staticStyle:{color:"#999",width:"150px","text-align":"right","margin-right":"10px","white-space":"nowrap"}},[t._v(" Share link: ")]),e("div",[e("span",[t._v(t._s(t.invoiceInfo.url))])])]),e("div",{staticClass:"d-flex mg-y-20"},[e("div",{staticStyle:{color:"#999",width:"150px","text-align":"right","margin-right":"10px","white-space":"nowrap"}}),e("div",[e("div",[e("el-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.invoiceInfo.url,expression:"invoiceInfo.url",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}],attrs:{size:"mini",type:"success"}},[t._v("Copy Link")])],1)])])])],1)],e("el-divider"),e("div",{staticClass:"dialog-footer d-flex justify-content-between",attrs:{slot:"footer"},slot:"footer"},[e("div",[e("el-button",{directives:[{name:"show",rawName:"v-show",value:"shareWeixin"==t.activeShareName,expression:"activeShareName == 'shareWeixin'"}],attrs:{size:"small",type:"primary",plain:""},on:{click:function(e){return t.saveRemark("1")}}},[t._v("Clear")])],1),e("div",[e("el-button",{attrs:{size:"small"},on:{click:function(e){t.sendInvoiceOpen=!1}}},[t._v("Close")])],1)])],2),e("el-dialog",{attrs:{title:`Welcome to use ${t.$root.$children[0].pName.a} DropShipping App`,visible:t.DialogDispatchSetting.isShow,width:"700px","close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1},on:{"update:visible":function(e){return t.$set(t.DialogDispatchSetting,"isShow",e)}}},[e("div",{staticStyle:{padding:"0 25px"}},[e("p",{staticStyle:{"margin-bottom":"10px"}},[t._v(" Your vendor "),e("b",{staticStyle:{margin:"0 5px",color:"#606266","font-size":"14px"}},[t._v(t._s(t.DialogDispatchSetting.vendorName))]),t._v(" is inviting you to allocate your Orders ")]),e("p",{staticStyle:{"margin-bottom":"10px","padding-bottom":"15px","border-bottom":"1px #e4e7ed solid"}},[t._v(" Your store name: "),e("b",{staticStyle:{margin:"0 5px",color:"#606266","font-size":"14px"}},[t._v(" "+t._s(this.$store.state.userInfo.name))])]),e("div",{staticStyle:{"margin-bottom":"10px"}},[e("span",{staticStyle:{"margin-right":"15px"}},[t._v("Dispatch order method:")]),e("b",{staticStyle:{color:"#606266"}},[t._v("All my unfulfilled / partially fulfilled orders")])]),e("div",{staticStyle:{"margin-bottom":"15px"}},[e("span",{staticStyle:{"margin-right":"15px"}},[t._v("Cycle time:")]),e("b",{staticStyle:{color:"#606266"}},[t._v("Every 1 day")])]),e("div",{staticStyle:{color:"#909399"}},[e("i",{staticClass:"el-icon-info",staticStyle:{"margin-right":"5px"}}),t._v(' You can modify your order dispatch rules at any time in the menu "My Orders >> Dispatch settings" ')])]),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("div",[e("el-button",{attrs:{disabled:t.DialogDispatchSetting.loading},on:{click:function(e){t.DialogDispatchSetting.isShow=!1}}},[t._v("Remind later")]),e("el-button",{attrs:{type:"primary",disabled:t.DialogDispatchSetting.loading,loading:t.DialogDispatchSetting.loading},on:{click:t.saveDispatchSetting}},[t._v("I agree")])],1)])]),e("el-dialog",{attrs:{width:"30%",title:"Dispatch rule Test Preview",visible:t.DialogDispatchPreview.isShow,"append-to-body":""},on:{"update:visible":function(e){return t.$set(t.DialogDispatchPreview,"isShow",e)}}},[e("div",{staticStyle:{padding:"20px"}},[e("p",{staticStyle:{"margin-bottom":"10px"}},[t._v(" According to your settings, we found some data for you: ")]),e("p",[t._v(" Shopify order: "),e("b",{staticStyle:{"margin-right":"15px",color:"#5c6ac4"}},[t._v(t._s(t.DialogDispatchPreview.orderCnt))]),t._v(" (Dispatch to "),e("b",{staticStyle:{color:"#5c6ac4"}},[t._v(t._s(t.DialogDispatchPreview.vendorCnt))]),t._v(" vendor(s)) ")])]),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{disabled:t.DialogDispatchPreview.loading},on:{click:function(e){t.DialogDispatchPreview.isShow=!1}}},[t._v(" Dispatch in the Next Cycle ")]),e("el-button",{attrs:{loading:t.DialogDispatchPreview.loading,disabled:t.DialogDispatchPreview.loading,type:"primary"},on:{click:t.runDispatchRule}},[t._v("Dispatch Immediately")])],1)]),e("el-dialog",{attrs:{loading:t.moreReference.loading,title:"Reference",visible:t.moreReference.isShow,width:"800px"},on:{"update:visible":function(e){return t.$set(t.moreReference,"isShow",e)}}},[e("el-divider"),e("div",{staticClass:"mg-t-20 mg-b-20 mg-l-20 mg-r-20"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.moreReference.tableData,stripe:""}},[e("el-table-column",{attrs:{prop:"date",label:"Date",width:"180"}}),e("el-table-column",{attrs:{prop:"orderCnt",label:"Total Orders"}}),e("el-table-column",{attrs:{prop:"revenue",label:`Revenue (${t.$store.state.country.symbol})`,width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t.$exchangeRate(e.row.revenue))+" ")]}}])}),e("el-table-column",{attrs:{prop:"cost",label:`Cost (${t.$store.state.country.symbol})`,width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t.$exchangeRate(e.row.cost))+" ")]}}])})],1)],1),t.tableData.length?e("el-row",{staticClass:"mg-b-20",attrs:{gutter:20}},[e("el-col",{staticClass:"d-flex justify-content-center",attrs:{span:24}},[e("div",[e("el-pagination",{attrs:{"current-page":t.moreReference.page,background:!0,layout:"sizes, total, prev, pager, next, jumper","page-sizes":t.moreReference.pageSizes,"page-size":t.moreReference.rowsPerPage,total:Number(t.moreReference.total)},on:{"current-change":t.toPage,"size-change":t.changePageSize}})],1)])],1):t._e(),e("el-divider"),e("div",{staticClass:"dialog-footer d-flex justify-content-end",attrs:{slot:"footer"},slot:"footer"},[e("div",[e("el-button",{attrs:{size:"small"},on:{click:function(e){t.moreReference.isShow=!1}}},[t._v("Close")])],1)])],1),e("el-dialog",{attrs:{title:`Welcome to use ${t.$root.$children[0].pName.a} DropShipping App`,visible:t.DialogEntrustStore.isShow,width:"700px","close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1},on:{"update:visible":function(e){return t.$set(t.DialogEntrustStore,"isShow",e)}}},[e("div",{staticStyle:{padding:"0 25px"}},[e("p",{staticStyle:{"margin-bottom":"10px"}},[t._v(" Your vendor "),e("b",{staticStyle:{margin:"0 5px",color:"#606266","font-size":"14px"}},[t._v(t._s(t.DialogEntrustStore.vendorName))]),t._v(" is inviting you to allocate your Orders ")]),e("p",{staticStyle:{"margin-bottom":"10px","padding-bottom":"15px","border-bottom":"1px #e4e7ed solid"}},[t._v(" Your store name: "),e("b",{staticStyle:{margin:"0 5px",color:"#606266","font-size":"14px"}},[t._v(" "+t._s(t.DialogEntrustStore.shopName))])]),e("div",{staticStyle:{color:"#909399"}},[e("i",{staticClass:"el-icon-info",staticStyle:{"margin-right":"5px"}}),t._v(' You can modify your store settings at any time in the menu "My Stores" ')])]),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("div",[e("el-button",{attrs:{disabled:t.DialogEntrustStore.loading},on:{click:function(e){t.DialogEntrustStore.isShow=!1}}},[t._v("Remind later")]),e("el-button",{attrs:{type:"primary",disabled:t.DialogEntrustStore.loading,loading:t.DialogEntrustStore.loading},on:{click:t.saveEntrustStore}},[t._v("I agree")])],1)])]),e("div",{staticClass:"el-tips",attrs:{type:"primary",circle:""},on:{click:function(e){t.tips=!t.tips}}},[e("div",[t._v("Newbie")]),e("div",[t._v("guide")])]),e("el-dialog",{staticClass:"guide",attrs:{title:"Newbie guide",visible:t.tips,width:"681px","custom-class":"verify-1"},on:{"update:visible":function(e){t.tips=e}}},[e("div",{staticClass:"tips-content"},[e("p",{staticClass:"ctx"},[e("el-tag",{staticClass:"mg-r-10",attrs:{type:"warning"}},[t._v("Step 1")]),t._v(" Complete personal information ")],1),e("p",{staticClass:"ctx"},[e("el-tag",{staticClass:"mg-r-10",attrs:{type:"warning"}},[t._v("Step 2")]),t._v("Authorize to bind the store ")],1),e("p",{staticClass:"ctx"},[e("el-tag",{staticClass:"mg-r-10",attrs:{type:"warning"}},[t._v("Step 3")]),t._v("Publish the push product ")],1),e("p",{staticClass:"ctx"},[e("el-tag",{staticClass:"mg-r-10",attrs:{type:"warning"}},[t._v("Step 4")]),t._v("Start pulling orders ")],1)]),e("div",{staticClass:"flex-center"},[e("el-button",{staticClass:"btn spec-1",attrs:{type:"primary"},on:{click:function(e){t.tips=!1}}},[t._v("Already ")])],1)]),e("el-dialog",{attrs:{title:t.advLook.title,visible:t.dialogVisibleLog,width:"40%"},on:{"update:visible":function(e){t.dialogVisibleLog=e}}},[e("div",{staticClass:"set-css",staticStyle:{padding:"0 20px"},domProps:{innerHTML:t._s(t.advLook.content)}}),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogVisibleLog=!1}}},[t._v("enter")])],1)])],2)},i=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"pagetitle"},[e("div",{staticClass:"left"},[e("div",{staticClass:"title"},[e("i",{staticClass:"el-icon-s-home"}),e("h2",[t._v("Dashboard")])])]),e("div",{staticClass:"right"})])}],o=(a("149f"),a("4f70")),r={data(){return{tipsNum:1,tips:!1,autoplay:!0,activeIndex:0,vendorsList:[],dialogVisibleLog:!1,advLook:{},aliexpressVendorsStatus:!localStorage.getItem("c_aliexpressVendorsStatus"),pickerOptions0:{disabledDate(t){return t.getTime()>Date.now()-864e4}},scrollContainer:this.$root.$children[0].$refs.mainScroll,card1Loading:!1,card2Loading:!1,card3Loading:!1,vendorItems:[],items:[],totalCount:0,items2:[],iList:[],invoiceInfo:"",shareTitle:"",shareDesc:"",sendInvoiceOpen:!1,activeShareName:"shareWeixin",showDownloadInvoice:!1,remarkLoading:!1,noneData:0,DialogEntrustStore:{isShow:!1,loading:!1,vendorName:"---",vendorId:"",shopName:"---",id:""},DialogDispatchSetting:{isShow:!1,loading:!1,vendorName:"---",vendorId:"",storeName:"---",allProducts:0,productIds:[],getProductsloading:!1,products:[],period:"1"},DialogDispatchPreview:{isShow:!1,loading:!1,orderCnt:0,vendorCnt:0},statisticDate:[],statisticDefaultDate:[],statisticDateRange:"3",statisticDateFrom:"",statisticDateTo:"",dateArr:{1:"Today",2:"Last 7 days",3:"Last 30 days",4:"Last 90 days",5:"Last 12 months",6:"Custom"},userInfo:localStorage.getItem("c_ourMallUserInfo")?JSON.parse(localStorage.getItem("c_ourMallUserInfo")):"",tableData:[],moreReference:{isShow:!1,pageSizes:[10,20,50,100],page:1,rowsPerPage:localStorage.getItem("c_moreReferenceRowsPerPage")?Number(localStorage.getItem("c_moreReferenceRowsPerPage")):10,items:[],total:0,totalPage:0,loading:!1,tableData:[]},dashBoardData:{},marketLoading:!0,categorysList:[],advData:[]}},created(){this.tipsNum=localStorage.getItem("tips")||1,1==this.tipsNum?(this.tips=!0,localStorage.setItem("tips",2)):this.tips=!1},mounted(){localStorage.getItem("c_ourMallFirstLogin")&&2==localStorage.getItem("c_ourMallFirstLogin")?(this.noneData=0,this.getOrderItems()):this.noneData=1,this.$apiCall("api.Invoice.findStores",{},t=>{if(9999==t.ErrorCode){let e=t.Data.Results;this.$apiCall("api.Relationship.findByCustomer",{},t=>{if(9999==t.ErrorCode&&t.Data.Results.length>0){let a=t.Data.Results.find(t=>t.vendorId);1==this.$store.state.userInfo.isInvite&&!Number(this.$store.state.userInfo.ruleCnt)&&e.every(t=>!t.vendorName)&&e.forEach((t,s)=>{t.subShopUrl==localStorage.getItem("c_inviteShopUrl")&&1==t.authStatus&&"1"==this.$store.state.userInfo.vendorCnt&&(this.DialogEntrustStore.shopName=e[s].subShopUrl,this.DialogEntrustStore.id=e[s].id,a.vendorId&&(this.DialogEntrustStore.vendorId=a.vendorId),this.DialogEntrustStore.vendorName=a.vendorName,this.DialogEntrustStore.isShow=!0,localStorage.removeItem("c_inviteShopUrl"))})}})}}),this.getDashboardSummary(),this.myEcharts(),this.getVnedors(),this.getVendorShop(),this.getBalance(),this.getAdvList()},components:{},computed:{ActiveCategoryName(){return this.categorysList.length&&this.categorysList[this.activeIndex].name}},methods:{check2(t){this.data.warning=!t},getAdvList(){this.$apiCall("api.Notice.finds",{rType:2},t=>{9999==t.ErrorCode?(console.log(t.Data,"dfsdfsd"),this.advData=t.Data.Results.filter(t=>{if("1"==t.status)return t})):this.$message.error(t.Message)})},lookLog(t){this.dialogVisibleLog=!0,this.$apiCall("api.Notice.get",{id:t},t=>{9999==t.ErrorCode?this.advLook=t.Data.Results:this.$message.error(t.Message)})},getBalance(){this.$apiCall("api.Relationship.getUserBonus",{},t=>{9999==t.ErrorCode?this.balance=t.Data.Results:this.$elementMessage(t.Message,"error")})},getVendorShopProducts(){let t=this.categorysList.length;this.categorysList.forEach(e=>{this.$apiCall("api.VendorShop.findProducts",{page:1,rowsPerPage:12,categoryId:e.id},a=>{t--,t||(this.marketLoading=!1),"9999"==a.ErrorCode?e.items=a.Data.Results:this.$elementMessage(a.Message,"error")})})},getVendorShop(){this.categorysList=[];let t=o["b"];function e(t,e){switch(arguments.length){case 1:return parseInt(Math.random()*t+1,10);case 2:return parseInt(Math.random()*(e-t+1)+t,10);default:return 0}}let a=5,s=()=>{if(!a)return void this.getVendorShopProducts();let i=e(0,t.length);t[i]&&(this.categorysList.push(t[i]),a--),t.splice(i,1),setTimeout(()=>{s()},50)};s()},deleteTramsform(t){},productTag(t){this.$router.push({path:"/aliExpress-dropShipping-vendors",query:{typeid:t}})},addVendors(t,e){this.$showLoading(),this.$apiCall("api.VendorShop.addToMyVendor",{id:t},t=>{"9999"==t.ErrorCode?(this.vendorsList.forEach(t=>{t.vendorId===e&&this.$set(t,"isAdded",1)}),this.$elementMessage("Add vendors success","success")):(this.$elementMessage(t.Message,"error"),"1002"!=t.ErrorCode&&"1003"!=t.ErrorCode||this.$userFailure()),this.$hideLoading()})},closeAliexporessVendors(){this.aliexpressVendorsStatus=!1,localStorage.setItem("c_aliexpressVendorsStatus","1")},setActiveItem(t){this.autoplay=!1,this.$refs.pricingCarousel.setActiveItem(t)},handleChangeCarousel(){this.activeIndex=this.$refs.pricingCarousel.activeIndex},getVnedors(){this.$apiCall("api.VendorShop.findByCustomer",{page:1,rowsPerPage:5,rand:!0},t=>{"9999"==t.ErrorCode?(this.vendorsList=t.Data.Results,this.vendorsList.forEach(t=>{const e=[];t.products.slice(0,4).forEach(t=>{e.push(t.imgUrl)}),this.$set(t,"imgUrlGroup",e)})):(this.$elementMessage(t.Message,"error"),"1002"!=t.ErrorCode&&"1003"!=t.ErrorCode||this.$userFailure())})},gotoPage(t){switch(t){case 1:this.$router.push({name:"WaitingForAllocated"});break;case 2:this.$router.push({name:"OrderProcessing",query:{status:4}});break;case 3:this.$router.push({path:"/stores",query:{isAuth:"1"}});break;case 4:this.$router.push({name:"vendors"});break;case 5:this.$router.push({name:"importList"});break;case 6:this.$router.push({path:"/aliExpress-dropShipping-vendors"});break;default:this.$router.push({name:"products"});break}},getTableData(){this.moreReference.loading=!0,this.$apiCall("api.Invoice.dashboardStatistic",{page:this.moreReference.page,rowsPerPage:this.moreReference.rowsPerPage},t=>{this.moreReference.loading=!1,9999==t.ErrorCode?(this.moreReference.tableData=Object.values(t.Data.Results),this.moreReference.tableData.length&&(this.moreReference.tableData.forEach(t=>{this.$set(t,"dateCode1",Number(t.dateCode)),this.$set(t,"date",t.dateCode.replace(/^(\d{4})(\d{2})(\d{2})$/,"$1-$2-$3"))}),this.moreReference.total=Number(t.Data.Pagination.totalCount),this.moreReference.totalPage=Number(t.Data.Pagination.totalPage),this.moreReference.tableData=this.moreReference.tableData.sort(this.sortData))):this.$elementMessage(t.Message,"error")})},sortData(t,e){return e.dateCode1-t.dateCode1},dateChange(){console.log(moment(this.statisticDate[0]).format("YYYYMMDD")),this.statisticDate&&this.statisticDate.length>1&&(this.statisticDateFrom=moment(this.statisticDate[0]).format("YYYYMMDD"),this.statisticDateTo=moment(this.statisticDate[1]).format("YYYYMMDD"),this.$Burying({object:"4001",objectId:`${this.statisticDateFrom} - ${this.statisticDateTo}`}),this.myEcharts(1),this.statisticDateRange="")},dateRangeChange(){let t=this.statisticDateRange;switch(t){case"1":this.statisticDateFrom=moment().format("YYYYMMDD"),this.statisticDateTo=moment().format("YYYYMMDD");break;case"2":this.statisticDateFrom=moment().subtract(7,"d").format("YYYYMMDD"),this.statisticDateTo=moment().format("YYYYMMDD");break;case"3":this.statisticDateFrom=moment().subtract(30,"d").format("YYYYMMDD"),this.statisticDateTo=moment().format("YYYYMMDD");break;case"4":this.statisticDateFrom=moment().subtract(90,"d").format("YYYYMMDD"),this.statisticDateTo=moment().format("YYYYMMDD");break;case"5":this.statisticDateFrom=moment().subtract(12,"M").format("YYYYMMDD"),this.statisticDateTo=moment().format("YYYYMMDD");break;default:this.statisticDateFrom="",this.statisticDateTo="";break}this.statisticDate=[this.statisticDateFrom,this.statisticDateTo],this.$Burying({object:"4001",objectId:`${this.statisticDateFrom} - ${this.statisticDateTo}`}),this.myEcharts(1)},getDashboardSummary(){this.$showLoading(),this.$apiCall("api.Invoice.dashboardSummary",{},t=>{this.$hideLoading(),9999==t.ErrorCode?this.dashBoardData=t.Data.Results:this.$elementMessage(t.Message,"error")}),this.$apiCall("api.Invoice.dashboardStatistic",{page:this.moreReference.page,rowsPerPage:this.moreReference.rowsPerPage},t=>{this.$hideLoading(),9999==t.ErrorCode?(this.tableData=Object.values(t.Data.Results),this.tableData.length&&(this.tableData.forEach(t=>{this.$set(t,"dateCode1",Number(t.dateCode)),this.$set(t,"date",t.dateCode.replace(/^(\d{4})(\d{2})(\d{2})$/,"$1-$2-$3"))}),this.moreReference.total=Number(t.Data.Pagination.totalCount),this.moreReference.totalPage=Number(t.Data.Pagination.totalPage),this.tableData=this.tableData.sort(this.sortData))):this.$elementMessage(t.Message,"error")})},toPage(t){t!=this.moreReference.page&&(this.moreReference.page=t),this.getTableData()},changePageSize(t){this.moreReference.rowsPerPage=t,this.moreReference.page=1,localStorage.setItem("c_moreReferenceRowsPerPage",t),this.getTableData()},showMoreReference(){this.$Burying({object:"3012"}),this.moreReference.isShow=!0,this.getTableData()},myEcharts(t){const e=document.getElementById("dashboardCharts");t||(this.statisticDateFrom=moment().subtract(1,"M").format("YYYYMMDD"),this.statisticDateTo=moment().format("YYYYMMDD"),this.statisticDate=[this.statisticDateFrom,this.statisticDateTo]),this.$showLoading();let a=[];this.$apiCall("api.Invoice.dashboardStatistic",{dateFrom:this.statisticDateFrom,dateTo:this.statisticDateTo},t=>{if(this.$hideLoading(),9999==t.ErrorCode){a=Object.values(t.Data.Results),a.length&&a.forEach(t=>{this.$set(t,"date",t.dateCode.replace(/^(\d{4})(\d{2})(\d{2})$/,"$1-$2-$3"))}),console.log(a);const i=echarts.init(e);var s={title:{text:""},tooltip:{trigger:"axis"},legend:{data:["Total Revenue "+this.$store.state.country.symbol,"Total Cost"]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:a.map(t=>t.date)},yAxis:{type:"value"},series:[{name:"Total Revenue "+this.$store.state.country.symbol,type:"line",stack:"Total Revenue",data:a.map(t=>this.$exchangeRate(t.revenue)),smooth:!0},{name:"Total Cost",type:"line",stack:"Total Cost",data:a.map(t=>this.$exchangeRate(t.cost)),smooth:!0}]};i.setOption(s),setTimeout((function(){i.resize()}),200),window.onresize=i.resize}else this.$elementMessage(t.Message,"error")})},runDispatchRule(){this.DialogDispatchPreview.loading=!0,this.$apiCall("api.DispatchOrderRule.testGenerate",{isGenerate:1},t=>{this.DialogDispatchPreview.loading=!1,9999==t.ErrorCode?(this.$elementMessage("success","success"),this.DialogDispatchPreview.isShow=!1,this.$router.push({name:"invoices"})):this.$elementMessage(t.Message,"error")})},saveEntrustStore(){const t={id:this.DialogEntrustStore.id,vendorId:this.DialogEntrustStore.vendorId};this.$apiCall("api.ShopifyAccount.bindVendor",t,t=>{this.DialogEntrustStore.loading=!1,9999==t.ErrorCode?this.DialogEntrustStore.isShow=!1:this.$elementMessage(t.Message,"error")})},saveDispatchSetting(t){if(this.DialogDispatchSetting.allProducts&&!this.DialogDispatchSetting.productIds.length)return void this.$elementMessage("Please select the products","error");if(!this.DialogDispatchSetting.vendorId)return void this.$elementMessage("Please select the vendor","error");if(!this.DialogDispatchSetting.period)return void this.$elementMessage("Please select the circle period","error");this.DialogDispatchSetting.loading=!0;const e={relationshipId:this.DialogDispatchSetting.vendorId,period:this.DialogDispatchSetting.period,visibilityType:1,productIds:this.DialogDispatchSetting.productIds,status:1};this.DialogDispatchSetting.allProducts||(e.productIds=[]),this.$apiCall("api.DispatchOrderRule.addByCustomer",e,t=>{9999==t.ErrorCode?this.$apiCall("api.DispatchOrderRule.testGenerate",{},t=>{this.DialogDispatchSetting.loading=!1,this.DialogDispatchSetting.isShow=!1,9999==t.ErrorCode?(this.DialogDispatchPreview.vendorCnt=t.Data.Results.vendorCnt,this.DialogDispatchPreview.orderCnt=t.Data.Results.orderCnt,this.DialogDispatchPreview.isShow=!0):this.$elementMessage(t.Message,"error")}):(this.DialogDispatchSetting.loading=!1,this.$elementMessage(t.Message,"error"))})},remoteMethodGetProducts(t){t&&(this.DialogDispatchSetting.getProductsloading=!0,this.$apiCall("api.Product.findByUser",{name:t},t=>{this.DialogDispatchSetting.getProductsloading=!1,9999==t.ErrorCode&&(this.DialogDispatchSetting.products=[],t.Data.Results.forEach(t=>{JSON.parse(t.imgsJson).length&&(t.img=JSON.parse(t.imgsJson)[0]),this.DialogDispatchSetting.products.push(t)}))}))},stockImg(t){return JSON.parse(t.imgsJson)[0]},saveRemark(t){this.remarkLoading=!0,this.$apiCall("api.Invoice.saveRemark",{uniCode:this.invoiceInfo.uniCode,title:1==t?"":this.shareTitle,desc:1==t?"":this.shareDesc},t=>{this.remarkLoading=!1,"9999"==t.ErrorCode?(this.shareTitle=t.Data.Results.title,this.shareDesc=t.Data.Results.desc):(this.$elementMessage(t.Message,"error"),"1002"!=t.ErrorCode&&"1003"!=t.ErrorCode||this.$userFailure(),"1002"!=t.ErrorCode&&"1003"!=t.ErrorCode||this.$userFailure())})},onCopy(t){this.$elementMessage("Has been copied to the clipboard","success")},onError(t){this.$elementMessage("Copy to clipboard failed, please copy manually","error")},openSend(){let t=0,e=setInterval(()=>{(function(t,e,a){t.loadSkypeWebSdkAsync=t.loadSkypeWebSdkAsync||function(t){var s,i=e.getElementsByTagName(a)[0];e.getElementById(t.id)||(s=e.createElement(a),s.id=t.id,s.src=t.scriptToLoad,s.onload=t.callback,i.parentNode.insertBefore(s,i))};var s={scriptToLoad:"https://swx.cdn.skype.com/shared/v/latest/skypewebsdk.js",id:"skype_web_sdk"};t.loadSkypeWebSdkAsync(s)})(window,document,"script"),t++,t>10&&clearInterval(e)},300)},sendtoVendor(t){this.card3Loading=!0,this.$apiCall("api.Invoice.getShareUrl",{invoiceId:t.id},t=>{this.card3Loading=!1,"9999"==t.ErrorCode?(this.invoiceInfo=t.Data.Results,this.shareTitle=this.invoiceInfo.remark?this.invoiceInfo.remark.title:"",this.shareDesc=this.invoiceInfo.remark?this.invoiceInfo.remark.desc:"",this.sendInvoiceOpen=!0,this.activeShareName="shareWeixin"):(this.$elementMessage(t.Message,"error"),"1002"!=t.ErrorCode&&"1003"!=t.ErrorCode||this.$userFailure())})},gotoOrder(t){let e={id:t.relationshipId,name:t.vendorName};Number(t.itemCnt)||(e.bind=!0),this.$router.push({name:"shopifyOrders",params:e})},gotoInvoice(t){let e=this.$router.resolve({path:"/i/"+t.uniCode});window.open(e.href,"_blank")},cancelInvoice(t){this.$confirm("Are you sure you want to cancel it?","",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"error"}).then(()=>{this.$apiCall("api.Invoice.cancel",{invoiceId:t.id},t=>{9999==t.ErrorCode?(this.$message({message:"Success",type:"success"}),this.getLastInvoice()):this.$message({message:t.Message,type:"error"})})}).catch(()=>{})},getVendorCnt(){this.VendorCnt.loading=!0,this.$apiCall("api.Invoice.vendorCnt",{relationshipId:this.items[0].relationshipId},t=>{this.VendorCnt.loading=!1,"9999"==t.ErrorCode?(this.VendorCnt.invoiceAmount=t.Data.Results.invoiceAmount,this.VendorCnt.invoiceCnt=t.Data.Results.invoiceCnt,this.VendorCnt.skuCnt=t.Data.Results.skuCnt,this.VendorCnt.name=this.items[0].vendorName):this.$elementMessage(t.Message,"error")})},getOrderItems(){this.card2Loading=!0,this.$apiCall("api.Invoice.shopifyOrders",{page:1,rowsPerPage:10},t=>{this.card2Loading=!1,"9999"==t.ErrorCode?(t.Data.Results.length||this.noneData++,this.items2=t.Data.Results):(this.pageLoading=!1,this.$elementMessage(t.Message,"error"))})},goto(t,e={}){this.$router.push({name:t,params:e})}}},n=r,l=(a("96ad"),a("fd57"),a("e607")),c=Object(l["a"])(n,s,i,!1,null,"e5fcc616",null);e["default"]=c.exports},"96ad":function(t,e,a){"use strict";a("44e1")},f2d7:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAsBJREFUWEftVtFx2kAQfSvZ/+4guAM8yJnJIBJcgaGCkAoCFYRUYLmC4ApCB8gBJjOxGJIKInfAdwS6zOqQLKQ76ewffrx/3Indt2/f7h7hyEZHjo9XAM9jYLY+y0p2uv0CUDP5TeTjn3Wb3V1dbExLaw5gGXgQ+AzgEcAbEN0jjv09gF5yBuwBCg/u5cgEhBmA5WqAWHjY2g1wdj/XDby7CA8CLH810X77O7nb7XyAPLgtrw6EGYDFaghCD+1Wt85hcs9sxWKDzuW47nszAJxdbPnoOE8aqPK8CEJQ3EsYqTEzAOxkEUxBCNF2hpU+OXsWpyFb5gC4A053Pog8tFsTJQjWihBDRHY30YqBmQGQwW8g0AfRWCsuCYDrPkNkj0xA1AP4EfRg4RuAe0T2oNapBMvqv4YQfXQuZatqrBqAzIiD38F1BpmPtOXyToutyZ0DcQOiT9qS8QzTQps/dEE0KwXPzmmUlSIFKsTVQca681xQNQBJ4xpEj0o1LwIW4cckOzYVS2kQOUGv4TrnqmTVAOYPY4CGOLGbpYmXOV75EOLD/ucfuI7cC0XjZE52ISA81WDSAAg2sDCp7HnJkhw0kd2sFGcFC2UAUvXfYdvnyuzlPS8ltjRrCSTGLd470xILLFphrVHUiFKETD/RAK7TUFKajGXi7cdrWHaGEHIwWWKqHb/zYKMqQ5mB5Ur2rW6UcrtFEa9ewLK4389ANEmWz9a+05aC/QoRHrSzkoE6ANxagMw8FrIEFqVLZ6If0+od8XwG8nWpA5v/lktrWd0is2UA3ONEDaNtxuVgKz5OVOIxLkE6QnVdoFRmzaFs2b8AfS0usjID6eAgrBHZ/drlUwcov0nTJ13uP+pB9LSEwkThyRvvBWbbXQjBgm3olpJ+GcnHJc8E9TwwxcOtR7Gnmw/17wHTQC/87hXA0Rn4D0TJQzDtRRKyAAAAAElFTkSuQmCC"},f9bf:function(t,e,a){},fd57:function(t,e,a){"use strict";a("f9bf")}}]);
//# sourceMappingURL=dashboard.7a3b8828.js.map