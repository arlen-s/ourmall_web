(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["MakeOffers2"],{1039:function(e,t,s){},"1be0":function(e,t,s){},"1ef7":function(e,t,s){"use strict";s("1be0")},"2d10":function(e,t,s){"use strict";var i=function(){var e=this,t=e._self._c;return t("div",[e.item.shippingJson?t("el-popover",{attrs:{"popper-class":"customer-popover",placement:"bottom",width:"600",trigger:"hover"}},[2==e.type?t("span",{staticStyle:{cursor:"pointer"},attrs:{slot:"reference"},slot:"reference"},[t("span",[e._v(e._s(e.item.codeName||""))]),t("i",{staticClass:"el-icon-caret-bottom el-icon--right"})]):t("span",{staticClass:"d-flex",staticStyle:{cursor:"pointer"},attrs:{slot:"reference"},slot:"reference"},["mini"==e.size?t("span",[t("i",{staticClass:"el-icon-user-solid",staticStyle:{color:"#909399"}})]):t("span",{staticClass:"tx-ellipsis1",staticStyle:{display:"inline-block","max-width":"160px","font-size":"12px"}},[e._v(e._s(e.item.shippingJson.name||""))]),t("i",{staticClass:"el-icon-caret-bottom el-icon--right"})]),t("div",{staticClass:"title"},[t("div",{staticClass:"left"},[e._v("Shopify Order "+e._s(e.item.codeName))]),e.item.timeCreated?t("div",{staticClass:"right"},[t("span",[e._v("Order Date: ")]),e._v(" "+e._s(e.moment(e.item.timeCreated).format("ll [at] LTS"))+" ")]):e._e()]),t("div",{staticClass:"mg-y-15 mg-t-20 pd-x-20"},[t("div",{staticClass:"title2"},[e._v("Shipping address")]),t("div",{staticClass:"info"},[t("div",{staticClass:"info-row"},[t("div",[t("span",[e._v("Customer")]),e._v(" "+e._s(e.item.shippingJson.name||"---")+" "),e.item.shippingJson.name?t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"copy",placement:"right"}},[t("el-button",{attrs:{size:"mini",type:"text"}},[t("i",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.item.shippingJson.name,expression:"item.shippingJson.name",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:e.onError,expression:"onError",arg:"error"}],staticClass:"el-icon-document-copy"})])],1):e._e()],1)]),t("div",{staticClass:"info-row",style:{marginBottom:e.item.shippingJson.country?"0":"10px"}},[t("div",[t("span",[e._v("Address")]),e._v(" "+e._s(e.item.shippingJson.zip||"")+" "+e._s(e.item.shippingJson.address1||"")+" "+e._s(e.item.shippingJson.city||"")+" "+e._s(e.item.shippingJson.province||"")+" "),e.item.shippingJson.address1?t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"copy",placement:"right"}},[t("el-button",{attrs:{size:"mini",type:"text"}},[t("i",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:`${e.item.shippingJson.zip||""} ${e.item.shippingJson.address1||""}  ${e.item.shippingJson.city||""}  ${e.item.shippingJson.province||""} ${e.item.shippingJson.country||""}`,expression:"`${item.shippingJson.zip || ''} ${item.shippingJson.address1 || ''}  ${item.shippingJson.city ||  ''}  ${item.shippingJson.province || ''} ${item.shippingJson.country || ''}`",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:e.onError,expression:"onError",arg:"error"}],staticClass:"el-icon-document-copy"})])],1):e._e()],1)]),e.item.shippingJson.country?t("div",{staticClass:"info-row"},[t("div",[t("span"),e._v(" "+e._s(e.item.shippingJson.country))])]):e._e(),t("div",{staticClass:"info-row"},[t("div",[t("span",[e._v("Apartment, sulte, etc.")]),e._v(" "+e._s(e.item.shippingJson.address2||"---")+" "),e.item.shippingJson.address2?t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"copy",placement:"right"}},[t("el-button",{attrs:{size:"mini",type:"text"}},[t("i",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.item.shippingJson.address2,expression:"item.shippingJson.address2",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:e.onError,expression:"onError",arg:"error"}],staticClass:"el-icon-document-copy"})])],1):e._e()],1)]),t("div",{staticClass:"info-row"},[t("div",[t("span",[e._v("City")]),e._v(" "+e._s(e.item.shippingJson.city||"---")+" "),e.item.shippingJson.city?t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"copy",placement:"right"}},[t("el-button",{attrs:{size:"mini",type:"text"}},[t("i",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.item.shippingJson.city,expression:"item.shippingJson.city",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:e.onError,expression:"onError",arg:"error"}],staticClass:"el-icon-document-copy"})])],1):e._e()],1),t("div",[t("span",[e._v("State")]),e._v(" "+e._s(e.item.shippingJson.province||"---")+" "),e.item.shippingJson.province?t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"copy",placement:"right"}},[t("el-button",{attrs:{size:"mini",type:"text"}},[t("i",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.item.shippingJson.province,expression:"item.shippingJson.province",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:e.onError,expression:"onError",arg:"error"}],staticClass:"el-icon-document-copy"})])],1):e._e()],1)]),t("div",{staticClass:"info-row"},[t("div",[t("span",[e._v("Country")]),e._v(" "+e._s(e.item.shippingJson.country||"---")+" "),e.item.shippingJson.country?t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"copy",placement:"right"}},[t("el-button",{attrs:{size:"mini",type:"text"}},[t("i",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.item.shippingJson.country,expression:"item.shippingJson.country",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:e.onError,expression:"onError",arg:"error"}],staticClass:"el-icon-document-copy"})])],1):e._e()],1),t("div",[t("span",[e._v("Zipcode")]),e._v(" "+e._s(e.item.shippingJson.zip||"---")+" "),e.item.shippingJson.zip?t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"copy",placement:"right"}},[t("el-button",{attrs:{size:"mini",type:"text"}},[t("i",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.item.shippingJson.zip,expression:"item.shippingJson.zip",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:e.onError,expression:"onError",arg:"error"}],staticClass:"el-icon-document-copy"})])],1):e._e()],1)])]),t("div",{staticClass:"title2"},[e._v("Contact Information")]),t("div",{staticClass:"info"},[t("div",{staticClass:"info-row"},[t("div",[t("span",[e._v("Phone number")]),e._v(" "+e._s(e.item.shippingJson.phone||"---")+" "),e.item.shippingJson.phone?t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"copy",placement:"right"}},[t("el-button",{attrs:{size:"mini",type:"text"}},[t("i",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.item.shippingJson.phone,expression:"item.shippingJson.phone",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:e.onError,expression:"onError",arg:"error"}],staticClass:"el-icon-document-copy"})])],1):e._e()],1)]),t("div",{staticClass:"info-row"},[t("div",[t("span",[e._v("Email")]),e._v(" "+e._s(e.item.email||"---")+" "),e.item.email?t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"copy",placement:"right"}},[t("el-button",{attrs:{size:"mini",type:"text"}},[t("i",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.item.email,expression:"item.email",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:e.onError,expression:"onError",arg:"error"}],staticClass:"el-icon-document-copy"})])],1):e._e()],1)])]),e.item.ioss?[t("div",{staticClass:"title2"},[e._v("IOSS Information")]),t("div",{staticClass:"info"},[t("div",{staticClass:"info-row"},[t("div",[t("span",[e._v("IOSS Id")]),e._v(" "+e._s(e.item.ioss)+" ")])])])]:e._e(),e.item.note?[t("div",{staticClass:"title2"},[e._v("Notes")]),t("div",{staticClass:"info"},[t("div",{staticClass:"info-row"},[t("div",{staticStyle:{"word-break":"break-all"}},[t("span",[e._v("Notes")]),e._v(" "+e._s(e.item.note)+" "),e.item.note?t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"copy",placement:"right"}},[t("el-button",{attrs:{size:"mini",type:"text"}},[t("i",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.item.note,expression:"item.note",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:e.onError,expression:"onError",arg:"error"}],staticClass:"el-icon-document-copy"})])],1):e._e()],1)])])]:e._e()],2)]):t("span",[e._v("---")]),e.item.note&&e.isicon?t("span",{staticClass:"mg-l-5"},[t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.item.note,placement:"top"}},[t("i",{staticClass:"el-icon-info",staticStyle:{"font-size":"12px",width:"12px",color:"#5c6ac4"}})])],1):e._e()],1)},a=[],r={props:["item","type","size","isicon"],methods:{onCopy(e){this.$emit("onCopy",e)},onError(e){this.$emit("onError",e)}}},o=r,l=(s("76ff"),s("e607")),n=Object(l["a"])(o,i,a,!1,null,"1df2d8d3",null);t["a"]=n.exports},"340e":function(e,t,s){e.exports=s.p+"img/shopify_icon.862d4ffa.png"},3550:function(e,t,s){"use strict";s("1039")},"4d6b":function(e,t,s){e.exports=s.p+"img/lazada_icon.895bb3eb.png"},"4f9b":function(e,t,s){"use strict";s("f5ce")},6247:function(e,t,s){},"6b2f":function(e,t,s){"use strict";var i=function(){var e=this,t=e._self._c;return t("div",[e.items&&e.items.length?t("el-popover",{attrs:{placement:"right-start",trigger:"hover",width:"400"}},[t("div",{staticClass:"pop-sku"},e._l(e.items,(function(s,i){return t("div",{key:s.id,style:{borderBottom:e.items.length-1!=i?"1px #EBEEF5 solid":"none"}},[t("div",{staticClass:"image-wrap"},[t("el-image",{staticStyle:{"min-width":"50px",width:"50px",height:"50px"},attrs:{src:s.imgUrl,fit:"contain"}},[t("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[t("i",{staticClass:"el-icon-picture-outline",staticStyle:{color:"#C0C4CC","font-size":"20px"}})])]),t("i",[e._v(e._s(s.quantity))])],1),t("div",{staticClass:"info"},[t("div",{staticClass:"mg-b-10"},[t("fulfillMentStatusTag",{attrs:{fulfillmentStatus:s.fulfillmentStatus}})],1),t("div",{staticClass:"tx-ellipsis2",staticStyle:{"word-break":"normal"}},[e._v(e._s(s.name))]),t("div",[e._v(e._s(s.propertyValue))]),s.customerProperties.length?e._l(s.customerProperties,(function(s){return t("div",[t("span",{staticStyle:{"margin-right":"5px",color:"#909399"}},[e._v(e._s(s.name))]),e._v(" "+e._s(s.value)+" ")])})):e._e(),t("div",[t("span",{staticStyle:{"margin-right":"5px",color:"#909399"}},[e._v("SKU")]),e._v(" "+e._s(s.sku)+" ")]),"WaitingForSourcing"==e.$route.name&&1==s.onlyOne?t("el-tooltip",{attrs:{placement:"top"}},[t("div",{attrs:{slot:"content"},slot:"content"},[t("el-image",{staticStyle:{width:"335px",height:"270px"},attrs:{src:"images/popitem-onlyone.png","preview-src-list":["images/popitem-onlyone.png"]}})],1),t("div",{staticStyle:{color:"#E6A23C","font-size":"12px"}},[e._v(" Need to be allocated to vendor after this purchase order "),t("i",{staticClass:"el-icon-question"})])]):e._e()],2)])})),0),t("span",{staticStyle:{display:"inline-block",cursor:"pointer"},attrs:{slot:"reference"},slot:"reference"},[t("span",[e._v(e._s(e.items.length)+" Items")]),e.items.length?t("i",{staticClass:"el-icon-caret-bottom"}):e._e()])]):e._e()],1)},a=[],r=s("e98b"),o={props:["items","fulfillmentStatus"],components:{fulfillMentStatusTag:r["a"]}},l=o,n=(s("3550"),s("e607")),c=Object(n["a"])(l,i,a,!1,null,"0fc2cdfe",null);t["a"]=c.exports},"716a":function(e,t,s){"use strict";var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"shop"},[1==e.items.platform?t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Shopify",placement:"left"}},[t("img",{staticClass:"shopImg",attrs:{src:s("340e")}})]):2==e.items.platform?t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Woocommerce",placement:"left"}},[t("img",{staticClass:"shopImg",attrs:{src:s("7e46")}})]):3==e.items.platform?t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Lazada",placement:"left"}},[t("img",{staticClass:"shopImg",attrs:{src:s("4d6b")}})]):4==e.items.platform?t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Shopee",placement:"left"}},[t("img",{staticClass:"shopImg",attrs:{src:s("e74a")}})]):e._e()],1)},a=[],r={props:["items"],data(){return{}},methods:{},components:{}},o=r,l=(s("c33f"),s("e607")),n=Object(l["a"])(o,i,a,!1,null,"7d79ad08",null);t["a"]=n.exports},"76ff":function(e,t,s){"use strict";s("f8db")},"7e46":function(e,t,s){e.exports=s.p+"img/woo_icon.bbaca118.png"},"85bc":function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen",value:e.loading,expression:"loading",modifiers:{fullscreen:!0}}],attrs:{"element-loading-background":"rgba(0, 0, 0, 0.3)"}},[t("div",{ref:"tablefilter",staticClass:"make-offer-filter"},[t("div",{staticStyle:{"margin-bottom":"5px","font-size":"12px"}},[t("div",{staticStyle:{"margin-bottom":"5px"}},[t("div",{staticClass:"left d-flex",staticStyle:{"flex-wrap":"wrap"}},[t("div",{staticClass:"mg-r-10"},[t("el-input",{staticStyle:{width:"180px"},attrs:{size:"mini",placeholder:"Offer ID"},on:{clear:function(t){return e.clearFilter("offer")}},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.filterItems("offer")}},model:{value:e.code,callback:function(t){e.code=t},expression:"code"}},[t("template",{slot:"prepend"},[e._v(" # ")])],2)],1),t("div",{staticClass:"mg-r-10"},[t("el-input",{staticStyle:{width:"180px"},attrs:{size:"mini",placeholder:"Order ID"},on:{clear:function(t){return e.clearFilter("name")}},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.filterItems("name")}},model:{value:e.codeName,callback:function(t){e.codeName=t},expression:"codeName"}},[t("template",{slot:"prepend"},[e._v(" # ")])],2)],1),t("el-cascader",{key:e.cascaderKey,attrs:{size:"mini",placeholder:"All my stores",options:e.options,props:{expandTrigger:"hover"}},on:{change:function(t){return e.filterItems("store")}},model:{value:e.filterParams.shopifyStore,callback:function(t){e.$set(e.filterParams,"shopifyStore",t)},expression:"filterParams.shopifyStore"}}),t("el-button-group",{staticClass:"mg-r-10",staticStyle:{height:"28px"}},[t("el-popover",{attrs:{placement:"bottom",title:"",trigger:"click","popper-class":"d-block"},model:{value:e.popTypeFilter,callback:function(t){e.popTypeFilter=t},expression:"popTypeFilter"}},[t("el-radio-group",{staticStyle:{"max-height":"200px"},on:{change:function(t){return e.filterItems("type")}},model:{value:e.filterParams.type,callback:function(t){e.$set(e.filterParams,"type",t)},expression:"filterParams.type"}},[t("el-radio",{attrs:{label:1}},[e._v("Orders")]),t("el-radio",{attrs:{label:2}},[e._v("Products")])],1),t("div",{staticClass:"d-flex justify-content-end"},[t("el-link",{attrs:{type:"danger",disabled:!e.filterParams.type},on:{click:function(t){return e.clearFilter("type")}}},[e._v("Clear")])],1),t("el-button",{attrs:{slot:"reference",size:"mini"},slot:"reference"},[e._v("Type"),t("i",{staticClass:"el-icon-caret-bottom el-icon--right"})])],1),t("el-popover",{attrs:{placement:"bottom",title:"",trigger:"click","popper-class":"d-block"},model:{value:e.popDateFilter,callback:function(t){e.popDateFilter=t},expression:"popDateFilter"}},[t("el-radio-group",{staticStyle:{"max-height":"200px"},on:{change:function(t){return e.filterItems("date")}},model:{value:e.filterParams.timeFilter,callback:function(t){e.$set(e.filterParams,"timeFilter",t)},expression:"filterParams.timeFilter"}},e._l(e.dateArr,(function(s,i){return t("el-radio",{key:i,attrs:{label:i}},[e._v(e._s(s))])})),1),6==e.filterParams.timeFilter?t("div",[t("el-date-picker",{attrs:{size:"mini","value-format":"yyyy-MM-dd",type:"daterange",align:"right","unlink-panels":"","range-separator":"-","start-placeholder":"Start","end-placeholder":"End"},on:{change:e.dateChange},model:{value:e.filterDate,callback:function(t){e.filterDate=t},expression:"filterDate"}})],1):e._e(),t("div",{staticClass:"d-flex justify-content-end"},[t("el-link",{attrs:{type:"danger",disabled:!e.filterParams.timeFilter},on:{click:function(t){return e.clearFilter("date")}}},[e._v("Clear")])],1),t("el-button",{attrs:{slot:"reference",size:"mini"},slot:"reference"},[e._v("Date Ranges"),t("i",{staticClass:"el-icon-caret-bottom el-icon--right"})])],1),"ArchivedOffers"==e.$route.name?t("el-popover",{attrs:{placement:"bottom",title:"",trigger:"click","popper-class":"d-block"},model:{value:e.popStatusFilter,callback:function(t){e.popStatusFilter=t},expression:"popStatusFilter"}},[t("el-radio-group",{staticStyle:{"max-height":"200px"},on:{change:function(t){return e.filterItems("status")}},model:{value:e.filterParams.status,callback:function(t){e.$set(e.filterParams,"status",t)},expression:"filterParams.status"}},e._l(e.statusRadio,(function(s,i){return t("el-radio",{key:i,attrs:{label:i}},[e._v(e._s(s.text))])})),1),t("div",{staticClass:"d-flex justify-content-end"},[t("el-link",{attrs:{type:"danger",disabled:!e.filterParams.status},on:{click:function(t){return e.clearFilter("status")}}},[e._v("Clear")])],1),t("el-button",{attrs:{slot:"reference",size:"mini"},slot:"reference"},[e._v("Status"),t("i",{staticClass:"el-icon-caret-bottom el-icon--right"})])],1):t("el-popover",{attrs:{placement:"bottom",title:"",trigger:"click","popper-class":"d-block"},model:{value:e.popSortFilter,callback:function(t){e.popSortFilter=t},expression:"popSortFilter"}},[t("el-radio-group",{on:{change:function(t){return e.filterItems("sort")}},model:{value:e.filterParams.sortBy,callback:function(t){e.$set(e.filterParams,"sortBy",t)},expression:"filterParams.sortBy"}},e._l(e.sortArr,(function(s,i){return t("el-radio",{key:i,attrs:{label:i}},[e._v(e._s(s))])})),1),t("div",{staticClass:"d-flex justify-content-end"},[t("el-link",{attrs:{type:"danger",disabled:!e.filterParams.sortBy},on:{click:function(t){return e.clearFilter("sort")}}},[e._v("Clear")])],1),t("el-button",{attrs:{slot:"reference",size:"mini"},slot:"reference"},[e._v("SortBy"),t("i",{staticClass:"el-icon-caret-bottom el-icon--right"})])],1)],1),t("div",{staticStyle:{"min-width":"130px"}},[t("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.filterItems()}}},[e._v("Filter ")]),t("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(t){return e.clearFilter()}}},[e._v("Clear")])],1)],1)]),t("div",[e.filterParams.code?t("el-tag",{staticClass:"mg-r-5",attrs:{size:"small",type:"info",closable:""},on:{close:function(t){return e.clearFilter("code")}}},[e._v("#"+e._s(e.filterParams.code))]):e._e(),e.filterParams.codeName?t("el-tag",{staticClass:"mg-r-5",attrs:{size:"small",type:"info",closable:""},on:{close:function(t){return e.clearFilter("name")}}},[e._v("#"+e._s(e.filterParams.codeName))]):e._e(),e.filterParams.shopifyStore.length?t("el-tag",{staticClass:"mg-r-5",attrs:{size:"small",type:"info",closable:""},on:{close:function(t){return e.clearFilter("store")}}},[e._v(e._s(e.shopifyStoreName))]):e._e(),e.filterParams.timeFilter?t("el-tag",{staticClass:"mg-r-5",attrs:{size:"small",type:"info",closable:""},on:{close:function(t){return e.clearFilter("date")}}},[e._v(" "+e._s(e.dateArr[e.filterParams.timeFilter])+" "),6==e.filterParams.timeFilter&&e.filterDate.length?t("span",[e._v(" "+e._s(e.filterDate[0])+"--"+e._s(e.filterDate[1])+" ")]):e._e()]):e._e(),e.filterParams.fulfillStatus.length?t("el-tag",{staticClass:"mg-r-5",attrs:{size:"small",type:"info",closable:""},on:{close:function(t){return e.clearFilter("fulfill")}}},[e._v(" "+e._s("unfulfilled"==e.filterParams.fulfillStatus[0]?"Unfulfilled":"Partially fulfilled")),e.filterParams.fulfillStatus.length>1?t("span",[e._v(","+e._s("unfulfilled"==e.filterParams.fulfillStatus[1]?"Unfulfilled":"Partially fulfilled"))]):e._e()]):e._e(),e.filterParams.sortBy?t("el-tag",{staticClass:"mg-r-5",attrs:{size:"small",type:"info",closable:""},on:{close:function(t){return e.clearFilter("sort")}}},[e._v(e._s(e.sortArr[e.filterParams.sortBy]))]):e._e(),e.filterParams.status?t("el-tag",{staticClass:"mg-r-5",attrs:{size:"small",type:"info",closable:""},on:{close:function(t){return e.clearFilter("status")}}},[e._v(" "+e._s(e.statusRadio[e.filterParams.status].text)+" ")]):e._e()],1)]),t("div",{staticClass:"table-wrap"},[t("el-table",{ref:"gridTable",attrs:{data:e.tableData,stripe:""}},[t("el-table-column",{attrs:{label:"# Offer ID",prop:"code",width:"200",fixed:""},scopedSlots:e._u([{key:"default",fn:function(s){return[t("span",{staticStyle:{"margin-right":"10px"}},[e._v("# "+e._s(s.row.code))]),t("span",[t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.moment(1e3*s.row.timeCreated).format("ll [at] LTS"),placement:"top"}},[t("i",{staticClass:"el-icon-date"})])],1)]}}])}),t("el-table-column",{attrs:{label:"Type"},scopedSlots:e._u([{key:"default",fn:function(s){return[1==s.row.type?t("span",[e._v("Orders")]):t("span",[e._v("Products")])]}}])}),t("el-table-column",{attrs:{label:"QTY"},scopedSlots:e._u([{key:"default",fn:function(s){return[0==s.row.accounts.length&&0==s.row.orderCnt?t("span",[e._v("---")]):t("div",[e._l(s.row.accounts,(function(s){return t("div",{key:s.shopName},[t("div",[t("shopCate",{attrs:{items:s}}),e._v(e._s(s.shopName))],1)])})),1==s.row.type?t("div",[e._v("Total "+e._s(s.row.orderCnt)+" orders")]):t("div",[e._v("Total "+e._s(s.row.orderCnt)+" products")]),3!=s.row.status&&Number(s.row.invalidOrderCnt)?t("div",{staticStyle:{color:"#909399"}},[e._v(" ("+e._s(s.row.invalidOrderCnt)+" invalid "),t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Some orders had been fulfilled or refunded",placement:"top"}},[t("i",{staticClass:"el-icon-question"})]),e._v(" ) ")],1):e._e()],2)]}}])}),t("el-table-column",{attrs:{label:"Income"},scopedSlots:e._u([{key:"default",fn:function(s){return[t("div"),s.row.currency?e._e():t("span",[e._v("---")]),t("span",[e._v(e._s(e.ce[s.row.currency]?e.ce[s.row.currency].symbol:s.row.currency))]),e._v(" "+e._s(s.row.totalPrice)+" ")]}}])},[t("template",{slot:"header"},[e._v(" Income "),t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Income will only visible to you",placement:"top"}},[t("i",{staticClass:"el-icon-question"})])],1)],2),"VendorsRespondingOffers"==e.$route.name||"WaitingForVendorsRespond"==e.$route.name?t("el-table-column",{attrs:{label:"Vendors respond",width:"190px"},scopedSlots:e._u([{key:"default",fn:function(s){return[t("div"),"WaitingForVendorsRespond"==e.$route.name?t("span",[e._v("---")]):e._e(),"VendorsRespondingOffers"==e.$route.name?t("div",[t("div",[t("span",{staticStyle:{color:"#909399"}},[e._v("Vendors:")]),t("span",[e._v(e._s(s.row.vendorResponseCnt)+" responded")])]),t("div",[t("span",{staticStyle:{color:"#909399"}},[e._v("Offers:")]),Number(s.row.offerPriceMin)||Number(s.row.offerPriceMax)?t("span",[e._v(" US$ "),t("span",{staticStyle:{color:"#f56c6c"}},[e._v(e._s(s.row.offerPriceMin))]),e._v(" - "),t("span",{staticStyle:{"margin-right":"5px",color:"#f56c6c"}},[e._v(e._s(s.row.offerPriceMax))]),t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"The products offers that vendors had filled in.",placement:"top"}},[t("i",{staticClass:"el-icon-question"})])],1):t("span",[e._v("waiting for responding")])])]):e._e()]}}],null,!1,2135905006)}):e._e(),"ArchivedOffers"==e.$route.name?t("el-table-column",{attrs:{label:"Purchase Order"},scopedSlots:e._u([{key:"default",fn:function(s){return[t("div"),9==s.row.status?t("div",[e._v("-")]):t("div",[s.row.invoiceCode?t("div",{staticStyle:{color:"#5c6ac4"}},[e._v(" # "+e._s(s.row.invoiceCode)+" ")]):e._e(),s.row.invoiceStatus?t("div",{class:"tx-"+e.$dict.invoiceStatus[s.row.invoiceStatus].type},[e._v(" "+e._s(e.$dict.invoiceStatus[s.row.invoiceStatus].text)+" ")]):e._e()])]}}],null,!1,1653114663)}):e._e(),"ArchivedOffers"==e.$route.name?t("el-table-column",{attrs:{label:"Status"},scopedSlots:e._u([{key:"default",fn:function(s){return[t("div"),9==s.row.status?t("div",{staticStyle:{color:"#f56c6c"}},[e._v(" Cancelled ")]):e._e(),3==s.row.status?t("div",{staticStyle:{color:"#67c23a"}},[e._v(" Confirmed ")]):e._e()]}}],null,!1,4083156061)}):e._e(),t("el-table-column",{attrs:{label:"Action",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(s){return[t("div"),"WaitingForVendorsRespond"==e.$route.name?[t("div",[t("el-link",{attrs:{type:"primary"},on:{click:function(t){return e.openViewOrders(s.row)}}},[e._v("View offers")])],1),t("div",[t("el-link",{attrs:{type:"danger"},on:{click:function(t){return e.cancelOffer(s.row,s.$index)}}},[e._v("Cancel offers")])],1)]:e._e(),"VendorsRespondingOffers"==e.$route.name?[t("div",[t("el-link",{attrs:{type:"primary"},on:{click:function(t){return e.openViewOrders(s.row)}}},[e._v("Check offers")])],1),t("div",[t("el-link",{attrs:{type:"danger"},on:{click:function(t){return e.cancelOffer(s.row,s.$index)}}},[e._v("Cancel offers")])],1)]:e._e(),"ArchivedOffers"==e.$route.name?[t("div",[t("el-link",{attrs:{type:"primary"},on:{click:function(t){return e.openViewOrders(s.row,1)}}},[e._v("View offer detail")])],1)]:e._e()]}}])})],1)],1),t("div",{ref:"tableFooter"},[e.tableData.length?t("el-row",{attrs:{gutter:20}},[t("el-col",{staticClass:"d-flex justify-content-center",attrs:{span:24}},[t("div",{staticStyle:{position:"relative",top:"10px"}},[t("el-pagination",{attrs:{"current-page":Number(e.page),background:!0,layout:"sizes, total, prev, pager, next, jumper","page-sizes":e.pageSize,"page-size":e.rowsPerPage,total:Number(e.totalCount)},on:{"current-change":e.toPage,"size-change":e.changePageSize}})],1)])],1):e._e()],1)]),e.DialogViewOrders.item?t("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:!!e.DialogViewOrders.loading,expression:"!!DialogViewOrders.loading"}],attrs:{visible:e.DialogViewOrders.isShow,width:"90%"},on:{"update:visible":function(t){return e.$set(e.DialogViewOrders,"isShow",t)}}},[t("div",{attrs:{slot:"title"},slot:"title"},[t("span",{staticStyle:{"margin-right":"15px","font-size":"18px"}},[e._v("# "+e._s(e.DialogViewOrders.item.code))]),0==e.isProduct?t("span",{staticStyle:{color:"#909399","font-size":"14px"}},[e._v("(Total Order: "+e._s(e.DialogViewOrders.item.orderCnt)+")")]):t("span",{staticStyle:{color:"#909399","font-size":"14px"}},[e._v("(Total Product: "+e._s(e.productDuotationList.length)+")")])]),t("el-divider"),t("div",{staticStyle:{padding:"0 20px"}},[0==e.isProduct?t("div",{staticClass:"table-wrap"},[t("el-table",{ref:"gridTable",attrs:{data:e.DialogViewOrders.orders,stripe:"",height:"200"}},[t("el-table-column",{attrs:{label:"Order",prop:"codeName",width:"100",fixed:""},scopedSlots:e._u([{key:"default",fn:function(s){return[t("span",[e._v(e._s(s.row.codeName))])]}}],null,!1,2865335244)}),t("el-table-column",{attrs:{label:"My Store",prop:"codeName",width:"200"},scopedSlots:e._u([{key:"default",fn:function(s){return[t("div",{staticClass:"tx-ellipsis1",staticStyle:{display:"inline-block","max-width":"200px","font-size":"12px"}},[t("shopCate",{attrs:{items:s.row}}),e._v(" "+e._s(s.row.store)+" ")],1)]}}],null,!1,1792919829)}),t("el-table-column",{attrs:{label:"Date",width:"190"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.moment(t.row.timeCreated).format("ll [at] LTS"))+" ")]}}],null,!1,3284638925)}),t("el-table-column",{attrs:{label:"Customer",width:"200"},scopedSlots:e._u([{key:"default",fn:function(s){return[t("popShippingJson",{attrs:{item:s.row},on:{onCopy:e.onCopy,onError:e.onError}})]}}],null,!1,291841290)}),t("el-table-column",{attrs:{label:"Total",align:"right"},scopedSlots:e._u([{key:"default",fn:function(s){return[t("span",[e._v(e._s(e.ce[s.row.currency]?e.ce[s.row.currency].symbol:s.row.currency))]),e._v(" "+e._s(s.row.totalPrice)+" ")]}}],null,!1,2790810410)}),t("el-table-column",{attrs:{label:"Payment",width:"170"},scopedSlots:e._u([{key:"default",fn:function(s){return[s.row.financialStatus&&"voided"!=s.row.financialStatus?t("el-tag",{attrs:{size:"small",type:e.paymentArr[s.row.financialStatus].type}},[t("span",{staticClass:"-EFlq",class:"bg"+e.paymentArr[s.row.financialStatus].r}),e._v(" "+e._s(e.paymentArr[s.row.financialStatus].text)+" ")]):e._e()]}}],null,!1,638173462)}),t("el-table-column",{attrs:{label:"Fulfillment",width:"150"},scopedSlots:e._u([{key:"default",fn:function(e){return[t("fulfillMentStatusTag",{attrs:{fulfillmentStatus:e.row.fulfillmentStatus}})]}}],null,!1,4216136717)}),t("el-table-column",{attrs:{label:"Items"},scopedSlots:e._u([{key:"default",fn:function(s){return[s.row.items?t("popItems",{attrs:{items:s.row.items,fulfillmentStatus:s.row.fulfillmentStatus}}):e._e()]}}],null,!1,232419951)})],1)],1):t("div",{staticClass:"table-wrap"},[t("el-table",{ref:"gridTable",attrs:{data:e.productDuotationList,stripe:"",height:"200"}},[t("el-table-column",{attrs:{label:"Product images",prop:"img"},scopedSlots:e._u([{key:"default",fn:function(e){return[t("img",{staticClass:"imgItem",attrs:{src:e.row.imgUrl}})]}}],null,!1,2758026678)}),t("el-table-column",{attrs:{label:"Details",prop:"Details"},scopedSlots:e._u([{key:"default",fn:function(s){return[t("span",[e._v(e._s(s.row.detail))])]}}],null,!1,3881849303)}),t("el-table-column",{attrs:{label:"Expected price (US$)"},scopedSlots:e._u([{key:"default",fn:function(s){return[s.row.expectPrice?t("span",[e._v("US$ "+e._s(s.row.expectPrice))]):t("span",[e._v("---")])]}}],null,!1,1979654197)}),t("el-table-column",{attrs:{label:"Remark"},scopedSlots:e._u([{key:"default",fn:function(s){return[s.row.remarks?t("span",[e._v(e._s(s.row.remarks))]):t("span",[e._v("---")])]}}],null,!1,5942332)})],1)],1),t("el-divider"),t("div",{staticClass:"table-wrap"},[t("div",{staticClass:"d-flex"},[t("h3",{staticStyle:{"margin-right":"15px",height:"36px","line-height":"36px","font-weight":"bold","font-size":"16px"}},[e._v(" Vendors respond ")]),t("div",{staticStyle:{"font-size":"16px"}},[t("span",{staticStyle:{color:"#909399"}},[e._v("total:")]),e._v(" "+e._s(e.DialogViewOrders.respond.length)+" ")])]),t("el-table",{ref:"gridTable",attrs:{data:e.DialogViewOrders.respond,stripe:"",height:"200"}},[t("el-table-column",{attrs:{label:"Status"},scopedSlots:e._u([{key:"default",fn:function(s){return[t("el-radio",{attrs:{disabled:"3"!=s.row.status||"ArchivedOffers"==e.$route.name,label:s.row.id,name:"1"},model:{value:e.DialogViewOrders.radio,callback:function(t){e.$set(e.DialogViewOrders,"radio",t)},expression:"DialogViewOrders.radio"}},[t("span",{class:e.respondStatus[s.row.status].style},[e._v(e._s(e.respondStatus[s.row.status].text))])])]}}],null,!1,3599246540)}),t("el-table-column",{attrs:{label:"Vendor name"},scopedSlots:e._u([{key:"default",fn:function(s){return[s.row.vendor.vendorName?t("span",[e._v("Shop# "+e._s(s.row.vendor.id))]):t("span",[e._v("---")])]}}],null,!1,2568367358)}),t("el-table-column",{attrs:{label:"Date",sortable:"",prop:"timeCreated"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.moment(1e3*t.row.timeCreated).format("ll [at] LTS"))+" ")]}}],null,!1,437414662)}),t("el-table-column",{attrs:{label:0==e.isProduct?"Offered Orders":"Offered Products"},scopedSlots:e._u([{key:"default",fn:function(s){return[1==s.row.status?[e._v(" --- ")]:[t("span",{staticClass:"text-danger"},[e._v(e._s(s.row.priceCnt))]),e._v(" of "+e._s(s.row.totalItemCnt)+" ")]]}}],null,!1,2573206133)}),t("el-table-column",{attrs:{label:"Offer price"},scopedSlots:e._u([{key:"default",fn:function(s){return[3!=s.row.status?[e._v(" --- ")]:[1==e.isProduct?t("span",[e._v("US$ "+e._s(`${s.row.minPrice} ~ ${s.row.maxPrice}`))]):t("span",[e._v("US$ "+e._s(s.row.totalPrice))])]]}}],null,!1,289921166)}),t("el-table-column",{attrs:{label:"Action"},scopedSlots:e._u([{key:"default",fn:function(s){return[3==s.row.status||4==s.row.status?t("div",[t("el-link",{attrs:{type:"primary"},on:{click:function(t){return e.openItemsDetail(s.row)}}},[e._v("View offer detail")])],1):e._e()]}}],null,!1,1287995096)})],1)],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.DialogViewOrders.isShow=!1}}},[e._v("Discard")]),"ArchivedOffers"!=e.$route.name?t("el-button",{attrs:{type:"primary",disabled:!e.DialogViewOrders.radio},on:{click:e.confirmOffer}},[e._v("Confirm this Offer")]):e._e()],1)],1):e._e(),e.DialogItemsDetail.item?t("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:e.DialogItemsDetail.loading,expression:"DialogItemsDetail.loading"}],attrs:{visible:e.DialogItemsDetail.isShow,width:"90%"},on:{"update:visible":function(t){return e.$set(e.DialogItemsDetail,"isShow",t)}}},[t("div",{attrs:{slot:"title"},slot:"title"},[t("span",{staticStyle:{"margin-right":"15px","font-size":"18px"}},[e._v("# "+e._s(e.DialogViewOrders.item.code))]),t("span",{staticStyle:{color:"#909399","font-size":"14px"}},[e._v(" (Vendor: "),t("span",{staticStyle:{"margin-right":"25px",color:"#606266"}},[e._v(" "+e._s(e.DialogItemsDetail.item.vendor.vendorName)+" # "+e._s(e.DialogItemsDetail.item.vendor.id)+" ")]),0==e.isProduct?t("span",[e._v("Offered Orders:")]):t("span",[e._v("Offered Products:")]),t("span",{staticStyle:{color:"#606266"}},[e._v(e._s(e.DialogItemsDetail.item.priceCnt))]),e._v(" of "+e._s(e.DialogItemsDetail.item.totalItemCnt)+" ) ")])]),t("el-divider"),t("div",{staticStyle:{padding:"20px"}},[t("el-row",[t("el-col",{ref:"pageTabs",attrs:{span:24}},[t("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.DialogItemsDetail.activeName,callback:function(t){e.$set(e.DialogItemsDetail,"activeName",t)},expression:"DialogItemsDetail.activeName"}},[t("el-tab-pane",{attrs:{label:0==e.isProduct?"All Orders":"All Products",name:"AllOrders"}}),t("el-tab-pane",{attrs:{label:0==e.isProduct?"Offered Orders":"Offered Products",name:"OfferedOrders"}}),0==e.isProduct?t("el-tab-pane",{attrs:{label:"Invaild Orders",name:"InvaildOrders"}}):e._e()],1)],1)],1),t("div",{staticClass:"table-wrap",staticStyle:{position:"relative",top:"-15px",border:"1px #dcdfe6 solid",padding:"15px"}},[0==e.isProduct?t("el-table",{ref:"gridTable-items",attrs:{data:e.DialogItemsDetail.list,stripe:"",height:"250"}},[t("el-table-column",{attrs:{label:"Orders"},scopedSlots:e._u([{key:"default",fn:function(s){return[t("div",{staticClass:"table-shopify-wrapper",staticStyle:{"text-align":"center"}},[t("div",{staticClass:"code tx-600"},[t("popShippingJson",{attrs:{isicon:"1",item:s.row,type:2},on:{onCopy:e.onCopy,onError:e.onError}})],1),t("div",{staticClass:"date"},[e._v(" "+e._s(s.row.timeCreated?e.moment(s.row.timeCreated).format("ll"):"---")+" ")])])]}}],null,!1,834270537)}),t("el-table-column",{attrs:{label:"Items",width:"250"},scopedSlots:e._u([{key:"default",fn:function({row:s}){return[t("div",{staticClass:"table-items-wrapper"},[t("div",{staticClass:"items-image"},[t("el-image",{staticClass:"image",attrs:{lazy:"",src:s.imgUrl,"preview-src-list":s.previewList}},[t("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[t("i",{staticClass:"el-icon-picture-outline"})])])],1),t("div",{staticClass:"items-content"},[t("div",{staticClass:"items-title tx-600"},[e._v(e._s(s.name))]),s.customerProperties&&s.customerProperties.length?t("div",{staticStyle:{"white-space":"initial"}},e._l(s.customerProperties,(function(s){return t("div",{staticClass:"mg-r-5",staticStyle:{display:"inline-block"}},[e._v(" "+e._s(s.name)+": "),t("span",{staticStyle:{color:"#909399"}},[e._v(e._s(s.value))])])})),0):e._e(),t("div",{staticClass:"item-info"},[s.shippingJson&&s.shippingJson.name?t("span",[e._v("To "+e._s(s.shippingJson.name)+" ")]):e._e(),s.shippingJson&&s.shippingJson.country?t("span",[e._v(" ("+e._s(s.shippingJson.country)+")")]):e._e()])])])]}}],null,!1,1981183404)}),t("el-table-column",{attrs:{label:"Quantity",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.quantity)+" ")]}}],null,!1,1917492518)}),t("el-table-column",{attrs:{label:"Income"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" US$ "+e._s(t.row.incomePrice)+" ")]}}],null,!1,2939278833)}),t("el-table-column",{attrs:{label:"Offer Price (US$)"},scopedSlots:e._u([{key:"default",fn:function(s){return[s.row.offerPrice?t("span",{staticClass:"tx-danger"},[e._v(" "+e._s(s.row.offerPrice)+" ")]):t("span",{staticStyle:{color:"#c0c4cc"}},[e._v("---")])]}}],null,!1,1356314841)}),t("el-table-column",{attrs:{label:"Profit (US$)"},scopedSlots:e._u([{key:"default",fn:function(s){return[t("span",{staticClass:"tx-success"},[e._v(e._s(s.row.profit))])]}}],null,!1,2692906452)},[t("template",{slot:"header"},[e._v(" Profit (US$) "),t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"About Profit = Income - Cost",placement:"top"}},[t("i",{staticClass:"el-icon-question"})])],1)],2)],1):t("el-table",{ref:"gridTable-items",attrs:{data:e.productsItems,stripe:"",height:"150"}},[t("el-table-column",{attrs:{label:"Product",prop:"codeName",width:"200",fixed:""},scopedSlots:e._u([{key:"default",fn:function(e){return[t("img",{staticClass:"imgItem",attrs:{src:e.row.imgUrl}})]}}],null,!1,2758026678)}),t("el-table-column",{attrs:{label:"Items"},scopedSlots:e._u([{key:"default",fn:function(s){return[s.row.offerPrices&&s.row.offerPrices.length?t("el-popover",{attrs:{placement:"right-start",trigger:"hover",width:"400"}},[t("div",{staticClass:"pop-sku"},e._l(s.row.offerPrices,(function(i,a){return t("div",{key:i.id,style:{borderBottom:s.row.offerPrices.length-1!=a?"1px #EBEEF5 solid":"none"}},[t("div",{staticClass:"image-wrap"},[t("el-image",{staticStyle:{"min-width":"50px",width:"50px",height:"50px"},attrs:{src:s.row.imgUrl,fit:"cover"}},[t("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[t("i",{staticClass:"el-icon-picture-outline",staticStyle:{color:"#C0C4CC","font-size":"20px"}})])])],1),t("div",{staticClass:"info"},[t("div",{staticClass:"mg-b-10"},[t("i",[e._v("US$ "+e._s(i.price))])]),t("div",{staticClass:"tx-ellipsis2",staticStyle:{"word-break":"normal"}},[e._v(e._s(i.variableId))]),t("div",[e._v(e._s(i.productName))])])])})),0),t("span",{staticStyle:{display:"inline-block",cursor:"pointer"},attrs:{slot:"reference"},slot:"reference"},[t("span",[e._v(e._s(s.row.offerPrices.length)+" Items")]),s.row.offerPrices.length?t("i",{staticClass:"el-icon-caret-bottom"}):e._e()])]):e._e()]}}],null,!1,1132868594)}),t("el-table-column",{attrs:{label:"Quantity",align:"center"}},[e._v(" --- ")]),t("el-table-column",{attrs:{label:"Income"}},[e._v(" --- ")]),t("el-table-column",{attrs:{label:"Offer Price (US$)"},scopedSlots:e._u([{key:"default",fn:function(s){return[e._v(" US$ "),s.row.minPrice?t("span",{staticClass:"tx-danger"},[e._v(" "+e._s(s.row.minPrice)+" ")]):t("span",{staticStyle:{color:"#c0c4cc"}},[e._v("---")])]}}],null,!1,2802974175)})],1)],1)],1),t("el-divider"),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("div",{staticClass:"d-flex",staticStyle:{"text-align":"left"}},[t("div",{staticStyle:{flex:"1"}},[t("span",{staticStyle:{color:"#909399"}},[e._v("Vendor:")]),0==e.isProduct?t("span",[e._v(e._s(e.DialogItemsDetail.item.vendor.vendorName))]):t("span",[e._v("Shop")]),e._v(" # "+e._s(e.DialogItemsDetail.item.vendor.id)+" ")]),t("div",{staticStyle:{flex:"1"}},[0==e.isProduct?t("span",{staticStyle:{"margin-right":"5px",color:"#909399"}},[e._v("Offered Orders:")]):t("span",{staticStyle:{"margin-right":"5px",color:"#909399"}},[e._v("Offered Products:")]),1==e.DialogItemsDetail.item.status?[e._v("---")]:[t("b",{staticStyle:{color:"#303133"}},[e._v(e._s(e.DialogItemsDetail.item.priceCnt))]),e._v(" of "+e._s(e.DialogItemsDetail.item.totalItemCnt)+" ")]],2),t("div",{staticStyle:{flex:"1"}},[t("span",{staticStyle:{"margin-right":"5px",color:"#909399"}},[e._v("Offer Price:")]),e._v(" US$ "),1==e.isProduct?t("span",{staticStyle:{color:"#f56c6c"}},[e._v(e._s(e.offerPrices))]):e._e(),0==e.isProduct?t("span",{staticStyle:{color:"#f56c6c"}},[e._v(e._s(e.DialogItemsDetail.item.totalPrice))]):e._e()]),t("div",{staticStyle:{flex:"1","text-align":"right"}},[t("el-button",{on:{click:function(t){e.DialogItemsDetail.isShow=!1}}},[e._v("Discard")])],1)])])],1):e._e()],1)},a=[],r=(s("149f"),s("2d10")),o=s("e98b"),l=s("6b2f"),n=s("716a"),c={props:["dateArr","sortArr","paymentArr","storeList","options"],data(){return{cascaderKey:1,offerPrices:"",isProduct:!1,loading:!1,tableData:[],productsItems:[],pageSize:[20,50,100],page:this.$route.query.page?Number(this.$route.query.page):1,rowsPerPage:localStorage.getItem("c_WaitingForVendorsRespondRowsPerPage")?Number(localStorage.getItem("c_WaitingForVendorsRespondRowsPerPage")):20,totalCount:0,totalPage:0,ce:this.$CE,isManage:1,codeName:"",code:"",filterParams:{type:"",code:"",codeName:"",shopifyStore:[],fulfillStatus:[],timeFilter:"",dateFrom:"",dateTo:"",sortBy:"",status:""},filterParamsDefault:"{}",shopifyStoreName:"",popTypeFilter:!1,popStoreFilter:!1,popFulfillFilter:!1,popDateFilter:!1,popSortFilter:!1,popStatusFilter:!1,filterDate:[],productDuotationList:[],DialogViewOrders:{isShow:!1,loading:0,type:1,item:null,orders:[],respond:[],radio:""},DialogViewOrdersDefault:"{}",respondStatus:{1:{text:"checking",style:"tx-warning"},2:{text:"offering",style:"tx-warning"},3:{text:"complete",style:"tx-success"},4:{text:"confirmed",style:"tx-success"},9:{text:"invalid",style:"tx-danger"}},DialogItemsDetail:{isShow:!1,loading:!1,item:null,activeName:"AllOrders",list:[]},DialogItemsDetailDefault:"{}",statusRadio:{3:{text:"Confirmed",style:"tx-success"},9:{text:"Cancelled",style:"tx-danger"}}}},components:{popShippingJson:r["a"],fulfillMentStatusTag:o["a"],popItems:l["a"],shopCate:n["a"]},computed:{itemTotal(){let e={offerPrice:0,profit:0};return this.DialogItemsDetail.list.forEach(t=>{Number(t.offerPrice)&&(e.offerPrice+=Number(t.offerPrice),e.profit+=Number(t.profit))}),e.offerPrice=e.offerPrice.toFixed(2),e.profit=e.profit.toFixed(2),e}},watch:{$route:"gotoPage","filterParams.shopifyStore"(){if(!this.filterParams.shopifyStore.length)return;let e=[];this.filterParams.shopifyStore.forEach(t=>{this.storeList.forEach(s=>{t==s.shopifyAccountId&&e.push(s.store)})}),this.shopifyStoreName=e.join(",")}},mounted(){this.filterParamsDefault=JSON.stringify(this.filterParams),this.DialogViewOrdersDefault=JSON.stringify(this.DialogViewOrders),this.DialogItemsDetailDefault=JSON.stringify(this.DialogItemsDetail),this.getItems()},methods:{checkOffers(e){},getItemsDetail(){this.DialogItemsDetail.loading=!0;let e={offerId:this.DialogItemsDetail.item.offerListId,vendorId:this.DialogItemsDetail.item.vendorId};"OfferedOrders"==this.DialogItemsDetail.activeName&&(e.offered=1),"InvaildOrders"==this.DialogItemsDetail.activeName&&(e.invaild=1),this.$apiCall("api.OfferList.getOfferItemsDetail",e,e=>{this.DialogItemsDetail.loading=!1,"9999"==e.ErrorCode?0==this.isProduct?(this.DialogItemsDetail.list=e.Data.Results.map(e=>(e.shippingJson=JSON.parse(e.shippingJson),e)),this.$refs["gridTable-items"].bodyWrapper.scrollTop=0):this.productsItems=e.Data.Results:this.$elementMessage(e.Message,"error")})},handleClick(e){this.DialogItemsDetail.activeName=e.name,this.getItemsDetail()},openItemsDetail(e){this.offerPrices=`${e.minPrice} ~ ${e.maxPrice}`,this.DialogItemsDetail=JSON.parse(this.DialogItemsDetailDefault),this.DialogItemsDetail.item=e,this.DialogItemsDetail.isShow=!0,this.getItemsDetail()},confirmOffer(){let e={};this.DialogViewOrders.respond.forEach(t=>{t.id==this.DialogViewOrders.radio&&(e.vendorId=t.vendorId),e.offerId=t.offerListId}),this.DialogViewOrders.loading=!0,this.$apiCall(0==this.isProduct?"api.OfferList.genOfferToInvoice":"api.OfferList.genOfferToImportProduct",e,e=>{this.DialogViewOrders.loading=!1,"9999"==e.ErrorCode?(this.DialogViewOrders.isShow=!1,this.$elementMessage("success","success"),this.$router.push({name:"ArchivedOffers"})):this.$elementMessage(e.Message,"error")})},openViewOrders(e,t){2==e.type?this.isProduct=!0:this.isProduct=!1,this.$emit("getNum"),this.productDuotationList=[],this.DialogViewOrders=JSON.parse(this.DialogViewOrdersDefault),this.DialogViewOrders.item={...e},this.DialogViewOrders.isShow=!0,this.DialogViewOrders.loading=2;let s={offerListId:e.id};t&&(s.offerFinished=t),2==e.type?this.$apiCall("api.OfferList.getProductOfferItems",{offerId:e.id},e=>{this.DialogViewOrders.loading--,"9999"==e.ErrorCode?this.productDuotationList=e.Data.Results:(this.$elementMessage(e.Message,"error"),this.DialogViewOrders.isShow=!1)}):this.$apiCall("api.Invoice.shopifyOrders",s,e=>{this.DialogViewOrders.loading--,"9999"==e.ErrorCode?this.DialogViewOrders.orders=e.Data.Results.map(e=>(e.checked=!1,e.shippingJson=JSON.parse(e.shippingJson),e)):(this.$elementMessage(e.Message,"error"),this.DialogViewOrders=JSON.parse(this.DialogViewOrdersDefault))}),this.$apiCall("api.OfferList.getOfferVendorList",{offerId:e.id},e=>{if(this.DialogViewOrders.loading--,"9999"==e.ErrorCode){if(this.DialogViewOrders.respond=[],!e.Data.Results.length)return;e.Data.Results.forEach(e=>{"9"!=e.status&&(e.checked=!1,this.DialogViewOrders.respond.push(e))}),e.Data.Results.forEach(e=>{"9"==e.status&&(e.checked=!1,this.DialogViewOrders.respond.push(e))}),this.DialogViewOrders.respond.length||(this.DialogViewOrders.respond=[{checked:!1}])}else this.$elementMessage(e.Message,"error"),this.DialogViewOrders.isShow=!1})},cancelOffer(e,t){this.$confirm("Yes, I want to CANCEL this offer","",{confirmButtonText:"Cancel",cancelButtonText:"Discard",confirmButtonClass:" el-button--danger",type:"info"}).then(()=>{this.loading=!0,this.$apiCall("api.OfferList.cancelOffer",{offerId:e.id},e=>{this.loading=!1,"9999"==e.ErrorCode?(this.$elementMessage("Cancel the success","success"),this.tableData.splice(t,1),this.$emit("getNum"),this.totalCount--):this.$elementMessage(e.Message,"error")})}),setTimeout(()=>{document.querySelectorAll(".el-message-box__btns .el-button").forEach(e=>{e.blur()})},200)},filterItems(e){switch(e){case"code":this.filterParams.code=this.code.replace(/#/g,"");break;case"name":this.filterParams.codeName=this.codeName.replace(/#/g,"");break;case"date":this.filterDate=[],this.filterParams.dateFrom="",this.filterParams.dateTo="";break;default:this.filterParams.code=this.code.replace(/#/g,""),this.filterParams.codeName=this.codeName.replace(/#/g,"");break}6!=this.timeFilter&&this.resetPage()},clearFilter(e){switch(e){case"code":this.filterParams.code=this.code="";break;case"name":this.filterParams.codeName=this.codeName="";break;case"type":this.filterParams.type="",this.popTypeFilter=!1;break;case"store":this.filterParams.shopifyStore=[],this.popStoreFilter=!1,++this.cascaderKey;break;case"date":this.filterParams.timeFilter="",this.filterDate=[],this.filterParams.dateFrom="",this.filterParams.dateTo="",this.popDateFilter=!1;break;case"fulfill":this.filterParams.fulfillStatus=[],this.popFulfillFilter=!1;break;case"sort":this.filterParams.sortBy="",this.popSortFilter=!1;break;case"status":this.filterParams.status="",this.popStatusFilter=!1;break;default:this.filterParams=JSON.parse(this.filterParamsDefault),this.code=this.codeName="",this.filterDate=[]}this.resetPage()},getItems(){let e=[];this.filterParams.shopifyStore[1]&&e.push(this.filterParams.shopifyStore[1]);let t={type:this.filterParams.type,page:this.page,rowsPerPage:this.rowsPerPage,code:this.filterParams.code,codeNameLike:this.filterParams.codeName,accountIds:e,timeFilter:this.filterParams.timeFilter>=6?"":this.filterParams.timeFilter,dateFrom:this.filterParams.dateFrom,dateTo:this.filterParams.dateTo,sort:this.filterParams.sortBy};"VendorsRespondingOffers"==this.$route.name&&(t.status=2),"WaitingForVendorsRespond"==this.$route.name&&(t.status=1),"ArchivedOffers"==this.$route.name&&(t.status=this.filterParams.status||"39"),this.loading=!0,this.$apiCall("api.OfferList.findByCustomer",t,e=>{this.loading=!1,"9999"==e.ErrorCode?(this.totalPage=e.Data.Pagination.totalPage,this.totalCount=e.Data.Pagination.totalCount,this.tableData=e.Data.Results.length?e.Data.Results.map(e=>e):[]):this.$elementMessage(e.Message,"error")})},dateChange(){this.filterDate.length>1&&(this.filterParams.dateFrom=moment(this.filterDate[0]).unix(),this.filterParams.dateTo=moment(this.filterDate[1]).endOf("d").unix(),this.resetPage())},gotoPage(){this.page=this.$route.query.page?this.$route.query.page:1,this.getItems()},toPage(e){e!=this.$route.query.page&&this.$router.push({query:{page:e}})},resetPage(){1==this.$route.query.page?this.getItems():this.$router.push({query:{page:1}})},changePageSize(e){this.rowsPerPage=e,localStorage.setItem("c_WaitingForVendorsRespondRowsPerPage",e),this.getItems()},onCopy(e){this.$elementMessage("Has been copied to the clipboard","success")},onError(e){this.$elementMessage("Copy to clipboard failed, please copy manually","error")}}},p=c,d=(s("4f9b"),s("1ef7"),s("e607")),f=Object(d["a"])(p,i,a,!1,null,"e63fc218",null);t["default"]=f.exports},c33f:function(e,t,s){"use strict";s("6247")},c93a:function(e,t,s){"use strict";s("e5bf")},e5bf:function(e,t,s){},e74a:function(e,t,s){e.exports=s.p+"img/shopee_icon.c6765767.png"},e98b:function(e,t,s){"use strict";var i=function(){var e=this,t=e._self._c;return t("div",[e.fulfillmentStatus?t("el-tag",{staticClass:"shopfiy-status",attrs:{size:"small",type:e.fulfillArr[e.fulfillmentStatus].type}},[t("span",{staticClass:"-EFlq",class:"bg"+e.fulfillArr[e.fulfillmentStatus].r}),e._v(" "+e._s(e.fulfillArr[e.fulfillmentStatus].text)+" ")]):t("el-tag",{attrs:{size:"small",type:"warning"}},[t("span",{staticClass:"-EFlq bg1"}),e._v(" Unfulfilled ")])],1)},a=[],r={props:["fulfillmentStatus"],data(){return{fulfillArr:{fulfilled:{text:"Fulfilled",type:"info",r:3},unfulfilled:{text:"Unfulfilled",type:"warning",r:1},partial:{text:"Partially Fulfilled",type:"danger",r:2},refunded:{text:"Refunded",type:"info",r:3}}}}},o=r,l=(s("c93a"),s("e607")),n=Object(l["a"])(o,i,a,!1,null,"d93044ba",null);t["a"]=n.exports},f5ce:function(e,t,s){},f8db:function(e,t,s){}}]);
//# sourceMappingURL=MakeOffers2.cea0f329.js.map