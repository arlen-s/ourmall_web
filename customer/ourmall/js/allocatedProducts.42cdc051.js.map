{"version":3,"sources":["webpack:///./src/views/AllocatedProducts.vue?5f18","webpack:///./src/views/AllocatedProducts.vue","webpack:///src/views/AllocatedProducts.vue","webpack:///./src/views/AllocatedProducts.vue?9a3c","webpack:///./src/views/AllocatedProducts.vue?0c39","webpack:///./src/views/AllocatedProducts.vue?facc"],"names":["render","_vm","this","_c","_self","staticClass","ref","_m","staticStyle","attrs","path","_v","checkdeStatus","checkedArr","length","on","$event","openAllocateToVendor","confirmUnAllocate","directives","name","rawName","value","loading","expression","key","cascaderKey","options","expandTrigger","filterGetItem","model","cascaderValue","callback","$$v","nativeOn","type","indexOf","_k","keyCode","apply","arguments","productName","filterParams","relationshipId","$set","_l","vendors","vendor","id","vendorName","clearFilter","accountId","_s","storeName","_e","venderName","padding","changeAllChecked","allChecked","style","height","tableHeight","overflowX","items","item","display","alignItems","checked","img","slot","sku","saleCurrency","ce","symbol","salePrice","purchasePrice","page","pageSizes","rowsPerPage","Number","total","toPage","changePageSize","staticRenderFns","data","label","children","reSizeTime","totalPage","filterParamsDefault","storeList","resizeH","components","DistributionVendorDialog","computed","variableIdArr","watch","$route","mounted","window","beforeDestroy","methods","confirmButtonText","cancelButtonText","unAllocate","params","text","query","getItems","localStorage","gotoPage","getStore","authStatus","r","shopifyAccountId","store","message","getVendors","component"],"mappings":"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mGAGAC,uBACA,8IACAoF,4BACAC,0BACApE,iBACA,UACA,wBAGAqE,gBACA,gBACA,SAEAC,cADA,YACAA,eAEAA,iCAEA,uDACA,qBACA,kBACA,uDAEA,2CAIApD,aACA,SAQA,OAPA,wBACA,yBAEA,OADAqD,WACA,IAIA,GAEAnD,cACA,SAOA,OANA,sBACA,WAEA,OADAmD,gBACA,IAGA,GAEAjD,mBACA,uBACAO,6BAGAd,eACA,UACA,YACA,+BACA,wBACA,iBACA,MACA,WACA,kDACA,MACA,aACA,oCACA,MACA,UACA,uDACA,MAEA,0BACA,gBAEA,mBACAyD,OACA/B,WAKA/C,gBAEA,yBACA,mDAEA,+CACA,0BACA,gBAEA,mBACA8E,OACA/B,WAKAgC,YACA,gBACA,OACAhC,eACAE,6BACA3B,sCACAV,0CACAE,iDAEA,kEACA,gBACA,qBACA,kCACAqB,aACA,IAEA,gDACA,mDACA,gBACA,iEAEA,2CAIAiB,UACA,2BACA,mBACA0B,OACA/B,WAIAM,kBACA,mBACA2B,oDACA,iBAEAC,WACA,0DACA,iBAEAC,WACA,wCAAAC,cAAA,IACA,mBACA,kBACAC,2BACA,qBACAC,sBACAC,qBAGA,qBACAF,0BACA,kBACAjD,iBACAqB,iBACA/D,kBAMA,eAAA8F,kBAAAjF,kBAIAkF,aACA,uDACA,oBACA,4BAEA,8CCjhBgc,I,kCCS5bC,EAAY,eACd,EACAtH,EACAmF,GACA,EACA,KACA,WACA,MAIa,aAAAmC,E,kECpBf","file":"js/allocatedProducts.42cdc051.js","sourcesContent":["export * from \"-!../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/_vue-loader@15.10.1@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../node_modules/_vue-loader@15.10.1@vue-loader/lib/index.js??vue-loader-options!./AllocatedProducts.vue?vue&type=style&index=0&id=03f9947c&prod&lang=scss&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"contentpanel allocate-products-page\"},[_c('div',{ref:\"pageHeader\",staticClass:\"pagetitle\"},[_c('div',{staticClass:\"left\"},[_vm._m(0),_c('el-breadcrumb',{staticStyle:{\"font-size\":\"12px\"},attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',{staticStyle:{\"color\":\"#5c6ac4\"},attrs:{\"to\":{ path: '/vendors' }}},[_vm._v(\"Vendors\")]),_c('el-breadcrumb-item',{staticStyle:{\"color\":\"#C0C4CC\"}},[_vm._v(\"My Allocated Products\")])],1)],1),_c('div',{staticClass:\"right\"},[_c('el-button',{staticStyle:{\"margin-right\":\"10px\"},attrs:{\"type\":\"primary\",\"size\":\"medium\",\"disabled\":!_vm.checkdeStatus.checkedArr.length},on:{\"click\":function($event){return _vm.openAllocateToVendor()}}},[_vm._v(\"Batch Re-allocate\")]),_c('el-button',{attrs:{\"type\":\"danger\",\"size\":\"medium\",\"disabled\":!_vm.checkdeStatus.checkedArr.length},on:{\"click\":function($event){return _vm.confirmUnAllocate('multi')}}},[_vm._v(\"Batch Un-allocate\")])],1)]),_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"pagebody mg-b-20\"},[_c('el-card',[_c('el-row',{attrs:{\"gutter\":20}},[_c('div',{ref:\"pageFilter\",staticClass:\"page-filter\"},[_c('el-form',{attrs:{\"inline\":true,\"size\":\"mini\"}},[_c('el-form-item',[_c('el-cascader',{key:_vm.cascaderKey,attrs:{\"placeholder\":\"All my stores\",\"options\":_vm.options,\"props\":{ expandTrigger: 'hover' }},on:{\"change\":_vm.filterGetItem},model:{value:(_vm.cascaderValue),callback:function ($$v) {_vm.cascaderValue=$$v},expression:\"cascaderValue\"}})],1),_c('el-form-item',[_c('el-input',{attrs:{\"placeholder\":\"Product name\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.filterGetItem.apply(null, arguments)}},model:{value:(_vm.productName),callback:function ($$v) {_vm.productName=$$v},expression:\"productName\"}})],1),_c('el-form-item',[_c('el-select',{attrs:{\"filterable\":\"\",\"placeholder\":\"All my vendors\"},on:{\"change\":_vm.filterGetItem},model:{value:(_vm.filterParams.relationshipId),callback:function ($$v) {_vm.$set(_vm.filterParams, \"relationshipId\", $$v)},expression:\"filterParams.relationshipId\"}},[_c('el-option',{attrs:{\"label\":\"All my vendors\",\"value\":\"\"}}),_vm._l((_vm.vendors),function(vendor){return _c('el-option',{key:vendor.id,attrs:{\"label\":vendor.vendorName,\"value\":vendor.id}})})],2)],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.filterGetItem}},[_vm._v(\"Filter\")]),_c('el-button',{attrs:{\"type\":\"danger\"},on:{\"click\":function($event){return _vm.clearFilter('all')}}},[_vm._v(\"Clear\")])],1)],1),_c('div',{staticStyle:{\"margin-bottom\":\"5px\"}},[(_vm.filterParams.accountId)?_c('el-tag',{staticClass:\"mg-r-5\",attrs:{\"size\":\"small\",\"type\":\"info\",\"closable\":\"\"},on:{\"close\":function($event){return _vm.clearFilter('store')}}},[_vm._v(\" \"+_vm._s(_vm.storeName(_vm.filterParams.accountId))+\" \")]):_vm._e(),(_vm.filterParams.productName)?_c('el-tag',{staticClass:\"mg-r-5\",attrs:{\"size\":\"small\",\"type\":\"info\",\"closable\":\"\"},on:{\"close\":function($event){return _vm.clearFilter('name')}}},[_vm._v(\" \"+_vm._s(_vm.filterParams.productName)+\" \")]):_vm._e(),(_vm.filterParams.relationshipId)?_c('el-tag',{staticClass:\"mg-r-5\",attrs:{\"size\":\"small\",\"type\":\"info\",\"closable\":\"\"},on:{\"close\":function($event){return _vm.clearFilter('vendor')}}},[_vm._v(\" \"+_vm._s(_vm.venderName(_vm.filterParams.relationshipId))+\" \")]):_vm._e()],1),_c('el-row',{staticStyle:{\"margin-bottom\":\"5px\"},attrs:{\"gutter\":10}},[_c('el-col',{staticStyle:{\"padding-right\":\"25px\"},attrs:{\"span\":24}},[_c('el-card',{staticClass:\"table-header\",attrs:{\"shadow\":'never',\"body-style\":{ padding: '0 20px' }}},[_c('el-col',{attrs:{\"span\":10}},[_c('div',{staticClass:\"d-flex\"},[_c('el-checkbox',{staticStyle:{\"margin-right\":\"10px\",\"margin-bottom\":\"0\"},on:{\"change\":_vm.changeAllChecked},model:{value:(_vm.allChecked),callback:function ($$v) {_vm.allChecked=$$v},expression:\"allChecked\"}}),_c('div',{staticClass:\"title\"},[_vm._v(\"My Product\")])],1)]),_c('el-col',{attrs:{\"span\":6}},[_c('div',{staticClass:\"title\"},[_vm._v(\"My store\")])]),_c('el-col',{attrs:{\"span\":6}},[_c('div',{staticClass:\"title\"},[_vm._v(\"Vendor\")])]),_c('el-col',{attrs:{\"span\":2}})],1)],1)],1)],1)]),_c('el-row',{ref:\"gridTable\",staticStyle:{\"padding-top\":\"15px\",\"overflow-y\":\"auto\"},style:([{height: `${_vm.tableHeight}px`}, {overflowX: 'hidden'}]),attrs:{\"gutter\":10}},[(!_vm.items.length)?_c('el-col',[_c('p',{staticStyle:{\"margin-top\":\"25px\",\"font-size\":\"16px\",\"color\":\"#909399\",\"text-align\":\"center\"}},[_vm._v(\"No product\")])]):_vm._e(),_vm._l((_vm.items),function(item){return _c('el-row',{key:item.id,attrs:{\"gutter\":10}},[_c('el-col',{staticStyle:{\"padding-right\":\"25px\"},attrs:{\"span\":24}},[_c('el-card',{staticClass:\"table-body-card\",attrs:{\"body-style\":[{display: 'flex'},{padding: '10px 20px'},{alignItems: 'center'}]}},[_c('el-col',{attrs:{\"span\":10}},[_c('div',{staticClass:\"product-box\"},[_c('el-checkbox',{model:{value:(item.checked),callback:function ($$v) {_vm.$set(item, \"checked\", $$v)},expression:\"item.checked\"}}),_c('el-image',{staticStyle:{\"min-width\":\"120px\",\"width\":\"120px\",\"height\":\"120px\"},attrs:{\"fit\":'contain',\"src\":item.img,\"preview-src-list\":[item.img]}},[_c('div',{staticClass:\"image-slot\",attrs:{\"slot\":\"error\"},slot:\"error\"},[_c('i',{staticClass:\"el-icon-picture-outline\"})])]),_c('div',{staticClass:\"info\"},[_c('div',{staticClass:\"name tx-ellipsis3\"},[_vm._v(_vm._s(item.productName))]),_c('div',{staticClass:\"row1\"},[_c('span',{staticStyle:{\"color\":\"#909399\"}},[_vm._v(\"SKU:\")]),_vm._v(\" \"+_vm._s(item.sku)+\" \")])])],1)]),_c('el-col',{attrs:{\"span\":6}},[_c('div',{staticClass:\"info-wrap\"},[_c('div',{staticClass:\"row1\"},[_vm._v(_vm._s(item.storeName))]),_c('div',{staticClass:\"row1\"},[_c('span',{staticStyle:{\"color\":\"#909399\"}},[_vm._v(\"Sale price: \")]),(item.saleCurrency)?_c('span',[_vm._v(_vm._s(_vm.ce[item.saleCurrency] ? _vm.ce[item.saleCurrency].symbol : item.saleCurrency)+\" \")]):_vm._e(),_vm._v(\" \"+_vm._s(item.salePrice)+\" \")])])]),_c('el-col',{attrs:{\"span\":6}},[_c('div',{staticClass:\"info-wrap\"},[_c('div',{staticClass:\"row1\"},[_vm._v(_vm._s(item.vendorName))]),_c('div',{staticClass:\"row1\"},[_c('span',{staticStyle:{\"color\":\"#909399\"}},[_vm._v(\"Puchase price: \")]),_c('span',[_vm._v(\"$ \")]),_vm._v(\" \"+_vm._s(item.purchasePrice)+\" \")])])]),_c('el-col',{attrs:{\"span\":2}},[_c('div',{staticClass:\"info-wrap\"},[_c('div',{staticClass:\"row1 mg-b-10\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.openAllocateToVendor(item)}}},[_vm._v(\"Re-allocate\")])],1),_c('div',{staticClass:\"row1\"},[_c('el-button',{attrs:{\"type\":\"danger\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.confirmUnAllocate('single', item)}}},[_vm._v(\"Un-allocate\")])],1)])])],1)],1)],1)})],2)],1)],1),(_vm.items.length)?_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{staticClass:\"d-flex justify-content-center\",attrs:{\"span\":24}},[_c('div',[_c('el-pagination',{attrs:{\"current-page\":_vm.page,\"background\":true,\"layout\":\"sizes, total, prev, pager, next, jumper\",\"page-sizes\":_vm.pageSizes,\"page-size\":_vm.rowsPerPage,\"total\":Number(_vm.total)},on:{\"current-change\":_vm.toPage,\"size-change\":_vm.changePageSize}})],1)])],1):_vm._e(),_c('DistributionVendorDialog',{ref:\"DistributionVendorDialog\",attrs:{\"type\":'products'},on:{\"resetPage\":_vm.filterGetItem}})],1)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"title\",staticStyle:{\"margin-bottom\":\"10px\"}},[_c('i',{staticClass:\"el-icon-shopping-bag-1\"}),_c('h2',[_vm._v(\"My Allocated Products\")])])\n}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"contentpanel allocate-products-page\">\r\n    <div\r\n      class=\"pagetitle\"\r\n      ref=\"pageHeader\"\r\n    >\r\n      <div class=\"left\">\r\n        <div class=\"title\" style=\"margin-bottom: 10px;\">\r\n          <i class=\"el-icon-shopping-bag-1\"></i>\r\n          <h2>My Allocated Products</h2>\r\n        </div>\r\n        <el-breadcrumb separator-class=\"el-icon-arrow-right\" style=\" font-size: 12px\">\r\n          <el-breadcrumb-item :to=\"{ path: '/vendors' }\" style=\"color: #5c6ac4;\">Vendors</el-breadcrumb-item>\r\n          <el-breadcrumb-item style=\"color: #C0C4CC;\">My Allocated Products</el-breadcrumb-item>\r\n        </el-breadcrumb>\r\n      </div>\r\n      <div class=\"right\">\r\n        <el-button type=\"primary\" size=\"medium\" :disabled=\"!checkdeStatus.checkedArr.length\"\r\n          style=\" margin-right: 10px;\" @click=\"openAllocateToVendor()\"\r\n        >Batch Re-allocate</el-button>\r\n        <el-button type=\"danger\" size=\"medium\" \r\n          :disabled=\"!checkdeStatus.checkedArr.length\"\r\n          @click=\"confirmUnAllocate('multi')\"\r\n        >Batch Un-allocate</el-button>\r\n        \r\n      </div>\r\n    </div>\r\n    <div\r\n      v-loading=\"loading\"\r\n      class=\"pagebody mg-b-20\"\r\n    >\r\n      <el-card>\r\n        <el-row :gutter=\"20\">\r\n          <div\r\n            ref=\"pageFilter\"\r\n            class=\"page-filter\"\r\n          >\r\n            <el-form\r\n              :inline=\"true\"\r\n              size=\"mini\"\r\n            >\r\n              <el-form-item>\r\n                <!-- <el-select v-model=\"filterParams.accountId\"  filterable placeholder=\"All my stores\"\r\n                  @change=\"filterGetItem\"\r\n                >\r\n                  <el-option  label=\"All my stores\" value=\"\"></el-option>\r\n                  <el-option\r\n                    v-for=\"store in storeList\"\r\n                    :key=\"store.shopifyAccountId\"\r\n                    :label=\"store.store\"\r\n                    :value=\"store.shopifyAccountId\"\r\n                  ></el-option>\r\n                </el-select>   -->\r\n                 <el-cascader\r\n                 :key=\"cascaderKey\"\r\n                  v-model=\"cascaderValue\"\r\n                  placeholder=\"All my stores\"\r\n                  :options=\"options\"\r\n                  :props=\"{ expandTrigger: 'hover' }\"\r\n                  @change=\"filterGetItem\"\r\n                  >\r\n                  </el-cascader>\r\n              </el-form-item>\r\n              <el-form-item>\r\n                <el-input v-model=\"productName\" placeholder=\"Product name\"\r\n                  @keyup.native.enter=\"filterGetItem\"\r\n                ></el-input>\r\n              </el-form-item>\r\n              <el-form-item>\r\n                <el-select v-model=\"filterParams.relationshipId\"  filterable placeholder=\"All my vendors\"\r\n                  @change=\"filterGetItem\"\r\n                >\r\n                  <el-option label=\"All my vendors\" value=\"\"></el-option>\r\n                  <el-option\r\n                    v-for=\"vendor in vendors\"\r\n                    :key=\"vendor.id\"\r\n                    :label=\"vendor.vendorName\"\r\n                    :value=\"vendor.id\"\r\n                  ></el-option>\r\n                </el-select>  \r\n              </el-form-item>\r\n              <el-form-item>\r\n                <el-button\r\n                  type=\"primary\"\r\n                  @click=\"filterGetItem\"\r\n                >Filter</el-button>\r\n                <el-button\r\n                  type=\"danger\"\r\n                  @click=\"clearFilter('all')\"\r\n                >Clear</el-button>\r\n              </el-form-item>\r\n            </el-form>\r\n            <div style=\" margin-bottom: 5px;\">\r\n              <el-tag v-if=\"filterParams.accountId\" size=\"small\" type=\"info\" closable @close=\"clearFilter('store')\" class=\"mg-r-5\">\r\n                {{storeName(filterParams.accountId)}}\r\n              </el-tag>\r\n              <el-tag v-if=\"filterParams.productName\" size=\"small\" type=\"info\" closable @close=\"clearFilter('name')\" class=\"mg-r-5\">\r\n                {{filterParams.productName}}\r\n              </el-tag>\r\n              <el-tag v-if=\"filterParams.relationshipId\" size=\"small\" type=\"info\" closable @close=\"clearFilter('vendor')\" class=\"mg-r-5\">\r\n                {{venderName(filterParams.relationshipId)}}\r\n              </el-tag>\r\n            </div>\r\n            <el-row :gutter=\"10\" style=\"margin-bottom: 5px\">\r\n              <el-col :span=\"24\" style=\"padding-right: 25px;\">\r\n                <el-card :shadow=\"'never'\" :body-style=\"{ padding: '0 20px' }\" class=\"table-header\">\r\n                  <el-col :span=\"10\">\r\n                    <div class=\" d-flex\">\r\n                      <el-checkbox style=\"margin-right: 10px; margin-bottom: 0\"\r\n                        v-model=\"allChecked\"\r\n                        @change=\"changeAllChecked\"\r\n                      ></el-checkbox>\r\n                      <div class=\"title\">My Product</div>\r\n                    </div>\r\n                  </el-col>\r\n                  <el-col :span=\"6\">\r\n                    <div class=\" title\">My store</div>\r\n                  </el-col>\r\n                  <el-col :span=\"6\">\r\n                    <div class=\" title\">Vendor</div>\r\n                  </el-col>\r\n                  <el-col :span=\"2\">\r\n                  </el-col>\r\n                </el-card>\r\n              </el-col>\r\n            </el-row>\r\n          </div>\r\n        </el-row>       \r\n        <el-row\r\n          ref=\"gridTable\"\r\n          :gutter=\"10\"\r\n          style=\" padding-top: 15px; overflow-y: auto;\"\r\n          :style=\"[{height: `${tableHeight}px`}, {overflowX: 'hidden'}]\"\r\n        >\r\n          <el-col v-if=\"!items.length\">\r\n            <p style=\"margin-top: 25px; font-size: 16px; color: #909399; text-align: center;\">No product</p>\r\n          </el-col>\r\n          <!-- 横列表 -->       \r\n          <el-row :gutter=\"10\" v-for=\"item in items\" :key=\"item.id\">\r\n            <el-col :span=\"24\" style=\"padding-right: 25px;\">\r\n              <el-card :body-style=\"[{display: 'flex'},{padding: '10px 20px'},{alignItems: 'center'}]\"  class=\"table-body-card\">\r\n                <el-col :span=\"10\">\r\n                  <div class=\"product-box\">\r\n                    <el-checkbox v-model=\"item.checked\"></el-checkbox>\r\n                    <el-image\r\n                      style=\"min-width: 120px; width: 120px; height: 120px;\"\r\n                      :fit=\"'contain'\"\r\n                      :src=\"item.img\"\r\n                      :preview-src-list=\"[item.img]\"\r\n                    >\r\n                      <div slot=\"error\" class=\"image-slot\">\r\n                        <i class=\"el-icon-picture-outline\"></i>\r\n                      </div>\r\n                    </el-image>\r\n                    <div class=\"info\">\r\n                      <div class=\"name tx-ellipsis3\">{{item.productName}}</div>\r\n                      <div class=\"row1\">\r\n                        <span style=\"color: #909399\">SKU:</span>\r\n                        {{item.sku}}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </el-col>\r\n                <el-col :span=\"6\">\r\n                  <div class=\"info-wrap\">\r\n                    <div class=\"row1\">{{item.storeName}}</div>\r\n                    <div class=\"row1\">\r\n                      <span style=\"color: #909399\">Sale price: </span>\r\n                      <span v-if=\"item.saleCurrency\">{{ ce[item.saleCurrency] ? ce[item.saleCurrency].symbol : item.saleCurrency}} </span>\r\n                      {{item.salePrice}}\r\n                    </div>\r\n                  </div>\r\n                </el-col>\r\n                <el-col :span=\"6\">\r\n                  <div class=\"info-wrap\">\r\n                    <div class=\"row1\">{{item.vendorName}}</div>\r\n                    <div class=\"row1\">\r\n                      <span style=\"color: #909399\">Puchase price: </span>\r\n                      <span>$ </span>\r\n                      {{item.purchasePrice}}\r\n                    </div>\r\n                  </div>\r\n                </el-col>\r\n                <el-col :span=\"2\">\r\n                  <div class=\"info-wrap\">\r\n                    <div class=\"row1 mg-b-10\">\r\n                      <el-button type=\"primary\" size=\"small\" @click=\"openAllocateToVendor(item)\">Re-allocate</el-button>\r\n                    </div>\r\n                    <div class=\"row1\">\r\n                      <el-button type=\"danger\" size=\"small\" @click=\"confirmUnAllocate('single', item)\">Un-allocate</el-button>                   \r\n                    </div>\r\n                  </div>\r\n                </el-col>\r\n              </el-card>\r\n            </el-col>\r\n          </el-row>\r\n        <!-- \r\n          <el-col\r\n            v-for=\"item in items\"\r\n            :key=\"item.id\"\r\n            :sm=\"12\"\r\n            :md=\"8\"\r\n            :lg=\"6\"\r\n            :xl=\"4\"\r\n            style=\" margin-bottom: 20px;\"\r\n          >\r\n            <div class=\"product-box\">\r\n              <div style=\"position: relative; padding-bottom: 100%; margin-bottom: 15px;\">\r\n                <el-image\r\n                  lazy\r\n                  style=\"position: absolute; width: 100%; height: 100%;\"\r\n                  :fit=\"'contain'\"\r\n                  :src=\"item.propertyImage\"\r\n                  :preview-src-list=\"[item.propertyImage]\"\r\n                >\r\n                </el-image>\r\n              </div>\r\n              <div class=\"info\">\r\n                <div class=\"p-name tx-ellipsis2\">{{item.name}}</div>\r\n                <div></div>\r\n\r\n              </div>\r\n            </div>\r\n          </el-col> -->\r\n        </el-row>\r\n      </el-card>  \r\n    </div>\r\n    <el-row\r\n      v-if=\"items.length\"\r\n      :gutter=\"20\"\r\n    >\r\n      <el-col\r\n        :span=\"24\"\r\n        class=\" d-flex justify-content-center\"\r\n      >\r\n        <div>\r\n          <el-pagination\r\n            :current-page=\"page\"\r\n            :background=\"true\"\r\n            layout=\"sizes, total, prev, pager, next, jumper\"\r\n            :page-sizes=\"pageSizes\"\r\n            :page-size=\"rowsPerPage\"\r\n            :total=\"Number(total)\"\r\n            @current-change=\"toPage\"\r\n            @size-change=\"changePageSize\"\r\n          >\r\n          </el-pagination>\r\n        </div>\r\n      </el-col>\r\n    </el-row>\r\n    <DistributionVendorDialog\r\n      ref=\"DistributionVendorDialog\"\r\n      :type=\"'products'\"\r\n      @resetPage=\"filterGetItem\"\r\n    />\r\n  </div>  \r\n</template>\r\n\r\n<script>\r\nimport DistributionVendorDialog from \"@/components/DistributionVendorDialog\";\r\nimport { set } from 'xe-utils/methods';\r\nexport default {\r\n  data(){\r\n    return {\r\n// 1 shopify\r\n// 2 woocommerce\r\n// 3 lazada\r\n// 4 shopee\r\n      cascaderKey:1,\r\n      cascaderValue:'',\r\n      options:[{\r\n        id:1,\r\n        label:'Shopify',\r\n        children:[]\r\n      },\r\n      {\r\n        id:2,\r\n        label:'Woocommerce',\r\n        children:[]\r\n      },\r\n      {\r\n        id:3,\r\n        label:'Lazada',\r\n        children:[]\r\n      },\r\n      {\r\n        id:4,\r\n        label:'Shopee',\r\n        children:[]\r\n      }],\r\n      loading: false,\r\n      tableHeight: 400,\r\n      reSizeTime: 0,\r\n      page: this.$route.query.page ? Number(this.$route.query.page) : 1,\r\n      rowsPerPage: localStorage.getItem(\"c_allocateProductsPerPage\")\r\n        ? Number(localStorage.getItem(\"c_allocateProductsPerPage\"))\r\n        : 10,\r\n      total: 0,\r\n      totalPage: 0,\r\n      pageSizes: [10, 20, 50],\r\n      items: [],\r\n      productName: \"\",\r\n      filterParams: {\r\n        accountId: \"\",\r\n        productName: \"\",\r\n        relationshipId: \"\"\r\n      },\r\n      filterParamsDefault: \"{}\",\r\n      ce: this.$CE, //货币符号\r\n      allChecked: false,\r\n      storeList: [],\r\n      vendors: [],\r\n      resizeH: ()=>{this.$getTableHeight(this)},\r\n    }\r\n  },\r\n  components: {\r\n    DistributionVendorDialog,\r\n  },\r\n  computed:{\r\n    checkdeStatus(){\r\n      let [checkedArr,variableIdArr] = [[], []] \r\n      this.items.forEach(item => {\r\n        if(item.checked){\r\n          checkedArr.push(item)\r\n          variableIdArr.push(item.variableId)\r\n        }\r\n      })\r\n      return {\r\n        checkedArr,\r\n        allChecked: this.items.length && this.items.length == checkedArr.length,\r\n        variableIdArr,\r\n      }\r\n    },\r\n  },\r\n  watch:{\r\n    $route: \"gotoPage\",\r\n    'checkdeStatus.allChecked'(){\r\n      this.allChecked = this.checkdeStatus.allChecked\r\n    }\r\n  },\r\n  mounted(){\r\n    this.filterParamsDefault = JSON.stringify(this.filterParams);\r\n    this.filterParams.relationshipId = this.$route.params.vendorId;\r\n    this.getStore();\r\n    this.getVendors();\r\n    this.getItems();\r\n    this.$nextTick(()=>{\r\n      this.resizeH();\r\n      window.addEventListener(\"resize\", this.resizeH, false);\r\n    })\r\n  },\r\n  beforeDestroy(){\r\n    window.removeEventListener(\"resize\", this.resizeH)\r\n  },\r\n  methods: {\r\n    openAllocateToVendor(item){\r\n      if(item){\r\n        this.$refs.DistributionVendorDialog.openDistributionDialog([item])\r\n      }else{\r\n        this.$refs.DistributionVendorDialog.openDistributionDialog(this.checkdeStatus.checkedArr.slice())\r\n      }\r\n    },\r\n    confirmUnAllocate(type, item){\r\n      this.$confirm(type == 'single' ?  'Un-allocate selected products?': `Un-allocate selected (${this.checkdeStatus.variableIdArr.length}) products? `, '', {\r\n        confirmButtonText: 'Confirm',\r\n        cancelButtonText: 'Cancel',\r\n        type: 'warning'\r\n      }).then(()=>{\r\n        this.unAllocate(type, item)\r\n      });\r\n    },\r\n    unAllocate(type, item){//取消分配\r\n      this.loading = true;\r\n      let params = {};\r\n      if(type == 'single'){\r\n        params.variableIds = [item.variableId]\r\n      }else{\r\n        params.variableIds = this.checkdeStatus.variableIdArr\r\n      }\r\n      this.$apiCall(\"api.DispatchOrderRule.unAllocate\", params, r => {\r\n        if (r.ErrorCode == \"9999\") {\r\n          this.getItems(true);\r\n          this.$elementMessage('UN-allocate Success', \"success\");\r\n        }else{\r\n          this.$elementMessage(r.Message, \"error\");\r\n        }\r\n      })\r\n    },\r\n    storeName(val){\r\n      let text = '';\r\n      this.storeList.some(e => {\r\n        if(e.shopifyAccountId == val){\r\n          text = e.store\r\n          return true \r\n        }\r\n          \r\n      })\r\n      return text;\r\n    },\r\n    venderName(val){\r\n      let text = '';\r\n      this.vendors.some(e => {\r\n        if(e.id == val){\r\n          text = e.vendorName;\r\n          return true \r\n        }\r\n      })\r\n      return text; \r\n    },\r\n    changeAllChecked(){\r\n      this.items.forEach(item => {\r\n        item.checked = this.allChecked;\r\n      })\r\n    },\r\n    clearFilter(type){\r\n      switch(type){\r\n        case 'store':\r\n          this.filterParams.accountId = \"\";\r\n          this.cascaderValue = \"\";\r\n          ++this.cascaderKey;\r\n        break;\r\n        case 'name':\r\n          this.productName = this.filterParams.productName = \"\";\r\n        break;\r\n        case 'vendor':\r\n          this.filterParams.relationshipId = \"\";\r\n        break;\r\n        case 'all':\r\n          this.filterParams = JSON.parse(this.filterParamsDefault)\r\n        break;\r\n      }\r\n      if (this.$route.query.page == 1) {\r\n        this.getItems();\r\n      } else {\r\n        this.$router.push({\r\n          query: {\r\n            page: 1,\r\n          },\r\n        });\r\n      }\r\n    },\r\n    filterGetItem(){\r\n      //筛选\r\n      if(this.cascaderValue != \"\"){\r\n        this.filterParams.accountId = this.cascaderValue[1];\r\n      }\r\n      this.filterParams.productName = this.productName;\r\n      if (this.$route.query.page == 1) {\r\n        this.getItems();\r\n      } else {\r\n        this.$router.push({\r\n          query: {\r\n            page: 1,\r\n          },\r\n        });\r\n      }\r\n    },\r\n    getItems(s){\r\n      this.loading = true;\r\n      let params = {\r\n        page: this.page,\r\n        rowsPerPage: this.rowsPerPage,\r\n        accountId: this.filterParams.accountId,\r\n        productName: this.filterParams.productName,\r\n        relationshipId: this.filterParams.relationshipId,\r\n      }\r\n      this.$apiCall(\"api.DispatchOrderRule.findAllocatedProducts\", params, r => {\r\n        this.loading = false;\r\n        if (r.ErrorCode == \"9999\") {\r\n          this.items = r.Data.Results.map(item => {\r\n            item.checked = false;\r\n            return item\r\n          });\r\n          this.total = Number(r.Data.Pagination.totalCount);\r\n          this.totalPage = Number(r.Data.Pagination.totalPage);\r\n          this.resizeH();\r\n          if (!s && this.$refs.gridTable) this.$refs.gridTable.$el.scrollTop = 0;\r\n        }else{\r\n          this.$elementMessage(r.Message, \"error\");\r\n        }\r\n      });\r\n    },\r\n    toPage(val) {\r\n      if (val != this.$route.query.page)\r\n        this.$router.push({\r\n          query: {\r\n            page: val,\r\n          },\r\n        });\r\n    },\r\n    changePageSize(val) {\r\n      this.rowsPerPage = val;\r\n      localStorage.setItem(\"c_allocateProductsPerPage\", val);\r\n      this.getItems();\r\n    },\r\n    gotoPage() {\r\n      this.page = this.$route.query.page ? this.$route.query.page : 1;\r\n      this.getItems();\r\n    },\r\n    getStore() {\r\n      this.$apiCall(\"api.Invoice.findStores\", { authStatus: 1 }, (r) => {\r\n        if (r.ErrorCode == 9999) {\r\n          this.storeList = [];\r\n          r.Data.Results.forEach((e) => {\r\n            this.storeList.push({\r\n              shopifyAccountId: e.id,\r\n              store: e.shopName,\r\n            });\r\n          });\r\n          this.options.map((item) => {\r\n            r.Data.Results.filter((a) => {\r\n              if(a.platform == item.id){\r\n                item.children.push({\r\n                  label: a.shopName,\r\n                  value: a.id,\r\n                })\r\n              };\r\n            });\r\n          });\r\n        } else {\r\n          this.$message({ message: r.Message, type: \"error\" });\r\n        }\r\n      });\r\n    },\r\n    getVendors(){\r\n      this.$apiCall('api.Relationship.findByCustomer', {}, r => {\r\n        if (r.ErrorCode == \"9999\") {\r\n          this.vendors = r.Data.Results;\r\n        }else{\r\n          this.$elementMessage(r.Message, \"error\");\r\n        }\r\n      });\r\n    },\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\">\r\n.allocate-products-page{\r\n  .el-breadcrumb__inner.is-link{\r\n    color: #5c6ac4;\r\n  }\r\n  .image-slot{\r\n    border: 1px #EBEEF5 solid;\r\n    i{\r\n      color: #C0C4CC;\r\n      font-size: 32px;\r\n      margin-left: 0;\r\n      margin-top: 0;\r\n      transform: translate(-50%, -50%);\r\n    }\r\n  }\r\n}\r\n</style>\r\n<style lang=\"scss\" scoped>\r\n.el-card.table-header{\r\n  border-color: transparent;\r\n  background-color: transparent;\r\n}\r\n.table-body-card{\r\n  margin-bottom: 15px;\r\n  font-size: 13px;\r\n}\r\n.product-box{\r\n  display: flex;\r\n  align-items: center;\r\n  .el-checkbox{\r\n    margin: 0 10px 0 0;\r\n  }\r\n  .el-image{\r\n    margin-right: 20px;\r\n    border: 1px #E4E7ED solid;\r\n  }\r\n  .info{\r\n    height: 120px;\r\n    .name{\r\n      margin-bottom: 15px;\r\n      max-height: 72px;\r\n      line-height: 24px;\r\n    }\r\n  }\r\n}\r\n.info-wrap{\r\n  display: flex;\r\n  flex-direction: column;\r\n  .row1{\r\n    margin-bottom: 15px;\r\n  }\r\n}\r\n</style>","import mod from \"-!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--13-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.3.0@babel-loader/lib/index.js!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../node_modules/_vue-loader@15.10.1@vue-loader/lib/index.js??vue-loader-options!./AllocatedProducts.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--13-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.3.0@babel-loader/lib/index.js!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../node_modules/_vue-loader@15.10.1@vue-loader/lib/index.js??vue-loader-options!./AllocatedProducts.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AllocatedProducts.vue?vue&type=template&id=03f9947c&scoped=true&\"\nimport script from \"./AllocatedProducts.vue?vue&type=script&lang=js&\"\nexport * from \"./AllocatedProducts.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AllocatedProducts.vue?vue&type=style&index=0&id=03f9947c&prod&lang=scss&\"\nimport style1 from \"./AllocatedProducts.vue?vue&type=style&index=1&id=03f9947c&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.10.1@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"03f9947c\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/_vue-loader@15.10.1@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../node_modules/_vue-loader@15.10.1@vue-loader/lib/index.js??vue-loader-options!./AllocatedProducts.vue?vue&type=style&index=1&id=03f9947c&prod&lang=scss&scoped=true&\""],"sourceRoot":""}