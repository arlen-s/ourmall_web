{"version":3,"sources":["webpack:///./src/components/productQuotation.vue?7500","webpack:///./src/views/more.vue?5aa1","webpack:///src/views/more.vue","webpack:///./src/views/more.vue?43bb","webpack:///./src/views/more.vue","webpack:///./src/views/more.vue?a3d0","webpack:///./src/components/productQuotation.vue?6311","webpack:///src/components/productQuotation.vue","webpack:///./src/components/productQuotation.vue?1549","webpack:///./src/components/productQuotation.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","directives","name","rawName","value","expression","staticClass","ref","staticStyle","_v","_s","$root","$children","pName","a","$t","attrs","nativeOn","$event","type","indexOf","_k","keyCode","key","search","model","callback","$$v","input","on","slot","categoryId","_l","item","id","quotation","path","content","_e","items","length","imgUrl","goToDetail","$store","state","country","symbol","$exchangeRate","cost","hasImport","import_pro","Number","page","pageSizes","rowsPerPage","total","toPage","changePageSize","style","top","ball","left","opacity","visible","staticRenderFns","props","data","commodityTypeMoreList","$route","query","localStorage","getItem","totalPage","loading","allLoading","x","window","innerWidth","y","innerHeight","mounted","getCategory","watch","components","methods","$router","push","moreName","$apiCall","r","ErrorCode","getItems","forEach","val","setItem","gotoPage","computed","product","text","component","openCardDialog","closeDialog","openForm","form","uploadOpen","$set","saveQuotation","submit","closeQuotation","Base64","Boolean","default","details","price","undefined","remark","imgView","outerVisible","innerVisible","isForm","dialogVisible","imgList","detailsList","priceList","remarkList","get","set","$emit","setTimeout","document","getElementById","click","el","target","reader","onload","img","src","e","result","ext","extArr","base64Image","file","readAsDataURL","files","uploadImgBase64","$message","error","products","detail","i","expectPrice","remarks"],"mappings":"iIAAA,Y,2CCAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,MAAM,CAACE,WAAW,CAAC,CAACC,KAAK,UAAUC,QAAQ,YAAYC,MAAOT,EAAc,WAAEU,WAAW,eAAeC,YAAY,oBAAoB,CAACP,EAAG,MAAM,CAACQ,IAAI,aAAaD,YAAY,YAAYE,YAAY,CAAC,gBAAgB,IAAI,YAAY,SAAS,CAACT,EAAG,MAAM,CAACO,YAAY,QAAQ,CAACP,EAAG,MAAM,CAACO,YAAY,SAAS,CAACP,EAAG,IAAI,CAACO,YAAY,oBAAoBP,EAAG,KAAK,CAACJ,EAAIc,GAAGd,EAAIe,GAAGf,EAAIgB,MAAMC,UAAU,GAAGC,MAAMC,GAAG,IAAInB,EAAIe,GAAGf,EAAIoB,GAAG,2BAA2BhB,EAAG,SAAS,CAACS,YAAY,CAAC,eAAe,QAAQQ,MAAM,CAAC,OAAS,KAAK,CAACjB,EAAG,SAAS,CAACiB,MAAM,CAAC,KAAO,KAAK,CAACjB,EAAG,MAAM,CAACS,YAAY,CAAC,aAAa,QAAQ,CAACT,EAAG,WAAW,CAACO,YAAY,oBAAoBE,YAAY,CAAC,YAAY,SAASQ,MAAM,CAAC,YAAc,mBAAmBC,SAAS,CAAC,MAAQ,SAASC,GAAQ,OAAIA,EAAOC,KAAKC,QAAQ,QAAQzB,EAAI0B,GAAGH,EAAOI,QAAQ,QAAQ,GAAGJ,EAAOK,IAAI,SAAkB,KAAc5B,EAAI6B,OAAON,KAAUO,MAAM,CAACrB,MAAOT,EAAS,MAAE+B,SAAS,SAAUC,GAAMhC,EAAIiC,MAAMD,GAAKtB,WAAW,UAAU,CAACN,EAAG,YAAY,CAACiB,MAAM,CAAC,KAAO,SAAS,YAAc,qBAAqBa,GAAG,CAAC,OAASlC,EAAI6B,QAAQM,KAAK,SAASL,MAAM,CAACrB,MAAOT,EAAc,WAAE+B,SAAS,SAAUC,GAAMhC,EAAIoC,WAAWJ,GAAKtB,WAAW,eAAe,CAACN,EAAG,YAAY,CAACiB,MAAM,CAAC,MAAQ,oBAAoB,MAAQ,MAAMrB,EAAIqC,GAAIrC,EAAyB,uBAAE,SAASsC,GAAM,OAAOlC,EAAG,YAAY,CAACwB,IAAIU,EAAKC,GAAGlB,MAAM,CAAC,MAAQiB,EAAK/B,KAAK,MAAQ+B,EAAKC,UAAS,GAAGnC,EAAG,YAAY,CAACiB,MAAM,CAAC,KAAO,UAAU,KAAO,kBAAkBc,KAAK,aAAa,IAAI,KAAK/B,EAAG,SAAS,CAACiB,MAAM,CAAC,KAAO,IAAI,CAACjB,EAAG,YAAY,CAACS,YAAY,CAAC,aAAa,OAAOQ,MAAM,CAAC,KAAO,WAAWa,GAAG,CAAC,MAAQ,SAASX,GAAQ,OAAOvB,EAAI6B,YAAY,CAAC7B,EAAIc,GAAGd,EAAIe,GAAGf,EAAIoB,GAAG,eAAe,IAAI,GAAGhB,EAAG,MAAM,CAACO,YAAY,SAAS,CAACP,EAAG,YAAY,CAACiB,MAAM,CAAC,KAAO,UAAU,KAAO,SAASa,GAAG,CAAC,MAAQ,SAASX,GAAQ,OAAOvB,EAAIwC,eAAe,CAACpC,EAAG,IAAI,CAACO,YAAY,iBAAiBX,EAAIc,GAAG,IAAId,EAAIe,GAAGf,EAAIoB,GAAG,sBAAsB,QAAQ,IAAI,GAAGhB,EAAG,MAAM,CAACO,YAAY,YAAYE,YAAY,CAAC,OAAS,SAAS,CAACT,EAAG,gBAAgB,CAACiB,MAAM,CAAC,kBAAkB,wBAAwB,CAACjB,EAAG,qBAAqB,CAACiB,MAAM,CAAC,GAAK,CAAEoB,KAAM,oBAAqB,CAACzC,EAAIc,GAAGd,EAAIe,GAAGf,EAAIgB,MAAMC,UAAU,GAAGC,MAAMC,GAAG,IAAInB,EAAIe,GAAGf,EAAIoB,GAAG,uBAAwBnB,KAAY,QAAEG,EAAG,qBAAqB,CAACA,EAAG,OAAO,CAACJ,EAAIc,GAAGd,EAAIe,GAAGf,EAAIoB,GAAG,aAAa,KAAKhB,EAAG,IAAI,CAACJ,EAAIc,GAAGd,EAAIe,GAAGd,KAAKyC,YAAY1C,EAAIc,GAAG,IAAId,EAAIe,GAAGf,EAAIoB,GAAG,eAAgBnB,KAAKyC,SAAWzC,KAAKmC,WAAYhC,EAAG,OAAO,CAACJ,EAAIc,GAAG,OAAOd,EAAIe,GAAGd,KAAKmC,eAAepC,EAAI2C,OAAS1C,KAAKmC,YAAenC,KAAKyC,QAAwFtC,EAAG,qBAAqB,CAACJ,EAAIc,GAAG,IAAId,EAAIe,GAAGd,KAAKmC,YAAY,OAA3IhC,EAAG,qBAAqB,CAACJ,EAAIc,GAAG,IAAId,EAAIe,GAAGf,EAAIoB,GAAG,sBAAsB,QAA2E,IAAI,GAAIpB,EAAI4C,OAA6B,GAApB5C,EAAI4C,MAAMC,OAAazC,EAAG,MAAM,CAACS,YAAY,CAAC,MAAQ,SAAS,CAACT,EAAG,UAAU,CAACA,EAAG,IAAI,CAACJ,EAAIc,GAAGd,EAAIe,GAAGf,EAAIoB,GAAG,iDAAiD,GAAGhB,EAAG,UAAU,CAACE,WAAW,CAAC,CAACC,KAAK,UAAUC,QAAQ,YAAYC,MAAOT,EAAW,QAAEU,WAAW,YAAYW,MAAM,CAAC,aAAa,2BAA2B,CAACjB,EAAG,MAAM,CAACO,YAAY,QAAQX,EAAIqC,GAAIrC,EAAS,OAAE,SAASsC,GAAM,OAAOlC,EAAG,SAAS,CAACwB,IAAIU,EAAKC,GAAG1B,YAAY,CAAC,gBAAgB,QAAQQ,MAAM,CAAC,GAAK,GAAG,GAAK,EAAE,GAAK,EAAE,GAAK,IAAI,CAACjB,EAAG,MAAM,CAACO,YAAY,WAAW,CAACP,EAAG,MAAM,CAACO,YAAY,WAAW,CAACP,EAAG,MAAM,CAACO,YAAY,YAAY,CAACP,EAAG,WAAW,CAACS,YAAY,CAAC,SAAW,WAAW,MAAQ,OAAO,OAAS,QAAQQ,MAAM,CAAC,IAAM,QAAQ,IAAMiB,EAAKQ,QAAQZ,GAAG,CAAC,MAAQ,SAASX,GAAQ,OAAOvB,EAAI+C,WAAWT,QAAW,KAAKlC,EAAG,MAAM,CAACO,YAAY,WAAWuB,GAAG,CAAC,MAAQ,SAASX,GAAQ,OAAOvB,EAAI+C,WAAWT,MAAS,CAAClC,EAAG,IAAI,CAACiB,MAAM,CAAC,KAAO,iBAAiB,CAACrB,EAAIc,GAAGd,EAAIe,GAAGuB,EAAK/B,WAAWH,EAAG,MAAM,CAACO,YAAY,SAAS,CAACP,EAAG,OAAO,CAACO,YAAY,YAAY,CAACX,EAAIc,GAAGd,EAAIe,GAAGf,EAAIgD,OAAOC,MAAMC,QAAQC,QAAQ,IAAInD,EAAIe,GAAGf,EAAIoD,cAAcd,EAAKe,YAAYjD,EAAG,MAAM,CAACO,YAAY,YAAYP,EAAG,MAAM,CAACS,YAAY,CAAC,QAAU,OAAO,MAAQ,OAAO,kBAAkB,SAAS,aAAa,SAAS,CAACT,EAAG,cAAc,CAACA,EAAG,YAAY,CAACiB,MAAM,CAAC,KAAO,YAAY,CAACrB,EAAIc,GAAG,IAAId,EAAIe,GAAGf,EAAIoB,GAAG,wBAAwBhB,EAAG,IAAI,CAACO,YAAY,wCAAwCP,EAAG,mBAAmB,CAACiB,MAAM,CAAC,KAAO,YAAYc,KAAK,YAAY,CAAC/B,EAAG,mBAAmB,CAACO,YAAY,YAAYU,MAAM,CAAC,SAA6B,GAAlBiB,EAAKgB,WAAgBhC,SAAS,CAAC,MAAQ,SAASC,GAAQ,OAAOvB,EAAIuD,WAAWjB,EAAMf,MAAW,CAACvB,EAAIc,GAAGd,EAAIe,GAAGf,EAAIoB,GAAG,0BAA0BhB,EAAG,mBAAmB,CAACkB,SAAS,CAAC,MAAQ,SAASC,GAAQ,OAAOvB,EAAI+C,WAAWT,MAAS,CAACtC,EAAIc,GAAGd,EAAIe,GAAGf,EAAIoB,GAAG,oBAAoB,IAAI,IAAI,UAAS,MAAM,GAAIpB,EAAI4C,MAAY,OAAExC,EAAG,SAAS,CAACS,YAAY,CAAC,OAAS,UAAUQ,MAAM,CAAC,OAAS,KAAK,CAACjB,EAAG,SAAS,CAACO,YAAY,gCAAgCU,MAAM,CAAC,KAAO,KAAK,CAACjB,EAAG,MAAM,CAACA,EAAG,gBAAgB,CAACiB,MAAM,CAAC,eAAemC,OAAOxD,EAAIyD,MAAM,YAAa,EAAK,OAAS,0CAA0C,aAAazD,EAAI0D,UAAU,YAAY1D,EAAI2D,YAAY,MAAQH,OAAOxD,EAAI4D,QAAQ1B,GAAG,CAAC,iBAAiBlC,EAAI6D,OAAO,cAAc7D,EAAI8D,mBAAmB,MAAM,GAAG9D,EAAI2C,KAAKvC,EAAG,MAAM,CAACO,YAAY,OAAOoD,MAAM,CACvgKC,IAAOhE,EAAIiE,KAAM,EAAI,KACrBC,KAAQlE,EAAIiE,KAAM,EAAI,KACtBE,QAASnE,EAAIiE,KAAKE,WACf/D,EAAG,YAAY,CAACiB,MAAM,CAAC,QAAUrB,EAAIoE,SAASlC,GAAG,CAAC,iBAAiB,SAASX,GAAQvB,EAAIoE,QAAQ7C,MAAWnB,EAAG,aAAa,CAACO,YAAY,WAAWU,MAAM,CAAC,OAAS,oCAAoC,MAAQ,GAAG,OAAS,QAAQ,IAC1OgD,EAAkB,G,4CCuLtB,GACEC,MAAO,GACPC,KAFF,WAGI,MAAO,CACLnC,WAAY,KACZ7B,KAAM,GACNqC,MAAO,GACP4B,sBAAuB,GACvBf,KAAMxD,KAAKwE,OAAOC,MAAMjB,KAAOD,OAAOvD,KAAKwE,OAAOC,MAAMjB,MAAQ,IAChEE,YAAagB,aAAaC,QAAQ,mBACxC,gDACA,GACMlB,UAAW,CAAC,GAAI,GAAI,IACpBE,MAAO,EACPiB,UAAW,EACX5C,MAAO,GACPS,QAAS,GACT0B,SAAN,EACMU,SAAS,EACTC,YAAY,EACZd,KAAM,CACJe,EAAGC,OAAOC,WAAa,EACvBC,EAAGF,OAAOG,YAAc,EACxBjB,QAAS,KAIfkB,QA3BF,WA4BIpF,KAAKmC,WAAanC,KAAKwE,OAAOC,MAAMnC,GACpCtC,KAAKgC,MAAQhC,KAAKwE,OAAOC,MAAMzC,MAC/BhC,KAAKyC,QAAUzC,KAAKgC,MACpBhC,KAAKqF,eAEPC,MAAO,CACLd,OAAQ,YAEVe,WAAY,CAAd,kBACEC,QAAS,CACPjD,UADJ,WAEA,iBAGIO,WALJ,SAKA,GACM,IAAN,0CACM9C,KAAKyF,QAAQC,KAAK,CAChBpF,KAAM,gBACNmE,MAAO,CACLnC,GAAID,EAAKC,GACThC,KAAV,OACUqF,SAAV,MAIIN,YAhBJ,WAgBA,WACMrF,KAAK4F,SAAS,iCAAkC,IAAI,SAA1D,GAC2B,MAAfC,EAAEC,YACJ,EAAV,qCACU,EAAV,gBAIIC,SAxBJ,WAwBA,WACM/F,KAAK6E,SAAU,EACf7E,KAAK8E,YAAa,EAClB9E,KAAKuE,sBAAsByB,SAAQ,SAAzC,GACY3D,EAAK/B,MAAQ,EAAzB,aACU,EAAV,oBAGMN,KAAK4F,SACX,8BACA,CACQ,KAAR,WACQ,WAAR,gBACQ,KAAR,UACQ,YAAR,mBAEA,YACQ,EAAR,cACQ,EAAR,WACQ,EAAR,2CACA,qBACY,EAAZ,YACY,EAAZ,sBAGQ,EAAR,qBACQ,EAAR,mCACQ,EAAR,sCACQ,EAAR,yDAIIhE,OAxDJ,WAyDM5B,KAAKyC,QAAUzC,KAAKgC,MACpBhC,KAAKyF,QAAQC,KAAK,CAChBjB,MAAO,CACLjB,KAAM,EACNxB,MAAOhC,KAAKyC,QACZH,GAAItC,KAAKmC,eAIf0B,eAlEJ,SAkEA,GACM7D,KAAK0D,YAAcuC,EACnBvB,aAAawB,QAAQ,kBAAmBD,GACxCjG,KAAK+F,YAEPI,SAvEJ,WAwEMnG,KAAKwD,KAAOxD,KAAKwE,OAAOC,MAAMjB,KAAOxD,KAAKwE,OAAOC,MAAMjB,KAAO,EAC9DxD,KAAKmC,WAAanC,KAAKwE,OAAOC,MAAMnC,GACpCtC,KAAKgC,MAAQhC,KAAKwE,OAAOC,MAAMzC,MAC/BhC,KAAK+F,YAEPnC,OA7EJ,SA6EA,GACM,GAAIqC,GAAOjG,KAAKwE,OAAOC,MAAMjB,KAAM,CACjC,IAAR,KACQiB,EAAMjB,KAAOyC,EACTjG,KAAKwE,OAAOC,MAAMnC,KAAImC,EAAMnC,GAAKtC,KAAKwE,OAAOC,MAAMnC,IACnDtC,KAAKwE,OAAOC,MAAMzC,QAAOyC,EAAMzC,MAAQhC,KAAKwE,OAAOC,MAAMzC,OAC7DhC,KAAKyF,QAAQC,KAAK,CAChBpF,KAAM,OACNmE,MAAV,MAIInB,WAzFJ,SAyFA,gBACMtD,KAAK4F,SACX,uCACA,CACQ,GAAR,OAEA,YACQ,GAAR,mBACU,EAAV,YACU,EAAV,UACU,EAAV,qCACU,EAAV,iBACU,EAAV,iBACU,YAAV,WACY,EAAZ,iBACA,KAEU,IAAV,cACY,IAAZ,cACA,eACA,iBACY,MAAZ,SACc,GAAd,YACc,GAAd,aACc,EAAd,eAEY,MAAZ,CAAc,KAAd,EAAc,IAAd,IAEA,IACA,qDAEU,YAAV,WACY,EAAZ,iBACY,EAAZ,kBACA,KACU,YAAV,WACY,EAAZ,iBACA,WAEU,EAAV,+BAMEQ,SAAU,CACRC,QADJ,WACA,WACA,KAMM,OALArG,KAAKuE,sBAAsByB,SAAQ,SAAzC,GACY3D,EAAKC,IAAM,EAAvB,aACUgE,EAAOjE,EAAK/B,SAGTgG,KC/WiU,I,wBCQ1UC,EAAY,eACd,EACAzG,EACAsE,GACA,EACA,KACA,WACA,MAIa,aAAAmC,E,6CCnBf,W,0DCAA,IAAIzG,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,YAAY,CAACiB,MAAM,CAAC,MAAQ,mCAAmC,QAAUrB,EAAIyG,gBAAgBvE,GAAG,CAAC,iBAAiB,SAASX,GAAQvB,EAAIyG,eAAelF,GAAQ,MAAQvB,EAAI0G,cAAc,CAACtG,EAAG,cAAeJ,EAAW,QAAEI,EAAG,MAAM,CAACO,YAAY,gBAAgB,CAACP,EAAG,MAAM,CAACO,YAAY,gBAAgB,CAACX,EAAIc,GAAG,4BAA4BV,EAAG,MAAM,CAACS,YAAY,CAAC,QAAU,SAAS,CAACT,EAAG,MAAM,CAACO,YAAY,WAAWX,EAAIqC,GAAIrC,EAAW,SAAE,SAASsC,GAAM,OAAOlC,EAAG,MAAM,CAACwB,IAAIU,EAAK3B,YAAY,iBAAiBU,MAAM,CAAC,IAAMiB,QAAU,GAAGlC,EAAG,MAAM,CAACO,YAAY,SAASuB,GAAG,CAAC,MAAQlC,EAAI2G,WAAW,CAACvG,EAAG,IAAI,CAACO,YAAY,uBAAuBX,EAAI2C,KAAM3C,EAAU,OAAEI,EAAG,MAAM,CAACE,WAAW,CAAC,CAACC,KAAK,UAAUC,QAAQ,YAAYC,MAAOT,EAAW,QAAEU,WAAW,YAAYC,YAAY,YAAY,CAACP,EAAG,MAAM,CAACO,YAAY,gBAAgB,CAACX,EAAIc,GAAG,yBAAyBV,EAAG,UAAU,CAACiB,MAAM,CAAC,MAAQrB,EAAI4G,KAAK,iBAAiB,OAAO,cAAc,UAAU,CAACxG,EAAG,eAAe,CAACiB,MAAM,CAAC,MAAQ,kBAAkB,SAAW,KAAK,CAACjB,EAAG,MAAM,CAACO,YAAY,SAASuB,GAAG,CAAC,MAAQlC,EAAI6G,aAAa,CAAG7G,EAAI4G,KAAK9D,OAA6C1C,EAAG,WAAW,CAACS,YAAY,CAAC,MAAQ,OAAO,OAAS,QAAQQ,MAAM,CAAC,IAAMrB,EAAI4G,KAAK9D,OAAO,IAAM,WAApI1C,EAAG,IAAI,CAACO,YAAY,kBAA4H,KAAKP,EAAG,eAAe,CAACiB,MAAM,CAAC,MAAQ,WAAW,SAAW,KAAK,CAACjB,EAAG,WAAW,CAACiB,MAAM,CAAC,YAAc,gEAAgES,MAAM,CAACrB,MAAOT,EAAI4G,KAAY,QAAE7E,SAAS,SAAUC,GAAMhC,EAAI8G,KAAK9G,EAAI4G,KAAM,UAAW5E,IAAMtB,WAAW,mBAAmB,GAAGN,EAAG,eAAe,CAACiB,MAAM,CAAC,MAAQ,0BAA0B,CAACjB,EAAG,kBAAkB,CAACiB,MAAM,CAAC,UAAW,GAAOS,MAAM,CAACrB,MAAOT,EAAI4G,KAAU,MAAE7E,SAAS,SAAUC,GAAMhC,EAAI8G,KAAK9G,EAAI4G,KAAM,QAAS5E,IAAMtB,WAAW,iBAAiB,GAAGN,EAAG,eAAe,CAACiB,MAAM,CAAC,MAAQ,aAAa,CAACjB,EAAG,WAAW,CAACiB,MAAM,CAAC,YAAe,4CAA+CrB,EAAIgB,MAAMC,UAAU,GAAGC,MAAO,EAAI,YAAaY,MAAM,CAACrB,MAAOT,EAAI4G,KAAW,OAAE7E,SAAS,SAAUC,GAAMhC,EAAI8G,KAAK9G,EAAI4G,KAAM,SAAU5E,IAAMtB,WAAW,kBAAkB,IAAI,GAAGN,EAAG,YAAY,CAACO,YAAY,OAAOU,MAAM,CAAC,KAAO,WAAWa,GAAG,CAAC,MAAQlC,EAAI+G,gBAAgB,CAAC/G,EAAIc,GAAG,WAAW,GAAGd,EAAI2C,KAAKvC,EAAG,cAAcA,EAAG,MAAM,CAACO,YAAY,gBAAgBU,MAAM,CAAC,KAAO,UAAUc,KAAK,UAAU,CAAC/B,EAAG,YAAY,CAACiB,MAAM,CAAC,KAAO,WAAWa,GAAG,CAAC,MAAQlC,EAAIgH,SAAS,CAAChH,EAAIc,GAAG,oBAAoBV,EAAG,YAAY,CAAC8B,GAAG,CAAC,MAAQlC,EAAIiH,iBAAiB,CAACjH,EAAIc,GAAG,cAAc,IAAI,GAAGV,EAAG,QAAQ,CAACS,YAAY,CAAC,QAAU,QAAQQ,MAAM,CAAC,KAAO,OAAO,GAAK,UAAU,OAAS,kBAAkBa,GAAG,CAAC,OAAS,SAASX,GAAQ,OAAOvB,EAAIkH,OAAO3F,QAAa,IACxpF8C,EAAkB,GC8EtB,G,8BAAA,CACEC,MAAO,CACLF,QAAS,CACP5C,KAAM2F,QACNC,SAAS,IAGb7C,KAPF,WAQI,MAAO,CACLqC,KAAM,CACJ9D,OAAQ,GACRuE,QAAS,GACTC,WAAOC,EACPC,OAAQ,IAEVC,SAAN,EACMC,cAAc,EACdC,cAAc,EACdC,QAAQ,EACR9C,SAAS,EACT+C,eAAe,EACfC,QAAS,GACTC,YAAa,GACbC,UAAW,GACXC,WAAY,KAGhB5B,SAAU,CACRI,eAAgB,CACdyB,IADN,WAEQ,OAAOjI,KAAKmE,SAEd+D,IAJN,SAIA,GACQlI,KAAKmI,MAAM,iBAAkBlC,MAInCb,QArCF,aAyCEI,QAAS,CACPkB,SADJ,WACA,WACM1G,KAAK2H,QAAS,EACd3H,KAAK6E,SAAU,EACfuD,YAAW,WACT,EAAR,aACA,MAEIxB,WARJ,WASMyB,SAASC,eAAe,WAAWC,SAErCtB,OAXJ,SAWA,cACM,GAAIuB,EAAGC,OAAOjI,MAAO,CACnB,IAAR,iBACA,YACA,KACQkI,EAAOC,OAAS,SAAxB,GACUC,EAAIC,IAAMC,EAAEL,OAAOM,OACnB,IAAV,sDACUC,EAAMC,EAAO,IAEfL,EAAID,OAAS,SAArB,GACUO,YAAY,CACVC,KAAMX,EAAGC,OACT3G,SAAU,SAAtB,GACc,IAAd,2BACc,EAAd,yBAIQ4G,EAAOU,cAAcZ,EAAGC,OAAOY,MAAM,MAGzCC,gBAjCJ,SAiCA,gBACMtJ,KAAK6E,SAAU,EACf7E,KAAK4F,SACX,2BACA,CAAQ,aAAR,EAAQ,IAAR,IACA,YACQ,EAAR,WACA,kBACU,EAAV,kCAEU,EAAV,8BAKIkB,cAhDJ,WAiDM,MAAwB,IAApB9G,KAAK2G,KAAK9D,QACZ7C,KAAKuJ,SAASC,MAAM,8BACb,GAEgB,IAArBxJ,KAAK2G,KAAKS,SACZpH,KAAKuJ,SAASC,MAAM,iCACb,IAETxJ,KAAKwH,SAAU,EACfxH,KAAK2H,QAAS,EACd3H,KAAK6H,QAAQnC,KAAK1F,KAAK2G,KAAK9D,QAC5B7C,KAAK8H,YAAYpC,KAAK1F,KAAK2G,KAAKS,SAChCpH,KAAK+H,UAAUrC,KAAK1F,KAAK2G,KAAKU,OAC9BrH,KAAKgI,WAAWtC,KAAK1F,KAAK2G,KAAKY,aAC/BvH,KAAK2G,KAAO,CACV9D,OAAQ,GACRuE,QAAS,GACTC,WAAOC,EACPC,OAAQ,OAGZP,eAtEJ,WAuEMhH,KAAKwG,gBAAiB,EACtBxG,KAAK2G,KAAO,CACV9D,OAAQ,GACRuE,QAAS,GACTC,WAAOC,EACPC,OAAQ,IAEVvH,KAAK6H,QAAX,GACM7H,KAAK8H,YAAX,GACM9H,KAAK+H,UAAX,GACM/H,KAAKgI,WAAX,GACMhI,KAAK2H,QAAS,EACd3H,KAAKwH,SAAU,GAEjBf,YArFJ,WAsFA,uBAEIM,OAxFJ,WA0FM,IAFN,WACA,KACA,8BACQ0C,EAAS/D,KAAK,CACZgE,OAAQ1J,KAAK8H,YAAY6B,GACzB9G,OAAQ7C,KAAK6H,QAAQ8B,GACrBC,YAAa5J,KAAK+H,UAAU4B,GAC5BE,QAAS7J,KAAKgI,WAAW2B,KAG7B3J,KAAK4F,SACX,gCACA,CACQ,SAAR,IAEA,YACA,mBACU,EAAV,qCACU,EAAV,iBACU,EAAV,8CAEU,EAAV,+BAMEL,WAAY,KC3O4U,I,wBCQtVgB,EAAY,eACd,EACAzG,EACAsE,GACA,EACA,KACA,WACA,MAIa,OAAAmC,E","file":"js/more.9996ae09.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./productQuotation.vue?vue&type=style&index=0&id=6167711f&scoped=true&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.allLoading),expression:\"allLoading\"}],staticClass:\"contentpanel box\"},[_c('div',{ref:\"pageHeader\",staticClass:\"pagetitle\",staticStyle:{\"padding-right\":\"0\",\"flex-wrap\":\"wrap\"}},[_c('div',{staticClass:\"left\"},[_c('div',{staticClass:\"title\"},[_c('i',{staticClass:\"el-icon-s-goods\"}),_c('h2',[_vm._v(_vm._s(_vm.$root.$children[0].pName.a)+\" \"+_vm._s(_vm.$t('Products Market')))])])]),_c('el-row',{staticStyle:{\"margin-right\":\"20px\"},attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":21}},[_c('div',{staticStyle:{\"margin-top\":\"5px\"}},[_c('el-input',{staticClass:\"input-with-select\",staticStyle:{\"min-width\":\"550px\"},attrs:{\"placeholder\":\"Search products\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.search($event)}},model:{value:(_vm.input),callback:function ($$v) {_vm.input=$$v},expression:\"input\"}},[_c('el-select',{attrs:{\"slot\":\"append\",\"placeholder\":\"IN ALL CATEGORIES\"},on:{\"change\":_vm.search},slot:\"append\",model:{value:(_vm.categoryId),callback:function ($$v) {_vm.categoryId=$$v},expression:\"categoryId\"}},[_c('el-option',{attrs:{\"label\":\"IN ALL CATEGORIES\",\"value\":\"\"}}),_vm._l((_vm.commodityTypeMoreList),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.name,\"value\":item.id}})})],2),_c('el-button',{attrs:{\"slot\":\"prepend\",\"icon\":\"el-icon-search\"},slot:\"prepend\"})],1)],1)]),_c('el-col',{attrs:{\"span\":3}},[_c('el-button',{staticStyle:{\"margin-top\":\"4px\"},attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.search()}}},[_vm._v(_vm._s(_vm.$t('Search')))])],1)],1),_c('div',{staticClass:\"right\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.quotation()}}},[_c('i',{staticClass:\"el-icon-plus\"}),_vm._v(\" \"+_vm._s(_vm.$t('Request Quotation'))+\" \")])],1)],1),_c('div',{staticClass:\"pagetitle\",staticStyle:{\"height\":\"53px\"}},[_c('el-breadcrumb',{attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',{attrs:{\"to\":{ path: '/find-products' }}},[_vm._v(_vm._s(_vm.$root.$children[0].pName.a)+\" \"+_vm._s(_vm.$t('Products Market')))]),(this.content)?_c('el-breadcrumb-item',[_c('span',[_vm._v(_vm._s(_vm.$t('Keywords'))+\" \"),_c('b',[_vm._v(_vm._s(this.content))]),_vm._v(\" \"+_vm._s(_vm.$t('results')))]),(this.content && this.categoryId)?_c('span',[_vm._v(\" in \"+_vm._s(this.categoryId))]):_vm._e()]):(!this.categoryId && !this.content)?_c('el-breadcrumb-item',[_vm._v(\" \"+_vm._s(_vm.$t('IN ALL CATEGORIES'))+\" \")]):_c('el-breadcrumb-item',[_vm._v(\" \"+_vm._s(this.categoryId)+\" \")])],1)],1),(_vm.items && _vm.items.length == 0)?_c('div',{staticStyle:{\"width\":\"100%\"}},[_c('el-card',[_c('b',[_vm._v(_vm._s(_vm.$t('There are no products in this category')))])])],1):_c('el-card',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],attrs:{\"body-style\":\"padding:20px 0 20px 0;\"}},[_c('div',{staticClass:\"list\"},_vm._l((_vm.items),function(item){return _c('el-col',{key:item.id,staticStyle:{\"margin-bottom\":\"20px\"},attrs:{\"sm\":12,\"md\":8,\"lg\":6,\"xl\":4}},[_c('div',{staticClass:\"pro_box\"},[_c('div',{staticClass:\"pro_img\"},[_c('div',{staticClass:\"img-wrap\"},[_c('el-image',{staticStyle:{\"position\":\"absolute\",\"width\":\"100%\",\"height\":\"100%\"},attrs:{\"fit\":'cover',\"src\":item.imgUrl},on:{\"click\":function($event){return _vm.goToDetail(item)}}})],1)]),_c('div',{staticClass:\"pro_name\",on:{\"click\":function($event){return _vm.goToDetail(item)}}},[_c('a',{attrs:{\"href\":\"javescript:;\"}},[_vm._v(_vm._s(item.name))])]),_c('div',{staticClass:\"price\"},[_c('span',{staticClass:\"pro_cost\"},[_vm._v(_vm._s(_vm.$store.state.country.symbol)+\" \"+_vm._s(_vm.$exchangeRate(item.cost)))])]),_c('div',{staticClass:\"imports\"}),_c('div',{staticStyle:{\"display\":\"flex\",\"width\":\"100%\",\"justify-content\":\"center\",\"margin-top\":\"15px\"}},[_c('el-dropdown',[_c('el-button',{attrs:{\"type\":\"primary\"}},[_vm._v(\" \"+_vm._s(_vm.$t('Add to Import List'))),_c('i',{staticClass:\"el-icon-arrow-down el-icon--right\"})]),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('el-dropdown-item',{staticClass:\"importBut\",attrs:{\"disabled\":item.hasImport == 1},nativeOn:{\"click\":function($event){return _vm.import_pro(item, $event)}}},[_vm._v(_vm._s(_vm.$t('Add to Import List')))]),_c('el-dropdown-item',{nativeOn:{\"click\":function($event){return _vm.goToDetail(item)}}},[_vm._v(_vm._s(_vm.$t('Add to Cart')))])],1)],1)],1)])])}),1)])],1),(_vm.items.length)?_c('el-row',{staticStyle:{\"margin\":\"20px 0\"},attrs:{\"gutter\":20}},[_c('el-col',{staticClass:\"d-flex justify-content-center\",attrs:{\"span\":24}},[_c('div',[_c('el-pagination',{attrs:{\"current-page\":Number(_vm.page),\"background\":true,\"layout\":\"sizes, total, prev, pager, next, jumper\",\"page-sizes\":_vm.pageSizes,\"page-size\":_vm.rowsPerPage,\"total\":Number(_vm.total)},on:{\"current-change\":_vm.toPage,\"size-change\":_vm.changePageSize}})],1)])],1):_vm._e(),_c('div',{staticClass:\"ball\",style:({\n        top: ((_vm.ball.y) + \"px\"),\n        left: ((_vm.ball.x) + \"px\"),\n        opacity: _vm.ball.opacity,\n      })}),_c('Quotation',{attrs:{\"visible\":_vm.visible},on:{\"update:visible\":function($event){_vm.visible=$event}}}),_c('el-backtop',{staticClass:\"goto-top\",attrs:{\"target\":\".main-scroll  .el-scrollbar__wrap\",\"right\":20,\"bottom\":120}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div class=\"contentpanel box\" v-loading=\"allLoading\">\n      <div class=\"pagetitle\" ref=\"pageHeader\" style=\"padding-right:0;flex-wrap:wrap\">\n        <div class=\"left\">\n          <div class=\"title\">\n            <i class=\"el-icon-s-goods\"></i>\n            <h2>{{$root.$children[0].pName.a}} {{$t('Products Market')}}</h2>\n          </div>\n        </div>\n        <el-row :gutter=\"20\" style=\"margin-right: 20px;\">\n          <el-col :span=\"21\">\n            <div style=\"margin-top: 5px\">\n              <el-input\n                placeholder=\"Search products\"\n                v-model=\"input\"\n                class=\"input-with-select\"\n                style=\"min-width: 550px\"\n                @keyup.enter.native=\"search\"\n              >\n                <el-select\n                  v-model=\"categoryId\"\n                  slot=\"append\"\n                  placeholder=\"IN ALL CATEGORIES\"\n                  @change=\"search\"\n                >\n                  <el-option label=\"IN ALL CATEGORIES\" value=\"\"></el-option>\n                  <el-option\n                    v-for=\"item in commodityTypeMoreList\"\n                    :key=\"item.id\"\n                    :label=\"item.name\"\n                    :value=\"item.id\"\n                  ></el-option>\n                </el-select>\n                <el-button slot=\"prepend\" icon=\"el-icon-search\"></el-button>\n              </el-input>\n            </div>\n          </el-col>\n          <el-col :span=\"3\">\n            <el-button type=\"primary\" @click=\"search()\" style=\"margin-top: 4px\"\n              >{{$t('Search')}}</el-button\n            >\n          </el-col>\n        </el-row>\n        <div class=\"right\">\n          <el-button type=\"primary\" @click=\"quotation()\" size=\"small\">\n          <i class=\"el-icon-plus\"></i> {{$t('Request Quotation')}}\n      </el-button>\n        </div>\n      </div>\n      <!-- 面包屑 -->\n      <div class=\"pagetitle\" style=\"height:53px\">\n        <el-breadcrumb separator-class=\"el-icon-arrow-right\">\n          <el-breadcrumb-item :to=\"{ path: '/find-products' }\"\n            >{{$root.$children[0].pName.a}} {{$t('Products Market')}}</el-breadcrumb-item\n          >\n          <el-breadcrumb-item v-if=\"this.content\">\n            <span>{{$t('Keywords')}} <b>{{ this.content }}</b> {{$t('results')}}</span>\n            <span v-if=\"this.content && this.categoryId\"> in {{ this.categoryId }}</span>\n          </el-breadcrumb-item>\n          <el-breadcrumb-item v-else-if=\"!this.categoryId && !this.content\">\n            {{$t('IN ALL CATEGORIES')}}\n          </el-breadcrumb-item>\n          <el-breadcrumb-item v-else>\n            {{ this.categoryId }}\n          </el-breadcrumb-item>\n        </el-breadcrumb>\n      </div>\n      <!-- 列表 -->\n      <div v-if=\"items && items.length == 0\" style=\"width: 100%\">\n        <el-card>\n          <b>{{$t('There are no products in this category')}}</b>\n        </el-card>\n      </div>\n      <el-card body-style=\"padding:20px 0 20px 0;\" v-loading=\"loading\" v-else>\n        <div class=\"list\">\n          <el-col\n            v-for=\"item in items\"\n            :key=\"item.id\"\n            :sm=\"12\"\n            :md=\"8\"\n            :lg=\"6\"\n            :xl=\"4\"\n            style=\"margin-bottom: 20px\"\n          >\n            <div class=\"pro_box\">\n              <div class=\"pro_img\">\n                <div class=\"img-wrap\">\n                  \n                <el-image\n                  style=\"position: absolute; width: 100%;\n                  height: 100%;\"\n                  :fit=\"'cover'\"\n                  :src=\"item.imgUrl\"\n                  @click=\"goToDetail(item)\"\n                >\n                </el-image>\n                  \n                </div>\n                </div>\n              <div class=\"pro_name\" @click=\"goToDetail(item)\">\n                <a href=\"javescript:;\">{{ item.name }}</a>\n              </div>\n              <div class=\"price\">\n                <span class=\"pro_cost\">{{$store.state.country.symbol}} {{$exchangeRate(item.cost)}}</span>\n              </div>\n              \n              <div class=\"imports\">\n                <!-- <span>Imports: {{ item.imports }}</span> -->\n                <!-- <span\n                  >Orders:{{ item.sold30days }}\n                  <el-tooltip\n                    class=\"item\"\n                    effect=\"dark\"\n                    content=\"Last 30 days\"\n                    placement=\"top\"\n                  >\n                    <i\n                      style=\"font-size: 12px; width: 12px\"\n                      class=\"el-icon-info\"\n                    ></i> </el-tooltip\n                ></span> -->\n              </div>\n\n              <div\n                style=\"\n                  display: flex;\n                  width: 100%;\n                  justify-content: center;\n                  margin-top: 15px;\n                \"\n              >\n                <!-- <el-button\n                  type=\"primary\"\n                  size=\"mini\"\n                  @click=\"import_pro(item, $event)\"\n                  :disabled=\"item.hasImport == 1\"\n                  >Add to Import List</el-button\n                > -->\n                <!-- 这里 -->\n                <el-dropdown>\n                  <el-button type=\"primary\">\n                    {{$t('Add to Import List')}}<i class=\"el-icon-arrow-down el-icon--right\"></i>\n                  </el-button>\n                  <el-dropdown-menu slot=\"dropdown\">\n                    <el-dropdown-item  class=\"importBut\" :disabled=\"item.hasImport == 1\" @click.native=\"import_pro(item, $event)\">{{$t('Add to Import List')}}</el-dropdown-item>\n                    <el-dropdown-item @click.native=\"goToDetail(item)\">{{$t('Add to Cart')}}</el-dropdown-item>\n                  </el-dropdown-menu>\n                </el-dropdown>\n              </div>\n            </div>\n          </el-col>\n        </div>\n      </el-card>\n    </div>\n    <el-row v-if=\"items.length\" :gutter=\"20\" style=\"margin: 20px 0\">\n      <el-col :span=\"24\" class=\"d-flex justify-content-center\">\n        <div>\n          <el-pagination\n            :current-page=\"Number(page)\"\n            :background=\"true\"\n            layout=\"sizes, total, prev, pager, next, jumper\"\n            :page-sizes=\"pageSizes\"\n            :page-size=\"rowsPerPage\"\n            :total=\"Number(total)\"\n            @current-change=\"toPage\"\n            @size-change=\"changePageSize\"\n          >\n          </el-pagination>\n        </div>\n      </el-col>\n    </el-row>\n    <div\n      class=\"ball\"\n      :style=\"{\n        top: `${ball.y}px`,\n        left: `${ball.x}px`,\n        opacity: ball.opacity,\n      }\"\n    ></div>\n    <Quotation :visible.sync=\"visible\"></Quotation>\n    <el-backtop class=\"goto-top\" target=\".main-scroll  .el-scrollbar__wrap\" :right=\"20\" :bottom=\"120\">\n\t\t</el-backtop>\n  </div>\n</template>\n\n<script>\nimport Quotation from '../components/productQuotation'\nexport default {\n  props: {},\n  data() {\n    return {\n      categoryId: null,\n      name: \"\",\n      items: [],\n      commodityTypeMoreList: [],\n      page: this.$route.query.page ? Number(this.$route.query.page) : \"1\",\n      rowsPerPage: localStorage.getItem(\"c_importPerPage\")\n        ? Number(localStorage.getItem(\"c_importPerPage\"))\n        : 12,\n      pageSizes: [12, 24, 48],\n      total: 0,\n      totalPage: 0,\n      input: \"\",\n      content: \"\",\n      visible:false,\n      loading: true,\n      allLoading: true,\n      ball: {\n        x: window.innerWidth / 2,\n        y: window.innerHeight / 2,\n        opacity: 0,\n      },\n    };\n  },\n  mounted() {\n    this.categoryId = this.$route.query.id;\n    this.input = this.$route.query.input;\n    this.content = this.input;\n    this.getCategory();\n  },\n  watch: {\n    $route: \"gotoPage\",\n  },\n  components: { Quotation },\n  methods: {\n    quotation(){\n    this.visible = true;\n    },\n    // 跳转商品详情\n    goToDetail(item){\n      const moreName = $(\".el-breadcrumb__inner\").eq(1).text();\n      this.$router.push({\n        name: \"productDetail\",\n        query: {\n          id: item.id,\n          name:item.name,\n          moreName:moreName\n        },\n      });\n    },\n    getCategory() {\n      this.$apiCall(\"api.VendorShop.getAllCategorys\", {}, (r) => {\n        if (r.ErrorCode == 9999) {\n          this.commodityTypeMoreList = r.Data.Results;\n          this.getItems();\n        }\n      });\n    },\n    getItems() {\n      this.loading = true;\n      this.allLoading = true;\n      this.commodityTypeMoreList.forEach((item) => {\n        if (item.name == this.categoryId) {\n          this.categoryId = item.id;\n        }\n      });\n      this.$apiCall(\n        \"api.VendorShop.findProducts\",\n        {\n          name: this.input,\n          categoryId: this.categoryId,\n          page: this.page,\n          rowsPerPage: this.rowsPerPage,\n        },\n        (r) => {\n          this.allLoading = false;\n          this.loading = false;\n          this.commodityTypeMoreList.forEach((item) => {\n            if (item.id == this.categoryId) {\n              this.name = item.name;\n              this.categoryId = item.name;\n            }\n          });\n          this.items = r.Data.Results;\n          this.total = r.Data.Pagination.totalCount;\n          this.totalPage = r.Data.Pagination.totalPage;\n          this.$root.$children[0].$refs.mainScroll.wrap.scrollTop = 0;\n        }\n      );\n    },\n    search() {\n      this.content = this.input;\n      this.$router.push({\n        query: {\n          page: 1,\n          input: this.content,\n          id: this.categoryId,\n        },\n      });\n    },\n    changePageSize(val) {\n      this.rowsPerPage = val;\n      localStorage.setItem(\"c_importPerPage\", val);\n      this.getItems();\n    },\n    gotoPage() {\n      this.page = this.$route.query.page ? this.$route.query.page : 1;\n      this.categoryId = this.$route.query.id;\n      this.input = this.$route.query.input;\n      this.getItems();\n    },\n    toPage(val) {\n      if (val != this.$route.query.page) {\n        let query = {};\n        query.page = val;\n        if (this.$route.query.id) query.id = this.$route.query.id;\n        if (this.$route.query.input) query.input = this.$route.query.input;\n        this.$router.push({\n          name: \"more\",\n          query,\n        });\n      }\n    },\n    import_pro(item, e) {\n      this.$apiCall(\n        \"api.Product.addFromVendorShopProduct\",\n        {\n          id: item.id,\n        },\n        (r) => {\n          if (r.ErrorCode == 9999) {\n            item.hasImport = 1;\n            item.imports++;\n            this.$message.success(\"Import Success !\");\n            this.ball.x = e.clientX;\n            this.ball.y = e.clientY;\n            setTimeout(() => {\n              this.ball.opacity = 1;\n            }, 500);\n\n            const getOffset = (element) => {\n              let actualTop = element.offsetTop;\n              let actualLeft = element.offsetLeft;\n              let current = element.offsetParent;\n              while (current !== null) {\n                actualTop += current.offsetTop;\n                actualLeft += current.offsetLeft;\n                current = current.offsetParent;\n              }\n              return { left: actualLeft, top: actualTop };\n            };\n            let elOffset = getOffset(\n              document.querySelector(\"[data-name='Import List']\")\n            );\n            setTimeout(() => {\n              this.ball.x = elOffset.left + 65;\n              this.ball.y = elOffset.top + 15;\n            }, 1000);\n            setTimeout(() => {\n              this.ball.opacity = 0;\n            }, 1500);\n          } else {\n            this.$message.error(r.Message);\n          }\n        }\n      );\n    },\n  },\n  computed: {\n    product() {\n      let text = \"\";\n      this.commodityTypeMoreList.forEach((item) => {\n        if (item.id == this.categoryId) {\n          text = item.name;\n        }\n      });\n      return text;\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n.ball {\n  position: fixed;\n  z-index: 1;\n  width: 16px;\n  height: 16px;\n  border-radius: 50%;\n  transform: translate(-50%, -50%);\n  background-color: #f56c6c;\n  transition: ease-in-out 0.5s;\n}\n.list {\n  width: 100%;\n}\n.box {\n  display: flex;\n  justify-content: space-evenly;\n  flex-wrap: wrap;\n}\n.el-card {\n  width: 100%;\n}\n\n.pro_img {\n  width: 100%;\n  position: relative;\n  .img-wrap {\n    margin-bottom: 15px;\n    position: relative;\n    padding-bottom: 100%;\n    cursor: pointer;\n  }\n  \n}\n.pro_box {\n  margin: 0 10px;\n  position: relative;\n  padding: 15px;\n  border: 1px #dcdfe6 solid;\n}\n.pro_name {\n  height: 38px;\n  cursor: pointer;\n  font-size: 12px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  /*! autoprefixer: off */\n  -webkit-box-orient: vertical;\n}\n\n.price {\n        color: #909399;\n        span {\n          color: #5c6ac4;\n          font-weight: bold;\n        }\n      }\n.imports {\n  display: flex;\n  justify-content: space-between;\n  font-size: 12px;\n  color: rgb(144, 147, 153);\n}\n.el-select {\n  width: 180px;\n}\n.el-select .el-input {\n  width: 180px;\n}\n.input-with-select .el-input-group__prepend {\n  background-color: #ccc;\n}\n.pagetitle {\n  width: 100%;\n}\n.commodity-type-wrapper {\n  display: flex;\n  flex-wrap: wrap;\n  .type-item {\n    flex: 0 0 20%;\n    height: 60px;\n    display: flex;\n    align-items: center;\n    border: 1px solid #e8e8e8;\n    // box-sizing: border-box;\n    cursor: pointer;\n    position: relative;\n    z-index: 0;\n    padding: 10px 30px;\n    &.selected {\n      border: 2px solid #5c6ac4;\n      z-index: 1;\n      .iconfont {\n        color: #5c6ac4;\n      }\n      .type-text {\n        color: #5c6ac4;\n      }\n    }\n    &:hover {\n      .type-text {\n        color: #5c6ac4;\n      }\n      .iconfont {\n        color: #5c6ac4;\n      }\n    }\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./more.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./more.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./more.vue?vue&type=template&id=5f663ddf&scoped=true&\"\nimport script from \"./more.vue?vue&type=script&lang=js&\"\nexport * from \"./more.vue?vue&type=script&lang=js&\"\nimport style0 from \"./more.vue?vue&type=style&index=0&id=5f663ddf&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5f663ddf\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./more.vue?vue&type=style&index=0&id=5f663ddf&scoped=true&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-dialog',{attrs:{\"title\":\"Request a quotation for products\",\"visible\":_vm.openCardDialog},on:{\"update:visible\":function($event){_vm.openCardDialog=$event},\"close\":_vm.closeDialog}},[_c('el-divider'),(_vm.imgView)?_c('div',{staticClass:\"proQuotation\"},[_c('div',{staticClass:\"quotationTit\"},[_vm._v(\"products for quotation\")]),_c('div',{staticStyle:{\"display\":\"flex\"}},[_c('div',{staticClass:\"imgList\"},_vm._l((_vm.imgList),function(item){return _c('img',{key:item,staticClass:\"upload imgItem\",attrs:{\"src\":item}})}),0),_c('div',{staticClass:\"upload\",on:{\"click\":_vm.openForm}},[_c('i',{staticClass:\"el-icon-plus\"})])])]):_vm._e(),(_vm.isForm)?_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"formRole\"},[_c('div',{staticClass:\"quotationTit\"},[_vm._v(\"Product information\")]),_c('el-form',{attrs:{\"model\":_vm.form,\"label-position\":\"left\",\"label-width\":\"150px\"}},[_c('el-form-item',{attrs:{\"label\":\"Product images:\",\"required\":\"\"}},[_c('div',{staticClass:\"upload\",on:{\"click\":_vm.uploadOpen}},[(!_vm.form.imgUrl)?_c('i',{staticClass:\"el-icon-plus\"}):_c('el-image',{staticStyle:{\"width\":\"100%\",\"height\":\"100%\"},attrs:{\"src\":_vm.form.imgUrl,\"fit\":'cover'}})],1)]),_c('el-form-item',{attrs:{\"label\":\"Details:\",\"required\":\"\"}},[_c('el-input',{attrs:{\"placeholder\":\"Product name / URL / description or anything you can tell us\"},model:{value:(_vm.form.details),callback:function ($$v) {_vm.$set(_vm.form, \"details\", $$v)},expression:\"form.details\"}})],1),_c('el-form-item',{attrs:{\"label\":\"Expected price (US$):\"}},[_c('el-input-number',{attrs:{\"controls\":false},model:{value:(_vm.form.price),callback:function ($$v) {_vm.$set(_vm.form, \"price\", $$v)},expression:\"form.price\"}})],1),_c('el-form-item',{attrs:{\"label\":\"Remarks:\"}},[_c('el-input',{attrs:{\"placeholder\":(\"Leave your message that you want to tell \" + (_vm.$root.$children[0].pName.a) + \" Vendors\")},model:{value:(_vm.form.remark),callback:function ($$v) {_vm.$set(_vm.form, \"remark\", $$v)},expression:\"form.remark\"}})],1)],1),_c('el-button',{staticClass:\"save\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.saveQuotation}},[_vm._v(\"Save\")])],1):_vm._e(),_c('el-divider'),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.submit}},[_vm._v(\"Submit Request\")]),_c('el-button',{on:{\"click\":_vm.closeQuotation}},[_vm._v(\"Discard\")])],1)],1),_c('input',{staticStyle:{\"display\":\"none\"},attrs:{\"type\":\"file\",\"id\":\"imgFile\",\"accept\":\".jpg,.png,.gif\"},on:{\"change\":function($event){return _vm.Base64($event)}}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <el-dialog\r\n      title=\"Request a quotation for products\"\r\n      :visible.sync=\"openCardDialog\"\r\n      @close='closeDialog'\r\n    >\r\n      <el-divider></el-divider>\r\n      <div class=\"proQuotation\" v-if=\"imgView\">\r\n        <div class=\"quotationTit\">products for quotation</div>\r\n        <div style=\"display: flex\">\r\n          <div class=\"imgList\">\r\n            <img\r\n              :src=\"item\"\r\n              v-for=\"item in imgList\"\r\n              :key=\"item\"\r\n              class=\"upload imgItem\"\r\n            />\r\n          </div>\r\n          <div class=\"upload\" @click=\"openForm\">\r\n            <i class=\"el-icon-plus\"></i>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <!-- from -->\r\n      <div class=\"formRole\" v-if=\"isForm\" v-loading=\"loading\">\r\n        <div class=\"quotationTit\">Product information</div>\r\n        <el-form :model=\"form\" label-position=\"left\" label-width=\"150px\">\r\n          <el-form-item label=\"Product images:\" required>\r\n            <div class=\"upload\" @click=\"uploadOpen\">\r\n              <i class=\"el-icon-plus\" v-if=\"!form.imgUrl\"></i>\r\n              <el-image\r\n                style=\"width: 100%; height: 100%\"\r\n                :src=\"form.imgUrl\"\r\n                :fit=\"'cover'\"\r\n                v-else\r\n              ></el-image>\r\n            </div>\r\n          </el-form-item>\r\n          <el-form-item label=\"Details:\" required>\r\n            <el-input\r\n              v-model=\"form.details\"\r\n              placeholder=\"Product name / URL / description or anything you can tell us\"\r\n            >\r\n            </el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"Expected price (US$):\">\r\n            <el-input-number v-model=\"form.price\" :controls=\"false\"></el-input-number>\r\n          </el-form-item>\r\n          <el-form-item label=\"Remarks:\">\r\n            <el-input\r\n              v-model=\"form.remark\"\r\n              :placeholder=\"`Leave your message that you want to tell ${$root.$children[0].pName.a} Vendors`\"\r\n            >\r\n            </el-input>\r\n          </el-form-item>\r\n        </el-form>\r\n        <el-button type=\"primary\" class=\"save\" @click=\"saveQuotation\"\r\n          >Save</el-button\r\n        >\r\n      </div>\r\n      <el-divider></el-divider>\r\n      <!-- <footer> -->\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button type=\"primary\" @click=\"submit\">Submit Request</el-button>\r\n        <el-button @click=\"closeQuotation\">Discard</el-button>\r\n      </div>\r\n    </el-dialog>\r\n    <input\r\n      @change=\"Base64($event)\"\r\n      type=\"file\"\r\n      id=\"imgFile\"\r\n      accept=\".jpg,.png,.gif\"\r\n      style=\"display: none\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    visible: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      form: {\r\n        imgUrl: \"\",\r\n        details: \"\",\r\n        price: undefined,\r\n        remark: \"\",\r\n      },\r\n      imgView:false,\r\n      outerVisible: false,\r\n      innerVisible: false,\r\n      isForm: true,\r\n      loading: false,\r\n      dialogVisible: false,\r\n      imgList: [],\r\n      detailsList: [],\r\n      priceList: [],\r\n      remarkList: [],\r\n    };\r\n  },\r\n  computed: {\r\n    openCardDialog: {\r\n      get() {\r\n        return this.visible;\r\n      },\r\n      set(val) {\r\n        this.$emit(\"update:visible\", val); // openCardDialog改变的时候通知父组件\r\n      },\r\n    },\r\n  },\r\n  mounted(){\r\n    \r\n\r\n  },\r\n  methods: {\r\n    openForm() {\r\n      this.isForm = true;\r\n      this.loading = true;\r\n      setTimeout(() => {\r\n        this.loading = false;\r\n      }, 800);\r\n    },\r\n    uploadOpen() {\r\n      document.getElementById(\"imgFile\").click();\r\n    },\r\n    Base64(el) {\r\n      if (el.target.value) {\r\n        let reader = new FileReader(),\r\n          img = new Image(),\r\n          ext = \"\";\r\n        reader.onload = (e) => {\r\n          img.src = e.target.result;\r\n          let extArr = e.target.result.match(/data:image\\/(.*);base64,.*/);\r\n          ext = extArr[1];\r\n        };\r\n        img.onload = (e) => {\r\n          base64Image({\r\n            file: el.target,\r\n            callback: (rst) => {\r\n              let base64 = rst.split(\"base64,\").pop();\r\n              this.uploadImgBase64(base64, ext);\r\n            },\r\n          })\r\n        };\r\n        reader.readAsDataURL(el.target.files[0]);\r\n      }\r\n    },\r\n    uploadImgBase64(base64, ext) {\r\n      this.loading = true;\r\n      this.$apiCall(\r\n        \"api.User.uploadImgBase64\",\r\n        { imgUrlBase64: base64, ext },\r\n        (r) => {\r\n          this.loading = false;\r\n          if (r.ErrorCode == 9999) {\r\n            this.form.imgUrl = r.Data.Results.imgUrl;\r\n          } else {\r\n            this.$message.error(r.Message);\r\n          }\r\n        }\r\n      );\r\n    },\r\n    saveQuotation() {\r\n      if (this.form.imgUrl == \"\") {\r\n        this.$message.error(\"Please select a picture !\");\r\n        return false;\r\n      }\r\n      if (this.form.details == \"\") {\r\n        this.$message.error(\"Please fill in the details !\");\r\n        return false;\r\n      }\r\n      this.imgView = true;\r\n      this.isForm = false;\r\n      this.imgList.push(this.form.imgUrl);\r\n      this.detailsList.push(this.form.details);\r\n      this.priceList.push(this.form.price);\r\n      this.remarkList.push(this.form.remark);\r\n      this.form = {\r\n        imgUrl: \"\",\r\n        details: \"\",\r\n        price: undefined,\r\n        remark: \"\",\r\n      };\r\n    },\r\n    closeQuotation() {\r\n      this.openCardDialog = false;\r\n      this.form = {\r\n        imgUrl: \"\",\r\n        details: \"\",\r\n        price: undefined,\r\n        remark: \"\",\r\n      };\r\n      this.imgList= [];\r\n      this.detailsList= [];\r\n      this.priceList= [];\r\n      this.remarkList= [];\r\n      this.isForm = true;\r\n      this.imgView = false;\r\n    },\r\n    closeDialog(){\r\n    this.closeQuotation()\r\n    },\r\n    submit() {\r\n      let products = [];\r\n      for(let i = 0;i<this.imgList.length;i++){\r\n        products.push({\r\n          detail: this.detailsList[i],\r\n          imgUrl: this.imgList[i],\r\n          expectPrice: this.priceList[i],\r\n          remarks: this.remarkList[i],\r\n        })\r\n      }\r\n      this.$apiCall(\r\n        \"api.OfferList.genOfferProduct\",\r\n        {\r\n          products\r\n        },\r\n        (r) => {\r\n          if(r.ErrorCode == 9999){\r\n            this.$message.success(\"Submit Success !\");\r\n            this.closeQuotation();\r\n            this.$router.push('/Waiting-for-vendors-respond')\r\n          }else{\r\n            this.$message.error(r.Message)\r\n          }\r\n        }\r\n      );\r\n    },\r\n  },\r\n  components: {},\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.formRole {\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin: 20px;\r\n  padding: 20px;\r\n  background: rgb(242, 243, 242);\r\n}\r\n.proQuotation {\r\n  margin: 20px;\r\n}\r\n.save {\r\n  margin: 0 auto;\r\n  width: 100px;\r\n  text-align: center;\r\n}\r\n.upload {\r\n  background-color: #fbfdff;\r\n  border: 1px dashed #c0ccda;\r\n  border-radius: 6px;\r\n  box-sizing: border-box;\r\n  width: 110px;\r\n  height: 110px;\r\n  cursor: pointer;\r\n  line-height: 110px;\r\n  vertical-align: top;\r\n  text-align: center;\r\n  margin-right: 15px;\r\n  i {\r\n    font-size: 16px;\r\n  }\r\n}\r\n\r\n.quotationTit {\r\n  margin-bottom: 15px;\r\n  color: #222;\r\n  font-size: 17px;\r\n}\r\n.imgItem {\r\n  object-fit: cover;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./productQuotation.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./productQuotation.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./productQuotation.vue?vue&type=template&id=6167711f&scoped=true&\"\nimport script from \"./productQuotation.vue?vue&type=script&lang=js&\"\nexport * from \"./productQuotation.vue?vue&type=script&lang=js&\"\nimport style0 from \"./productQuotation.vue?vue&type=style&index=0&id=6167711f&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6167711f\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}