(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["WaitingForAllocated"],{"2d10":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.item.shippingJson?a("el-popover",{attrs:{"popper-class":"customer-popover",placement:"bottom",width:"600",trigger:"hover"}},[2==t.type?a("span",{staticStyle:{cursor:"pointer"},attrs:{slot:"reference"},slot:"reference"},[a("span",[t._v(t._s(t.item.codeName||""))]),a("i",{staticClass:"el-icon-caret-bottom el-icon--right"})]):a("span",{staticClass:" d-flex",staticStyle:{cursor:"pointer"},attrs:{slot:"reference"},slot:"reference"},["mini"==t.size?a("span",[a("i",{staticClass:"el-icon-user-solid",staticStyle:{color:"#909399"}})]):a("span",{staticClass:" tx-ellipsis1",staticStyle:{display:"inline-block","max-width":"160px","font-size":"12px"}},[t._v(t._s(t.item.shippingJson.name||""))]),a("i",{staticClass:"el-icon-caret-bottom el-icon--right"})]),a("div",{staticClass:"title"},[a("div",{staticClass:"left"},[t._v("Shopify Order "+t._s(t.item.codeName))]),t.item.timeCreated?a("div",{staticClass:"right"},[a("span",[t._v("Order Date: ")]),t._v(" "+t._s(t.moment(t.item.timeCreated).format("ll [at] LTS"))+" ")]):t._e()]),a("div",{staticClass:"mg-y-15 mg-t-20 pd-x-20"},[a("div",{staticClass:"title2"},[t._v("Shipping address")]),a("div",{staticClass:"info"},[a("div",{staticClass:"info-row"},[a("div",[a("span",[t._v("Customer")]),t._v(" "+t._s(t.item.shippingJson.name||"---")+" "),t.item.shippingJson.name?a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"copy",placement:"right"}},[a("el-button",{attrs:{size:"mini",type:"text"}},[a("i",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.item.shippingJson.name,expression:"item.shippingJson.name",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}],staticClass:"el-icon-document-copy"})])],1):t._e()],1)]),a("div",{staticClass:"info-row",style:{marginBottom:t.item.shippingJson.country?"0":"10px"}},[a("div",[a("span",[t._v("Address")]),t._v(" "+t._s(t.item.shippingJson.zip||"")+" "+t._s(t.item.shippingJson.address1||"")+" "+t._s(t.item.shippingJson.city||"")+" "+t._s(t.item.shippingJson.province||"")+" "),t.item.shippingJson.address1?a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"copy",placement:"right"}},[a("el-button",{attrs:{size:"mini",type:"text"}},[a("i",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:(t.item.shippingJson.zip||"")+" "+(t.item.shippingJson.address1||"")+"  "+(t.item.shippingJson.city||"")+"  "+(t.item.shippingJson.province||"")+" "+(t.item.shippingJson.country||""),expression:"`${item.shippingJson.zip || ''} ${item.shippingJson.address1 || ''}  ${item.shippingJson.city ||  ''}  ${item.shippingJson.province || ''} ${item.shippingJson.country || ''}`",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}],staticClass:"el-icon-document-copy"})])],1):t._e()],1)]),t.item.shippingJson.country?a("div",{staticClass:"info-row"},[a("div",[a("span"),t._v(" "+t._s(t.item.shippingJson.country))])]):t._e(),a("div",{staticClass:"info-row"},[a("div",[a("span",[t._v("Apartment, sulte, etc.")]),t._v(" "+t._s(t.item.shippingJson.address2||"---")+" "),t.item.shippingJson.address2?a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"copy",placement:"right"}},[a("el-button",{attrs:{size:"mini",type:"text"}},[a("i",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.item.shippingJson.address2,expression:"item.shippingJson.address2",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}],staticClass:"el-icon-document-copy"})])],1):t._e()],1)]),a("div",{staticClass:"info-row"},[a("div",[a("span",[t._v("City")]),t._v(" "+t._s(t.item.shippingJson.city||"---")+" "),t.item.shippingJson.city?a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"copy",placement:"right"}},[a("el-button",{attrs:{size:"mini",type:"text"}},[a("i",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.item.shippingJson.city,expression:"item.shippingJson.city",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}],staticClass:"el-icon-document-copy"})])],1):t._e()],1),a("div",[a("span",[t._v("State")]),t._v(" "+t._s(t.item.shippingJson.province||"---")+" "),t.item.shippingJson.province?a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"copy",placement:"right"}},[a("el-button",{attrs:{size:"mini",type:"text"}},[a("i",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.item.shippingJson.province,expression:"item.shippingJson.province",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}],staticClass:"el-icon-document-copy"})])],1):t._e()],1)]),a("div",{staticClass:"info-row"},[a("div",[a("span",[t._v("Country")]),t._v(" "+t._s(t.item.shippingJson.country||"---")+" "),t.item.shippingJson.country?a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"copy",placement:"right"}},[a("el-button",{attrs:{size:"mini",type:"text"}},[a("i",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.item.shippingJson.country,expression:"item.shippingJson.country",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}],staticClass:"el-icon-document-copy"})])],1):t._e()],1),a("div",[a("span",[t._v("Zipcode")]),t._v(" "+t._s(t.item.shippingJson.zip||"---")+" "),t.item.shippingJson.zip?a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"copy",placement:"right"}},[a("el-button",{attrs:{size:"mini",type:"text"}},[a("i",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.item.shippingJson.zip,expression:"item.shippingJson.zip",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}],staticClass:"el-icon-document-copy"})])],1):t._e()],1)])]),a("div",{staticClass:"title2"},[t._v("Contact Information")]),a("div",{staticClass:"info"},[a("div",{staticClass:"info-row"},[a("div",[a("span",[t._v("Phone number")]),t._v(" "+t._s(t.item.shippingJson.phone||"---")+" "),t.item.shippingJson.phone?a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"copy",placement:"right"}},[a("el-button",{attrs:{size:"mini",type:"text"}},[a("i",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.item.shippingJson.phone,expression:"item.shippingJson.phone",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}],staticClass:"el-icon-document-copy"})])],1):t._e()],1)]),a("div",{staticClass:"info-row"},[a("div",[a("span",[t._v("Email")]),t._v(" "+t._s(t.item.email||"---")+" "),t.item.email?a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"copy",placement:"right"}},[a("el-button",{attrs:{size:"mini",type:"text"}},[a("i",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.item.email,expression:"item.email",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}],staticClass:"el-icon-document-copy"})])],1):t._e()],1)])]),t.item.ioss?[a("div",{staticClass:"title2"},[t._v("IOSS Information")]),a("div",{staticClass:"info"},[a("div",{staticClass:"info-row"},[a("div",[a("span",[t._v("IOSS Id")]),t._v(" "+t._s(t.item.ioss)+" ")])])])]:t._e(),t.item.note?[a("div",{staticClass:"title2"},[t._v("Notes")]),a("div",{staticClass:"info"},[a("div",{staticClass:"info-row"},[a("div",{staticStyle:{"word-break":"break-all"}},[a("span",[t._v("Notes")]),t._v(" "+t._s(t.item.note)+" "),t.item.note?a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"copy",placement:"right"}},[a("el-button",{attrs:{size:"mini",type:"text"}},[a("i",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.item.note,expression:"item.note",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}],staticClass:"el-icon-document-copy"})])],1):t._e()],1)])])]:t._e()],2)]):a("span",[t._v("---")]),t.item.note&&t.isicon?a("span",{staticClass:"mg-l-5"},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.item.note,placement:"top"}},[a("i",{staticClass:"el-icon-info",staticStyle:{"font-size":"12px",width:"12px",color:"#5c6ac4"}})])],1):t._e()],1)},s=[],l={props:["item","type","size","isicon"],methods:{onCopy:function(t){this.$emit("onCopy",t)},onError:function(t){this.$emit("onError",t)}}},o=l,r=(a("6c89"),a("2877")),n=Object(r["a"])(o,i,s,!1,null,"1df2d8d3",null);e["a"]=n.exports},"340e":function(t,e,a){t.exports=a.p+"img/shopify_icon.862d4ffa.png"},3416:function(t,e,a){"use strict";a("5267")},4114:function(t,e,a){"use strict";a("8dc5")},4350:function(t,e,a){"use strict";a("b65d")},"4d6b":function(t,e,a){t.exports=a.p+"img/lazada_icon.895bb3eb.png"},5267:function(t,e,a){},5310:function(t,e,a){},6141:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen",value:t.loading,expression:"loading",modifiers:{fullscreen:!0}}],attrs:{"element-loading-background":"rgba(0, 0, 0, 0.3)"}},[a("div",{ref:"tablefilter"},[a("div",{staticStyle:{"margin-bottom":"5px","font-size":"12px"}},[a("el-alert",{attrs:{type:"warning",closable:!1}},[a("div",{staticClass:"table-wrap",attrs:{slot:"title"},slot:"title"},[t._v(" * In this tab, we will only filter your "),a("span",{staticClass:"el-tag el-tag--info el-tag--small el-tag--light"},[a("span",{staticClass:"-EFlq bg3"}),t._v(" Paid ")]),t._v(" + "),a("span",[a("span",{staticClass:"el-tag el-tag--warning el-tag--small el-tag--light"},[a("span",{staticClass:"-EFlq bg1"}),t._v(" Unfulfilled ")])]),t._v(" / "),a("span",[a("span",{staticClass:"shopfiy-status el-tag el-tag--danger el-tag--small el-tag--light"},[a("span",{staticClass:"-EFlq bg2"}),t._v(" Partially Fulfilled ")])]),t._v(" Orders which you can allocate to your vendor to process. ")])])],1),a("div",{staticStyle:{"margin-bottom":"5px"}},[a("div",{staticClass:"left d-flex",staticStyle:{"flex-wrap":"wrap"}},[a("el-checkbox",{attrs:{size:"small"},on:{change:t.changeAllCheckedT},model:{value:t.AllChecked,callback:function(e){t.AllChecked=e},expression:"AllChecked"}},[a("span",{staticStyle:{"margin-right":"15px","font-size":"12px"}},[t._v("All ("+t._s(t.CAllChecked.num)+" / "+t._s(t.tableDataCopy.length)+")")])]),a("div",{staticClass:"mg-r-10"},[a("el-input",{staticStyle:{width:"190px"},attrs:{size:"mini",placeholder:"Order ID"},on:{clear:function(e){return t.clearFilter("name")}},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.filterItems("name")}},model:{value:t.codeName,callback:function(e){t.codeName=e},expression:"codeName"}},[a("template",{slot:"prepend"},[t._v("#")])],2)],1),a("div",{staticClass:"mg-r-10"},[a("el-cascader",{key:t.cascaderKey,attrs:{size:"mini",placeholder:"All my stores",options:t.options,props:{expandTrigger:"hover"}},on:{change:function(e){return t.filterItems("store")}},model:{value:t.filterParams.shopifyStore,callback:function(e){t.$set(t.filterParams,"shopifyStore",e)},expression:"filterParams.shopifyStore"}})],1),a("el-button-group",{staticClass:" mg-r-10",staticStyle:{"min-width":"345px",height:"28px"}},[a("el-popover",{attrs:{placement:"bottom",title:"",trigger:"click","popper-class":"d-block"},model:{value:t.popDateFilter,callback:function(e){t.popDateFilter=e},expression:"popDateFilter"}},[a("el-radio-group",{staticStyle:{"max-height":"200px"},on:{change:function(e){return t.filterItems("date")}},model:{value:t.filterParams.timeFilter,callback:function(e){t.$set(t.filterParams,"timeFilter",e)},expression:"filterParams.timeFilter"}},t._l(t.dateArr,(function(e,i){return a("el-radio",{key:i,attrs:{label:i}},[t._v(t._s(e))])})),1),6==t.filterParams.timeFilter?a("div",[a("el-date-picker",{attrs:{size:"mini","value-format":"yyyy-MM-dd",type:"daterange",align:"right","unlink-panels":"","range-separator":"-","start-placeholder":"Start","end-placeholder":"End"},on:{change:t.dateChange},model:{value:t.filterDate,callback:function(e){t.filterDate=e},expression:"filterDate"}})],1):t._e(),a("div",{staticClass:" d-flex justify-content-end"},[a("el-link",{attrs:{type:"danger",disabled:!t.filterParams.timeFilter},on:{click:function(e){return t.clearFilter("date")}}},[t._v("Clear")])],1),a("el-button",{attrs:{slot:"reference",size:"mini"},slot:"reference"},[t._v("Date Ranges"),a("i",{staticClass:"el-icon-caret-bottom el-icon--right"})])],1),a("el-popover",{attrs:{placement:"bottom",title:"",trigger:"click","popper-class":"d-block"},model:{value:t.popFulfillFilter,callback:function(e){t.popFulfillFilter=e},expression:"popFulfillFilter"}},[a("el-checkbox-group",{on:{change:function(e){return t.filterItems("fulfill")}},model:{value:t.filterParams.fulfillStatus,callback:function(e){t.$set(t.filterParams,"fulfillStatus",e)},expression:"filterParams.fulfillStatus"}},[a("el-checkbox",{attrs:{label:"unfulfilled"}},[t._v("Unfulfilled")]),a("el-checkbox",{attrs:{label:"partial"}},[t._v("Partially fulfilled")])],1),a("div",{staticClass:" d-flex justify-content-end"},[a("el-link",{attrs:{type:"danger",disabled:!t.filterParams.fulfillStatus.length},on:{click:function(e){return t.clearFilter("fulfill")}}},[t._v("Clear")])],1),a("el-button",{attrs:{slot:"reference",size:"mini"},slot:"reference"},[t._v("Fulfillment Status"),a("i",{staticClass:"el-icon-caret-bottom el-icon--right"})])],1),a("el-popover",{attrs:{placement:"bottom",title:"",trigger:"click","popper-class":"d-block"},model:{value:t.popSortFilter,callback:function(e){t.popSortFilter=e},expression:"popSortFilter"}},[a("el-radio-group",{on:{change:function(e){return t.filterItems("sort")}},model:{value:t.filterParams.sortBy,callback:function(e){t.$set(t.filterParams,"sortBy",e)},expression:"filterParams.sortBy"}},t._l(t.sortArr,(function(e,i){return a("el-radio",{key:i,attrs:{label:i}},[t._v(t._s(e))])})),1),a("div",{staticClass:" d-flex justify-content-end"},[a("el-link",{attrs:{type:"danger",disabled:!t.filterParams.sortBy},on:{click:function(e){return t.clearFilter("sort")}}},[t._v("Clear")])],1),a("el-button",{attrs:{slot:"reference",size:"mini"},slot:"reference"},[t._v("SortBy"),a("i",{staticClass:"el-icon-caret-bottom el-icon--right"})])],1)],1),a("div",{staticStyle:{"min-width":"130px"}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.filterItems()}}},[t._v("Filter")]),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(e){return t.clearFilter()}}},[t._v("Clear")])],1),t.tableDataCopy.length&&t.CAllChecked.num?a("el-alert",{staticStyle:{margin:"0 20px","max-width":"400px","font-size":"12px"},attrs:{type:"warning",center:"","show-icon":"",closable:!1}},[a("div",{attrs:{slot:"title"},slot:"title"},[t.CAllChecked.num==t.tableDataCopy.length?a("el-link",{attrs:{type:"warning"},on:{click:function(e){return t.changeAllCheckedT(!1)}}},[t._v(t._s(t.CAllChecked.num)+" orders selected, uncheck")]):t._e(),t.CAllChecked.num&&t.CAllChecked.num<t.tableDataCopy.length?a("el-link",{attrs:{type:"primary"},on:{click:function(e){return t.changeAllCheckedT(!0)}}},[t._v(" "+t._s(t.CAllChecked.num)+" orders selected, select all ("+t._s(t.tableDataCopy.length)+") orders ")]):t._e()],1)]):t._e()],1),a("div",{staticClass:"right"})]),a("div",[t.filterParams.codeName?a("el-tag",{staticClass:"mg-r-5",attrs:{size:"small",type:"info",closable:""},on:{close:function(e){return t.clearFilter("name")}}},[t._v("#"+t._s(t.filterParams.codeName))]):t._e(),t.filterParams.shopifyStore.length?a("el-tag",{staticClass:"mg-r-5",attrs:{size:"small",type:"info",closable:""},on:{close:function(e){return t.clearFilter("store")}}},[t._v(t._s(t.shopifyStoreName))]):t._e(),t.filterParams.timeFilter?a("el-tag",{staticClass:"mg-r-5",attrs:{size:"small",type:"info",closable:""},on:{close:function(e){return t.clearFilter("date")}}},[t._v(" "+t._s(t.dateArr[t.filterParams.timeFilter])+" "),6==t.filterParams.timeFilter&&t.filterDate.length?a("span",[t._v(" "+t._s(t.filterDate[0])+"--"+t._s(t.filterDate[1])+" ")]):t._e()]):t._e(),t.filterParams.fulfillStatus.length?a("el-tag",{staticClass:"mg-r-5",attrs:{size:"small",type:"info",closable:""},on:{close:function(e){return t.clearFilter("fulfill")}}},[t._v(" "+t._s("unfulfilled"==t.filterParams.fulfillStatus[0]?"Unfulfilled":"Partially fulfilled")),t.filterParams.fulfillStatus.length>1?a("span",[t._v(","+t._s("unfulfilled"==t.filterParams.fulfillStatus[1]?"Unfulfilled":"Partially fulfilled"))]):t._e()]):t._e(),t.filterParams.sortBy?a("el-tag",{staticClass:"mg-r-5",attrs:{size:"small",type:"info",closable:""},on:{close:function(e){return t.clearFilter("sort")}}},[t._v(t._s(t.sortArr[t.filterParams.sortBy]))]):t._e()],1)]),a("div",{staticClass:"table-wrap",staticStyle:{"min-width":"930px"}},[a("div",{staticClass:"table-titel"},[a("el-row",{staticClass:"hidden-md-and-down"},[a("el-col",{attrs:{span:3,xs:3}},[t.tableData.length?a("a",{staticClass:" mg-r-10",attrs:{href:"javascript:;"},on:{click:t.changeAllExpand}},[a("i",{staticClass:" fa",class:t.isAllExpand?"fa-minus-square":"fa-plus-square"})]):t._e(),a("span",{staticClass:" title-tx"},[t._v("Order")])]),a("el-col",{staticStyle:{"min-width":"100px"},attrs:{xl:3,lg:5,xs:5}},[a("span",{staticClass:" title-tx"},[t._v("My Store")])]),a("el-col",{attrs:{xl:3,lg:3,xs:3}},[a("span",{staticClass:" title-tx"},[t._v("Date")])]),a("el-col",{staticClass:"hidden-lg-and-down",attrs:{span:3}},[a("span",{staticClass:" title-tx customer-title"},[t._v("Customer")])]),a("el-col",{staticClass:"hidden-xl-only",attrs:{span:1,xs:1}}),a("el-col",{staticStyle:{"justify-content":"flex-end"},attrs:{span:3,xs:3}},[a("span",{staticClass:" title-tx",staticStyle:{"margin-right":"40px"}},[t._v("Total")])]),a("el-col",{attrs:{span:3,xs:3}},[a("span",{staticClass:" title-tx"},[t._v("Fulfillment")])]),a("el-col",{attrs:{span:2,xs:2}},[a("span",{staticClass:" title-tx"},[t._v("Items")])]),a("el-col",{attrs:{span:4,xs:4}})],1)],1),t.tableData.length?a("vxe-list",{ref:"orderTree",staticClass:"my-tree",attrs:{data:t.tableData},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.items;return[t._l(i,(function(e,i){return a("div",{key:e._id+"_"+i,staticClass:"my-tree-item",class:["level-"+e._LEVEL,{"has-child":e._HAS_CHILDREN,"is-expand":e._EXPAND,bg:e.bg}],staticStyle:{"font-size":"12px"}},[0===e._LEVEL?a("el-row",{staticClass:"order-itm-row",style:{borderBottom:e._EXPAND?"1px #E4E7ED solid":"none"},attrs:{gutter:20}},[a("el-col",{staticStyle:{"padding-left":"10px"},attrs:{span:3}},[a("el-checkbox",{staticStyle:{"margin-right":"5px","margin-top":"4px"},model:{value:e.checked,callback:function(a){t.$set(e,"checked",a)},expression:"item.checked"}}),a("a",{staticClass:" mg-r-10",attrs:{href:"javascript:;"},on:{click:function(a){return t.toggleTreeNode(e)}}},[a("i",{staticClass:" fa ",class:e._EXPAND?"fa-minus-square":"fa-plus-square"})]),a("span",{staticStyle:{"white-space":"nowrap","font-size":"12px"}},[t._v(" "+t._s(e.codeName)+" "),e.note?a("span",{staticClass:"mg-l-5"},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.note,placement:"top"}},[a("i",{staticClass:"el-icon-info",staticStyle:{"font-size":"12px",width:"12px",color:"#5c6ac4"}})])],1):t._e()])],1),a("el-col",{staticClass:" tx-ellipsis1",attrs:{xl:3,lg:5}},[a("div",[a("div",{staticClass:" tx-ellipsis1",staticStyle:{"min-width":"100px","max-width":"190px","font-size":"12px",display:"flex"}},[a("shopCate",{attrs:{items:e}}),t._v(" "+t._s(e.store))],1)])]),a("el-col",{staticClass:"hidden-md-and-down",attrs:{xl:3,lg:3}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.moment(e.timeCreated).format("ll [at] LTS"),placement:"top"}},[a("span",{staticClass:" tx-ellipsis1",staticStyle:{"word-break":"break-all","font-size":"12px"}},[t._v(t._s(t.moment(e.timeCreated).format("ll")))])])],1),a("el-col",{staticClass:"hidden-lg-and-down",attrs:{span:3}},[a("popShippingJson",{attrs:{item:e},on:{onCopy:t.onCopy,onError:t.onError}})],1),a("el-col",{staticClass:"hidden-xl-only",attrs:{span:1}},[a("popShippingJson",{attrs:{item:e,size:"mini"},on:{onCopy:t.onCopy,onError:t.onError}})],1),a("el-col",{staticStyle:{"justify-content":"flex-end"},attrs:{span:3}},[a("div",{staticStyle:{"margin-right":"25px","min-width":"50px"}},[e.currency?a("span",[t._v(t._s(t.ce[e.currency]?t.ce[e.currency].symbol:e.currency)+" ")]):t._e(),t._v(" "+t._s(e.totalPrice)+" ")])]),a("el-col",{staticClass:"hidden-md-and-down",attrs:{span:3}},[a("fulfillMentStatusTag",{attrs:{fulfillmentStatus:e.fulfillmentStatus}})],1),a("el-col",{staticClass:"hidden-md-and-down",attrs:{span:2}},[a("span",[t._v(t._s(e.items.length)+" Items")])]),a("el-col",{attrs:{span:4}},[a("el-link",{staticClass:"mg-l-20",staticStyle:{display:"inline","min-width":"170px"},attrs:{underline:!1,type:"primary"},on:{click:function(a){return t.openAllocateToVendor(e)}}},[t._v(" Allocate all to vendor ")])],1)],1):a("el-row",{staticClass:"sku-itm-row"},[a("el-col",{staticClass:"tree-sub-first",staticStyle:{border:"none"},attrs:{span:1}}),a("el-col",{attrs:{span:12}},[a("div",{staticStyle:{display:"flex","align-items":"center"}},[a("el-image",{staticStyle:{"min-width":"70px",width:"70px",height:"70px",margin:"5px 15px 5px 0",border:"1px solid #E4E7ED"},attrs:{src:e.imgUrl,"preview-src-list":[e.imgUrl]}},[a("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[a("i",{staticClass:"el-icon-picture-outline",staticStyle:{"font-size":"20px"}})])]),a("div",{staticStyle:{flex:"1","font-size":"12px"}},[a("p",{staticClass:" tx-ellipsis2"},[t._v(t._s(e.name))]),e.customerProperties&&e.customerProperties.length?a("div",t._l(e.customerProperties,(function(e){return a("div",{staticClass:"mg-r-5",staticStyle:{display:"inline-block"}},[a("span",{staticStyle:{color:"#909399"}},[t._v(t._s(e.name)+": ")]),t._v(" "+t._s(e.value)+" ")])})),0):t._e(),a("p",[a("span",{staticStyle:{color:"#909399"}},[t._v("SKU: ")]),t._v(t._s(e.sku))])])],1)]),a("el-col",{staticStyle:{"padding-left":"15px"},attrs:{span:8}},[e.unfulfillQuantity>0&&e.unfulfillQuantity<e.quantity?t._e():a("p",{class:e.unfulfillQuantity>0&&e.unfulfillQuantity<e.quantity?"line":""},[t._v(" x "+t._s(e.quantity)+" ")]),e.unfulfillQuantity>0&&e.unfulfillQuantity<e.quantity?a("p",[a("span",[t._v(" x "+t._s(e.unfulfillQuantity)+" ")]),a("span",{staticStyle:{color:"#c05717","margin-left":"20px"}},[t._v("("+t._s(e.fulfillQuantity)+" of "+t._s(e.quantity)+" purchased items are delivered)")])]):t._e(),0==e.unfulfillQuantity?a("p",[a("span",[t._v("("+t._s(e.fulfillQuantity)+" of "+t._s(e.quantity)+" fulfilled)")])]):t._e()]),a("el-col",{staticStyle:{"margin-left":"-15px"},attrs:{span:3}},[a("el-link",{attrs:{type:"primary"},on:{click:function(a){return t.openAllocateToVendor(e)}}},[t._v("Allocate to vendor")])],1)],1)],1)})),t.bottomLoading?a("div",{staticClass:" tx-center",staticStyle:{padding:"10px 0"}},[a("i",{staticClass:"el-icon-loading"}),t._v(" Loading")]):t._e()]}}],null,!1,3913790582)}):t.loading?t._e():a("div",{staticClass:"nodata",style:{height:t.tableHeight+"px"}},[t._v(" No data ")])],1),a("div",{ref:"tableFooter"},[t.tableData.length?a("el-row",{attrs:{gutter:20}},[a("el-col",{staticClass:" d-flex justify-content-center",attrs:{span:24}},[a("div",{staticStyle:{position:"relative",top:"10px"}},[a("el-pagination",{attrs:{"current-page":Number(t.page),background:!0,layout:"sizes, total, prev, pager, next, jumper","page-sizes":t.pageSize,"page-size":t.rowsPerPage,total:Number(t.totalCount)},on:{"current-change":t.toPage,"size-change":t.changePageSize}})],1)])],1):t._e()],1),a("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:t.dialogAllocated.loading,expression:"dialogAllocated.loading"}],staticClass:"dialog-allocated",attrs:{title:1==t.dialogAllocated.status?"Select a vendor":"Product has been allocated",visible:t.dialogAllocated.isShow,width:1==t.dialogAllocated.status?"700px":"1000px"},on:{"update:visible":function(e){return t.$set(t.dialogAllocated,"isShow",e)},closed:t.closeAllocated}},[1==t.dialogAllocated.status?a("div",{staticClass:"vendors-wrap"},[a("div",{staticClass:" mg-b-10 d-flex"},[a("el-input",{staticStyle:{"margin-right":"5px",width:"300px"},attrs:{placeholder:"Vendor name / contact / shop name etc.",size:"mini",clearable:""},on:{clear:function(e){return t.getVendors(1)}},nativeOn:{keyup:function(e){return t.getVendors(1)}},model:{value:t.dialogAllocated.vendorLike,callback:function(e){t.$set(t.dialogAllocated,"vendorLike",e)},expression:"dialogAllocated.vendorLike"}})],1),a("el-table",{staticStyle:{"margin-bottom":"5px"},attrs:{border:"",stripe:"","highlight-current-row":"",data:t.dialogAllocated.vendors}},[a("el-table-column",{attrs:{label:t.$root.$children[0].pName.a+" ID",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.vendorId?a("i",{staticClass:" mg-r-10 el-icon-user-solid",staticStyle:{color:"#909399"}}):t._e(),a("span",[t._v(t._s(e.row.vendorId||"NOT Joined"))])]}}],null,!1,2733871955)}),a("el-table-column",{attrs:{label:"Vendor name",prop:"vendorName",width:"300"}}),a("el-table-column",{attrs:{label:"",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-popconfirm",{attrs:{title:"Allocate "+t.dialogAllocated.skus.length+" products to this vendor？","confirm-button-text":"Confirm","cancel-button-text":"Cancel"},on:{onConfirm:function(a){return t.selectVendor(e.row)}}},[a("el-button",{attrs:{slot:"reference",type:"primary",size:"mini"},slot:"reference"},[t._v("Select")])],1)]}}],null,!1,1432527780)})],1),a("div",{staticClass:" d-flex",staticStyle:{"justify-content":"center"}},[a("el-pagination",{attrs:{"current-page":t.dialogAllocated.page,background:!0,layout:"total, prev, pager, next","page-size":t.dialogAllocated.rowsPerPage,total:Number(t.dialogAllocated.total)},on:{"current-change":t.getVendors}})],1)],1):[a("div",{staticClass:"row1"},[a("i",{staticClass:"el-icon-success",staticStyle:{"margin-right":"15px",color:"#67C23A","font-size":"46px"}}),a("div",{staticClass:"p-list"},[a("div",{staticClass:"pro-item"},[a("el-image",{staticStyle:{"margin-right":"20px","min-width":"50px",width:"50px",height:"50px",border:"1px solid #E4E7ED"},attrs:{src:t.dialogAllocated.skus[0].imgUrl}},[a("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[a("i",{staticClass:"el-icon-picture-outline",staticStyle:{"font-size":"20px"}})])]),a("div",{staticClass:"pro-info"},[a("div",{staticClass:" mg-b-10 tx-ellipsis2"},[t._v(t._s(t.dialogAllocated.skus[0].name))]),a("div",{staticClass:" d-flex"},[a("div",{staticClass:"title"},[t._v("SKU:")]),a("div",[t._v(t._s(t.dialogAllocated.skus[0].sku))])])]),t.dialogAllocated.skus.length>1?a("div",{staticClass:" total"},[a("div",[t._v("total "+t._s(t.dialogAllocated.skus.length)+" products")])]):t._e()],1)]),a("div",{staticClass:"right"},[a("i",{staticClass:"el-icon-right"}),a("span",[a("i",{staticClass:"el-icon-user-solid"}),a("span",[t._v(t._s(t.dialogAllocated.vendor.vendorName))])])])]),t.dialogAllocated.other.length?a("div",{staticClass:" row2"},[a("div",{staticClass:"title"},[t._v(" Here are some other products seems can been allocated to the vendor too, do you want to do it now? ")]),a("div",{staticClass:"select-items"},[a("div",{staticClass:"list"},[a("el-table",{staticClass:"other-table",attrs:{stripe:"","highlight-current-row":"",height:"300",data:t.dialogAllocated.other}},[a("el-table-column",{attrs:{label:"",align:"center",width:"50"},scopedSlots:t._u([{key:"header",fn:function(e){return[a("el-checkbox",{staticStyle:{margin:"0"},on:{change:t.changeAllChecked},model:{value:t.dialogAllocated.allChecked,callback:function(e){t.$set(t.dialogAllocated,"allChecked",e)},expression:"dialogAllocated.allChecked"}})]}},{key:"default",fn:function(e){return[a("el-checkbox",{model:{value:e.row.checked,callback:function(a){t.$set(e.row,"checked",a)},expression:"scope.row.checked"}})]}}],null,!1,1748228933)}),a("el-table-column",{attrs:{label:"Selected products"},scopedSlots:t._u([{key:"header",fn:function(e){return[a("span",[t._v("Selected products ")]),t.allocatedOtherSelectNum?a("span",[t._v("("+t._s(t.allocatedOtherSelectNum)+")")]):t._e()]}},{key:"default",fn:function(e){return[a("div",{staticClass:"pro-info"},[a("el-image",{staticStyle:{"margin-right":"20px","min-width":"50px",width:"50px",height:"50px",border:"1px solid #E4E7ED"},attrs:{src:e.row.imgUrl}},[a("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[a("i",{staticClass:"el-icon-picture-outline",staticStyle:{"font-size":"20px"}})])]),a("div",{staticClass:"right"},[a("div",{staticClass:"name tx-ellipsis2",attrs:{title:e.row.productName+" - "+e.row.propertyValue}},[t._v(" "+t._s(e.row.productName)+" - "+t._s(e.row.propertyValue)+" ")]),a("div",{staticClass:"sku"},[a("span",{staticClass:"title",staticStyle:{"font-size":"12px"}},[t._v("SKU:")]),a("span",[t._v(t._s(e.row.sku))])])])],1)]}}],null,!1,2835279977)})],1)],1),a("div",{staticClass:"action"},[a("div",[a("el-button",{attrs:{type:"primary",size:"small",disabled:!t.allocatedOtherSelectNum},on:{click:t.AllocateNow}},[t._v("Allocate NOW")])],1),a("div",[a("el-button",{attrs:{size:"small"},on:{click:function(e){t.dialogAllocated.isShow=!1}}},[t._v("No thanks")])],1)])])]):t._e()],1==t.dialogAllocated.status||2==t.dialogAllocated.status&&!t.dialogAllocated.other.length?a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogAllocated.isShow=!1}}},[t._v("Close")])],1):t._e()],2),a("div",{staticClass:"ball",style:{top:t.ball.y+"px",left:t.ball.x+"px",opacity:t.ball.opacity}}),a("DistributionVendorDialog",{ref:"DistributionVendorDialog",on:{resetPage:t.resetPage,ballAnimation:t.ballAnimation}}),a("el-backtop",{staticClass:"goto-top",attrs:{target:".main-scroll  .el-scrollbar__wrap",right:20,bottom:120}})],1)},s=[],l=(a("4de4"),a("a15b"),a("d81d"),a("fb6a"),a("a9e3"),a("ac1f"),a("466d"),a("159b"),a("c695")),o=a.n(l),r=a("e98b"),n=a("f02e"),c=a("2d10"),p=a("716a"),d={data:function(){return{AllChecked:!1,options:[{id:1,label:"Shopify",children:[]},{id:2,label:"Woocommerce",children:[]},{id:3,label:"Lazada",children:[]},{id:4,label:"Shopee",children:[]}],cascaderKey:1,loading:!1,tableHeight:400,isAllExpand:!0,tableData:[],tableDataCopy:[],pageSize:[10,20,50],page:this.$route.query.page?Number(this.$route.query.page):1,rowsPerPage:localStorage.getItem("c_waitingForAllocatedRowsPerPage")?Number(localStorage.getItem("c_waitingForAllocatedRowsPerPage")):10,totalCount:0,totalPage:0,allExpand:!1,ce:this.$CE,isManage:1,codeName:"",filterParams:{codeName:"",shopifyStore:[],fulfillStatus:[],timeFilter:"",dateFrom:"",dateTo:"",sortBy:""},filterParamsDefault:"{}",storeList:[],shopifyStoreName:"",popStoreFilter:!1,popFulfillFilter:!1,popDateFilter:!1,popSortFilter:!1,filterDate:[],dateArr:{1:"Today",2:"Last 7 days",3:"Last 30 days",4:"Last 90 days",5:"Last 12 months",6:"Custom"},sortArr:{1:"Order number (ascending)",2:"Order number (descending)",3:"Date (oldest first)",4:"Date (newest first)"},dialogAllocated:{status:1,isShow:!1,loading:!1,skus:[],relationshipId:"",vendors:[],vendorLike:"",page:1,rowsPerPage:5,total:0,totalPage:0,vendor:null,other:[],allChecked:!1},dialogAllocatedDefault:"{}",ball:{x:window.innerWidth/2,y:window.innerHeight/2,opacity:0},bottomLoading:!1,scrollT:0,gvTime:0,keyTimeout:0}},components:{fulfillMentStatusTag:r["a"],DistributionVendorDialog:n["a"],popShippingJson:c["a"],shopCate:p["a"]},watch:{$route:"gotoPage",CAllChecked:function(){this.AllChecked=this.CAllChecked.status},"filterParams.shopifyStore":function(){var t=this;if(this.filterParams.shopifyStore.length){var e=[];this.filterParams.shopifyStore.forEach((function(a){t.storeList.forEach((function(t){a==t.shopifyAccountId&&e.push(t.store)}))})),this.shopifyStoreName=e.join(",")}},isShowFilter:function(){this.isShowFilter},allocatedOtherSelectNum:function(){this.dialogAllocated.other.length?this.$set(this.dialogAllocated,"allChecked",this.allocatedOtherSelectNum==this.dialogAllocated.other.length):this.$set(this.dialogAllocated,"allChecked",!1)}},mounted:function(){var t=this;this.filterParamsDefault=JSON.stringify(this.filterParams),this.dialogAllocatedDefault=JSON.stringify(this.dialogAllocated),"999e"==this.$route.params.vid&&(this.filterParams.timeFilter=""),this.$route.params.id&&(this.filterParams.timeFilter=""),this.$nextTick((function(){t.getStore()})),this.loading=!0,this.$apiCall("api.ShopifyAccount.updateShopifyOrderNow",{},(function(e){t.getItems()}))},beforeDestroy:function(){},computed:{isShowFilter:function(){return!this.filterParams.sortBy&&!this.filterParams.fulfillStatus.length&&!this.filterParams.shopifyStore.length&&!this.filterParams.codeName},allocatedOtherSelectNum:function(){var t=0;return this.dialogAllocated.other.forEach((function(e){e.checked&&t++})),t},checkedOrder:function(){return this.tableDataCopy.filter((function(t){return t.checked}))},CAllChecked:function(){var t=0,e=[];return this.tableDataCopy.forEach((function(a){a.checked&&(t++,a.items?a.items.forEach((function(t){e.push(t.id)})):e.push(a.itemId))})),{num:t,status:t&&t==this.tableDataCopy.length,skus:e}}},methods:{makeAnOffer:function(){var t=this;if(!this.CAllChecked.num)return this.$message({message:"Please select at least one order!",type:"error"}),!1;this.$Burying({object:"14001"}),this.$confirm("Create quotation request?","",{confirmButtonText:"OK",cancelButtonText:"Discard",type:"info"}).then((function(){t.loading=!0,t.$apiCall("api.OfferList.genOffer",{skus:t.CAllChecked.skus},(function(e){t.loading=!1,"9999"==e.ErrorCode?(t.$elementMessage("success","success"),t.$router.push({name:"WaitingForVendorsRespond"})):t.$elementMessage(e.Message,"error")}))})),setTimeout((function(){document.querySelectorAll(".el-message-box__btns .el-button").forEach((function(t){t.blur()}))}),200)},toPage:function(t){t!=this.$route.query.page&&this.$router.push({query:{page:t}})},changePageSize:function(t){this.rowsPerPage=t,localStorage.setItem("c_waitingForAllocatedRowsPerPage",t),this.getItems()},gotoPage:function(){this.page=this.$route.query.page?this.$route.query.page:1,this.getItems()},listScroll:function(){var t=this;this.scrollT=setTimeout((function(){clearTimeout(t.scrollT);var e=document.querySelector(".vxe-list--virtual-wrapper").scrollTop,a=document.querySelector(".vxe-list--body").offsetHeight,i=document.querySelector(".vxe-list--body").style.marginTop?document.querySelector(".vxe-list--body").style.marginTop.match(/\d+/g)[0]:0;a+=Number(i),e+t.tableHeight+100>a&&t.page<=t.totalPage&&t.getItems(2)}),200)},ballAnimation:function(){var t=this;this.$emit("getNum",(new Date).valueOf());var e=function(t){var e=t.offsetTop,a=t.offsetLeft,i=t.offsetParent;while(null!==i)e+=i.offsetTop,a+=i.offsetLeft,i=i.offsetParent;return{left:a,top:e}},a=e(document.getElementById("tab-WaitingForSourcing"));this.ball.opacity=1,this.ball.x=a.left+160,this.ball.y=a.top+20,setTimeout((function(){t.ball.opacity=0}),500),setTimeout((function(){t.ball.x=window.innerWidth/2,t.ball.y=window.innerHeight/2}),1e3)},closeAllocated:function(){2==this.dialogAllocated.status&&this.ballAnimation()},changeAllChecked:function(){var t=this;this.dialogAllocated.other.forEach((function(e){t.$set(e,"checked",t.dialogAllocated.allChecked)}))},changeAllCheckedT:function(t){var e=this;this.AllChecked=t,this.tableDataCopy.forEach((function(t){e.$set(t,"checked",e.AllChecked)}))},AllocateNow:function(){var t=this;this.dialogAllocated.loading=!0;var e=this.dialogAllocated.other.map((function(t){if(t.checked)return t.variableId})),a={relationshipId:this.dialogAllocated.vendor.id,skus:e,notProduct:1};this.$apiCall("api.DispatchOrderRule.dispatchProducts",a,(function(e){t.dialogAllocated.loading=!1,"9999"==e.ErrorCode?(t.dialogAllocated.isShow=!1,t.$elementMessage("Allocated Success","success"),t.resetPage()):t.$elementMessage(e.Message,"error")}))},selectVendor:function(t){var e=this;this.dialogAllocated.loading=!0;var a=this.dialogAllocated.skus.map((function(t){return t.variableId})),i={relationshipId:t.id,skus:a};this.$apiCall("api.DispatchOrderRule.dispatchProducts",i,(function(a){e.dialogAllocated.loading=!1,"9999"==a.ErrorCode?(e.dialogAllocated.vendor=t,e.dialogAllocated.allChecked=!0,e.dialogAllocated.other=a.Data.Results.map((function(t){return t.checked=!0,t})),e.dialogAllocated.status=2,e.resetPage()):e.$elementMessage(a.Message,"error")}))},getVendors:function(t){var e=this;clearTimeout(this.gvTime),this.gvTime=setTimeout((function(){t&&(e.dialogAllocated.page=t),e.dialogAllocated.vendorLike||(e.dialogAllocated.loading=!0),e.$apiCall("api.Relationship.findByCustomer",{page:e.dialogAllocated.page,rowsPerPage:e.dialogAllocated.rowsPerPage,vendorLike:e.dialogAllocated.vendorLike},(function(t){"9999"==t.ErrorCode?(e.dialogAllocated.loading=!1,e.dialogAllocated.vendors=t.Data.Results,e.dialogAllocated.total=Number(t.Data.Pagination.totalCount)):e.$elementMessage(t.Message,"error")}))}),200)},openAllocateToVendor:function(t){0===t._LEVEL?this.$refs.DistributionVendorDialog.openDistributionDialog(t.items.slice()):this.$refs.DistributionVendorDialog.openDistributionDialog([t])},changeAllExpand:function(){this.isAllExpand=!this.isAllExpand,this.allTreeExpand()},allTreeExpand:function(){this.isAllExpand?o.a.eachTree(this.tree6,(function(t){t._EXPAND=t._HAS_CHILDREN,t._VISIBLE=!0})):o.a.eachTree(this.tree6,(function(t){t._EXPAND=!1,t._VISIBLE=!t._LEVEL})),this.refreshTree()},resetPage:function(){1==this.$route.query.page?this.getItems():this.$router.push({query:{page:1}})},dateChange:function(){this.filterDate.length>1&&(this.filterParams.dateFrom=moment(this.filterDate[0]).unix(),this.filterParams.dateTo=moment(this.filterDate[1]).endOf("d").unix(),this.resetPage())},filterItems:function(t){switch(t){case"name":this.filterParams.codeName=this.codeName;break;case"date":this.filterDate=[],this.filterParams.dateFrom="",this.filterParams.dateTo="";break;default:break}6!=this.timeFilter&&this.resetPage()},clearFilter:function(t){switch(t){case"name":this.filterParams.codeName=this.codeName="";break;case"store":this.filterParams.shopifyStore=[],this.popStoreFilter=!1,++this.cascaderKey;break;case"date":this.filterParams.timeFilter="",this.filterDate=[],this.filterParams.dateFrom="",this.filterParams.dateTo="",this.popDateFilter=!1;break;case"fulfill":this.filterParams.fulfillStatus=[],this.popFulfillFilter=!1;break;case"sort":this.filterParams.sortBy="",this.popSortFilter=!1;break;default:this.filterParams=JSON.parse(this.filterParamsDefault),this.codeName="",this.filterDate=[]}this.resetPage()},toggleTreeNode:function(t){t._HAS_CHILDREN&&this.setTreeExpand(t,!t._EXPAND)},setTreeExpand:function(t,e){var a=o.a.findTree(this.tree6,(function(e){return e===t}));t._EXPAND=e,a&&o.a.eachTree(a.item.children,(function(t,a,i,s,l){t._VISIBLE=l?l._EXPAND&&l._VISIBLE:e})),this.refreshTree()},refreshTree:function(){var t=o.a.toTreeArray(this.tree6);if(this.fullList6=t,this.tableData=t.filter((function(t){return t._VISIBLE})),this.tableData.length){var e=0,a=0;this.tableData.forEach((function(t){0===t._LEVEL&&(t._EXPAND?e++:a++)})),e&&!a&&(this.isAllExpand=!0),a&&!e&&(this.isAllExpand=!1)}},getItems:function(t){var e=this,a=[];if(this.filterParams.shopifyStore[1]&&a.push(this.filterParams.shopifyStore[1]),t){if(this.bottomLoading)return;this.bottomLoading=!0}else this.loading=!0,this.tableData=[],this.tableDataCopy=[];var i={page:this.page,rowsPerPage:this.rowsPerPage,accountIds:a,timeFilter:this.filterParams.timeFilter>=6?"":this.filterParams.timeFilter,dateFrom:this.filterParams.dateFrom,dateTo:this.filterParams.dateTo,fulfillmentStatus:this.filterParams.fulfillStatus,sort:this.filterParams.sortBy,keywords:this.filterParams.codeName,waitDispatch:1};this.$apiCall("api.Invoice.shopifyOrders",i,(function(a){"9999"==a.ErrorCode?(e.totalPage=a.Data.Pagination.totalPage,e.totalCount=a.Data.Pagination.totalCount,a.Data.Results.forEach((function(t,a){e.$set(t,"shippingJson",JSON.parse(t.shippingJson)),e.$set(t,"_id",t.id),e.$set(t,"_LEVEL",0),e.$set(t,"_EXPAND",!1),e.$set(t,"_VISIBLE",!0),e.$set(t,"_HAS_CHILDREN",!(!t.items||!t.items.length)),e.$set(t,"_IS_LEAF",!t._HAS_CHILDREN),e.$set(t,"bg",a%2),t.children=[],t.items.forEach((function(i,s){i._LEVEL=1,i._id=t.id+"_"+i.id+"_"+s+t.codeName,e.$set(i,"bg",a%2),e.$set(i,"storeDefaultVendorId",t.storeDefaultVendorId),t.children.push(i)})),e.tableData.push(t)})),e.tree6=e.tableData,e.tableDataCopy=e.tableData,e.$nextTick((function(){e.isAllExpand&&e.allTreeExpand()})),e.loading=!1,t&&(e.bottomLoading=!1)):(e.loading=!1,e.$elementMessage(a.Message,"error"))}))},getStore:function(){var t=this;this.$apiCall("api.Invoice.findStores",{authStatus:1},(function(e){9999==e.ErrorCode?(t.storeList=[],e.Data.Results.forEach((function(e){t.storeList.push({shopifyAccountId:e.id,store:e.shopName})})),t.options.map((function(t){e.Data.Results.filter((function(e){e.platform==t.id&&t.children.push({label:e.shopName,value:e.id})}))}))):t.$message({message:e.Message,type:"error"})}))},onCopy:function(t){this.$elementMessage("Has been copied to the clipboard","success")},onError:function(t){this.$elementMessage("Copy to clipboard failed, please copy manually","error")}}},u=d,m=(a("3416"),a("4114"),a("2877")),f=Object(m["a"])(u,i,s,!1,null,"e66009ca",null);e["default"]=f.exports},"6c89":function(t,e,a){"use strict";a("5310")},"716a":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"shop"},[1==t.items.platform?i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Shopify",placement:"left"}},[i("img",{staticClass:"shopImg",attrs:{src:a("340e")}})]):2==t.items.platform?i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Woocommerce",placement:"left"}},[i("img",{staticClass:"shopImg",attrs:{src:a("7e46")}})]):3==t.items.platform?i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Lazada",placement:"left"}},[i("img",{staticClass:"shopImg",attrs:{src:a("4d6b")}})]):4==t.items.platform?i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Shopee",placement:"left"}},[i("img",{staticClass:"shopImg",attrs:{src:a("e74a")}})]):t._e()],1)},s=[],l={props:["items"],data:function(){return{}},methods:{},components:{}},o=l,r=(a("8d80"),a("2877")),n=Object(r["a"])(o,i,s,!1,null,"7d79ad08",null);e["a"]=n.exports},"7e46":function(t,e,a){t.exports=a.p+"img/woo_icon.bbaca118.png"},"8d80":function(t,e,a){"use strict";a("efe5")},"8dc5":function(t,e,a){},a15b:function(t,e,a){"use strict";var i=a("23e7"),s=a("44ad"),l=a("fc6a"),o=a("a640"),r=[].join,n=s!=Object,c=o("join",",");i({target:"Array",proto:!0,forced:n||!c},{join:function(t){return r.call(l(this),void 0===t?",":t)}})},b65d:function(t,e,a){},e74a:function(t,e,a){t.exports=a.p+"img/shopee_icon.c6765767.png"},e98b:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.fulfillmentStatus?a("el-tag",{staticClass:"shopfiy-status",attrs:{size:"small",type:t.fulfillArr[t.fulfillmentStatus].type}},[a("span",{staticClass:"-EFlq",class:"bg"+t.fulfillArr[t.fulfillmentStatus].r}),t._v(" "+t._s(t.fulfillArr[t.fulfillmentStatus].text)+" ")]):a("el-tag",{attrs:{size:"small",type:"warning"}},[a("span",{staticClass:"-EFlq bg1"}),t._v(" Unfulfilled ")])],1)},s=[],l={props:["fulfillmentStatus"],data:function(){return{fulfillArr:{fulfilled:{text:"Fulfilled",type:"info",r:3},unfulfilled:{text:"Unfulfilled",type:"warning",r:1},partial:{text:"Partially Fulfilled",type:"danger",r:2},refunded:{text:"Refunded",type:"info",r:3}}}}},o=l,r=(a("4350"),a("2877")),n=Object(r["a"])(o,i,s,!1,null,"d93044ba",null);e["a"]=n.exports},efe5:function(t,e,a){}}]);
//# sourceMappingURL=WaitingForAllocated.21675159.js.map