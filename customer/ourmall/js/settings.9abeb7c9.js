(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["settings"],{"0c85":function(e,t,n){var a=n("b51b");e.exports=a((function(){if("function"==typeof ArrayBuffer){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}))},1340:function(e,t,n){"use strict";var a=n("6dd3"),i=n("163f"),r=n("efd0"),o=n("521d"),s=n("7718"),l=i([].join),u=r!=Object,c=s("join",",");a({target:"Array",proto:!0,forced:u||!c},{join:function(e){return l(o(this),void 0===e?",":e)}})},2820:function(e,t,n){},3901:function(e,t,n){"use strict";var a=n("6dd3"),i=n("9699"),r=n("4a15"),o=n("14b4"),s=n("9801"),l=n("03e9"),u=n("1de0"),c=n("521d"),d=n("1657"),f=n("3d1e"),v=n("9b46"),p=n("906c"),h=v("slice"),b=f("species"),m=i.Array,S=Math.max;a({target:"Array",proto:!0,forced:!h},{slice:function(e,t){var n,a,i,f=c(this),v=u(f),h=l(e,v),g=l(void 0===t?v:t,v);if(r(f)&&(n=f.constructor,o(n)&&(n===m||r(n.prototype))?n=void 0:s(n)&&(n=n[b],null===n&&(n=void 0)),n===m||void 0===n))return p(f,h,g);for(a=new(void 0===n?m:n)(S(g-h,0)),i=0;h<g;h++,i++)h in f&&d(a,i,f[h]);return a.length=i,a}})},"393e":function(e,t,n){var a=n("b51b");e.exports=!a((function(){return Object.isExtensible(Object.preventExtensions({}))}))},"3f42":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"contentpanel settings-page"},[n("div",{staticClass:"pagetitle"},[n("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[n("el-breadcrumb-item",{attrs:{to:{path:"/dashboard"}}},[e._v("Dashboard")]),n("el-breadcrumb-item",[e._v("Settings")])],1)],1),n("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"pagebody"},[n("el-row",{staticClass:"mg-b-20",attrs:{gutter:20}},[n("el-col",{attrs:{span:24}},[n("el-card",[n("el-alert",{staticStyle:{"margin-bottom":"25px"},attrs:{title:"According to the new European VAT e-commerce rules, declaration without lOSS will result in a delay in customs clearance and the recipient will be required to pay VAT, as the parcel will be detained when contact of the recipient is incorrect.",type:"info","show-icon":"",closable:!1}}),n("div",{staticClass:"options-wrap"},[n("h3",[e._v("IOSS Options")]),n("div",[n("el-radio",{attrs:{label:!1},on:{change:e.openIoss},model:{value:e.isOpenIoss,callback:function(t){e.isOpenIoss=t},expression:"isOpenIoss"}},[e._v("No IOSS")]),n("p",{staticClass:" mg-b-15"},[e._v("The amount of the orders (shipping cost included) will be declared and recipients will be required by the customs to pay VAT when parcels arrive in the destination countries of EU")]),n("el-radio",{attrs:{label:!0},on:{change:e.openIoss},model:{value:e.isOpenIoss,callback:function(t){e.isOpenIoss=t},expression:"isOpenIoss"}},[e._v("Declare with my own IOSS")]),n("p",[e._v("Please enter correct and valid IOSS IDs, which should be linked to corresponding destination countries. IOSS ID will not be applied if the destination country is not linked to a correct IOSS ID")])],1)]),n("div",{staticClass:"settings-wrap"},[n("h3",[e._v("My IOSS Settings")]),n("div",{staticClass:" action d-flex"},[n("div",{staticClass:"left"},[n("el-button",{attrs:{icon:"el-icon-plus",type:"primary",size:"small",plain:""},on:{click:function(t){return e.openEditIOSS()}}},[e._v("Add IOSS")])],1),n("div",{staticClass:"right"},[n("span",[e._v("Linked Countries: "),n("b",{staticStyle:{color:"#5c6ac4"}},[e._v(e._s(e.linked.linkedNum))])]),n("span",[e._v("Unlinked Countries: "),n("b",{staticStyle:{color:"#909399"}},[e._v(e._s(e.linked.unlinkedNum))])])])]),n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.items,stripe:""}},[n("el-table-column",{attrs:{label:"Description",prop:"name"}}),n("el-table-column",{attrs:{label:"IOSS ID",prop:"iossId",width:"200"}}),n("el-table-column",{attrs:{label:"Destination Country"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",e._l(t.row.countrys,(function(t){return n("el-tag",{key:t,staticStyle:{margin:"5px"}},[e._v(" "+e._s(e.showCountry(t))+" ")])})),1)]}}])}),n("el-table-column",{attrs:{label:"Action"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",[n("el-link",{staticStyle:{"margin-right":"20px"},attrs:{icon:"el-icon-edit",type:"primary"},on:{click:function(n){return e.openEditIOSS(t.row)}}}),n("el-link",{attrs:{icon:"el-icon-delete",type:"danger"},on:{click:function(n){return e.delIOSS(t.row,t.$index)}}})],1)]}}])})],1)],1)],1)],1)],1)],1),n("DialogEditIOSS",{ref:"editIoss",attrs:{countryArr:e.countryArr,linked:e.linked,data:e.dialogEditIOSSData},on:{saveIOSSSuccess:e.saveIOSSSuccess}})],1)},i=[],r=n("7980"),o=(n("39dd"),n("f433"),n("6054"),n("da57"),n("55b1"),n("3946"),n("ba49"),n("2027"),n("fd2d"),n("5ede"),n("8195"),n("5f8e"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dialog",{attrs:{title:(e.data.id?"Edit":"Add")+" IOSS",visible:e.data.isShow,"close-on-click-modal":!1,width:"600px"},on:{"update:visible":function(t){return e.$set(e.data,"isShow",t)},open:e.opened,close:e.closed}},[n("el-divider"),n("div",{staticClass:"d-body"},[n("el-form",{ref:"ruleForm",attrs:{model:e.data.form,rules:e.rules,"label-width":"150px"}},[n("el-form-item",{attrs:{label:"Description:",prop:"name"}},[n("el-input",{attrs:{placeholder:"Please enter description"},model:{value:e.data.form.name,callback:function(t){e.$set(e.data.form,"name",t)},expression:"data.form.name"}})],1),n("el-form-item",{attrs:{label:"IOSS ID:",prop:"iossId"}},[n("el-input",{attrs:{placeholder:"Please enter IOSS ID"},model:{value:e.data.form.iossId,callback:function(t){e.$set(e.data.form,"iossId",t)},expression:"data.form.iossId"}})],1),n("el-form-item",{attrs:{label:"Destination Country:",prop:"countrys",required:""}},[n("el-select",{staticStyle:{width:"412px"},attrs:{multiple:"",filterable:"","default-first-option":"",placeholder:"Please select destination country"},model:{value:e.data.form.countrys,callback:function(t){e.$set(e.data.form,"countrys",t)},expression:"data.form.countrys"}},e._l(e.countryArr,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value,disabled:e.linked.arr.indexOf(t.value)>-1&&e.data.oldCountrys.indexOf(t.value)<0}})})),1)],1)],1)],1),n("el-divider"),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.data.isShow=!1}}},[e._v("Cancel")]),n("el-button",{attrs:{loading:e.data.loading,type:"primary"},on:{click:function(t){return e.save("ruleForm")}}},[e._v("Save")])],1)],1)}),s=[],l=(n("ccbd"),n("1340"),{props:["data","countryArr","linked"],data:function(){var e=function(e,t,n){setTimeout((function(){t&&t.length||n(new Error("Please select at least 1 destination country.")),n()}),100)},t=function(e,t,n){setTimeout((function(){(!t||t.length<12||!/^[0-9A-Za-z]*$/.test(t))&&n(new Error("Please enter an IOSS ID with 12 alphanumeric characters.")),n()}),100)};return{rules:{name:[{required:!0,message:"Please enter description.",trigger:"blur"}],iossId:[{required:!0,message:"Please enter an IOSS ID with 12 alphanumeric characters.",trigger:"blur"},{validator:t,trigger:"blur"}],countrys:[{validator:e,trigger:"change"}]}}},methods:{save:function(e){var t=this;this.data.loading=!0,this.$refs[e].validate((function(e){if(!e)return t.data.loading=!1,!1;var n={name:t.data.form.name,iossId:t.data.form.iossId,countrys:t.data.form.countrys.join(",")};t.data.id?(n.id=t.data.id,t.$confirm("After saving, your IOSS will be updated to the corresponding order. Are you sure to save?",{confirmButtonText:"Confirm",cancelButtonText:"Cancel",type:"info"}).then((function(){t.setSave(n)})).catch((function(){t.data.loading=!1}))):t.setSave(n)}))},setSave:function(e){var t=this;this.$apiCall("api.User.editIoss",e,(function(e){t.data.loading=!1,"9999"==e.ErrorCode?t.$emit("saveIOSSSuccess"):t.$message({message:e.Message,type:"error"})}))},opened:function(){var e=this;setTimeout((function(){e.$refs["ruleForm"].clearValidate()}),150)},closed:function(){this.$refs["ruleForm"].clearValidate()}}}),u=l,c=n("cba8"),d=Object(c["a"])(u,o,s,!1,null,null,null),f=d.exports,v={data:function(){return{loading:!1,isOpenIoss:!1,items:[],dialogEditIOSSData:{isShow:!1,loading:!1,id:"",form:{name:"",iossId:"",countrys:[]},oldCountrys:[]},defaultDialogEditIOSSData:"{}",countryArr:[{value:"AT",label:"Austria"},{value:"BE",label:"Belgium"},{value:"BG",label:"Bulgaria"},{value:"CY",label:"Cyprus"},{value:"CZ",label:"Czechia"},{value:"DE",label:"Germany"},{value:"DK",label:"Denmark"},{value:"EE",label:"Estonia"},{value:"ES",label:"Spain"},{value:"FI",label:"Finland"},{value:"FR",label:"France"},{value:"GR",label:"Greece"},{value:"HR",label:"Croatia"},{value:"HU",label:"Hungary"},{value:"IE",label:"Ireland"},{value:"IT",label:"Italy"},{value:"LT",label:"Lithuania"},{value:"LU",label:"Luxembourg"},{value:"LV",label:"Latvia"},{value:"MT",label:"Malta"},{value:"NL",label:"Netherlands (the)"},{value:"PL",label:"Poland"},{value:"PT",label:"Portugal"},{value:"RO",label:"Romania"},{value:"SE",label:"Sweden"},{value:"SI",label:"Slovenia"},{value:"SK",label:"Slovakia"}]}},components:{DialogEditIOSS:f},computed:{linked:function(){var e=[];return this.items.forEach((function(t){e=e.concat(t.countrys)})),e=Object(r["a"])(new Set(e)),{arr:e,linkedNum:e.length,unlinkedNum:this.countryArr.length-e.length}}},mounted:function(){this.defaultDialogEditIOSSData=JSON.stringify(this.dialogEditIOSSData),this.getItem()},methods:{openIoss:function(){var e=this;this.$apiCall("api.User.setIoss",{isOpenIoss:this.isOpenIoss},(function(t){"9999"!=t.ErrorCode&&(e.isOpenIoss=!e.isOpenIoss,e.$message({message:t.Message,type:"error"}))}))},delIOSS:function(e,t){var n=this;this.$confirm("Are you sure to delete the IOSS?",{confirmButtonText:"Confirm",cancelButtonText:"Cancel",confirmButtonClass:" el-button--danger",type:"warning"}).then((function(){n.loading=!0,n.$apiCall("api.User.deleteIoss",{id:e.id},(function(e){n.loading=!1,"9999"==e.ErrorCode?n.items.splice(t,1):n.$message({message:e.Message,type:"error"})}))})).catch()},getItem:function(){var e=this;this.loading=!0,this.$apiCall("api.User.getIoss",{},(function(t){if(e.loading=!1,"9999"==t.ErrorCode){var n=t.Data.Results;e.isOpenIoss=!!n.isOpenIoss,e.items=n.iossSettings.length?n.iossSettings.map((function(e){return e.countrys=e.countrys.split(","),e})):[]}else e.$message({message:t.Message,type:"error"})}))},saveIOSSSuccess:function(){this.dialogEditIOSSData.isShow=!1,this.getItem()},openEditIOSS:function(e){var t=this;this.dialogEditIOSSData=JSON.parse(this.defaultDialogEditIOSSData),e&&(this.dialogEditIOSSData.form.name=e.name,this.dialogEditIOSSData.form.iossId=e.iossId,this.dialogEditIOSSData.id=e.id,this.dialogEditIOSSData.isShow=!0,this.dialogEditIOSSData.oldCountrys=JSON.parse(JSON.stringify(e.countrys)),setTimeout((function(){t.$set(t.dialogEditIOSSData.form,"countrys",JSON.parse(JSON.stringify(e.countrys)))}),100)),this.dialogEditIOSSData.isShow=!0},showCountry:function(e){var t="";return this.countryArr.forEach((function(n){n.value==e&&(t=n.label)})),t}}},p=v,h=(n("488e"),Object(c["a"])(p,a,i,!1,null,"247a3dde",null));t["default"]=h.exports},"488e":function(e,t,n){"use strict";n("2820")},"566c":function(e,t,n){var a=n("b51b"),i=n("9801"),r=n("fcde"),o=n("0c85"),s=Object.isExtensible,l=a((function(){s(1)}));e.exports=l||o?function(e){return!!i(e)&&((!o||"ArrayBuffer"!=r(e))&&(!s||s(e)))}:s},6586:function(e,t,n){var a=n("235f"),i=n("0635");e.exports=function(e,t,n,r){try{return r?t(a(n)[0],n[1]):t(n)}catch(o){i(e,"throw",o)}}},6860:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n("3901"),n("39dd"),n("5f8e"),n("fc09"),n("55b1"),n("5ede"),n("ccbd");var a=n("a01c");function i(e,t){if(e){if("string"===typeof e)return Object(a["a"])(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(a["a"])(e,t):void 0}}},7980:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n("a01c");function i(e){if(Array.isArray(e))return Object(a["a"])(e)}n("5ae2"),n("09be"),n("39dd"),n("00e8"),n("55b1"),n("3946"),n("fc09");function r(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}var o=n("6860");function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e){return i(e)||r(e)||Object(o["a"])(e)||s()}},a01c:function(e,t,n){"use strict";function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}n.d(t,"a",(function(){return a}))},d758:function(e,t,n){"use strict";var a=n("dcc6").f,i=n("3ab7"),r=n("1706"),o=n("4f4c"),s=n("f9fa"),l=n("d51a"),u=n("266b"),c=n("f021"),d=n("8e24"),f=n("fda1").fastKey,v=n("647c"),p=v.set,h=v.getterFor;e.exports={getConstructor:function(e,t,n,u){var c=e((function(e,a){s(e,v),p(e,{type:t,index:i(null),first:void 0,last:void 0,size:0}),d||(e.size=0),void 0!=a&&l(a,e[u],{that:e,AS_ENTRIES:n})})),v=c.prototype,b=h(t),m=function(e,t,n){var a,i,r=b(e),o=S(e,t);return o?o.value=n:(r.last=o={index:i=f(t,!0),key:t,value:n,previous:a=r.last,next:void 0,removed:!1},r.first||(r.first=o),a&&(a.next=o),d?r.size++:e.size++,"F"!==i&&(r.index[i]=o)),e},S=function(e,t){var n,a=b(e),i=f(t);if("F"!==i)return a.index[i];for(n=a.first;n;n=n.next)if(n.key==t)return n};return r(v,{clear:function(){var e=this,t=b(e),n=t.index,a=t.first;while(a)a.removed=!0,a.previous&&(a.previous=a.previous.next=void 0),delete n[a.index],a=a.next;t.first=t.last=void 0,d?t.size=0:e.size=0},delete:function(e){var t=this,n=b(t),a=S(t,e);if(a){var i=a.next,r=a.previous;delete n.index[a.index],a.removed=!0,r&&(r.next=i),i&&(i.previous=r),n.first==a&&(n.first=i),n.last==a&&(n.last=r),d?n.size--:t.size--}return!!a},forEach:function(e){var t,n=b(this),a=o(e,arguments.length>1?arguments[1]:void 0);while(t=t?t.next:n.first){a(t.value,t.key,this);while(t&&t.removed)t=t.previous}},has:function(e){return!!S(this,e)}}),r(v,n?{get:function(e){var t=S(this,e);return t&&t.value},set:function(e,t){return m(this,0===e?0:e,t)}}:{add:function(e){return m(this,e=0===e?0:e,e)}}),d&&a(v,"size",{get:function(){return b(this).size}}),c},setStrong:function(e,t,n){var a=t+" Iterator",i=h(t),r=h(a);u(e,t,(function(e,t){p(this,{type:a,target:e,state:i(e),kind:t,last:void 0})}),(function(){var e=r(this),t=e.kind,n=e.last;while(n&&n.removed)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),c(t)}}},d902:function(e,t,n){"use strict";var a=n("9699"),i=n("4f4c"),r=n("a22c"),o=n("ed2b"),s=n("6586"),l=n("8d89"),u=n("14b4"),c=n("1de0"),d=n("1657"),f=n("40ec"),v=n("4557"),p=a.Array;e.exports=function(e){var t=o(e),n=u(this),a=arguments.length,h=a>1?arguments[1]:void 0,b=void 0!==h;b&&(h=i(h,a>2?arguments[2]:void 0));var m,S,g,y,I,O,w=v(t),x=0;if(!w||this==p&&l(w))for(m=c(t),S=n?new this(m):p(m);m>x;x++)O=b?h(t[x],x):t[x],d(S,x,O);else for(y=f(t,w),I=y.next,S=n?new this:[];!(g=r(I,y)).done;x++)O=b?s(y,h,[g.value,x],!0):g.value,d(S,x,O);return S.length=x,S}},da57:function(e,t,n){"use strict";var a=n("f1d9"),i=n("d758");a("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),i)},f1d9:function(e,t,n){"use strict";var a=n("6dd3"),i=n("9699"),r=n("163f"),o=n("6d38"),s=n("51ad"),l=n("fda1"),u=n("d51a"),c=n("f9fa"),d=n("e1f6"),f=n("9801"),v=n("b51b"),p=n("329e"),h=n("1c6e"),b=n("f537");e.exports=function(e,t,n){var m=-1!==e.indexOf("Map"),S=-1!==e.indexOf("Weak"),g=m?"set":"add",y=i[e],I=y&&y.prototype,O=y,w={},x=function(e){var t=r(I[e]);s(I,e,"add"==e?function(e){return t(this,0===e?0:e),this}:"delete"==e?function(e){return!(S&&!f(e))&&t(this,0===e?0:e)}:"get"==e?function(e){return S&&!f(e)?void 0:t(this,0===e?0:e)}:"has"==e?function(e){return!(S&&!f(e))&&t(this,0===e?0:e)}:function(e,n){return t(this,0===e?0:e,n),this})},E=o(e,!d(y)||!(S||I.forEach&&!v((function(){(new y).entries().next()}))));if(E)O=n.getConstructor(t,e,m,g),l.enable();else if(o(e,!0)){var k=new O,C=k[g](S?{}:-0,1)!=k,D=v((function(){k.has(1)})),A=p((function(e){new y(e)})),_=!S&&v((function(){var e=new y,t=5;while(t--)e[g](t,t);return!e.has(-0)}));A||(O=t((function(e,t){c(e,I);var n=b(new y,e,O);return void 0!=t&&u(t,n[g],{that:n,AS_ENTRIES:m}),n})),O.prototype=I,I.constructor=O),(D||_)&&(x("delete"),x("has"),m&&x("get")),(_||C)&&x(g),S&&I.clear&&delete I.clear}return w[e]=O,a({global:!0,forced:O!=y},w),h(O,e),S||n.setStrong(O,e,m),O}},fc09:function(e,t,n){var a=n("6dd3"),i=n("d902"),r=n("329e"),o=!r((function(e){Array.from(e)}));a({target:"Array",stat:!0,forced:o},{from:i})},fda1:function(e,t,n){var a=n("6dd3"),i=n("163f"),r=n("d26b"),o=n("9801"),s=n("4c74"),l=n("dcc6").f,u=n("7970"),c=n("854c"),d=n("566c"),f=n("20c1"),v=n("393e"),p=!1,h=f("meta"),b=0,m=function(e){l(e,h,{value:{objectID:"O"+b++,weakData:{}}})},S=function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!s(e,h)){if(!d(e))return"F";if(!t)return"E";m(e)}return e[h].objectID},g=function(e,t){if(!s(e,h)){if(!d(e))return!0;if(!t)return!1;m(e)}return e[h].weakData},y=function(e){return v&&p&&d(e)&&!s(e,h)&&m(e),e},I=function(){O.enable=function(){},p=!0;var e=u.f,t=i([].splice),n={};n[h]=1,e(n).length&&(u.f=function(n){for(var a=e(n),i=0,r=a.length;i<r;i++)if(a[i]===h){t(a,i,1);break}return a},a({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:c.f}))},O=e.exports={enable:I,fastKey:S,getWeakData:g,onFreeze:y};r[h]=!0}}]);