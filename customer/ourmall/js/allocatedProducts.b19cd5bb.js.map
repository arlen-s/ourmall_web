{"version":3,"sources":["webpack:///./src/views/AllocatedProducts.vue?0fab","webpack:///./src/views/AllocatedProducts.vue?f600","webpack:///src/views/AllocatedProducts.vue","webpack:///./src/views/AllocatedProducts.vue?18f9","webpack:///./src/views/AllocatedProducts.vue","webpack:///./src/views/AllocatedProducts.vue?4729"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","ref","_m","staticStyle","attrs","path","_v","checkdeStatus","checkedArr","length","on","$event","openAllocateToVendor","confirmUnAllocate","directives","name","rawName","value","expression","key","cascaderKey","options","expandTrigger","filterGetItem","model","callback","$$v","cascaderValue","nativeOn","type","indexOf","_k","keyCode","productName","filterParams","$set","_l","vendor","id","vendorName","clearFilter","_s","storeName","accountId","_e","venderName","relationshipId","padding","changeAllChecked","allChecked","style","height","tableHeight","overflowX","items","item","display","alignItems","img","slot","sku","ce","saleCurrency","symbol","salePrice","purchasePrice","page","pageSizes","rowsPerPage","Number","total","toPage","changePageSize","staticRenderFns","data","label","children","loading","reSizeTime","$route","query","localStorage","getItem","totalPage","filterParamsDefault","$CE","storeList","vendors","resizeH","components","DistributionVendorDialog","computed","forEach","push","variableIdArr","variableId","watch","mounted","JSON","stringify","params","vendorId","getStore","getVendors","getItems","$nextTick","window","addEventListener","beforeDestroy","removeEventListener","methods","$refs","openDistributionDialog","slice","$confirm","confirmButtonText","cancelButtonText","unAllocate","variableIds","$apiCall","r","ErrorCode","some","text","e","store","checked","parse","$router","s","val","setItem","gotoPage","Data","Results","shopifyAccountId","shopName","filter","a","component"],"mappings":"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","file":"js/allocatedProducts.b19cd5bb.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AllocatedProducts.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"contentpanel allocate-products-page\"},[_c('div',{ref:\"pageHeader\",staticClass:\"pagetitle\"},[_c('div',{staticClass:\"left\"},[_vm._m(0),_c('el-breadcrumb',{staticStyle:{\"font-size\":\"12px\"},attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',{staticStyle:{\"color\":\"#5c6ac4\"},attrs:{\"to\":{ path: '/vendors' }}},[_vm._v(\"Vendors\")]),_c('el-breadcrumb-item',{staticStyle:{\"color\":\"#C0C4CC\"}},[_vm._v(\"My Allocated Products\")])],1)],1),_c('div',{staticClass:\"right\"},[_c('el-button',{staticStyle:{\"margin-right\":\"10px\"},attrs:{\"type\":\"primary\",\"size\":\"medium\",\"disabled\":!_vm.checkdeStatus.checkedArr.length},on:{\"click\":function($event){return _vm.openAllocateToVendor()}}},[_vm._v(\"Batch Re-allocate\")]),_c('el-button',{attrs:{\"type\":\"danger\",\"size\":\"medium\",\"disabled\":!_vm.checkdeStatus.checkedArr.length},on:{\"click\":function($event){return _vm.confirmUnAllocate('multi')}}},[_vm._v(\"Batch Un-allocate\")])],1)]),_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"pagebody mg-b-20\"},[_c('el-card',[_c('el-row',{attrs:{\"gutter\":20}},[_c('div',{ref:\"pageFilter\",staticClass:\"page-filter\"},[_c('el-form',{attrs:{\"inline\":true,\"size\":\"mini\"}},[_c('el-form-item',[_c('el-cascader',{key:_vm.cascaderKey,attrs:{\"placeholder\":\"All my stores\",\"options\":_vm.options,\"props\":{ expandTrigger: 'hover' }},on:{\"change\":_vm.filterGetItem},model:{value:(_vm.cascaderValue),callback:function ($$v) {_vm.cascaderValue=$$v},expression:\"cascaderValue\"}})],1),_c('el-form-item',[_c('el-input',{attrs:{\"placeholder\":\"Product name\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.filterGetItem($event)}},model:{value:(_vm.productName),callback:function ($$v) {_vm.productName=$$v},expression:\"productName\"}})],1),_c('el-form-item',[_c('el-select',{attrs:{\"filterable\":\"\",\"placeholder\":\"All my vendors\"},on:{\"change\":_vm.filterGetItem},model:{value:(_vm.filterParams.relationshipId),callback:function ($$v) {_vm.$set(_vm.filterParams, \"relationshipId\", $$v)},expression:\"filterParams.relationshipId\"}},[_c('el-option',{attrs:{\"label\":\"All my vendors\",\"value\":\"\"}}),_vm._l((_vm.vendors),function(vendor){return _c('el-option',{key:vendor.id,attrs:{\"label\":vendor.vendorName,\"value\":vendor.id}})})],2)],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.filterGetItem}},[_vm._v(\"Filter\")]),_c('el-button',{attrs:{\"type\":\"danger\"},on:{\"click\":function($event){return _vm.clearFilter('all')}}},[_vm._v(\"Clear\")])],1)],1),_c('div',{staticStyle:{\"margin-bottom\":\"5px\"}},[(_vm.filterParams.accountId)?_c('el-tag',{staticClass:\"mg-r-5\",attrs:{\"size\":\"small\",\"type\":\"info\",\"closable\":\"\"},on:{\"close\":function($event){return _vm.clearFilter('store')}}},[_vm._v(\" \"+_vm._s(_vm.storeName(_vm.filterParams.accountId))+\" \")]):_vm._e(),(_vm.filterParams.productName)?_c('el-tag',{staticClass:\"mg-r-5\",attrs:{\"size\":\"small\",\"type\":\"info\",\"closable\":\"\"},on:{\"close\":function($event){return _vm.clearFilter('name')}}},[_vm._v(\" \"+_vm._s(_vm.filterParams.productName)+\" \")]):_vm._e(),(_vm.filterParams.relationshipId)?_c('el-tag',{staticClass:\"mg-r-5\",attrs:{\"size\":\"small\",\"type\":\"info\",\"closable\":\"\"},on:{\"close\":function($event){return _vm.clearFilter('vendor')}}},[_vm._v(\" \"+_vm._s(_vm.venderName(_vm.filterParams.relationshipId))+\" \")]):_vm._e()],1),_c('el-row',{staticStyle:{\"margin-bottom\":\"5px\"},attrs:{\"gutter\":10}},[_c('el-col',{staticStyle:{\"padding-right\":\"25px\"},attrs:{\"span\":24}},[_c('el-card',{staticClass:\"table-header\",attrs:{\"shadow\":'never',\"body-style\":{ padding: '0 20px' }}},[_c('el-col',{attrs:{\"span\":10}},[_c('div',{staticClass:\" d-flex\"},[_c('el-checkbox',{staticStyle:{\"margin-right\":\"10px\",\"margin-bottom\":\"0\"},on:{\"change\":_vm.changeAllChecked},model:{value:(_vm.allChecked),callback:function ($$v) {_vm.allChecked=$$v},expression:\"allChecked\"}}),_c('div',{staticClass:\"title\"},[_vm._v(\"My Product\")])],1)]),_c('el-col',{attrs:{\"span\":6}},[_c('div',{staticClass:\" title\"},[_vm._v(\"My store\")])]),_c('el-col',{attrs:{\"span\":6}},[_c('div',{staticClass:\" title\"},[_vm._v(\"Vendor\")])]),_c('el-col',{attrs:{\"span\":2}})],1)],1)],1)],1)]),_c('el-row',{ref:\"gridTable\",staticStyle:{\"padding-top\":\"15px\",\"overflow-y\":\"auto\"},style:([{height: (_vm.tableHeight + \"px\")}, {overflowX: 'hidden'}]),attrs:{\"gutter\":10}},[(!_vm.items.length)?_c('el-col',[_c('p',{staticStyle:{\"margin-top\":\"25px\",\"font-size\":\"16px\",\"color\":\"#909399\",\"text-align\":\"center\"}},[_vm._v(\"No product\")])]):_vm._e(),_vm._l((_vm.items),function(item){return _c('el-row',{key:item.id,attrs:{\"gutter\":10}},[_c('el-col',{staticStyle:{\"padding-right\":\"25px\"},attrs:{\"span\":24}},[_c('el-card',{staticClass:\"table-body-card\",attrs:{\"body-style\":[{display: 'flex'},{padding: '10px 20px'},{alignItems: 'center'}]}},[_c('el-col',{attrs:{\"span\":10}},[_c('div',{staticClass:\"product-box\"},[_c('el-checkbox',{model:{value:(item.checked),callback:function ($$v) {_vm.$set(item, \"checked\", $$v)},expression:\"item.checked\"}}),_c('el-image',{staticStyle:{\"min-width\":\"120px\",\"width\":\"120px\",\"height\":\"120px\"},attrs:{\"fit\":'contain',\"src\":item.img,\"preview-src-list\":[item.img]}},[_c('div',{staticClass:\"image-slot\",attrs:{\"slot\":\"error\"},slot:\"error\"},[_c('i',{staticClass:\"el-icon-picture-outline\"})])]),_c('div',{staticClass:\"info\"},[_c('div',{staticClass:\"name tx-ellipsis3\"},[_vm._v(_vm._s(item.productName))]),_c('div',{staticClass:\"row1\"},[_c('span',{staticStyle:{\"color\":\"#909399\"}},[_vm._v(\"SKU:\")]),_vm._v(\" \"+_vm._s(item.sku)+\" \")])])],1)]),_c('el-col',{attrs:{\"span\":6}},[_c('div',{staticClass:\"info-wrap\"},[_c('div',{staticClass:\"row1\"},[_vm._v(_vm._s(item.storeName))]),_c('div',{staticClass:\"row1\"},[_c('span',{staticStyle:{\"color\":\"#909399\"}},[_vm._v(\"Sale price: \")]),(item.saleCurrency)?_c('span',[_vm._v(_vm._s(_vm.ce[item.saleCurrency] ? _vm.ce[item.saleCurrency].symbol : item.saleCurrency)+\" \")]):_vm._e(),_vm._v(\" \"+_vm._s(item.salePrice)+\" \")])])]),_c('el-col',{attrs:{\"span\":6}},[_c('div',{staticClass:\"info-wrap\"},[_c('div',{staticClass:\"row1\"},[_vm._v(_vm._s(item.vendorName))]),_c('div',{staticClass:\"row1\"},[_c('span',{staticStyle:{\"color\":\"#909399\"}},[_vm._v(\"Puchase price: \")]),_c('span',[_vm._v(\"$ \")]),_vm._v(\" \"+_vm._s(item.purchasePrice)+\" \")])])]),_c('el-col',{attrs:{\"span\":2}},[_c('div',{staticClass:\"info-wrap\"},[_c('div',{staticClass:\"row1 mg-b-10\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.openAllocateToVendor(item)}}},[_vm._v(\"Re-allocate\")])],1),_c('div',{staticClass:\"row1\"},[_c('el-button',{attrs:{\"type\":\"danger\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.confirmUnAllocate('single', item)}}},[_vm._v(\"Un-allocate\")])],1)])])],1)],1)],1)})],2)],1)],1),(_vm.items.length)?_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{staticClass:\" d-flex justify-content-center\",attrs:{\"span\":24}},[_c('div',[_c('el-pagination',{attrs:{\"current-page\":_vm.page,\"background\":true,\"layout\":\"sizes, total, prev, pager, next, jumper\",\"page-sizes\":_vm.pageSizes,\"page-size\":_vm.rowsPerPage,\"total\":Number(_vm.total)},on:{\"current-change\":_vm.toPage,\"size-change\":_vm.changePageSize}})],1)])],1):_vm._e(),_c('DistributionVendorDialog',{ref:\"DistributionVendorDialog\",attrs:{\"type\":'products'},on:{\"resetPage\":_vm.filterGetItem}})],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"title\",staticStyle:{\"margin-bottom\":\"10px\"}},[_c('i',{staticClass:\"el-icon-shopping-bag-1\"}),_c('h2',[_vm._v(\"My Allocated Products\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"contentpanel allocate-products-page\">\n    <div\n      class=\"pagetitle\"\n      ref=\"pageHeader\"\n    >\n      <div class=\"left\">\n        <div class=\"title\" style=\"margin-bottom: 10px;\">\n          <i class=\"el-icon-shopping-bag-1\"></i>\n          <h2>My Allocated Products</h2>\n        </div>\n        <el-breadcrumb separator-class=\"el-icon-arrow-right\" style=\" font-size: 12px\">\n          <el-breadcrumb-item :to=\"{ path: '/vendors' }\" style=\"color: #5c6ac4;\">Vendors</el-breadcrumb-item>\n          <el-breadcrumb-item style=\"color: #C0C4CC;\">My Allocated Products</el-breadcrumb-item>\n        </el-breadcrumb>\n      </div>\n      <div class=\"right\">\n        <el-button type=\"primary\" size=\"medium\" :disabled=\"!checkdeStatus.checkedArr.length\"\n          style=\" margin-right: 10px;\" @click=\"openAllocateToVendor()\"\n        >Batch Re-allocate</el-button>\n        <el-button type=\"danger\" size=\"medium\" \n          :disabled=\"!checkdeStatus.checkedArr.length\"\n          @click=\"confirmUnAllocate('multi')\"\n        >Batch Un-allocate</el-button>\n        \n      </div>\n    </div>\n    <div\n      v-loading=\"loading\"\n      class=\"pagebody mg-b-20\"\n    >\n      <el-card>\n        <el-row :gutter=\"20\">\n          <div\n            ref=\"pageFilter\"\n            class=\"page-filter\"\n          >\n            <el-form\n              :inline=\"true\"\n              size=\"mini\"\n            >\n              <el-form-item>\n                <!-- <el-select v-model=\"filterParams.accountId\"  filterable placeholder=\"All my stores\"\n                  @change=\"filterGetItem\"\n                >\n                  <el-option  label=\"All my stores\" value=\"\"></el-option>\n                  <el-option\n                    v-for=\"store in storeList\"\n                    :key=\"store.shopifyAccountId\"\n                    :label=\"store.store\"\n                    :value=\"store.shopifyAccountId\"\n                  ></el-option>\n                </el-select>   -->\n                 <el-cascader\n                 :key=\"cascaderKey\"\n                  v-model=\"cascaderValue\"\n                  placeholder=\"All my stores\"\n                  :options=\"options\"\n                  :props=\"{ expandTrigger: 'hover' }\"\n                  @change=\"filterGetItem\"\n                  >\n                  </el-cascader>\n              </el-form-item>\n              <el-form-item>\n                <el-input v-model=\"productName\" placeholder=\"Product name\"\n                  @keyup.native.enter=\"filterGetItem\"\n                ></el-input>\n              </el-form-item>\n              <el-form-item>\n                <el-select v-model=\"filterParams.relationshipId\"  filterable placeholder=\"All my vendors\"\n                  @change=\"filterGetItem\"\n                >\n                  <el-option label=\"All my vendors\" value=\"\"></el-option>\n                  <el-option\n                    v-for=\"vendor in vendors\"\n                    :key=\"vendor.id\"\n                    :label=\"vendor.vendorName\"\n                    :value=\"vendor.id\"\n                  ></el-option>\n                </el-select>  \n              </el-form-item>\n              <el-form-item>\n                <el-button\n                  type=\"primary\"\n                  @click=\"filterGetItem\"\n                >Filter</el-button>\n                <el-button\n                  type=\"danger\"\n                  @click=\"clearFilter('all')\"\n                >Clear</el-button>\n              </el-form-item>\n            </el-form>\n            <div style=\" margin-bottom: 5px;\">\n              <el-tag v-if=\"filterParams.accountId\" size=\"small\" type=\"info\" closable @close=\"clearFilter('store')\" class=\"mg-r-5\">\n                {{storeName(filterParams.accountId)}}\n              </el-tag>\n              <el-tag v-if=\"filterParams.productName\" size=\"small\" type=\"info\" closable @close=\"clearFilter('name')\" class=\"mg-r-5\">\n                {{filterParams.productName}}\n              </el-tag>\n              <el-tag v-if=\"filterParams.relationshipId\" size=\"small\" type=\"info\" closable @close=\"clearFilter('vendor')\" class=\"mg-r-5\">\n                {{venderName(filterParams.relationshipId)}}\n              </el-tag>\n            </div>\n            <el-row :gutter=\"10\" style=\"margin-bottom: 5px\">\n              <el-col :span=\"24\" style=\"padding-right: 25px;\">\n                <el-card :shadow=\"'never'\" :body-style=\"{ padding: '0 20px' }\" class=\"table-header\">\n                  <el-col :span=\"10\">\n                    <div class=\" d-flex\">\n                      <el-checkbox style=\"margin-right: 10px; margin-bottom: 0\"\n                        v-model=\"allChecked\"\n                        @change=\"changeAllChecked\"\n                      ></el-checkbox>\n                      <div class=\"title\">My Product</div>\n                    </div>\n                  </el-col>\n                  <el-col :span=\"6\">\n                    <div class=\" title\">My store</div>\n                  </el-col>\n                  <el-col :span=\"6\">\n                    <div class=\" title\">Vendor</div>\n                  </el-col>\n                  <el-col :span=\"2\">\n                  </el-col>\n                </el-card>\n              </el-col>\n            </el-row>\n          </div>\n        </el-row>       \n        <el-row\n          ref=\"gridTable\"\n          :gutter=\"10\"\n          style=\" padding-top: 15px; overflow-y: auto;\"\n          :style=\"[{height: `${tableHeight}px`}, {overflowX: 'hidden'}]\"\n        >\n          <el-col v-if=\"!items.length\">\n            <p style=\"margin-top: 25px; font-size: 16px; color: #909399; text-align: center;\">No product</p>\n          </el-col>\n          <!-- 横列表 -->       \n          <el-row :gutter=\"10\" v-for=\"item in items\" :key=\"item.id\">\n            <el-col :span=\"24\" style=\"padding-right: 25px;\">\n              <el-card :body-style=\"[{display: 'flex'},{padding: '10px 20px'},{alignItems: 'center'}]\"  class=\"table-body-card\">\n                <el-col :span=\"10\">\n                  <div class=\"product-box\">\n                    <el-checkbox v-model=\"item.checked\"></el-checkbox>\n                    <el-image\n                      style=\"min-width: 120px; width: 120px; height: 120px;\"\n                      :fit=\"'contain'\"\n                      :src=\"item.img\"\n                      :preview-src-list=\"[item.img]\"\n                    >\n                      <div slot=\"error\" class=\"image-slot\">\n                        <i class=\"el-icon-picture-outline\"></i>\n                      </div>\n                    </el-image>\n                    <div class=\"info\">\n                      <div class=\"name tx-ellipsis3\">{{item.productName}}</div>\n                      <div class=\"row1\">\n                        <span style=\"color: #909399\">SKU:</span>\n                        {{item.sku}}\n                      </div>\n                    </div>\n                  </div>\n                </el-col>\n                <el-col :span=\"6\">\n                  <div class=\"info-wrap\">\n                    <div class=\"row1\">{{item.storeName}}</div>\n                    <div class=\"row1\">\n                      <span style=\"color: #909399\">Sale price: </span>\n                      <span v-if=\"item.saleCurrency\">{{ ce[item.saleCurrency] ? ce[item.saleCurrency].symbol : item.saleCurrency}} </span>\n                      {{item.salePrice}}\n                    </div>\n                  </div>\n                </el-col>\n                <el-col :span=\"6\">\n                  <div class=\"info-wrap\">\n                    <div class=\"row1\">{{item.vendorName}}</div>\n                    <div class=\"row1\">\n                      <span style=\"color: #909399\">Puchase price: </span>\n                      <span>$ </span>\n                      {{item.purchasePrice}}\n                    </div>\n                  </div>\n                </el-col>\n                <el-col :span=\"2\">\n                  <div class=\"info-wrap\">\n                    <div class=\"row1 mg-b-10\">\n                      <el-button type=\"primary\" size=\"small\" @click=\"openAllocateToVendor(item)\">Re-allocate</el-button>\n                    </div>\n                    <div class=\"row1\">\n                      <el-button type=\"danger\" size=\"small\" @click=\"confirmUnAllocate('single', item)\">Un-allocate</el-button>                   \n                    </div>\n                  </div>\n                </el-col>\n              </el-card>\n            </el-col>\n          </el-row>\n        <!-- \n          <el-col\n            v-for=\"item in items\"\n            :key=\"item.id\"\n            :sm=\"12\"\n            :md=\"8\"\n            :lg=\"6\"\n            :xl=\"4\"\n            style=\" margin-bottom: 20px;\"\n          >\n            <div class=\"product-box\">\n              <div style=\"position: relative; padding-bottom: 100%; margin-bottom: 15px;\">\n                <el-image\n                  lazy\n                  style=\"position: absolute; width: 100%; height: 100%;\"\n                  :fit=\"'contain'\"\n                  :src=\"item.propertyImage\"\n                  :preview-src-list=\"[item.propertyImage]\"\n                >\n                </el-image>\n              </div>\n              <div class=\"info\">\n                <div class=\"p-name tx-ellipsis2\">{{item.name}}</div>\n                <div></div>\n\n              </div>\n            </div>\n          </el-col> -->\n        </el-row>\n      </el-card>  \n    </div>\n    <el-row\n      v-if=\"items.length\"\n      :gutter=\"20\"\n    >\n      <el-col\n        :span=\"24\"\n        class=\" d-flex justify-content-center\"\n      >\n        <div>\n          <el-pagination\n            :current-page=\"page\"\n            :background=\"true\"\n            layout=\"sizes, total, prev, pager, next, jumper\"\n            :page-sizes=\"pageSizes\"\n            :page-size=\"rowsPerPage\"\n            :total=\"Number(total)\"\n            @current-change=\"toPage\"\n            @size-change=\"changePageSize\"\n          >\n          </el-pagination>\n        </div>\n      </el-col>\n    </el-row>\n    <DistributionVendorDialog\n      ref=\"DistributionVendorDialog\"\n      :type=\"'products'\"\n      @resetPage=\"filterGetItem\"\n    />\n  </div>  \n</template>\n\n<script>\nimport DistributionVendorDialog from \"@/components/DistributionVendorDialog\";\nimport { set } from 'xe-utils/methods';\nexport default {\n  data(){\n    return {\n// 1 shopify\n// 2 woocommerce\n// 3 lazada\n// 4 shopee\n      cascaderKey:1,\n      cascaderValue:'',\n      options:[{\n        id:1,\n        label:'Shopify',\n        children:[]\n      },\n      {\n        id:2,\n        label:'Woocommerce',\n        children:[]\n      },\n      {\n        id:3,\n        label:'Lazada',\n        children:[]\n      },\n      {\n        id:4,\n        label:'Shopee',\n        children:[]\n      }],\n      loading: false,\n      tableHeight: 400,\n      reSizeTime: 0,\n      page: this.$route.query.page ? Number(this.$route.query.page) : 1,\n      rowsPerPage: localStorage.getItem(\"c_allocateProductsPerPage\")\n        ? Number(localStorage.getItem(\"c_allocateProductsPerPage\"))\n        : 10,\n      total: 0,\n      totalPage: 0,\n      pageSizes: [10, 20, 50],\n      items: [],\n      productName: \"\",\n      filterParams: {\n        accountId: \"\",\n        productName: \"\",\n        relationshipId: \"\"\n      },\n      filterParamsDefault: \"{}\",\n      ce: this.$CE, //货币符号\n      allChecked: false,\n      storeList: [],\n      vendors: [],\n      resizeH: ()=>{this.$getTableHeight(this)},\n    }\n  },\n  components: {\n    DistributionVendorDialog,\n  },\n  computed:{\n    checkdeStatus(){\n      let [checkedArr,variableIdArr] = [[], []] \n      this.items.forEach(item => {\n        if(item.checked){\n          checkedArr.push(item)\n          variableIdArr.push(item.variableId)\n        }\n      })\n      return {\n        checkedArr,\n        allChecked: this.items.length && this.items.length == checkedArr.length,\n        variableIdArr,\n      }\n    },\n  },\n  watch:{\n    $route: \"gotoPage\",\n    'checkdeStatus.allChecked'(){\n      this.allChecked = this.checkdeStatus.allChecked\n    }\n  },\n  mounted(){\n    this.filterParamsDefault = JSON.stringify(this.filterParams);\n    this.filterParams.relationshipId = this.$route.params.vendorId;\n    this.getStore();\n    this.getVendors();\n    this.getItems();\n    this.$nextTick(()=>{\n      this.resizeH();\n      window.addEventListener(\"resize\", this.resizeH, false);\n    })\n  },\n  beforeDestroy(){\n    window.removeEventListener(\"resize\", this.resizeH)\n  },\n  methods: {\n    openAllocateToVendor(item){\n      if(item){\n        this.$refs.DistributionVendorDialog.openDistributionDialog([item])\n      }else{\n        this.$refs.DistributionVendorDialog.openDistributionDialog(this.checkdeStatus.checkedArr.slice())\n      }\n    },\n    confirmUnAllocate(type, item){\n      this.$confirm(type == 'single' ?  'Un-allocate selected products?': `Un-allocate selected (${this.checkdeStatus.variableIdArr.length}) products? `, '', {\n        confirmButtonText: 'Confirm',\n        cancelButtonText: 'Cancel',\n        type: 'warning'\n      }).then(()=>{\n        this.unAllocate(type, item)\n      });\n    },\n    unAllocate(type, item){//取消分配\n      this.loading = true;\n      let params = {};\n      if(type == 'single'){\n        params.variableIds = [item.variableId]\n      }else{\n        params.variableIds = this.checkdeStatus.variableIdArr\n      }\n      this.$apiCall(\"api.DispatchOrderRule.unAllocate\", params, r => {\n        if (r.ErrorCode == \"9999\") {\n          this.getItems(true);\n          this.$elementMessage('UN-allocate Success', \"success\");\n        }else{\n          this.$elementMessage(r.Message, \"error\");\n        }\n      })\n    },\n    storeName(val){\n      let text = '';\n      this.storeList.some(e => {\n        if(e.shopifyAccountId == val){\n          text = e.store\n          return true \n        }\n          \n      })\n      return text;\n    },\n    venderName(val){\n      let text = '';\n      this.vendors.some(e => {\n        if(e.id == val){\n          text = e.vendorName;\n          return true \n        }\n      })\n      return text; \n    },\n    changeAllChecked(){\n      this.items.forEach(item => {\n        item.checked = this.allChecked;\n      })\n    },\n    clearFilter(type){\n      switch(type){\n        case 'store':\n          this.filterParams.accountId = \"\";\n          this.cascaderValue = \"\";\n          ++this.cascaderKey;\n        break;\n        case 'name':\n          this.productName = this.filterParams.productName = \"\";\n        break;\n        case 'vendor':\n          this.filterParams.relationshipId = \"\";\n        break;\n        case 'all':\n          this.filterParams = JSON.parse(this.filterParamsDefault)\n        break;\n      }\n      if (this.$route.query.page == 1) {\n        this.getItems();\n      } else {\n        this.$router.push({\n          query: {\n            page: 1,\n          },\n        });\n      }\n    },\n    filterGetItem(){\n      //筛选\n      if(this.cascaderValue != \"\"){\n        this.filterParams.accountId = this.cascaderValue[1];\n      }\n      this.filterParams.productName = this.productName;\n      if (this.$route.query.page == 1) {\n        this.getItems();\n      } else {\n        this.$router.push({\n          query: {\n            page: 1,\n          },\n        });\n      }\n    },\n    getItems(s){\n      this.loading = true;\n      let params = {\n        page: this.page,\n        rowsPerPage: this.rowsPerPage,\n        accountId: this.filterParams.accountId,\n        productName: this.filterParams.productName,\n        relationshipId: this.filterParams.relationshipId,\n      }\n      this.$apiCall(\"api.DispatchOrderRule.findAllocatedProducts\", params, r => {\n        this.loading = false;\n        if (r.ErrorCode == \"9999\") {\n          this.items = r.Data.Results.map(item => {\n            item.checked = false;\n            return item\n          });\n          this.total = Number(r.Data.Pagination.totalCount);\n          this.totalPage = Number(r.Data.Pagination.totalPage);\n          this.resizeH();\n          if (!s && this.$refs.gridTable) this.$refs.gridTable.$el.scrollTop = 0;\n        }else{\n          this.$elementMessage(r.Message, \"error\");\n        }\n      });\n    },\n    toPage(val) {\n      if (val != this.$route.query.page)\n        this.$router.push({\n          query: {\n            page: val,\n          },\n        });\n    },\n    changePageSize(val) {\n      this.rowsPerPage = val;\n      localStorage.setItem(\"c_allocateProductsPerPage\", val);\n      this.getItems();\n    },\n    gotoPage() {\n      this.page = this.$route.query.page ? this.$route.query.page : 1;\n      this.getItems();\n    },\n    getStore() {\n      this.$apiCall(\"api.Invoice.findStores\", { authStatus: 1 }, (r) => {\n        if (r.ErrorCode == 9999) {\n          this.storeList = [];\n          r.Data.Results.forEach((e) => {\n            this.storeList.push({\n              shopifyAccountId: e.id,\n              store: e.shopName,\n            });\n          });\n          this.options.map((item) => {\n            r.Data.Results.filter((a) => {\n              if(a.platform == item.id){\n                item.children.push({\n                  label: a.shopName,\n                  value: a.id,\n                })\n              };\n            });\n          });\n        } else {\n          this.$message({ message: r.Message, type: \"error\" });\n        }\n      });\n    },\n    getVendors(){\n      this.$apiCall('api.Relationship.findByCustomer', {}, r => {\n        if (r.ErrorCode == \"9999\") {\n          this.vendors = r.Data.Results;\n        }else{\n          this.$elementMessage(r.Message, \"error\");\n        }\n      });\n    },\n  }\n}\n</script>\n<style lang=\"scss\">\n.allocate-products-page{\n  .el-breadcrumb__inner.is-link{\n    color: #5c6ac4;\n  }\n  .image-slot{\n    border: 1px #EBEEF5 solid;\n    i{\n      color: #C0C4CC;\n      font-size: 32px;\n      margin-left: 0;\n      margin-top: 0;\n      transform: translate(-50%, -50%);\n    }\n  }\n}\n</style>\n<style lang=\"scss\" scoped>\n.el-card.table-header{\n  border-color: transparent;\n  background-color: transparent;\n}\n.table-body-card{\n  margin-bottom: 15px;\n  font-size: 13px;\n}\n.product-box{\n  display: flex;\n  align-items: center;\n  .el-checkbox{\n    margin: 0 10px 0 0;\n  }\n  .el-image{\n    margin-right: 20px;\n    border: 1px #E4E7ED solid;\n  }\n  .info{\n    height: 120px;\n    .name{\n      margin-bottom: 15px;\n      max-height: 72px;\n      line-height: 24px;\n    }\n  }\n}\n.info-wrap{\n  display: flex;\n  flex-direction: column;\n  .row1{\n    margin-bottom: 15px;\n  }\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AllocatedProducts.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AllocatedProducts.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AllocatedProducts.vue?vue&type=template&id=03f9947c&scoped=true&\"\nimport script from \"./AllocatedProducts.vue?vue&type=script&lang=js&\"\nexport * from \"./AllocatedProducts.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AllocatedProducts.vue?vue&type=style&index=0&lang=scss&\"\nimport style1 from \"./AllocatedProducts.vue?vue&type=style&index=1&id=03f9947c&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"03f9947c\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AllocatedProducts.vue?vue&type=style&index=1&id=03f9947c&lang=scss&scoped=true&\""],"sourceRoot":""}