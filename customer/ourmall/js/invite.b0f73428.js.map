{"version":3,"sources":["webpack:///./src/views/Invite-reg.vue?a9ae","webpack:///./src/views/Invite-reg.vue?01e5","webpack:///./src/views/Invite-reg.vue?3d74","webpack:///src/views/Invite-reg.vue","webpack:///./src/views/Invite-reg.vue?b1a4","webpack:///./src/views/Invite-reg.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_m","directives","name","rawName","value","expression","_v","_s","customerName","words","vendorName","attrs","domProps","on","$event","target","composing","shopUrl","storeInput","loading","login","$root","$children","pName","b","staticRenderFns","data","pageLoading","created","$","addClass","attr","beforeDestroy","removeClass","mounted","getWords","methods","$apiCall","rid","decodeURIComponent","$route","query","r","ErrorCode","getLoginStatus","$elementMessage","$t","win","window","open","i","len","codeReg","test","val","str","component"],"mappings":"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","file":"js/invite.b0f73428.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Invite-reg.vue?vue&type=style&index=1&id=3ba6656d&lang=scss&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Invite-reg.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page-invite-reg\"},[_vm._m(0),_c('div',{staticClass:\"body\"},[_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.pageLoading),expression:\"pageLoading\"}],staticClass:\"content\"},[_c('p',{staticClass:\"row1\"},[_vm._v(\"Hello \"+_vm._s(_vm.customerName)+\",\")]),_c('p',{staticClass:\" row2\"},[_vm._v(\" \"+_vm._s(_vm.words)+\" \")]),_c('p',{staticClass:\"row3\"},[_vm._v(\"Yours,\")]),_c('p',{staticClass:\" row4\"},[_vm._v(_vm._s(_vm.vendorName))]),_c('div',{staticClass:\"reg\"},[_c('div',{staticClass:\"reg-box\"},[_vm._m(1),_c('div',{staticClass:\"row6\"},[_c('div',[_c('span',{staticClass:\"http\"},[_vm._v(\"http://\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.shopUrl),expression:\"shopUrl\"}],attrs:{\"type\":\"text\",\"placeholder\":\"Your Shopify store name\"},domProps:{\"value\":(_vm.shopUrl)},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.shopUrl=$event.target.value},function($event){return _vm.storeInput($event.target.value)}]}}),_c('span',{staticClass:\"domain\"},[_vm._v(\".myshopify.com\")])]),_c('el-button',{attrs:{\"loading\":_vm.loading},on:{\"click\":_vm.login}},[_vm._v(\" \"+_vm._s(_vm.loading ? 'Please Wait' : 'Connect')+\" \")])],1)])])])]),_c('div',{staticClass:\"page-footer\"},[_c('div',[_vm._v(\"© 2021, Powered by \"+_vm._s(_vm.$root.$children[0].pName.b)+\" APP\")])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"header\"},[_c('div',{staticClass:\"content\"},[_c('h1')])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row5\"},[_c('div',{staticClass:\"s-logo\"})])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"page-invite-reg\">\n    <div class=\"header\">\n      <div class=\"content\">\n        <h1></h1>\n      </div>\n    </div>\n    <div class=\"body\">\n      <div v-loading=\"pageLoading\" class=\"content\">\n        <p class=\"row1\">Hello {{customerName}},</p>\n        <p class=\" row2\">\n          {{words}}\n        </p>\n        <p class=\"row3\">Yours,</p>\n        <p class=\" row4\">{{vendorName}}</p>\n        <div class=\"reg\">\n          <div class=\"reg-box\">\n            <div class=\"row5\">\n              <div class=\"s-logo\"></div>\n\n            </div>\n            <div class=\"row6\">\n              <div>\n                <span class=\"http\">http://</span>\n                <input\n                  type=\"text\"\n                  placeholder=\"Your Shopify store name\"\n                  @input=\"storeInput($event.target.value)\"\n                  v-model=\"shopUrl\"\n                >\n                <span class=\"domain\">.myshopify.com</span>\n              </div>\n\n              <el-button\n                :loading=\"loading\"\n                @click=\"login\"\n              >\n                {{loading ? 'Please Wait' : 'Connect'}}\n              </el-button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"page-footer\">\n      <div>&copy; 2021, Powered by {{$root.$children[0].pName.b}} APP</div>\n      <!-- <div>\n        <router-link :to=\"{name: 'terms'}\" target=\"_blank\">Terms of Service</router-link>\n        <router-link :to=\"{name: 'privacy'}\" target=\"_blank\">Privacy Policy</router-link>\n      </div> -->\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data(){\n    return {\n      pageLoading: true,\n      loading: false,\n      shopUrl: \"\",\n      customerName: \"\",\n      words:\"\",\n      vendorName: \"\",\n    }\n  },\n  created() {\n    $(\"body\").addClass(\"primary-bg\");\n    $(\"#viewport\").attr(\"content\", \"width=device-width,initial-scale=1.0\");\n  },\n  beforeDestroy() {\n    $(\"body\").removeClass(\"primary-bg\");\n    $(\"#viewport\").attr(\n      \"content\",\n      \"width=device-width, user-scalable=yes, initial-scale=0.3, maximum-scale=1.0, minimum-scale=0.3\"\n    );\n  },\n  mounted(){\n    this.getWords()\n  },\n  methods: {\n    getWords(){\n      this.pageLoading = true;\n      this.$apiCall(\"api.Relationship.getRelationshipByRid\", {\n        rid: decodeURIComponent(this.$route.query.rid)\n      }, r => {\n        this.pageLoading = false;\n        if (r.ErrorCode == \"9999\") {\n         this.customerName = r.Data.Results.customerName;\n         this.words = r.Data.Results.words;\n         this.vendorName = r.Data.Results.vendorName;\n        }else{\n          this.$elementMessage(r.Data.Results.errorMessage, \"error\");\n        }\n      });\n    },\n    getLoginStatus() {\n      this.$apiCall(\n        \"api.ShopifyAccount.getShopAuthStatus\",\n        {\n          shopUrl: this.shopUrl\n        },\n        r => {\n          if (r.ErrorCode == \"9999\") {\n            localStorage.setItem('c_inviteShopUrl', this.shopUrl)\n            if (r.Data.Results.status) {\n              clearInterval(this.time);\n              if (r.Data.Results.status == 1) {\n                localStorage.setItem(\"c_apiUserId\", r.Data.Results.userInfo.id);\n                localStorage.setItem(\"c_apiUserToken\",\n                  r.Data.Results.userInfo.apiUserToken\n                );\n                localStorage.setItem(\"c_ourMallUserInfo\",\n                  JSON.stringify(r.Data.Results.userInfo)\n                );\n                this.$store.commit(\"setUserInfo\", r.Data.Results.userInfo);\n                this.$router.push({ name: \"dashboard\" });\n                this.win.close();\n              } else {\n                this.loading = false;\n                this.$elementMessage(r.Data.Results.errorMessage, \"error\");\n                this.win.close();\n                setTimeout(()=>{\n                  window.location.reload();\n                },1000)\n              }\n            }\n          } else {\n            clearInterval(this.time);\n            this.$elementMessage(r.Message, \"error\");\n          }\n        }\n      );\n    },\n    login() {\n      if (!this.shopUrl) {\n        this.$elementMessage(this.$t(\"Please enter Shopify store name\"), \"error\");\n        return false;\n      }\n      this.win = window.open((process.env.VUE_APP_BASEURL == '/' ? '':  process.env.VUE_APP_BASEURL) + \"/blank.html\", \"Shopify\");\n      this.loading = true;\n      this.$apiCall(\n        \"api.ShopifyAccount.addShopifyAccount\",\n        {\n          shopUrl: this.shopUrl,\n          getAuth: 1,\n          rid: this.$route.query.rid,\n          ivc:localStorage.getItem('c_ivc') ? localStorage.getItem('c_ivc') : '',\n          utmSource:localStorage.getItem('c_utm'),\n        },\n        r => {\n          if (r.ErrorCode == \"9999\") {\n            this.win.location = r.Data.Results;\n            this.time = setInterval(() => {\n              this.getLoginStatus();\n            }, 2000);\n          } else {\n            this.$elementMessage(r.Message, \"error\");\n          }\n        }\n      );\n    },\n    storeInput(val) {\n      let codeReg = new RegExp(\"[A-Za-z0-9-_]+\"), //正则 英文+数字；\n        len = val.length,\n        str = \"\";\n      for (var i = 0; i < len; i++) {\n        if (codeReg.test(val[i])) {\n          str += val[i];\n        }\n      }\n      this.shopUrl = str;\n    }\n  }\n};\n</script>\n<style lang=\"scss\">\n.primary-bg {\n  background-color: #5c6ac4;\n}\n</style>\n<style lang=\"scss\" scoped>\n.page-invite-reg {\n  position: relative;\n  height: 100%;\n  min-height: 500px;\n}\n.header {\n  margin-bottom: 40px;\n  background-color: #fff;\n  border-bottom: 1px #dcdfe6 solid;\n  .content {\n    margin: 0 auto;\n    max-width: 1300px;\n    width: 100%;\n    height: 70px;\n    display: flex;\n    align-items: center;\n    h1 {\n      width: 250px;\n      height: 30px;\n      background-image: url(\"./../../public/images/logo.png\");\n      background-size: contain;\n      background-repeat: no-repeat;\n    }\n  }\n}\n.body {\n  margin-bottom: 10px;\n  .content {\n    margin: 0 auto;\n    max-width: 600px;\n    width: 90%;\n    background-color: #fff;\n    padding: 20px;\n    border-radius: 6px;\n    .reg-box {\n      margin: 0 auto;\n      max-width: 500px;\n      width: 100%;\n      .row5 {\n        margin: 0 auto 5px;\n        font-weight: bold;\n        font-size: 18px;\n        .s-logo {\n          margin: 0 auto 10px;\n          width: 80px;\n          height: 28px;\n          background-image: url(\"./../../public/images/shopify-logo.png\");\n          background-repeat: no-repeat;\n          background-size: contain;\n        }\n      }\n      .row6 {\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n        align-items: center;\n        flex-wrap: wrap;\n        .http{\n          display: none;\n        }\n        input {\n          width: 190px;\n          height: 36px;\n          padding: 0 15px;\n          outline: none;\n          border: 1px #e4e7ed solid;\n          border-radius: 4px 0 0 4px;\n          font-size: 16px;\n        }\n        div {\n          display: flex;\n          margin-bottom: 5px;\n        }\n        span {\n          padding: 0 5px;\n          border: 1px #e4e7ed solid;\n          border-left: none;\n          border-radius: 0 4px 4px 0;\n          background: #f5f7fa;\n          line-height: 34px;\n          color: #909399;\n          font-size: 14px;\n        }\n        button {\n          background-color: #e94b26;\n          color: #fff;\n          font-weight: bold;\n          font-size: 16px;\n        }\n        button:hover {\n          opacity: 0.7;\n        }\n      }\n    }\n  }\n}\n.row1 {\n  margin-bottom: 15px;\n  font-weight: bold;\n  font-size: 18px;\n}\n.row2 {\n  margin-bottom: 30px;\n  line-height: 26px;\n  font-size: 16px;\n}\n.row3 {\n  font-size: 14px;\n  font-weight: bold;\n}\n.row4 {\n  margin-bottom: 20px;\n  font-size: 14px;\n}\n\n.page-footer {\n  margin: 0 auto;\n  padding: 0 15px;\n  max-width: 600px;\n  width: 90%;\n  display: flex;\n  justify-content: space-between;\n  padding: 0 15px;\n  color: #c0c4cc;\n  a {\n    margin-right: 15px;\n    color: #fff;\n  }\n}\n@media screen and (min-width: 640px) {\n  .body .content .reg-box .row6 input {\n    width: 300px;\n  }\n}\n@media screen and (min-width: 768px) {\n  .body .content{\n    max-width: 980px\n  }\n  .body .content .reg-box .row6 .http{\n    display: inline-block;\n    border-left: 1px #e4e7ed solid;\n    border-right: none;\n    border-radius: 4px 0 0 4px;\n  }\n  .body .content .reg-box .row6 input {\n    border-radius: 0;\n    margin: 0;\n  }\n  .body .content .reg-box .row6 span {\n    border: 1px #e4e7ed solid;\n    line-height: 34px;\n    border-left: none;\n  }\n  .body .content .reg-box .row6 div {\n    margin-bottom: 20px;\n  }\n  .body .content .reg-box .row6 button {\n    height: 38px;\n    border-radius: 4px;\n    position: relative;\n    line-height: 14px;\n  }\n  .page-footer{\n    max-width: 980px;\n  }\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Invite-reg.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Invite-reg.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Invite-reg.vue?vue&type=template&id=3ba6656d&scoped=true&\"\nimport script from \"./Invite-reg.vue?vue&type=script&lang=js&\"\nexport * from \"./Invite-reg.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Invite-reg.vue?vue&type=style&index=0&lang=scss&\"\nimport style1 from \"./Invite-reg.vue?vue&type=style&index=1&id=3ba6656d&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3ba6656d\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}