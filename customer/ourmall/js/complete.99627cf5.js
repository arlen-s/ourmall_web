(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["complete"],{"14e6":function(e,t,a){},"2d24":function(e,t,a){"use strict";a("c29e")},4739:function(e,t,a){"use strict";a("14e6")},c29e:function(e,t,a){},ed07:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"search-reply"}},[e._m(0),a("el-card",[a("el-row",[a("el-tabs",{on:{"tab-click":e.tabChange},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"Complete",name:"2"}}),a("el-tab-pane",{attrs:{label:"Failed",name:"9"}})],1)],1),a("el-row",[a("el-form",{attrs:{mode:e.filterParams,inline:!0,size:"mini"}},[a("el-form-item",{attrs:{label:"Trade name"}},[a("el-input",{attrs:{placeholder:"Please enter"},model:{value:e.filterParams.name,callback:function(t){e.$set(e.filterParams,"name",t)},expression:"filterParams.name"}})],1),a("el-form-item",{attrs:{label:"Date"}},[a("el-date-picker",{attrs:{type:"daterange","default-time":["00:00:00","23:59:59"],"range-separator":"-","value-format":"yyyy-MM-dd","start-placeholder":"Start date","end-placeholder":"End date"},on:{change:e.dateChange},model:{value:e.dateArr,callback:function(t){e.dateArr=t},expression:"dateArr"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.getItems}},[e._v("Query")]),a("el-button",{attrs:{type:"warning"},on:{click:e.ResetClick}},[e._v("Reset")])],1)],1)],1),a("el-divider"),a("el-row",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],attrs:{data:e.items}},[a("el-table-column",{attrs:{label:"Product title",prop:"name"}}),a("el-table-column",{attrs:{label:"Picture"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("el-image",{staticClass:"image-size",attrs:{src:e.row.imgUrlJson[0],fit:"contain","preview-src-list":[e.row.imgUrlJson[0]]}})]}}])}),a("el-table-column",{attrs:{label:"Expected price"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.$store.state.country.symbol)+" "+e._s(e.$exchangeRate(t.row.minPrice))+" - "+e._s(e.$exchangeRate(t.row.maxPrice))+" ")]}}])}),"2"==e.activeName?a("el-table-column",{attrs:{label:"Reply price"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.vendorProduct?a("span",[e._v(" "+e._s(e.$store.state.country.symbol)+" "+e._s(e.$exchangeRate(t.row.vendorProduct.cost))+" ")]):a("span",[e._v(" -- ")])]}}],null,!1,2446185737)}):e._e(),"2"==e.activeName?a("el-table-column",{attrs:{label:"Reply link"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.vendorProduct?a("a",{attrs:{target:"_blank",href:148982!=e.vendorId&&146428!=e.vendorId&&144875!=e.vendorId&&144843!=e.vendorId&&143779!=e.vendorId&&143654!=e.vendorId&&74!=e.vendorId?e.host+"/item/"+t.row.vendorProduct.id+"/"+t.row.vendorProduct.name.replace(/\s+/g,"-").replace(/[^\w]/g,"_")+".html":e.host+"/itemOld/"+t.row.vendorProduct.id+"/"+t.row.vendorProduct.name.replace(/\s+/g,"-").replace(/[^\w]/g,"_")+".html"}},[e._v(" "+e._s(148982!=e.vendorId&&146428!=e.vendorId&&144875!=e.vendorId&&144843!=e.vendorId&&143779!=e.vendorId&&143654!=e.vendorId&&74!=e.vendorId?e.host+"/item/"+t.row.vendorProduct.id+"/"+t.row.vendorProduct.name.replace(/\s+/g,"-").replace(/[^\w]/g,"_")+".html":e.host+"/itemOld/"+t.row.vendorProduct.id+"/"+t.row.vendorProduct.name.replace(/\s+/g,"-").replace(/[^\w]/g,"_")+".html"||!1)+" ")]):a("span",[e._v(" --")])]}}],null,!1,2277283124)}):e._e(),"9"==e.activeName?a("el-table-column",{attrs:{label:"Failure reason"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.remark)+" ")]}}],null,!1,363227647)}):e._e(),a("el-table-column",{attrs:{label:"Creation date"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.moment.unix(t.row.timeCreated).format("YYYY-MM-DD HH:mm:ss"))+" ")]}}])}),a("el-table-column",{attrs:{label:"Operation",width:"200px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",["2"==e.activeName&&1!=t.row.hasImportProduct?a("el-link",{attrs:{type:"primary"},on:{click:function(a){return e.publishAndImport(t.row)}}},[e._v("Add To import List")]):e._e()],1),a("div",[a("el-link",{attrs:{type:"primary"},on:{click:function(a){return e.detailClick(t.row)}}},[e._v("Details ")])],1)]}}])})],1)],1),a("el-row",{staticClass:"pagination"},[a("el-pagination",{attrs:{"current-page":e.pagination.currentPage,"page-sizes":[10,20,30],"page-size":e.pagination.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.pagination.totalCount},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)],1)},n=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pagetitle"},[a("div",{staticClass:"left"},[a("div",{staticClass:"title title-color"},[a("h2",[e._v("Search Products")])])]),a("div",{staticClass:"right"})])}],o=(a("b0c0"),a("a9e3"),{data:function(){return{tableLoading:!1,vendorId:localStorage.getItem("vendorId"),host:window.location.origin,filterParams:{name:"",status:"",createdFrom:"",createdTo:""},dateArr:[],activeName:"2",pagination:{currentPage:1,pageSize:20,totalCount:0},items:[],publishDetail:{},detailVisible:!1}},created:function(){},mounted:function(){this.getItems()},methods:{publishAndImport:function(e){var t=this;this.$apiCall("api.Product.addFromVendorShopProduct",{id:e.vendorProduct.id},(function(e){9999==e.ErrorCode?(t.$message({message:e.Message,type:"success"}),t.getItems()):t.$message({message:e.Message,type:"error"})}))},detailClick:function(e){this.$router.push({path:"/search-product/d",query:{id:e.id}})},ResetClick:function(){this.filterParams={name:"",status:"",createdFrom:"",createdTo:""},this.dateArr=[],this.getItems()},getItems:function(){var e=this;this.tableLoading=!0,this.$apiCall("api.OfferProduct.findByCustomer",{status:this.activeName,nameLike:this.filterParams.name||"",timeCreatedFrom:this.filterParams.createdFrom,timeCreatedTo:this.filterParams.createdTo,rowsPerPage:this.pagination.pageSize||10,page:this.pagination.currentPage||1},(function(t){e.tableLoading=!1,9999==t.ErrorCode?(e.items=t.Data.Results,e.pagination.totalCount=Number(t.Data.Pagination.totalCount)):e.$elementMessage(t.Message,"error")}))},tabChange:function(){this.getItems()},dateChange:function(e){e?(this.filterParams.createdFrom=e[0],this.filterParams.createdTo=e[1],console.log(this.filterParams)):(this.filterParams.createdFrom="",this.filterParams.createdTo="")},handleCurrentChange:function(e){this.pagination.currentPage=e,this.getItems()},handleSizeChange:function(e){this.pagination.pageSize=e,this.getItems()}}}),i=o,l=(a("2d24"),a("4739"),a("2877")),s=Object(l["a"])(i,r,n,!1,null,"155964c4",null);t["default"]=s.exports}}]);
//# sourceMappingURL=complete.99627cf5.js.map