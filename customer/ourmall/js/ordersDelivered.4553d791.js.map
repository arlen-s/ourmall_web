{"version":3,"sources":["webpack:///./src/views/vendors/Main.vue?122a","webpack:///./src/views/vendors/Main.vue","webpack:///src/views/vendors/Main.vue","webpack:///./src/views/vendors/Main.vue?1666","webpack:///./src/views/vendors/Main.vue?3579"],"names":["render","_vm","this","_c","_self","staticClass","ref","_m","test","$route","name","attrs","on","openAddVendorsDialog","_v","_e","handleClick","model","value","activeName","callback","$$v","expression","slot","vendorsCnt","_s","key","pageKey","getTableHeight","getNum","staticRenderFns","data","reSizeTime","updateOrderLoading","cnow","now","updateTime","mounted","watch","methods","clearInterval","clearTimeout","children","component"],"mappings":"mHAAA,W,gECAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,4BAA4B,CAACF,EAAG,MAAM,CAACG,IAAI,aAAaD,YAAY,aAAa,CAACJ,EAAIM,GAAG,GAAGJ,EAAG,MAAM,CAACE,YAAY,SAAS,CAAE,YAAYG,KAAKP,EAAIQ,OAAOC,MAAO,CAAsB,cAApBT,EAAIQ,OAAOC,KAAsBP,EAAG,YAAY,CAACQ,MAAM,CAAC,KAAO,UAAU,KAAO,SAAS,KAAO,gBAAgBC,GAAG,CAAC,MAAQX,EAAIY,uBAAuB,CAACZ,EAAIa,GAAG,wBAAwBb,EAAIc,MAAMd,EAAIc,MAAM,KAAKZ,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,UAAU,CAACA,EAAG,SAAS,CAACA,EAAG,SAAS,CAACG,IAAI,WAAWK,MAAM,CAAC,KAAO,KAAK,CAACR,EAAG,UAAU,CAACS,GAAG,CAAC,YAAYX,EAAIe,aAAaC,MAAM,CAACC,MAAOjB,EAAIkB,WAAYC,SAAS,SAAUC,GAAMpB,EAAIkB,WAAWE,GAAKC,WAAW,eAAe,CAACnB,EAAG,cAAc,CAACQ,MAAM,CAAC,MAAQ,aAAa,KAAO,cAAc,CAACR,EAAG,OAAO,CAACQ,MAAM,CAAC,KAAO,SAASY,KAAK,SAAS,CAACtB,EAAIa,GAAG,gBAAiBb,EAAIuB,WAAYrB,EAAG,OAAO,CAACE,YAAY,cAAc,CAACJ,EAAIa,GAAG,IAAIb,EAAIwB,GAAGxB,EAAIuB,YAAY,OAAOvB,EAAIc,UAAU,IAAI,GAAGZ,EAAG,SAAS,CAACQ,MAAM,CAAC,KAAO,KAAK,CAACR,EAAG,cAAc,CAACuB,IAAIzB,EAAI0B,QAAQrB,IAAI,UAAUM,GAAG,CAAC,eAAiBX,EAAI2B,eAAe,OAAS3B,EAAI4B,WAAW,IAAI,IAAI,IAAI,MAExmCC,EAAkB,CAAC,WAAY,IAAI7B,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,MAAM,CAACE,YAAY,SAAS,CAACF,EAAG,IAAI,CAACE,YAAY,qBAAqBF,EAAG,KAAK,CAACF,EAAIa,GAAG,mBCgEhL,G,UAAA,CACfiB,OACA,OACAJ,6BACAR,cACAa,aACAR,aACAS,sBACAC,OACAC,iEACAC,+GAGAC,UACA,iCACA,2BACA,uEACA,KACA,eAEAC,OACA7B,SACA,iCACA,gBAGA8B,SACA1B,uBACA,+BACA,oCAGAgB,UACA,uDACA,wBACA,qBACA,qBACA,kCACAW,iBACA,2BAOA,UAEA,2CAIAZ,kBAEAa,8BACA,gCACA,MACA,4DACA,mCACA,qCACAC,iCACAA,kCACA,IAEAA,2BACA,MAEA1B,eACA,yBACA,kCAGA,mBAAAN,kBC1Ikc,I,wBCQ9biC,EAAY,eACd,EACA3C,EACA8B,GACA,EACA,KACA,KACA,MAIa,aAAAa,E","file":"js/ordersDelivered.4553d791.js","sourcesContent":["export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/_vue-loader@15.10.1@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/_vue-loader@15.10.1@vue-loader/lib/index.js??vue-loader-options!./Main.vue?vue&type=style&index=0&id=2740a34a&prod&lang=scss&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"contentpanel orders-page\"},[_c('div',{ref:\"pageHeader\",staticClass:\"pagetitle\"},[_vm._m(0),_c('div',{staticClass:\"right\"},[(/MyVendors/.test(_vm.$route.name))?[(_vm.$route.name === 'MyVendors')?_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"medium\",\"icon\":\"el-icon-plus\"},on:{\"click\":_vm.openAddVendorsDialog}},[_vm._v(\" Add a new vendor \")]):_vm._e()]:_vm._e()],2)]),_c('div',{staticClass:\"pagebody\"},[_c('el-card',[_c('el-row',[_c('el-col',{ref:\"pageTabs\",attrs:{\"span\":24}},[_c('el-tabs',{on:{\"tab-click\":_vm.handleClick},model:{value:(_vm.activeName),callback:function ($$v) {_vm.activeName=$$v},expression:\"activeName\"}},[_c('el-tab-pane',{attrs:{\"label\":\"My Vendors\",\"name\":\"MyVendors\"}},[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_vm._v(\" My Vendors \"),(_vm.vendorsCnt)?_c('span',{staticClass:\"tx-success\"},[_vm._v(\"(\"+_vm._s(_vm.vendorsCnt)+\")\")]):_vm._e()])])],1)],1),_c('el-col',{attrs:{\"span\":24}},[_c('router-view',{key:_vm.pageKey,ref:\"subPage\",on:{\"getTableHeight\":_vm.getTableHeight,\"getNum\":_vm.getNum}})],1)],1)],1)],1)])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"left\"},[_c('div',{staticClass:\"title\"},[_c('i',{staticClass:\"el-icon-s-custom\"}),_c('h2',[_vm._v(\"Vendors\")])])])\n}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"contentpanel orders-page\">\r\n    <div\r\n      class=\"pagetitle\"\r\n      ref=\"pageHeader\"\r\n    >\r\n      <div class=\"left\">\r\n        <div class=\"title\">\r\n          <i class=\"el-icon-s-custom\"></i>\r\n          <h2>Vendors</h2>\r\n        </div>\r\n      </div>\r\n      <div class=\"right\">\r\n        <!-- 前三个菜单显示 导出和更新 -->\r\n        <template v-if=\"/MyVendors/.test($route.name)\">\r\n          <el-button\r\n            v-if=\"$route.name === 'MyVendors'\"\r\n            type=\"primary\"\r\n            size=\"medium\"\r\n            icon=\"el-icon-plus\"\r\n            @click=\"openAddVendorsDialog\"\r\n          >\r\n            Add a new vendor\r\n          </el-button>\r\n        </template>\r\n      </div>\r\n    </div>\r\n    <div class=\"pagebody\">\r\n      <el-card>\r\n        <el-row>\r\n          <el-col\r\n            :span=\"24\"\r\n            ref=\"pageTabs\"\r\n          >\r\n            <el-tabs\r\n              v-model=\"activeName\"\r\n              @tab-click=\"handleClick\"\r\n            >\r\n              <el-tab-pane\r\n                label=\"My Vendors\"\r\n                name=\"MyVendors\"\r\n              >\r\n                <span slot=\"label\">\r\n                  My Vendors <span\r\n                  v-if=\"vendorsCnt\"\r\n                  class=\"tx-success\"\r\n                >({{vendorsCnt}})</span>\r\n                </span>\r\n              </el-tab-pane>\r\n            </el-tabs>\r\n          </el-col>\r\n          <el-col :span=\"24\">\r\n            <router-view\r\n              :key=\"pageKey\"\r\n              ref=\"subPage\"\r\n              @getTableHeight=\"getTableHeight\"\r\n              @getNum=\"getNum\"\r\n            />\r\n          </el-col>\r\n        </el-row>\r\n      </el-card>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      pageKey: (new Date()).valueOf(),\r\n      activeName: \"\",\r\n      reSizeTime: 0,\r\n      vendorsCnt: 0,\r\n      updateOrderLoading: false,\r\n      cnow: 0,\r\n      now: Date.parse(new Date()) / 1000 - this.$store.state.userInfo.timeDiff,\r\n      updateTime: localStorage.getItem('c_orders-updateTime') ? Number(localStorage.getItem('c_orders-updateTime')) : 0,\r\n    };\r\n  },\r\n  mounted() {\r\n    this.activeName = this.$route.name;\r\n    this.cnow = setInterval(()=>{\r\n\t\t\tthis.now = Date.parse(new Date()) / 1000 - this.$store.state.userInfo.timeDiff;\r\n\t\t},1000)\r\n    this.getNum();\r\n  },\r\n  watch: {\r\n    $route() {\r\n      this.activeName = this.$route.name;\r\n      this.getNum();\r\n    },\r\n  },\r\n  methods: {\r\n    openAddVendorsDialog() {\r\n      if (this.activeName === \"MyVendors\") {\r\n        this.$refs.subPage.openAddVendor()\r\n      }\r\n    },\r\n    getNum(time) {\r\n      this.$apiCall(\"api.Relationship.findByCustomer\", {}, (r) => {\r\n        if (r.ErrorCode == \"9999\") {\r\n          let data = r.Data.Results;\r\n          let t = setInterval(() => {\r\n            if (!time || new Date().valueOf() > time + 1500) {\r\n              clearInterval(t);\r\n              this.vendorsCnt = data.length\r\n              // if(!this.vendorsCnt && !sessionStorage.getItem('c_jumpAliExpressDropShippingVendors')){\r\n              //   sessionStorage.setItem('c_jumpAliExpressDropShippingVendors', 1)\r\n              //   this.$router.push({path: '/aliExpress-dropShipping-vendors'});\r\n              // }\r\n                \r\n            }\r\n          }, 100);\r\n        } else {\r\n          this.$elementMessage(r.Message, \"error\");\r\n        }\r\n      });\r\n    },\r\n    getTableHeight(children) {\r\n      //获取表格高度\r\n      clearTimeout(this.reSizeTime);\r\n      this.reSizeTime = setTimeout(() => {\r\n        let h =\r\n          this.$root.$children[0].$refs.mainScroll.wrap.offsetHeight -\r\n          (this.$refs.pageHeader.offsetHeight +\r\n            this.$refs.pageTabs.$el.offsetHeight +\r\n            children.$refs.tablefilter.offsetHeight +\r\n            children.$refs.tableFooter.offsetHeight) -\r\n          120;\r\n\r\n        children.tableHeight = h > 200 ? h : 200;\r\n      }, 500);\r\n    },\r\n    handleClick(tab) {\r\n      if(tab.name == this.$route.name){ //点击相同路由刷新\r\n        this.pageKey = (new Date()).valueOf();\r\n      }else{\r\n        //tabs 切换\r\n        this.$router.push({ name: tab.name });\r\n      }   \r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.icon-hot {\r\n  font-size: 24px;\r\n  color: #F56C6C;\r\n}\r\n.el-checkbox-group,\r\n.el-radio-group {\r\n  overflow-y: auto;\r\n}\r\n.orders-page {\r\n  .table-wrap {\r\n    .el-tag {\r\n      background-color: #ffea8a;\r\n      color: #595130;\r\n      display: inline-flex;\r\n      align-items: center;\r\n      padding: 0.3rem 0.8rem;\r\n      border-radius: 2rem;\r\n      font-size: 1.3rem;\r\n      line-height: 1.5rem;\r\n      font-weight: normal;\r\n      .-EFlq {\r\n        height: 1rem;\r\n        width: 1rem;\r\n        margin: 0 0.4rem 0 -0.3rem;\r\n        border: 0.2rem solid currentColor;\r\n        border-radius: 50%;\r\n        flex-shrink: 0;\r\n        background: transparent;\r\n        color: #8a6116;\r\n      }\r\n      .-EFlq.bg2 {\r\n        background-color: linear-gradient(\r\n          0deg,\r\n          currentColor,\r\n          currentColor 50%,\r\n          transparent 0,\r\n          transparent\r\n        );\r\n      }\r\n      .-EFlq.bg3 {\r\n        background-color: currentColor;\r\n      }\r\n    }\r\n    .el-tag.el-tag--info {\r\n      background-color: #E3E4E6;\r\n      .-EFlq {\r\n        color: #616266;\r\n      }\r\n    }\r\n    .el-tag.el-tag--warning {\r\n      border-color: #ffea8a;\r\n      background-color: #ffea8a;\r\n      color: #303133;\r\n      .-EFlq {\r\n        color: #8a6116;\r\n      }\r\n    }\r\n    .el-tag.el-tag--danger {\r\n      background-color: #ffc58b;\r\n      color: #303133;\r\n      .-EFlq {\r\n        color: #8a6116;\r\n      }\r\n    }\r\n  }\r\n  .el-button-group > span:not(:first-child):not(:last-child) .el-button {\r\n    border-radius: 0;\r\n  }\r\n  .el-button-group > span:not(:last-child) .el-button {\r\n    margin-right: -1px;\r\n  }\r\n  .el-button-group > span:first-child .el-button {\r\n    border-top-right-radius: 0;\r\n    border-bottom-right-radius: 0;\r\n  }\r\n  .el-button-group > span:last-child .el-button {\r\n    border-top-left-radius: 0;\r\n    border-bottom-left-radius: 0;\r\n  }\r\n  .el-popover {\r\n    max-height: 400px;\r\n    overflow: auto;\r\n  }\r\n  .el-button-group > span:not(:first-child):not(:last-child) .el-button {\r\n    border-radius: 0;\r\n  }\r\n  .el-button-group > span:not(:last-child) .el-button {\r\n    margin-right: -1px;\r\n  }\r\n  .el-button-group > span:first-child .el-button {\r\n    border-top-right-radius: 0;\r\n    border-bottom-right-radius: 0;\r\n  }\r\n  .el-button-group > span:last-child .el-button {\r\n    border-top-left-radius: 0;\r\n    border-bottom-left-radius: 0;\r\n  }\r\n}\r\n</style>\r\n\r\n","import mod from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.3.0@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/_vue-loader@15.10.1@vue-loader/lib/index.js??vue-loader-options!./Main.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.3.0@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/_vue-loader@15.10.1@vue-loader/lib/index.js??vue-loader-options!./Main.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Main.vue?vue&type=template&id=2740a34a&\"\nimport script from \"./Main.vue?vue&type=script&lang=js&\"\nexport * from \"./Main.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Main.vue?vue&type=style&index=0&id=2740a34a&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.10.1@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}